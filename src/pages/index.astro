---
// Brutalist Dark Homepage - Mental Health AI Training Platform
import BaseLayout from '@/layouts/BaseLayout.astro'
import { Image } from 'astro:assets';
import LogoWall from '@/components/marketing/LogoWall.astro'
import HeroTabs from '@/components/marketing/HeroTabs.astro'
import HowItWorks from '@/components/marketing/HowItWorks.astro'


export const prerender = true

const heroStats = [
  { value: "15+", label: "Universities", subtitle: "Harvard, Johns Hopkins, Mayo" },
  { value: "2,500+", label: "Students", subtitle: "85% improvement rate" },
  { value: "50K+", label: "AI Personas", subtitle: "Complete clinical spectrum" },
  { value: "0", label: "Patient Harm", subtitle: "Perfect safety record" }
]

const testimonials = [
  {
    text: "This saved my students from making painful mistakes. They practice hard conversations here first.",
    author: "Dr. Sarah M.",
    role: "Clinical Supervisor"
  },
  {
    text: "I had no idea I was being dismissive until the AI caught it. Humbling but grateful.",
    author: "Mike T.",
    role: "Therapist in Training"
  },
  {
    text: "Graduation rates up 40%. Students seem actually ready now.",
    author: "Dr. Jennifer L.",
    role: "Program Director"
  }
]

const features = [
  {
    title: "Red‑team role‑play engine",
    description: "Adversarial AI clients that escalate, resist, and test clinical boundaries — safely.",
    tag: "Built for failure"
  },
  {
    title: "Bias spike alerts",
    description: "Inline flags when power, culture, or language choices drift. Shows the exact phrase and better alternatives.",
    tag: "Real‑time"
  },
  {
    title: "Failure replay timeline",
    description: "Scrubbable transcript with model‑rated decision points and what to try next session.",
    tag: "Post‑session coach"
  },
  {
    title: "Edge‑case personas",
    description: "50k+ symptom mixes across age, culture, socioeconomic context, and comorbidities.",
    tag: "Coverage, not averages"
  },
  {
    title: "Competency ledger",
    description: "Objective evidence of growth: accuracy, empathy, speed, and risk routing — exportable for grading.",
    tag: "Auditable"
  },
  {
    title: "Zero‑retention privacy",
    description: "End‑to‑end encryption and ephemeral processing. We can’t read or keep your sessions.",
    tag: "Program‑safe"
  }
]
---


<BaseLayout
  title="Pixelated Empathy - AI Therapist Training Platform"
  description="Safe AI role-play training for therapists. Practice with difficult client personas, get bias detection feedback, and build confidence without real-world risk."
>
  <!-- Hero Section (single column, restrained) -->
  <section class="brutalist-section pt-16 md:pt-24 pb-8">
    <div class="brutalist-container w-full">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
        <div class="max-w-4xl">
          <div class="brutalist-caption mb-3">Simulation training for therapists</div>
          <h1 class="brutalist-heading text-5xl md:text-7xl lg:text-8xl tracking-tight mb-6">
            Practice the hard conversations
            <br />
            <span class="text-accent">without risk</span>
          </h1>
          <p class="text-lg md:text-xl text-gray-300 max-w-2xl">
            Role‑play crises, get bias cues in session, and graduate with measurable competency.
          </p>
          <div class="mt-8 flex items-center gap-5">
            <a href="/demo-hub" class="brutalist-button brutalist-button--primary px-8 py-3">Get started</a>
            <a href="/features" class="text-gray-400 hover:text-white text-base">Explore features →</a>
          </div>
        </div>
        <div>
          <HeroTabs />
        </div>
      </div>

      <div class="mt-16">
        <LogoWall />
      </div>

      <!-- Stats Grid -->
      <div class="brutalist-grid brutalist-grid--4 mb-12">
        {heroStats.map((stat) => (
          <div class="metric-card hover-lift stat-card">
            <div class="metric-value organic-counter">{stat.value}</div>
            <div class="metric-label">{stat.label}</div>
            <div class="text-xs text-gray-500 mt-1">{stat.subtitle}</div>
          </div>
        ))}
      </div>

      <!-- Trust stripe -->
      <div class="mt-4 border-t border-gray-800 pt-4 flex items-center justify-between text-sm">
        <span class="text-gray-400">Privacy‑first. Zero‑retention. Audit support.</span>
        <a href="/trust" class="text-accent hover:underline">Trust Center →</a>
      </div>
    </div>
  </section>

  <!-- Security Section (calm, enterprise) -->
  <section class="brutalist-section">
    <div class="brutalist-container">
      <div class="mb-10">
        <h2 class="brutalist-heading text-3xl md:text-5xl mb-4">Security and privacy by design</h2>
        <p class="text-gray-300 max-w-3xl">Zero‑knowledge architecture, strong encryption, and institutional controls. Built for programs that can’t compromise.</p>
      </div>

      <div class="brutalist-grid brutalist-grid--3">
        <div class="brutalist-card">
          <h3 class="brutalist-subheading text-lg mb-2">Zero‑knowledge</h3>
          <p class="text-gray-400 text-sm">End‑to‑end encryption. We cannot read your sessions.</p>
          <a href="/trust" class="mt-3 inline-block text-sm text-accent hover:underline">Learn more →</a>
        </div>
        <div class="brutalist-card">
          <h3 class="brutalist-subheading text-lg mb-2">Compliance</h3>
          <p class="text-gray-400 text-sm">HIPAA, FERPA, SOC 2 practices; audit logging on request.</p>
          <a href="/trust" class="mt-3 inline-block text-sm text-accent hover:underline">View Trust Center →</a>
        </div>
        <div class="brutalist-card">
          <h3 class="brutalist-subheading text-lg mb-2">No data retention</h3>
          <p class="text-gray-400 text-sm">Training data isn’t used for models without explicit consent.</p>
        </div>
      </div>
    </div>
  </section>

  <HowItWorks />

  <!-- Capabilities Section (editorial mosaic) -->
  <section class="brutalist-section">
    <div class="brutalist-container">
      <div class="mb-10 flex items-end justify-between gap-6 flex-wrap">
        <div>
          <div class="brutalist-caption mb-2">What actually feels different</div>
          <h2 class="brutalist-heading text-4xl md:text-6xl">Training capabilities</h2>
        </div>
        <a href="/features" class="text-sm text-accent hover:underline">Full feature list →</a>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-6 gap-4">
        {features.map((f, i) => (
          <div class={`group relative p-5 border border-gray-800 bg-gradient-to-b from-gray-900/60 to-black ${
            i % 5 === 0 ? 'md:col-span-3' : i % 5 === 1 ? 'md:col-span-3' : i % 5 === 2 ? 'md:col-span-2' : i % 5 === 3 ? 'md:col-span-4' : 'md:col-span-2'
          }`}>
            <div class="absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300" style="background: radial-gradient(600px circle at var(--x,50%) var(--y,50%), rgba(16,185,129,0.1), transparent 40%);"></div>
            <h3 class="font-semibold text-xl leading-tight mb-2">{f.title}</h3>
            <p class="text-gray-400 text-sm leading-relaxed max-w-prose">{f.description}</p>
            <div class="mt-4 inline-flex text-xs tracking-wide uppercase text-green-400">{f.tag}</div>
          </div>
        ))}
      </div>

      <script is:inline>
        // pointer-follow highlight for mosaic cards
        document.querySelectorAll('[class*="group"]').forEach((el) => {
          el.addEventListener('pointermove', (e) => {
            const rect = el.getBoundingClientRect();
            el.style.setProperty('--x', `${e.clientX - rect.left}px`);
            el.style.setProperty('--y', `${e.clientY - rect.top}px`);
          });
        });
      </script>
    </div>
  </section>

  <!-- Final CTA (quiet, decisive) -->
  <section class="brutalist-section">
    <div class="brutalist-container">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="brutalist-heading text-4xl md:text-6xl mb-6">Bring safe AI practice to your program</h2>
        <p class="text-xl text-gray-300 mb-8">Launch simulation training in days, not months.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contact" class="brutalist-button brutalist-button--primary text-lg px-8 py-4">Get started</a>
          <a href="/case-studies" class="brutalist-button brutalist-button--secondary text-lg px-8 py-4">View case studies</a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Organic Particles */
  .particles-container {
    overflow: hidden;
  }

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #10b981;
    border-radius: 50%;
    animation: float-organic 12s ease-in-out infinite;
    opacity: 0.6;
  }

  .particle-1 {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
    animation-duration: 15s;
  }

  .particle-2 {
    top: 40%;
    right: 20%;
    animation-delay: 3s;
    animation-duration: 18s;
  }

  .particle-3 {
    bottom: 30%;
    left: 25%;
    animation-delay: 6s;
    animation-duration: 12s;
  }

  .particle-4 {
    top: 60%;
    right: 40%;
    animation-delay: 9s;
    animation-duration: 20s;
  }

  .particle-5 {
    bottom: 10%;
    right: 10%;
    animation-delay: 12s;
    animation-duration: 16s;
  }

  @keyframes float-organic {
    0%, 100% {
      transform: translateY(0px) translateX(0px) scale(1);
      opacity: 0.6;
    }
    25% {
      transform: translateY(-30px) translateX(20px) scale(1.2);
      opacity: 0.8;
    }
    50% {
      transform: translateY(-10px) translateX(-15px) scale(0.9);
      opacity: 0.4;
    }
    75% {
      transform: translateY(20px) translateX(10px) scale(1.1);
      opacity: 0.7;
    }
  }

  /* Text Effects - removed glow */
  .golden-shimmer {
    background: linear-gradient(45deg, #10b981, #059669, #047857);
    background-size: 200% 200%;
    animation: shimmer 3s ease-in-out infinite;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  @keyframes shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Card Effects - removed glow */
  .organic-card {
    position: relative;
    overflow: hidden;
  }

  .organic-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: transparent;
    animation: organic-pulse 4s ease-in-out infinite;
    transform: scale(0);
  }

  .organic-card:hover::before {
    transform: scale(1);
  }

  @keyframes organic-pulse {
    0%, 100% { transform: scale(0) rotate(0deg); opacity: 0; }
    50% { transform: scale(1) rotate(180deg); opacity: 1; }
  }

  /* Stats Counter */
  .organic-counter {
    font-variant-numeric: tabular-nums;
    letter-spacing: 0.05em;
    animation: organic-count 2s ease-out;
  }

  @keyframes organic-count {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  .stat-card {
    animation: organic-fade-in 1s ease-out;
    animation-fill-mode: both;
  }

  .stat-card:nth-child(1) { animation-delay: 0.1s; }
  .stat-card:nth-child(2) { animation-delay: 0.2s; }
  .stat-card:nth-child(3) { animation-delay: 0.3s; }
  .stat-card:nth-child(4) { animation-delay: 0.4s; }

  @keyframes organic-fade-in {
    0% { transform: translateY(30px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  /* Breathing Animation */
  .animate-breathe {
    animation: breathe 3s ease-in-out infinite;
  }

  @keyframes breathe {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.9; }
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .particle {
      width: 3px;
      height: 3px;
    }
  }
</style>