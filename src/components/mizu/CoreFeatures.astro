---
const features = [
  {
    title: 'Real-time AI Roleplay',
    description:
      'Practice with patients that feel real. They hesitate, get angry, and react to your tone.',
    icon: 'chat-bubble-left-right',
  },
  {
    title: 'Instant Feedback',
    description:
      'Get an empathy score immediately after every session. Spot your blind spots.',
    icon: 'chart-bar',
  },
  {
    title: 'Safe Environment',
    description:
      'Mess up here, not with real clients. A risk-free space to try new approaches.',
    icon: 'shield-check',
  },
]
---

<section class="py-24 bg-slate-950 relative overflow-hidden">
  <div class="container mx-auto px-4">
    <div class="grid md:grid-cols-3 gap-8 relative z-10">
      {
        features.map((feature, index) => (
          <div class="group relative p-8 rounded-2xl bg-slate-900/50 border border-white/10 hover:border-primary-500/30 transition-all duration-300 hover:-translate-y-1">
            <div class="absolute inset-0 bg-gradient-to-br from-primary-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl" />

            <div class="relative z-10">
              <div class="w-12 h-12 mb-6 rounded-lg bg-slate-800 border border-white/5 flex items-center justify-center text-primary-400 group-hover:text-primary-300 group-hover:scale-110 transition-all duration-300">
                {feature.icon === 'chat-bubble-left-right' && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.18.063-2.33.155-3.456.279-.266.029-.395.03-.515.137-.12.108-.178.291-.218.665l-.33 3.018a1.5 1.5 0 0 1-1.49 1.341 2.378 2.378 0 0 1-1.782-.872c-.22-.303-.388-.637-.5-1.006A2.146 2.146 0 0 1 3 11.25V6.75A2.25 2.25 0 0 1 5.25 4.5h14.25A2.25 2.25 0 0 1 21.75 6.75v.068a2.127 2.127 0 0 1-.601 1.637l-.899.856Z"
                    />
                  </svg>
                )}
                {feature.icon === 'chart-bar' && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"
                    />
                  </svg>
                )}
                {feature.icon === 'shield-check' && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"
                    />
                  </svg>
                )}
              </div>

              <h3 class="text-xl font-bold text-white mb-2">{feature.title}</h3>
              <p class="text-slate-400 leading-relaxed text-sm">
                {feature.description}
              </p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<script>
  function initCards() {
    const cards = document.querySelectorAll('.group.relative')

    cards.forEach((card) => {
      card.addEventListener('mousemove', (e) => {
        const rect = (card as HTMLElement).getBoundingClientRect()
        const x = (e as MouseEvent).clientX - rect.left
        const y = (e as MouseEvent).clientY - rect.top

        ;(card as HTMLElement).style.setProperty('--mouse-x', `${x}px`)
        ;(card as HTMLElement).style.setProperty('--mouse-y', `${y}px`)
      })
    })
  }

  document.addEventListener('DOMContentLoaded', initCards)
</script>

<style>
  .group.relative::before {
    content: '';
    position: absolute;
    border-radius: inherit;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.5s;
    background: radial-gradient(
      800px circle at var(--mouse-x) var(--mouse-y),
      rgba(255, 255, 255, 0.06),
      transparent 40%
    );
    z-index: 2;
    pointer-events: none;
  }

  .group:hover::before {
    opacity: 1;
  }
</style>
