# Simple rclone command for size-only sync (excludes ai/ directory)
# Replace <REMOTE>: with your rclone remote (e.g., gdrive:, s3:, dropbox:, etc.)

# RECOMMENDED: Use the script instead (scripts/rclone-sync.sh)
# It includes safe resume, inventory checks, and better error handling

# Basic command with safe resume support:
rclone copy /home/vivi/pixelated <REMOTE>:pixelated \
  --size-only \
  --exclude "ai/**" \
  --exclude "ai/" \
  --partial-dir=/tmp/rclone-partial \
  --progress \
  --stats=5s \
  --stats-one-line-date

# With more options for better performance and resume:
rclone copy /home/vivi/pixelated <REMOTE>:pixelated \
  --size-only \
  --exclude "ai/**" \
  --exclude "ai/" \
  --partial-dir=/tmp/rclone-partial \
  --check-first \
  --fast-list \
  --progress \
  --stats=5s \
  --stats-one-line-date \
  --transfers=8 \
  --checkers=16 \
  --buffer-size=64M \
  --use-mmap \
  --log-level=INFO \
  --log-file=/tmp/rclone.log

# Quick inventory check (see what needs syncing):
rclone check /home/vivi/pixelated <REMOTE>:pixelated \
  --size-only \
  --exclude "ai/**" \
  --exclude "ai/" \
  --fast-list \
  --combined=/tmp/rclone-inventory.txt

# Dry run (see what would be transferred without actually doing it):
rclone copy /home/vivi/pixelated <REMOTE>:pixelated \
  --size-only \
  --exclude "ai/**" \
  --exclude "ai/" \
  --dry-run \
  --fast-list \
  --progress \
  --stats=5s \
  --stats-one-line-date

# If you want exact sync (remote matches local exactly, deletes files on remote):
# WARNING: This will delete files on remote that don't exist locally!
rclone sync /home/vivi/pixelated <REMOTE>:pixelated \
  --size-only \
  --exclude "ai/**" \
  --exclude "ai/" \
  --partial-dir=/tmp/rclone-partial \
  --check-first \
  --fast-list \
  --progress \
  --stats=5s \
  --stats-one-line-date \
  --transfers=8 \
  --checkers=16

# Key flags explained:
# --size-only         Only transfer if file sizes differ (skips already-synced files)
# --partial-dir       Directory for partial uploads (enables safe resume)
# --check-first       Check before transferring (faster for large directories)
# --fast-list         Faster directory listing (if remote supports it)
# --progress          Show per-file progress
# --stats=5s          Show stats every 5 seconds (includes upload speed)
# --stats-one-line-date  Compact stats display with date
# --transfers=8       Number of parallel file transfers
# --checkers=16         Number of parallel file checkers
# --buffer-size=64M   Buffer size for transfers
# --use-mmap          Use memory-mapped files (faster for large files)

