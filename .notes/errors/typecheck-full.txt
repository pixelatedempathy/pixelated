
> pixelated@0.0.1 typecheck /home/vivi/pixelated
> astro check && tsc --noEmit

11:50:55 [@astrojs/node] Enabling sessions with filesystem storage
11:50:56 [vite] Re-optimizing dependencies because vite config has changed
11:50:58 [content] Syncing content
11:50:58 [content] Synced content
11:50:58 [types] Generated 1.85s
11:50:58 [check] Getting diagnostics for Astro files in /home/vivi/pixelated...
[96msrc/middleware.ts[0m:[93m5[0m:[93m27[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareNext'.

[7m5[0m import type { APIContext, MiddlewareNext } from 'astro';
[7m [0m [91m                          ~~~~~~~~~~~~~~[0m
[96msrc/middleware.ts[0m:[93m5[0m:[93m1[0m - [93mwarning[0m[90m ts(6192): [0mAll imports in import declaration are unused.

[7m5[0m import type { APIContext, MiddlewareNext } from 'astro';
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/__tests__/AIChat.astro.test.ts[0m:[93m137[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'customProps' is declared but its value is never read.

[7m137[0m     const customProps = {
[7m   [0m [93m          ~~~~~~~~~~~[0m
[96msrc/components/__tests__/AIChat.astro.test.ts[0m:[93m99[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'renderAstroComponent' is declared but its value is never read.

[7m99[0m async function renderAstroComponent(Component: any, props = {}): Promise<{ container: HTMLDivElement }> {
[7m  [0m [93m               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/dashboard/__tests__/performance.test.ts[0m:[93m481[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<unknown>' is not assignable to parameter of type 'never'.

[7m481[0m       new Promise((resolve) => {
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m482[0m         render(
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m487[0m         resolve(true)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m488[0m       }),
[7m   [0m [91m~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/performance.test.ts[0m:[93m470[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<unknown>' is not assignable to parameter of type 'never'.

[7m470[0m       new Promise((resolve) => {
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m471[0m         render(
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m476[0m         resolve(true)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m477[0m       }),
[7m   [0m [91m~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/performance.test.ts[0m:[93m458[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<unknown>' is not assignable to parameter of type 'never'.

[7m458[0m       new Promise((resolve) => {
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m459[0m         render(
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m465[0m         resolve(true)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m466[0m       }),
[7m   [0m [91m~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/performance.test.ts[0m:[93m345[0m:[93m7[0m - [91merror[0m[90m ts(18048): [0m'firstActiveSession' is possibly 'undefined'.

[7m345[0m       firstActiveSession.id,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/performance.test.ts[0m:[93m343[0m:[93m5[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m343[0m     // @ts-expect-error - firstActiveSession is guaranteed to be defined after the assertion above
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/performance.test.ts[0m:[93m61[0m:[93m19[0m - [93mwarning[0m[90m ts(80008): [0mNumeric literals with absolute values equal to 2^53 or greater are too large to be represented accurately as integers.

[7m61[0m   return random / 0x20000000000000 // 2^53
[7m  [0m [93m                  ~~~~~~~~~~~~~~~~[0m

[96msrc/components/monitoring/__tests__/RealUserMonitoring.astro.test.ts[0m:[93m127[0m:[93m61[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.

[7m127[0m     render(React.createElement(RealUserMonitoringComponent, customProps))
[7m   [0m [91m                                                            ~~~~~~~~~~~[0m

[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m74[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m74[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m65[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m65[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m51[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m51[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m37[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m37[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m17[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m17[0m     const { container } = await renderAstro(SecurityDashboard)
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m125[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m125[0m     const { container } = await renderAstro(Alert, {
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m114[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m114[0m     const { container } = await renderAstro(Alert, {
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m104[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m104[0m     const { container } = await renderAstro(Alert, {
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m93[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m93[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m81[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m81[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m69[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m69[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m55[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m55[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m38[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m38[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m19[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m19[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m7[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m7[0m     const { container } = await renderAstro(Alert, {
[7m [0m [91m                                            ~~~~~[0m

[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m160[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m160[0m         Card as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m152[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m152[0m       await renderAstro(CardAction as unknown, {}, 'Card Action')
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m139[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m139[0m       const { astroContainer } = await renderAstro(CardAction as unknown)
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m132[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m132[0m       await renderAstro(CardFooter as unknown, {}, 'Card Footer')
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m120[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m120[0m       const { astroContainer } = await renderAstro(CardFooter as unknown)
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m113[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m113[0m       await renderAstro(CardContent as unknown, {}, 'Card Content')
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m106[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m106[0m       const { astroContainer } = await renderAstro(CardContent as unknown)
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m99[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m99[0m       await renderAstro(CardDescription as unknown, {}, 'Card Description')
[7m  [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m90[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m90[0m       const { astroContainer } = await renderAstro(CardDescription as unknown)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m83[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m83[0m       await renderAstro(CardTitle as unknown, {}, 'Card Title')
[7m  [0m [91m                        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m76[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m76[0m       const { astroContainer } = await renderAstro(CardTitle as unknown)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m63[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m63[0m       const { astroContainer } = await renderAstro(CardHeader as unknown, {
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m48[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m48[0m       const { astroContainer } = await renderAstro(CardHeader as unknown)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m41[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m41[0m       await renderAstro(Card as unknown, {}, 'Card Content')
[7m  [0m [91m                        ~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m32[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m32[0m       const { astroContainer } = await renderAstro(Card as unknown, {
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m14[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m14[0m       const { astroContainer } = await renderAstro(Card as unknown)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m134[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m134[0m     const { astroContainer } = await renderAstro(ThemeToggle as unknown)
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m115[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m115[0m     const { astroContainer } = await renderAstro(ThemeToggle as unknown)
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m103[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m103[0m     const { astroContainer } = await renderAstro(ThemeToggle as unknown, {
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m77[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m77[0m     const { astroContainer } = await renderAstro(ThemeToggle as unknown)
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m47[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m47[0m     const { astroContainer } = await renderAstro(ThemeToggle as unknown)
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m39[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'AstroComponent'.

[7m39[0m     const { astroContainer } = await renderAstro(ThemeToggle as unknown)
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/button/button-types.ts[0m:[93m83[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ 'aria-label': string | undefined; 'aria-description': string | undefined; 'aria-disabled': boolean | undefined; 'aria-busy': boolean | undefined; }' is not assignable to type 'void'.

[7m83[0m   return {
[7m  [0m [91m  ~~~~~~[0m

[96msrc/config/cdn.ts[0m:[93m42[0m:[93m32[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m42[0m       urls: z.array(z.string().url()),
[7m  [0m [93m                               ~~~[0m
[96msrc/config/cdn.ts[0m:[93m11[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m11[0m       url: z.string().url(),
[7m  [0m [93m                      ~~~[0m
[96msrc/config/cdn.ts[0m:[93m5[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m5[0m   baseUrl: z.string().url(),
[7m [0m [93m                      ~~~[0m

[96msrc/config/env.config.ts[0m:[93m115[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.

[7m115[0m     .default('true'),
[7m   [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m111[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.

[7m111[0m     .default('true'),
[7m   [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m105[0m:[93m62[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m105[0m   RATE_LIMIT_WINDOW_MS: z.string().transform(Number).default('900000'),
[7m   [0m [91m                                                             ~~~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m104[0m:[93m65[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m104[0m   RATE_LIMIT_MAX_REQUESTS: z.string().transform(Number).default('100'),
[7m   [0m [91m                                                                ~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m101[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.

[7m101[0m     .default('true'),
[7m   [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m97[0m:[93m70[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m97[0m   SECURITY_API_ABUSE_THRESHOLD: z.string().transform(Number).default('100'),
[7m  [0m [91m                                                                     ~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m96[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m96[0m     .default('1800'),
[7m  [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m92[0m:[93m69[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m92[0m   SECURITY_MAX_LOGIN_ATTEMPTS: z.string().transform(Number).default('5'),
[7m  [0m [91m                                                                    ~~~[0m
[96msrc/config/env.config.ts[0m:[93m91[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.

[7m91[0m     .default('true'),
[7m  [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m27[0m:[93m62[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m27[0m   NOTIFICATION_WS_PORT: z.string().transform(Number).default('8082'),
[7m  [0m [91m                                                             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m24[0m:[93m59[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m24[0m   ANALYTICS_WS_PORT: z.string().transform(Number).default('8083'),
[7m  [0m [91m                                                          ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m21[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.

[7m21[0m     .default('true'),
[7m  [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m14[0m:[93m46[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.

[7m14[0m   PORT: z.string().transform(Number).default('3000'),
[7m  [0m [91m                                             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m137[0m:[93m43[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m137[0m   MENTALLAMA_ENDPOINT_URL_13B: z.string().url().optional(),
[7m   [0m [93m                                          ~~~[0m
[96msrc/config/env.config.ts[0m:[93m136[0m:[93m42[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m136[0m   MENTALLAMA_ENDPOINT_URL_7B: z.string().url().optional(),
[7m   [0m [93m                                         ~~~[0m
[96msrc/config/env.config.ts[0m:[93m132[0m:[93m33[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m132[0m   SLACK_WEBHOOK_URL: z.string().url().optional(),
[7m   [0m [93m                                ~~~[0m
[96msrc/config/env.config.ts[0m:[93m124[0m:[93m29[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m124[0m   VAPID_SUBJECT: z.string().url().optional(),
[7m   [0m [93m                            ~~~[0m
[96msrc/config/env.config.ts[0m:[93m118[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m118[0m   VITE_API_URL: z.string().url().optional(),
[7m   [0m [93m                           ~~~[0m
[96msrc/config/env.config.ts[0m:[93m84[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m84[0m   EMAIL_FROM: z.string().email().optional(),
[7m  [0m [93m                         ~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m77[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m77[0m   SENTRY_DSN: z.string().url().optional(),
[7m  [0m [93m                         ~~~[0m
[96msrc/config/env.config.ts[0m:[93m61[0m:[93m37[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m61[0m   AZURE_OPENAI_ENDPOINT: z.string().url().optional(),
[7m  [0m [93m                                    ~~~[0m
[96msrc/config/env.config.ts[0m:[93m53[0m:[93m31[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m53[0m   OPENAI_BASE_URL: z.string().url().optional(),
[7m  [0m [93m                              ~~~[0m

[96msrc/data/sample-cognitive-models.ts[0m:[93m1136[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m1136[0m         'Basic emotional regulation',
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m1135[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m1135[0m         'Safety planning',
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m1134[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m1134[0m         'Grounding techniques',
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m1087[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'resistance' does not exist in type 'ConversationalStyle'.

[7m1087[0m       resistance: 6,
[7m    [0m [91m      ~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m749[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m749[0m         'Basic cognitive restructuring',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m748[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m748[0m         'Progressive muscle relaxation',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m747[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m747[0m         'Deep breathing',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m704[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'resistance' does not exist in type 'ConversationalStyle'.

[7m704[0m       resistance: 7,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m361[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m361[0m         'Mindfulness techniques',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m360[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m360[0m         'Activity scheduling',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m359[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m359[0m         'Basic thought challenging',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m318[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'resistance' does not exist in type 'ConversationalStyle'.

[7m318[0m       resistance: 6,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/e2e/breach-notification.spec.ts[0m:[93m310[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m310[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m200[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m200[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m108[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m108[0m               postData: JSON.parse((request.postData() as unknown) || '{}'),
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m64[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type 'typeof import("/home/vivi/pixelated/src/adapters/betterAuthMongoAdapter")'.

[7m64[0m     const auth = AuthService.getInstance()
[7m  [0m [91m                             ~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m55[0m:[93m32[0m - [91merror[0m[90m ts(2709): [0mCannot use namespace 'AuthService' as a type.

[7m55[0m   auth: async (_: {}, use: (a: AuthService) => Promise<void>) => {
[7m  [0m [91m                               ~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m10[0m:[93m9[0m - [91merror[0m[90m ts(2709): [0mCannot use namespace 'AuthService' as a type.

[7m10[0m   auth: AuthService
[7m  [0m [91m        ~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m310[0m:[93m17[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m310[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m200[0m:[93m17[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m200[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useAuth.ts[0m:[93m300[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m300[0m       const result = await authUpdateProfile(user.id, profile)
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/hooks/useAuth.ts[0m:[93m274[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type '{ success: boolean; error: unknown; }'.

[7m274[0m         setUser(response.user)
[7m   [0m [91m                         ~~~~[0m
[96msrc/hooks/useAuth.ts[0m:[93m273[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type '{ success: boolean; error: unknown; }'.

[7m273[0m       if (response.user) {
[7m   [0m [91m                   ~~~~[0m
[96msrc/hooks/useAuth.ts[0m:[93m268[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m268[0m           response.error || 'OTP verification failed',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useAuth.ts[0m:[93m243[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type 'boolean'.

[7m243[0m       return await authResetPassword(email, redirectTo)
[7m   [0m [91m      ~~~~~~[0m
[96msrc/hooks/useAuth.ts[0m:[93m164[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{ user: AuthUser | null; session: { access_token: any; refresh_token: any; }; }'.

[7m164[0m           result.error || 'Registration failed',
[7m   [0m [91m                 ~~~~~[0m

[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m122[0m:[93m46[0m - [91merror[0m[90m ts(2454): [0mVariable 'generateSummary' is used before being assigned.

[7m122[0m     [minConfidence, onDetection, onComplete, generateSummary],
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m122[0m:[93m46[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'generateSummary' used before its declaration.

[7m122[0m     [minConfidence, onDetection, onComplete, generateSummary],
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m86[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'config' is of type 'unknown'.

[7m86[0m               type: config.type,
[7m  [0m [91m                    ~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m68[0m:[93m46[0m - [91merror[0m[90m ts(18046): [0m'config' is of type 'unknown'.

[7m68[0m             0.5 + (matchingPatterns.length / config.patterns.length) * 0.5,
[7m  [0m [91m                                             ~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m61[0m:[93m34[0m - [91merror[0m[90m ts(18046): [0m'config' is of type 'unknown'.

[7m61[0m         const matchingPatterns = config.patterns.filter((pattern) =>
[7m  [0m [91m                                 ~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m7[0m:[93m44[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../lib/ai/types/CognitiveDistortions' or its corresponding type declarations.

[7m7[0m import { cognitiveDistortionConfigs } from '../lib/ai/types/CognitiveDistortions'
[7m [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m6[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../lib/ai/types/CognitiveDistortions' or its corresponding type declarations.

[7m6[0m } from '../lib/ai/types/CognitiveDistortions'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m61[0m:[93m58[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m61[0m         const matchingPatterns = config.patterns.filter((pattern) =>
[7m  [0m [93m                                                         ~~~~~~~[0m

[96msrc/hooks/useComparativeProgress.ts[0m:[93m41[0m:[93m17[0m - [93mwarning[0m[90m ts(80004): [0mJSDoc types may be moved to TypeScript types.

[7m41[0m export function useComparativeProgress(
[7m  [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useComponentIntegration.ts[0m:[93m427[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m427[0m   const intervalRef = useRef<NodeJS.Timeout>()
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m333[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m333[0m   const intervalRef = useRef<NodeJS.Timeout>()
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m197[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m197[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m51[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m51[0m   const intervalRef = useRef<NodeJS.Timeout>()
[7m  [0m [91m                      ~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m2[0m:[93m44[0m - [93mwarning[0m[90m ts(6133): [0m'ComponentIntegrationService' is declared but its value is never read.

[7m2[0m import { componentIntegrationService, type ComponentIntegrationService } from '@/lib/services/ComponentIntegrationService'
[7m [0m [93m                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useConversationMemory.ts[0m:[93m155[0m:[93m22[0m - [91merror[0m[90m ts(2560): [0mValue of type '(prevState: any) => { progressMetrics: any; }' has no properties in common with type 'Partial<ProgressMilestoneState>'. Did you mean to call it?

[7m155[0m     setProgressState((prevState: any) => {
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useConversionTracking.ts[0m:[93m49[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m49[0m     trackEvent('page_view', { path })
[7m  [0m [91m                            ~~~~~~~~[0m

[96msrc/hooks/useEmotionDetection.ts[0m:[93m68[0m:[93m23[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m68[0m           confidence: analysis.confidence || 0.8,
[7m  [0m [91m                      ~~~~~~~~[0m
[96msrc/hooks/useEmotionDetection.ts[0m:[93m67[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m67[0m           intensity: analysis.intensity || 0.5,
[7m  [0m [91m                     ~~~~~~~~[0m
[96msrc/hooks/useEmotionDetection.ts[0m:[93m66[0m:[93m30[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m66[0m           secondaryEmotions: analysis.secondaryEmotions || [],
[7m  [0m [91m                             ~~~~~~~~[0m
[96msrc/hooks/useEmotionDetection.ts[0m:[93m65[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m65[0m           primaryEmotion: analysis.primaryEmotion || 'neutral',
[7m  [0m [91m                          ~~~~~~~~[0m

[96msrc/hooks/useEmotionProgress.ts[0m:[93m206[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ date: string; overallImprovement: number; stabilityChange: number; positiveEmotionChange: number; negativeEmotionChange: number; }' is not assignable to parameter of type 'never'.

[7m206[0m     result.push({
[7m   [0m [91m                ~[0m
[7m207[0m       date,
[7m   [0m [91m~~~~~~~~~~~[0m
[7m...[0m 
[7m211[0m       negativeEmotionChange: negative,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m212[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/hooks/useEmotionProgress.ts[0m:[93m2[0m:[93m42[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/ai/temporal/types' or its corresponding type declarations.

[7m2[0m import type { ProgressionAnalysis } from '@/lib/ai/temporal/types'
[7m [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useOffline.ts[0m:[93m114[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ isOffline: boolean; checkConnection: () => Promise<boolean>; connectionInfo: ConnectionInfo; }' is not assignable to type 'void'.

[7m114[0m   return {
[7m   [0m [91m  ~~~~~~[0m

[96msrc/hooks/usePatientModel.ts[0m:[93m136[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatePatientPrompt' does not exist on type 'PatientModelService'.

[7m136[0m         const prompt = patientService.generatePatientPrompt(responseContext)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/usePatientModel.ts[0m:[93m123[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'createResponseContext' does not exist on type 'PatientModelService'.

[7m123[0m         const responseContext = await patientService.createResponseContext(
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/usePatientModel.ts[0m:[93m69[0m:[93m44[0m - [91merror[0m[90m ts(2551): [0mProperty 'getModelById' does not exist on type 'PatientModelService'. Did you mean 'getModel'?

[7m69[0m         const model = await patientService.getModelById(currentModelId)
[7m  [0m [91m                                           ~~~~~~~~~~~~[0m
[96msrc/hooks/usePatientModel.ts[0m:[93m41[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CognitiveModel[]' is not assignable to parameter of type 'SetStateAction<string[]>'.
  Type 'CognitiveModel[]' is not assignable to type 'string[]'.

[7m41[0m         setAvailableModels(models)
[7m  [0m [91m                           ~~~~~~[0m

[96msrc/hooks/usePersistentState.ts[0m:[93m45[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'getFullKey' is private and only accessible within class 'StorageManager'.

[7m45[0m       if (e.key === storageManager.getFullKey(key) && e.newValue) {
[7m  [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/hooks/usePersistentState.ts[0m:[93m25[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m25[0m   const debounceRef = useRef<NodeJS.Timeout>()
[7m  [0m [91m                      ~~~~~~[0m

[96msrc/hooks/usePipelineWebSocket.ts[0m:[93m2[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/pipeline' or its corresponding type declarations.

[7m2[0m import { WebSocketMessage } from '@/types/pipeline'
[7m [0m [91m                                 ~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/usePipelineWebSocket.ts[0m:[93m437[0m:[93m57[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m437[0m         id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                        ~~~~~~[0m

[96msrc/hooks/useRiskAssessment.ts[0m:[93m53[0m:[93m23[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m53[0m           confidence: analysis.confidence || 0.5,
[7m  [0m [91m                      ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m52[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m52[0m           requiresExpert: analysis.requiresExpert || false,
[7m  [0m [91m                          ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m51[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m51[0m           factors: analysis.factors || [],
[7m  [0m [91m                   ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m50[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m50[0m           category: analysis.category || 'low',
[7m  [0m [91m                    ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m34[0m:[93m13[0m - [91merror[0m[90m ts(2358): [0mThe left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.

[7m34[0m         if (response instanceof ReadableStream) {
[7m  [0m [91m            ~~~~~~~~[0m

[96msrc/hooks/useSecurity.ts[0m:[93m23[0m:[93m28[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m23[0m           await fheService.initialize()
[7m  [0m [91m                           ~~~~~~~~~~[0m

[96msrc/hooks/useSessionTimingMetrics.ts[0m:[93m23[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m23[0m   lastActiveTimeRef: React.MutableRefObject<number>,
[7m  [0m [93m                           ~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useSessionTimingMetrics.ts[0m:[93m22[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m22[0m   sessionStartTimeRef: React.MutableRefObject<number>,
[7m  [0m [93m                             ~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useSyncedState.ts[0m:[93m35[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m35[0m   const debounceRef = useRef<NodeJS.Timeout>()
[7m  [0m [91m                      ~~~~~~[0m

[96msrc/hooks/useTemporalEmotionAnalysis.ts[0m:[93m125[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'progression' does not exist on type 'TemporalEmotionAnalysis'.

[7m125[0m     TemporalEmotionAnalysis['progression'] | null
[7m   [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/hooks/useTemporalEmotionAnalysis.ts[0m:[93m119[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'progression' does not exist on type 'TemporalEmotionAnalysis'.

[7m119[0m   progression: TemporalEmotionAnalysis['progression'] | null
[7m   [0m [91m                                       ~~~~~~~~~~~~~[0m

[96msrc/hooks/useWebSocket.ts[0m:[93m81[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'WebSocketMessage'.

[7m81[0m           const message: WebSocketMessage = JSON.parse(event.data) as unknown
[7m  [0m [91m                ~~~~~~~[0m

[96msrc/hooks/__tests__/usePatternDetection.test.ts[0m:[93m26[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m26[0m       timestamp: Date.now(),
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/hooks/__tests__/usePatternDetection.test.ts[0m:[93m19[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m19[0m       timestamp: Date.now() - 1000,
[7m  [0m [91m      ~~~~~~~~~[0m

[96msrc/hooks/__tests__/vitest.setup.ts[0m:[93m3[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'typeof TextEncoder' is not assignable to type '{ new (): TextEncoder; prototype: TextEncoder; }'.
  The types returned by 'prototype.encode(...)' are incompatible between these types.

[7m3[0m   globalThis.TextEncoder = TextEncoder
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/integrations/search.ts[0m:[93m1[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'AstroIntegration'.

[7m1[0m import type { AstroIntegration } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/access-control.ts[0m:[93m150[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m150[0m     const user = await getCurrentUser(cookies)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/access-control.ts[0m:[93m136[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m136[0m   return hasRole(cookies, ROLES.STAFF) || hasRole(cookies, ROLES.ADMIN)
[7m   [0m [91m                                                  ~~~~~~~[0m
[96msrc/lib/access-control.ts[0m:[93m136[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m136[0m   return hasRole(cookies, ROLES.STAFF) || hasRole(cookies, ROLES.ADMIN)
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/access-control.ts[0m:[93m132[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m132[0m   const user = await getCurrentUser(cookies)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/access-control.ts[0m:[93m125[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m125[0m   return hasRole(cookies, ROLES.ADMIN)
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/access-control.ts[0m:[93m91[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m91[0m   const user = await getCurrentUser(cookies)
[7m  [0m [91m                                    ~~~~~~~[0m

[96msrc/lib/analytics.ts[0m:[93m454[0m:[93m58[0m - [93mwarning[0m[90m ts(6385): [0m'platform' is deprecated.

[7m454[0m             typeof navigator !== 'undefined' ? navigator.platform : 'server',
[7m   [0m [93m                                                         ~~~~~~~~[0m

[96msrc/lib/auth-legacy.ts[0m:[93m70[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'profile' does not exist on type 'User'.

[7m70[0m       metadata: (user.profile as Record<string, unknown>) || {},
[7m  [0m [91m                      ~~~~~~~[0m
[96msrc/lib/auth-legacy.ts[0m:[93m57[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'profile' does not exist on type 'User'.

[7m57[0m     const userProfile = user.profile as
[7m  [0m [91m                             ~~~~~~~[0m

[96msrc/lib/cache.ts[0m:[93m57[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m57[0m       this.store.delete(oldestKey)
[7m  [0m [91m                        ~~~~~~~~~[0m

[96msrc/lib/email.ts[0m:[93m3[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m3[0m const logger = createBuildSafeLogger({ prefix: 'EmailService' })
[7m [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/email.ts[0m:[93m66[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m66[0m       const messageId = `msg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                                        ~~~~~~[0m

[96msrc/lib/encryption.ts[0m:[93m42[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'import("crypto").webcrypto.CryptoKey' is not assignable to type 'CryptoKey'.
  Types of property 'usages' are incompatible.

[7m42[0m   return webcrypto.subtle.deriveKey(
[7m  [0m [91m  ~~~~~~[0m

[96msrc/lib/fhe.ts[0m:[93m278[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'crypto' does not exist on type 'SEALLibrary'.

[7m278[0m       const hashBuffer = await this.seal.crypto.subtle.digest(
[7m   [0m [91m                                         ~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m278[0m:[93m32[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m278[0m       const hashBuffer = await this.seal.crypto.subtle.digest(
[7m   [0m [91m                               ~~~~~~~~~[0m

[96msrc/lib/memory.ts[0m:[93m128[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'bVal' is possibly 'undefined'.

[7m128[0m         if (aVal > bVal) {
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m128[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'aVal' is possibly 'undefined'.

[7m128[0m         if (aVal > bVal) {
[7m   [0m [91m            ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m125[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'bVal' is possibly 'undefined'.

[7m125[0m         if (aVal < bVal) {
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m125[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'aVal' is possibly 'undefined'.

[7m125[0m         if (aVal < bVal) {
[7m   [0m [91m            ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m45[0m:[93m38[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m45[0m       id: Math.random().toString(36).substr(2, 9),
[7m  [0m [93m                                     ~~~~~~[0m

[96msrc/lib/redis.ts[0m:[93m237[0m:[93m40[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 4.

[7m237[0m       await redis.set(key, serialized, 'EX', expirationSeconds)
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/redis.ts[0m:[93m118[0m:[93m31[0m - [93mwarning[0m[90m ts(6133): [0m'count' is declared but its value is never read.

[7m118[0m     lrem: async (key: string, count: number, value: string) => {
[7m   [0m [93m                              ~~~~~[0m
[96msrc/lib/redis.ts[0m:[93m60[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'seconds' is declared but its value is never read.

[7m60[0m     setex: async (key: string, seconds: number, value: string) => {
[7m  [0m [93m                               ~~~~~~~[0m
[96msrc/lib/redis.ts[0m:[93m56[0m:[93m33[0m - [93mwarning[0m[90m ts(6133): [0m'seconds' is declared but its value is never read.

[7m56[0m     expire: async (key: string, seconds: number) =>
[7m  [0m [93m                                ~~~~~~~[0m

[96msrc/lib/search-browser.ts[0m:[93m265[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 0-2 arguments, but got 3.

[7m265[0m           { cause: docErr },
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security.ts[0m:[93m456[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'Record<string, unknown> | null'.

[7m456[0m     return payload
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security.ts[0m:[93m452[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'payload' is of type 'unknown'.

[7m452[0m     if (payload.exp && payload.exp < Math.floor(Date.now() / 1000)) {
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/security.ts[0m:[93m452[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'payload' is of type 'unknown'.

[7m452[0m     if (payload.exp && payload.exp < Math.floor(Date.now() / 1000)) {
[7m   [0m [91m        ~~~~~~~[0m

[96msrc/lib/__tests__/test-utils.ts[0m:[93m208[0m:[93m28[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ getItem: Mock<Procedure>; setItem: Mock<Procedure>; removeItem: Mock<Procedure>; clear: Mock<Procedure>; key: Mock<...>; length: Mock<...>; }' to type 'Storage' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'length' are incompatible.

[7m208[0m   const mocklocalStorage = {
[7m   [0m [91m                           ~[0m
[7m209[0m     getItem: mockGetItem,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m216[0m     length: vi.fn().mockImplementation(() => storage.size),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m217[0m   } as Storage
[7m   [0m [91m~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/PixelatedEmpathyAgent.ts[0m:[93m168[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m168[0m                 const data = JSON.parse(line.slice(6) as unknown);
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/interventionEngine.ts[0m:[93m6[0m:[93m64[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/ai' or its corresponding type declarations.

[7m6[0m import type { SessionData, PatientProfile, Intervention } from '@/types/ai'
[7m [0m [91m                                                               ~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m302[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m302[0m     if (recentEmotions.every(emotion => emotion === 'anxious')) {
[7m   [0m [93m                             ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m301[0m:[93m73[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m301[0m     const recentEmotions = patientProfile.sessionHistory?.slice(-3).map(s => s.emotionAnalysis?.dominantEmotion) || []
[7m   [0m [93m                                                                        ~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m214[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m214[0m     const sum = recentSessions.reduce((acc, session) =>
[7m   [0m [93m                                            ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m214[0m:[93m40[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'acc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m214[0m     const sum = recentSessions.reduce((acc, session) =>
[7m   [0m [93m                                       ~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m119[0m:[93m60[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m119[0m           const depressedMoodCount = recentSessions.filter(s =>
[7m   [0m [93m                                                           ~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m113[0m:[93m21[0m - [93mwarning[0m[90m ts(6133): [0m'session' is declared but its value is never read.

[7m113[0m         condition: (session, patient) => {
[7m   [0m [93m                    ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m53[0m:[93m30[0m - [93mwarning[0m[90m ts(6133): [0m'patient' is declared but its value is never read.

[7m53[0m         condition: (session, patient) => {
[7m  [0m [93m                             ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m40[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m40[0m   private context: InterventionContext | null = null
[7m  [0m [93m          ~~~~~~~[0m

[96msrc/lib/ai/modelOptimizer.ts[0m:[93m301[0m:[93m66[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m301[0m         recommendations.push(`Consider ${metric} degradation: ${(change * 100).toFixed(1)}%`)
[7m   [0m [91m                                                                 ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m300[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m300[0m       } else if (change < -0.1) {
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m299[0m:[93m67[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m299[0m         recommendations.push(`Great improvement in ${metric}: +${(change * 100).toFixed(1)}%`)
[7m   [0m [91m                                                                  ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m298[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m298[0m       if (change > 0.1) {
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m6[0m:[93m51[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/ai' or its corresponding type declarations.

[7m6[0m import type { ModelMetrics, TrainingConfig } from '@/types/ai'
[7m [0m [91m                                                  ~~~~~~~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m446[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'analysis' is declared but its value is never read.

[7m446[0m     const analysis = await this.analyzePerformance()
[7m   [0m [93m          ~~~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m234[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'config' is declared but its value is never read.

[7m234[0m     config?: Partial<TrainingConfig>
[7m   [0m [93m    ~~~~~~[0m

[96msrc/lib/ai/privacyEngine.ts[0m:[93m6[0m:[93m63[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/ai' or its corresponding type declarations.

[7m6[0m import type { PatientData, ModelUpdate, PrivacyMetrics } from '@/types/ai'
[7m [0m [91m                                                              ~~~~~~~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m456[0m:[93m76[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m456[0m     const verificationKey = `vk_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                           ~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m455[0m:[93m67[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m455[0m     const proof = `zkp_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                  ~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m320[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m320[0m       sessionData: patient.sessionData.map(session => ({
[7m   [0m [93m                                           ~~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m301[0m:[93m67[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'w' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m301[0m     const weightMagnitude = Math.sqrt(update.weights.reduce((sum, w) => sum + w * w, 0))
[7m   [0m [93m                                                                  ~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m301[0m:[93m62[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m301[0m     const weightMagnitude = Math.sqrt(update.weights.reduce((sum, w) => sum + w * w, 0))
[7m   [0m [93m                                                             ~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m265[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m265[0m       update.weights.forEach((weight, index) => {
[7m   [0m [93m                                      ~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m265[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'weight' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m265[0m       update.weights.forEach((weight, index) => {
[7m   [0m [93m                              ~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m242[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m242[0m       update.weights.forEach((weight, index) => {
[7m   [0m [93m                                      ~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m242[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'weight' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m242[0m       update.weights.forEach((weight, index) => {
[7m   [0m [93m                              ~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m212[0m:[93m67[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'w' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m212[0m     const updateMagnitude = Math.sqrt(update.weights.reduce((sum, w) => sum + w * w, 0))
[7m   [0m [93m                                                                  ~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m212[0m:[93m62[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m212[0m     const updateMagnitude = Math.sqrt(update.weights.reduce((sum, w) => sum + w * w, 0))
[7m   [0m [93m                                                             ~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m160[0m:[93m56[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m160[0m     const privateWeights = update.weights.map((weight, index) =>
[7m   [0m [93m                                                       ~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m160[0m:[93m48[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'weight' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m160[0m     const privateWeights = update.weights.map((weight, index) =>
[7m   [0m [93m                                               ~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m155[0m:[93m22[0m - [93mwarning[0m[90m ts(6133): [0m'delta' is declared but its value is never read.

[7m155[0m     const { epsilon, delta, sensitivity, mechanism } = this.dpConfig
[7m   [0m [93m                     ~~~~~[0m

[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m475[0m:[93m11[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'adaptiveController'.

[7m475[0m   private adaptiveController: AdaptiveController
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m468[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ memoryUsage: number; cpuUsage: number; networkUsage: number; }' is missing the following properties from type '{ memory: number; cpu: number; network: number; }': memory, cpu, network

[7m468[0m       resourceUsage: this.getCurrentResourceUsage(),
[7m   [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m212[0m:[93m68[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m212[0m   private async handleSessionError(sessionId: string, error: any): void {
[7m   [0m [91m                                                                   ~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m6[0m:[93m69[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/ai' or its corresponding type declarations.

[7m6[0m import type { SessionData, RealTimeMetrics, ProcessingConfig } from '@/types/ai'
[7m [0m [91m                                                                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m299[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'startTime' is declared but its value is never read.

[7m299[0m       const startTime = Date.now()
[7m   [0m [93m            ~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m129[0m:[93m42[0m - [93mwarning[0m[90m ts(6133): [0m'config' is declared but its value is never read.

[7m129[0m   private async createProcessingPipeline(config: Partial<ProcessingConfig>): Promise<ProcessingStage[]> {
[7m   [0m [93m                                         ~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m6[0m:[93m15[0m - [93mwarning[0m[90m ts(6196): [0m'SessionData' is declared but never used.

[7m6[0m import type { SessionData, RealTimeMetrics, ProcessingConfig } from '@/types/ai'
[7m [0m [93m              ~~~~~~~~~~~[0m

[96msrc/lib/ai/tensorflow-compatibility.ts[0m:[93m68[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tensorflow/tfjs-node' or its corresponding type declarations.

[7m68[0m         const tfNode = await import('@tensorflow/tfjs-node');
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m578[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'generatedAt' does not exist in type 'BiasReport'.

[7m578[0m       generatedAt: new Date(),
[7m   [0m [91m      ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m483[0m:[93m5[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type 'BiasAnalysisResult' but required in type 'AnalysisResult'.

[7m483[0m     return result
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m456[0m:[93m37[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'UserContext'.

[7m456[0m       const user: import('./types').UserContext = {
[7m   [0m [91m                                    ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m424[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m424[0m       timestamp: session.timestamp ?? new Date(),
[7m   [0m [91m                         ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m424[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m424[0m       timestamp: session.timestamp ?? new Date(),
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m246[0m:[93m39[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'EvaluationAnalysisResult'.

[7m246[0m     let evaluation: import('./types').EvaluationAnalysisResult
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m245[0m:[93m40[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'InteractiveAnalysisResult'.

[7m245[0m     let interactive: import('./types').InteractiveAnalysisResult
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m244[0m:[93m39[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'ModelLevelAnalysisResult'.

[7m244[0m     let modelLevel: import('./types').ModelLevelAnalysisResult
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m243[0m:[93m42[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'PreprocessingAnalysisResult'.

[7m243[0m     let preprocessing: import('./types').PreprocessingAnalysisResult
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m137[0m:[93m61[0m - [91merror[0m[90m ts(2339): [0mProperty 'retries' does not exist on type '{ enabled?: boolean | undefined; batchSize?: number | undefined; maxBatchDelayMs?: number | undefined; retryFailedBatches?: boolean | undefined; maxRetryAttempts?: number | undefined; backoffStrategy?: "fixed" | ... 1 more ... | undefined; enableDebug?: boolean | undefined; }'.

[7m137[0m           retryAttempts: this.config.batchProcessingConfig?.retries || 2,
[7m   [0m [91m                                                            ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m136[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeoutMs' does not exist on type '{ enabled?: boolean | undefined; batchSize?: number | undefined; maxBatchDelayMs?: number | undefined; retryFailedBatches?: boolean | undefined; maxRetryAttempts?: number | undefined; backoffStrategy?: "fixed" | ... 1 more ... | undefined; enableDebug?: boolean | undefined; }'.

[7m136[0m           timeoutMs: this.config.batchProcessingConfig?.timeoutMs || 30000,
[7m   [0m [91m                                                        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m135[0m:[93m62[0m - [91merror[0m[90m ts(2339): [0mProperty 'concurrency' does not exist on type '{ enabled?: boolean | undefined; batchSize?: number | undefined; maxBatchDelayMs?: number | undefined; retryFailedBatches?: boolean | undefined; maxRetryAttempts?: number | undefined; backoffStrategy?: "fixed" | ... 1 more ... | undefined; enableDebug?: boolean | undefined; }'.

[7m135[0m           maxConcurrency: this.config.batchProcessingConfig?.concurrency || 5,
[7m   [0m [91m                                                             ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m93[0m:[93m206[0m - [91merror[0m[90m ts(2322): [0mType 'BiasReportConfig | { includeConfidentialityAnalysis: true; includeDemographicBreakdown: true; includeTemporalTrends: true; includeRecommendations: true; reportTemplate: "standard"; exportFormats: string[]; }' is not assignable to type 'BiasReportConfig | undefined'.
  Object literal may only specify known properties, but 'exportFormats' does not exist in type 'BiasReportConfig'. Did you mean to write 'reportFormats'?

[7m93[0m       reportConfig: cfg['reportConfig'] ?? { includeConfidentialityAnalysis: true, includeDemographicBreakdown: true, includeTemporalTrends: true, includeRecommendations: true, reportTemplate: 'standard', exportFormats: ['json'] },
[7m  [0m [91m                                                                                                                                                                                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m25[0m:[93m33[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'EvaluationAnalysisResult'.

[7m25[0m   evaluation: import('./types').EvaluationAnalysisResult
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m24[0m:[93m34[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'InteractiveAnalysisResult'.

[7m24[0m   interactive: import('./types').InteractiveAnalysisResult
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m23[0m:[93m33[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'ModelLevelAnalysisResult'.

[7m23[0m   modelLevel: import('./types').ModelLevelAnalysisResult
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/BiasDetectionEngine.ts[0m:[93m22[0m:[93m36[0m - [91merror[0m[90m ts(2694): [0mNamespace '"/home/vivi/pixelated/src/lib/ai/bias-detection/types"' has no exported member 'PreprocessingAnalysisResult'.

[7m22[0m   preprocessing: import('./types').PreprocessingAnalysisResult
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m20[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'UserContext'.

[7m20[0m   UserContext,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'ConfigurationUpdate'.

[7m19[0m   ConfigurationUpdate,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'EncryptionStatus'.

[7m18[0m   EncryptionStatus,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'RetentionPolicy'.

[7m17[0m   RetentionPolicy,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'DataRetentionStatus'.

[7m16[0m   DataRetentionStatus,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'ComplianceRecommendation'.

[7m15[0m   ComplianceRecommendation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'ComplianceViolation'.

[7m14[0m   ComplianceViolation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'ComplianceReport'.

[7m13[0m   ComplianceReport,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'DataAccessLog'.

[7m12[0m   DataAccessLog,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'AuditAction'.

[7m11[0m   AuditAction,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'AuditLogEntry'.

[7m10[0m   AuditLogEntry,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m464[0m:[93m62[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m464[0m     return `audit_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                             ~~~~~~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m334[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'c' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m334[0m         requiresRestart: update.changes.some((c) => c.requiresRestart),
[7m   [0m [93m                                              ~[0m
[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m321[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'c' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m321[0m         (c) => c.impact === 'critical' || c.impact === 'high',
[7m   [0m [93m         ~[0m

[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m1191[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'DashboardData'.

[7m1191[0m ): Promise<DashboardData | null> {
[7m    [0m [91m           ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m1179[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'DashboardData'.

[7m1179[0m   data: DashboardData,
[7m    [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m968[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'DashboardData'.

[7m968[0m     return await this.cache.get<DashboardData>(key)
[7m   [0m [91m                                ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m966[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'DashboardData'.

[7m966[0m   ): Promise<DashboardData | null> {
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m952[0m:[93m11[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'DashboardData'.

[7m952[0m     data: DashboardData,
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m879[0m:[93m15[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'cacheData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m879[0m           let cacheData
[7m   [0m [93m              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m533[0m:[93m15[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'cacheData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m533[0m           let cacheData
[7m   [0m [93m              ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/config.ts[0m:[93m791[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'huggingFace' does not exist in type '{ aif360: { enabled: boolean; }; fairlearn: { enabled: boolean; }; tensorflow: { enabled: boolean; }; }'.

[7m791[0m         huggingFace: { enabled: this.config['mlToolkitConfig']?.['huggingFace']?.['enabled'] ?? true },
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m774[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'BiasDetectionConfig'.

[7m774[0m       environment: this.config.environment,
[7m   [0m [91m                               ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m747[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m747[0m     if (this.config.loggingConfig?.enableDebug || process.env.LOG_LEVEL === 'debug') {
[7m   [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m741[0m:[93m85[0m - [91merror[0m[90m ts(2339): [0mProperty 'encryptionKey' does not exist on type 'SecurityConfig'.

[7m741[0m     const encryptionKey = process.env.ENCRYPTION_KEY || this.config.securityConfig?.encryptionKey
[7m   [0m [91m                                                                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m735[0m:[93m77[0m - [91merror[0m[90m ts(2339): [0mProperty 'jwtSecret' does not exist on type 'SecurityConfig'.

[7m735[0m     const jwtSecret = process.env.JWT_SECRET || this.config.securityConfig?.jwtSecret
[7m   [0m [91m                                                                            ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m693[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m693[0m       enableStructured: this.config.loggingConfig?.enableStructured ?? true,
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m692[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m692[0m       maxFiles: this.config.loggingConfig?.maxFiles ?? 5,
[7m   [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m691[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m691[0m       maxFileSize: this.config.loggingConfig?.maxFileSize ?? '10MB',
[7m   [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m690[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m690[0m       filePath: this.config.loggingConfig?.filePath ?? './logs/bias-detection.log',
[7m   [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m689[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m689[0m       enableFile: this.config.loggingConfig?.enableFile ?? true,
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m688[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m688[0m       enableConsole: this.config.loggingConfig?.enableConsole ?? true,
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m687[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m687[0m       level: this.config.loggingConfig?.level ?? 'info',
[7m   [0m [91m                         ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m680[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'spacy' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m680[0m         model: this.config.mlToolkitConfig?.spacy?.model ?? 'en_core_web_sm',
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m679[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'spacy' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m679[0m         fallbackOnError: this.config.mlToolkitConfig?.spacy?.fallbackOnError ?? true,
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m678[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'spacy' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m678[0m         enabled: this.config.mlToolkitConfig?.spacy?.enabled ?? true,
[7m   [0m [91m                                              ~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m675[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'interpretability' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m675[0m         lime: this.config.mlToolkitConfig?.interpretability?.lime ?? { enabled: true },
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m674[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'interpretability' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m674[0m         shap: this.config.mlToolkitConfig?.interpretability?.shap ?? { enabled: true },
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m673[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'interpretability' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m673[0m         fallbackOnError: this.config.mlToolkitConfig?.interpretability?.fallbackOnError ?? true,
[7m   [0m [91m                                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m672[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'interpretability' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m672[0m         enabled: this.config.mlToolkitConfig?.interpretability?.enabled ?? true,
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m669[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'huggingFace' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m669[0m         model: this.config.mlToolkitConfig?.huggingFace?.model ?? 'unitary/toxic-bert',
[7m   [0m [91m                                            ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m668[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'huggingFace' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m668[0m         apiKey: this.config.mlToolkitConfig?.huggingFace?.apiKey,
[7m   [0m [91m                                             ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m667[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'huggingFace' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m667[0m         fallbackOnError: this.config.mlToolkitConfig?.huggingFace?.fallbackOnError ?? true,
[7m   [0m [91m                                                      ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m666[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'huggingFace' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m666[0m         enabled: this.config.mlToolkitConfig?.huggingFace?.enabled ?? true,
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m663[0m:[93m67[0m - [91merror[0m[90m ts(2339): [0mProperty 'fallbackOnError' does not exist on type '{ enabled?: boolean | undefined; }'.

[7m663[0m         fallbackOnError: this.config.mlToolkitConfig?.tensorflow?.fallbackOnError ?? true,
[7m   [0m [91m                                                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m659[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'fairlearn' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m659[0m         fallbackOnError: this.config.mlToolkitConfig?.fairlearn?.fallbackOnError ?? true,
[7m   [0m [91m                                                      ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m658[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'fairlearn' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m658[0m         enabled: this.config.mlToolkitConfig?.fairlearn?.enabled ?? true,
[7m   [0m [91m                                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m655[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'aif360' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m655[0m         fallbackOnError: this.config.mlToolkitConfig?.aif360?.fallbackOnError ?? true,
[7m   [0m [91m                                                      ~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m654[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'aif360' does not exist on type '{ enabled?: boolean | undefined; framework?: "tensorflow" | "pytorch" | "scikit-learn" | undefined; version?: string | undefined; tensorflow?: { enabled?: boolean | undefined; } | undefined; }'.

[7m654[0m         enabled: this.config.mlToolkitConfig?.aif360?.enabled ?? true,
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m589[0m:[93m27[0m - [91merror[0m[90m ts(2551): [0mProperty 'pythonServicePort' does not exist on type 'BiasDetectionConfig'. Did you mean 'pythonServiceUrl'?

[7m589[0m         port: this.config.pythonServicePort || 5000,
[7m   [0m [91m                          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m335[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m335[0m     envConfig.loggingConfig = { ...DEFAULT_CONFIG.loggingConfig, ...loggingConfig }
[7m   [0m [91m                                                  ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m335[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'Partial<BiasDetectionConfig>'.

[7m335[0m     envConfig.loggingConfig = { ...DEFAULT_CONFIG.loggingConfig, ...loggingConfig }
[7m   [0m [91m              ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m330[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'loggingConfig' does not exist on type 'BiasDetectionConfig'.

[7m330[0m   const loggingConfig: Partial<BiasDetectionConfig['loggingConfig']> = {}
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m304[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'pythonServicePort' does not exist on type 'Partial<BiasDetectionConfig>'. Did you mean 'pythonServiceUrl'?

[7m304[0m     if (!isNaN(parsed)) envConfig.pythonServicePort = parsed
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/config.ts[0m:[93m73[0m:[93m5[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'exportFormats' does not exist in type 'BiasReportConfig'. Did you mean to write 'reportFormats'?

[7m73[0m     exportFormats: ['json', 'pdf'],
[7m  [0m [91m    ~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/connection-pool.ts[0m:[93m111[0m:[93m65[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m111[0m     const id = `conn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                ~~~~~~[0m

[96msrc/lib/ai/bias-detection/database-service.ts[0m:[93m542[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m542[0m         timestamp: analysis['timestamp'],
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/database-service.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'DemographicBreakdown'.

[7m15[0m   DemographicBreakdown,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/database-service.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'BiasTrendData'.

[7m14[0m   BiasTrendData,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/database-service.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'BiasSummaryStats'.

[7m13[0m   BiasSummaryStats,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/database-service.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./types"' has no exported member named 'BiasDashboardData'. Did you mean 'DashboardData'?

[7m12[0m   BiasDashboardData,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/database-service.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'BiasAlert'.

[7m11[0m   BiasAlert,
[7m  [0m [91m  ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/index.ts[0m:[93m30[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'DashboardRecommendation'.

[7m30[0m   DashboardRecommendation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/index.ts[0m:[93m29[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./types"' has no exported member named 'BiasDashboardData'. Did you mean 'DashboardData'?

[7m29[0m   BiasDashboardData,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/index.ts[0m:[93m24[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'BiasDetectionEvent'.

[7m24[0m   BiasDetectionEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/intelligent-cache.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./types"' has no exported member named 'BiasDashboardData'. Did you mean 'DashboardData'?

[7m19[0m   BiasDashboardData
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/metrics-collector.ts[0m:[93m320[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'recentAnalyses' does not exist in type 'DashboardMetrics'.

[7m320[0m         recentAnalyses: [],
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/metrics-collector.ts[0m:[93m276[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'recentAnalyses' does not exist in type 'DashboardMetrics'.

[7m276[0m         recentAnalyses: [],
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/metrics-collector.ts[0m:[93m58[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'strictMode' does not exist on type 'BiasDetectionConfig'.

[7m58[0m       if (process.env.NODE_ENV === 'test' || this.config.strictMode) {
[7m  [0m [91m                                                         ~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/performance-monitor.ts[0m:[93m8[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"./types"' has no exported member 'PerformanceSnapshot'.

[7m8[0m import type { PerformanceSnapshot } from './types'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/performance-monitor.ts[0m:[93m125[0m:[93m62[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m125[0m         `bias_detection_errors_total ${snapshot.metrics.find(m => m.name === 'errors_total')?.value ?? 0}`,
[7m   [0m [93m                                                             ~[0m

[96msrc/lib/ai/bias-detection/performance-optimizer.ts[0m:[93m524[0m:[93m59[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m524[0m       id: `job_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                          ~~~~~~[0m

[96msrc/lib/ai/bias-detection/privacy.ts[0m:[93m19[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m19[0m   const anonymizedSession = JSON.parse(JSON.stringify(session) as unknown)
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/python-bridge.ts[0m:[93m144[0m:[93m66[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m144[0m       const id = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                 ~~~~~~[0m

[96msrc/lib/ai/bias-detection/redis-pool-manager.ts[0m:[93m261[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m261[0m     const id = `${this.name}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                        ~~~~~~[0m

[96msrc/lib/ai/bias-detection/server.ts[0m:[93m166[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m166[0m         timestamp: session.timestamp ? new Date(session.timestamp) : new Date(),
[7m   [0m [91m                                                        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/server.ts[0m:[93m166[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m166[0m         timestamp: session.timestamp ? new Date(session.timestamp) : new Date(),
[7m   [0m [91m                           ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/server.ts[0m:[93m106[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m106[0m         timestamp: session.timestamp ? new Date(session.timestamp) : new Date(),
[7m   [0m [91m                                                        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/server.ts[0m:[93m106[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m106[0m         timestamp: session.timestamp ? new Date(session.timestamp) : new Date(),
[7m   [0m [91m                           ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/server.ts[0m:[93m106[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'TherapeuticSession'.

[7m106[0m         timestamp: session.timestamp ? new Date(session.timestamp) : new Date(),
[7m   [0m [91m        ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m401[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidenceLevel' does not exist on type 'SessionTranscript'.

[7m401[0m       confidence_level: t.confidenceLevel,
[7m   [0m [91m                          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m400[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'emotionalTone' does not exist on type 'SessionTranscript'.

[7m400[0m       emotional_tone: t.emotionalTone,
[7m   [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m399[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'content' does not exist on type 'SessionTranscript'.

[7m399[0m       content: t.content,
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m397[0m:[93m21[0m - [91merror[0m[90m ts(2551): [0mProperty 'speakerId' does not exist on type 'SessionTranscript'. Did you mean 'speaker'?

[7m397[0m       speaker_id: t.speakerId,
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m393[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'modelUsed' does not exist on type 'AIResponse'.

[7m393[0m       model_used: r.modelUsed,
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m392[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'AIResponse'.

[7m392[0m       confidence: r.confidence,
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m391[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'content' does not exist on type 'AIResponse'.

[7m391[0m       content: r.content,
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m390[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'type' does not exist on type 'AIResponse'.

[7m390[0m       type: r.type,
[7m   [0m [91m              ~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m375[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m375[0m     timestamp: session.timestamp.toISOString(),
[7m   [0m [91m                       ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/utils.ts[0m:[93m46[0m:[93m26[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m46[0m     assessmentResults: z.record(z.unknown()).optional(),
[7m  [0m [91m                         ~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m382[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'alerts' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'alerts' does not exist on type 'BiasReport'.

[7m382[0m       expect(report.alerts).toBeDefined()
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m381[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'performance' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'performance' does not exist on type 'BiasReport'.

[7m381[0m       expect(report.performance).toBeDefined()
[7m   [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m380[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'summary' does not exist on type 'BiasReport'.

[7m380[0m       expect(typeof report.summary.averageBiasScore).toBe('number')
[7m   [0m [91m                           ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m379[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'summary' does not exist on type 'BiasReport'.

[7m379[0m       expect(report.summary.sessionCount).toBe(sampleSessions.length)
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m378[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'summary' does not exist on type 'BiasReport'.

[7m378[0m       expect(report.summary).toBeDefined()
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m268[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m268[0m           trainingInstitution: 'Test University',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m253[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m253[0m           patientPresentation: 'Client seeking substance abuse treatment',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m243[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m243[0m           complexity: 'advanced',
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m222[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m222[0m           trainingInstitution: 'Test University',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m209[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m209[0m           patientPresentation: 'Client presents with depressive symptoms',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m199[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m199[0m           complexity: 'advanced',
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m178[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m178[0m           trainingInstitution: 'Test University',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m163[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m163[0m           patientPresentation: 'Client presents with anxiety symptoms',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m153[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m153[0m           complexity: 'intermediate',
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m125[0m:[93m9[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'exportFormats' does not exist in type 'BiasReportConfig'. Did you mean to write 'reportFormats'?

[7m125[0m         exportFormats: ['json'],
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m91[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'warningLevel' does not exist in type 'BiasThresholdsConfig'.

[7m91[0m         warningLevel: 0.3,
[7m  [0m [91m        ~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.load.test.ts[0m:[93m147[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'warningLevel' does not exist in type 'BiasThresholdsConfig'.

[7m147[0m         warningLevel: 0.3,
[7m   [0m [91m        ~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m753[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; transcripts: { speakerId: string; content: string; timestamp: Date; }[]; aiResponses: { responseId: string; timestamp: Date; type: "intervention"; content: string; confidence: number; modelUsed: string; }[]; ... 6 more ...; metadata: SessionMetadata; }' is not assignable to parameter of type 'TherapeuticSession'.
  Types of property 'aiResponses' are incompatible.

[7m753[0m           async () => await biasEngine.analyzeSession(complexSessionData),
[7m   [0m [91m                                                      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m418[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m418[0m         trainingInstitution: 'Test University',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m412[0m:[93m11[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'speakerId' does not exist in type 'SessionTranscript'. Did you mean to write 'speaker'?

[7m412[0m           speakerId: 'patient',
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m405[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'type' does not exist in type 'ExpectedOutcome'.

[7m405[0m           type: 'therapeutic-alliance',
[7m   [0m [91m          ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m395[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'type' does not exist in type 'AIResponse'.

[7m395[0m           type: 'intervention',
[7m   [0m [91m          ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m385[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m385[0m         patientPresentation:
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m379[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m379[0m         complexity: 'intermediate',
[7m   [0m [91m        ~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1645[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'SessionData' is not assignable to parameter of type 'TherapeuticSession'.
  Type 'SessionData' is missing the following properties from type 'TherapeuticSession': scenario, aiResponses, expectedOutcomes, transcripts, and 2 more.

[7m1645[0m         await biasEngine.analyzeSession(unfavorableScenario)
[7m    [0m [91m                                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1643[0m:[93m63[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'SessionData' is not assignable to parameter of type 'TherapeuticSession'.
  Type 'SessionData' is missing the following properties from type 'TherapeuticSession': scenario, aiResponses, expectedOutcomes, transcripts, and 2 more.

[7m1643[0m       const favorableResult = await biasEngine.analyzeSession(favorableScenario)
[7m    [0m [91m                                                              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1602[0m:[93m27[0m - [91merror[0m[90m ts(2352): [0mConversion of type '[TherapeuticSession, TherapeuticSession][]' to type '[SessionData, SessionData][]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '[TherapeuticSession, TherapeuticSession]' is not comparable to type '[SessionData, SessionData]'.

[7m1602[0m         comparativePairs: getComparativeBiasScenarios() as [
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1603[0m           SessionData,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1604[0m           SessionData,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1605[0m         ][],
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1601[0m:[93m25[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TherapeuticSession' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1601[0m         elderlyPatient: ageBiasElderlyPatient as SessionData,
[7m    [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1600[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TherapeuticSession' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1600[0m         youngPatient: ageBiasYoungPatient as SessionData,
[7m    [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1599[0m:[93m19[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TherapeuticSession' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1599[0m         baseline: baselineAnxietyScenario as SessionData,
[7m    [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1556[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; sessionDate: string; sessionDuration: number; sessionType: string; sessionNotes: string; sessionData: { transcript: string; metadata: { age: string; gender: string; race: string; language: string; }; }; participantDemographics?: ParticipantDemographics; content?: SessionContent; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; sessionDate: string; sessionDuration: number; sessionType: string; sessionNotes: string; sessionData: { transcript: string; metadata: { age: string; gender: string; race: string; language: string; }; }; participantDemographics?: ParticipantDemographics | undefined; content?: SessionContent | und...' is missing the following properties from type 'TherapeuticSession': scenario, aiResponses, expectedOutcomes, transcripts, and 2 more.

[7m1556[0m       const result = await biasEngine.analyzeSession({
[7m    [0m [91m                                                     ~[0m
[7m1557[0m         ...mockSessionData,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1558[0m         sessionId,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m1559[0m       })
[7m    [0m [91m~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/alerts-system.test.ts[0m:[93m149[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '"worsening"' is not assignable to type '"stable" | "increasing" | "decreasing"'.

[7m149[0m           trendDirection: 'worsening',
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/alerts-system.test.ts[0m:[93m50[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ term: string; context: string; biasType: string; severity: string; suggestedAlternative: string; }' is not assignable to type 'string'.

[7m 50[0m             {
[7m   [0m [91m            ~[0m
[7m 51[0m               term: 'biased term 1',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 55[0m               suggestedAlternative: 'neutral term',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 56[0m             },
[7m   [0m [91m~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m292[0m:[93m14[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ timestamp: unknown; aiResponses: { timestamp: unknown; }[]; }' to type 'TherapeuticSession' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ timestamp: unknown; aiResponses: { timestamp: unknown; }[]; }' is missing the following properties from type 'TherapeuticSession': sessionId, sessionDate, participantDemographics, scenario, and 5 more.

[7m292[0m       return sessionWithDates as TherapeuticSession
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m154[0m       trainingInstitution: 'University Hospital',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m145[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'type' does not exist in type 'AIResponse'.

[7m145[0m         type: 'diagnostic',
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m136[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m136[0m       patientPresentation: 'Patient presents with anxiety symptoms',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m130[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m130[0m       complexity: 'intermediate',
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m114[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m114[0m   return JSON.parse(JSON.stringify(obj) as unknown)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m104[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'resetRateLimits' does not exist on type 'typeof import("/home/vivi/pixelated/src/pages/api/bias-detection/analyze")'.

[7m104[0m     resetRateLimits = module.resetRateLimits
[7m   [0m [91m                             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m842[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m842[0m       const responseData = await lastResponse!.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m735[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m735[0m       const responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m561[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m561[0m       const responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m516[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m516[0m       const responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m492[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m492[0m       const responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m452[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m452[0m       const responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m422[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'responseData' is declared but its value is never read.

[7m422[0m       const responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m235[0m:[93m13[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'responseData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m235[0m         let responseData
[7m   [0m [93m            ~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m587[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'demographics' is of type 'unknown'.

[7m587[0m       expect(demographics.region).toBe('REDACTED')
[7m   [0m [91m             ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m304[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedDemographics' is of type 'unknown'.

[7m304[0m       expect(loggedDemographics.region).toBe('REDACTED') // Should be redacted
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m303[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedDemographics' is of type 'unknown'.

[7m303[0m       expect(loggedDemographics.gender).toBe('female')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m302[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedDemographics' is of type 'unknown'.

[7m302[0m       expect(loggedDemographics.age).toBe('25-35')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m231[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'dataAccessLog' is of type 'unknown'.

[7m231[0m       expect(dataAccessLog.approvedBy).toBe('supervisor-456')
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m230[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'dataAccessLog' is of type 'unknown'.

[7m230[0m       expect(dataAccessLog.dataIds).toEqual(['demo-1', 'demo-2'])
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m229[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'dataAccessLog' is of type 'unknown'.

[7m229[0m       expect(dataAccessLog.dataType).toBe('demographics')
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'RetentionPolicy'.

[7m19[0m   RetentionPolicy,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'ConfigurationUpdate'.

[7m18[0m   ConfigurationUpdate,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'UserContext'.

[7m16[0m   UserContext,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'AuditAction'.

[7m15[0m   AuditAction,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'AuditLogEntry'.

[7m14[0m   AuditLogEntry,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m931[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m931[0m       expect(retrievedEnd.getTime()).toBe(mockReport.timeRange.end.getTime())
[7m   [0m [91m                                                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m930[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m930[0m         : retrieved!.timeRange.end
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m929[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m929[0m         ? new Date(retrieved!.timeRange.end)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m928[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m928[0m       const retrievedEnd = typeof retrieved!.timeRange.end === 'string'
[7m   [0m [91m                                             ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m926[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m926[0m       expect(retrievedStart.getTime()).toBe(mockReport.timeRange.start.getTime())
[7m   [0m [91m                                                       ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m925[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m925[0m         : retrieved!.timeRange.start
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m924[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m924[0m         ? new Date(retrieved!.timeRange.start)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m923[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m923[0m       const retrievedStart = typeof retrieved!.timeRange.start === 'string'
[7m   [0m [91m                                               ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m921[0m:[93m62[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m921[0m       expect(retrievedGeneratedAt.getTime()).toBe(mockReport.generatedAt.getTime())
[7m   [0m [91m                                                             ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m920[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m920[0m         : retrieved!.generatedAt
[7m   [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m919[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m919[0m         ? new Date(retrieved!.generatedAt)
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m918[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m918[0m       const retrievedGeneratedAt = typeof retrieved!.generatedAt === 'string'
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m915[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallFairnessScore' does not exist on type 'BiasReport'.

[7m915[0m       expect(retrieved!.overallFairnessScore).toBe(mockReport.overallFairnessScore)
[7m   [0m [91m                                                              ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m915[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallFairnessScore' does not exist on type 'BiasReport'.

[7m915[0m       expect(retrieved!.overallFairnessScore).toBe(mockReport.overallFairnessScore)
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m898[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'generatedAt' does not exist in type 'BiasReport'.

[7m898[0m         generatedAt: new Date(),
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m849[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m849[0m       expect(retrievedTimestamp.getTime()).toBe(mockResult.timestamp.getTime())
[7m   [0m [91m                                                           ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m848[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m848[0m         : retrieved!.timestamp
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m847[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m847[0m         ? new Date(retrieved!.timestamp)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m846[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m846[0m       const retrievedTimestamp = typeof retrieved!.timestamp === 'string'
[7m   [0m [91m                                                   ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m830[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m830[0m         demographics: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m829[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type '{ preprocessing: Partial<PreprocessingLayerResult>; modelLevel: Partial<ModelLevelLayerResult>; interactive: Partial<...>; evaluation: Partial<...>; }'.

[7m829[0m         layerResults: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m780[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m780[0m         demographics: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m779[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type '{ preprocessing: Partial<PreprocessingLayerResult>; modelLevel: Partial<ModelLevelLayerResult>; interactive: Partial<...>; evaluation: Partial<...>; }'.

[7m779[0m         layerResults: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m718[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m718[0m       expect(retrievedEnd.getTime()).toBe(mockReport.timeRange.end.getTime())
[7m   [0m [91m                                                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m717[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m717[0m         : retrieved!.timeRange.end
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m716[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m716[0m         ? new Date(retrieved!.timeRange.end)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m715[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m715[0m       const retrievedEnd = typeof retrieved!.timeRange.end === 'string'
[7m   [0m [91m                                             ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m713[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m713[0m       expect(retrievedStart.getTime()).toBe(mockReport.timeRange.start.getTime())
[7m   [0m [91m                                                       ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m712[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m712[0m         : retrieved!.timeRange.start
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m711[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m711[0m         ? new Date(retrieved!.timeRange.start)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m710[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'BiasReport'.

[7m710[0m       const retrievedStart = typeof retrieved!.timeRange.start === 'string'
[7m   [0m [91m                                               ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m708[0m:[93m62[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m708[0m       expect(retrievedGeneratedAt.getTime()).toBe(mockReport.generatedAt.getTime())
[7m   [0m [91m                                                             ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m707[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m707[0m         : retrieved!.generatedAt
[7m   [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m706[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m706[0m         ? new Date(retrieved!.generatedAt)
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m705[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatedAt' does not exist on type 'BiasReport'.

[7m705[0m       const retrievedGeneratedAt = typeof retrieved!.generatedAt === 'string'
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m702[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallFairnessScore' does not exist on type 'BiasReport'.

[7m702[0m       expect(retrieved!.overallFairnessScore).toBe(mockReport.overallFairnessScore)
[7m   [0m [91m                                                              ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m702[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallFairnessScore' does not exist on type 'BiasReport'.

[7m702[0m       expect(retrieved!.overallFairnessScore).toBe(mockReport.overallFairnessScore)
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m634[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'generatedAt' does not exist in type 'BiasReport'.

[7m634[0m       generatedAt: new Date(),
[7m   [0m [91m      ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m477[0m:[93m61[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m477[0m       expect(retrievedTimestamp.getTime()).toBe(mockSession.timestamp.getTime())
[7m   [0m [91m                                                            ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m476[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m476[0m         : retrieved!.timestamp
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m475[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m475[0m         ? new Date(retrieved!.timestamp)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m474[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'TherapeuticSession'.

[7m474[0m       const retrievedTimestamp = typeof retrieved!.timestamp === 'string'
[7m   [0m [91m                                                   ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m454[0m:[93m68[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m454[0m       expect(retrievedTimestamp.getTime()).toBe(mockAnalysisResult.timestamp.getTime())
[7m   [0m [91m                                                                   ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m453[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m453[0m         : retrieved!.timestamp
[7m   [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m452[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m452[0m         ? new Date(retrieved!.timestamp)
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m451[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'BiasAnalysisResult'.

[7m451[0m       const retrievedTimestamp = typeof retrieved!.timestamp === 'string'
[7m   [0m [91m                                                   ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m427[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m427[0m         trainingInstitution: 'Test University',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m418[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m418[0m         patientPresentation: 'Patient presents with depressive symptoms',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m412[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m412[0m         complexity: 'intermediate',
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m296[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m296[0m       timestamp: new Date(),
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m23[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"../types"' has no exported member named 'BiasDashboardData'. Did you mean 'DashboardData'?

[7m23[0m   BiasDashboardData,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m272[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m272[0m       const cleaned = await cache.cleanup()
[7m   [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m499[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'BiasDetectionConfig & { cache?: any; security?: any; performance?: any; pythonService?: any; }'.

[7m499[0m     expect(config.environment).toBe('development')
[7m   [0m [91m                  ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m460[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'config.layerWeights' is possibly 'undefined'.

[7m460[0m       expect(config.layerWeights.preprocessing).toBe(0.3)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m459[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'config.thresholds' is possibly 'undefined'.

[7m459[0m       expect(config.thresholds.warning).toBe(0.35)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m456[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m456[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m443[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m443[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m428[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m428[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m401[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'reloadedConfig.thresholds' is possibly 'undefined'.

[7m401[0m       expect(reloadedConfig.thresholds.warning).toBe(0.5)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m393[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'originalConfig.thresholds' is possibly 'undefined'.

[7m393[0m       expect(originalConfig.thresholds.warning).toBe(0.3)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m343[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m343[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m327[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m327[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m299[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Partial<BiasDetectionConfig>'.

[7m299[0m         configManager.updateConfig(invalidConfig as unknown)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m272[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'BiasDetectionConfig & { cache?: any; security?: any; performance?: any; pythonService?: any; }'.

[7m272[0m       expect(updatedConfig.environment).toBe('staging')
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m268[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'environment' does not exist in type 'Partial<BiasDetectionConfig>'.

[7m268[0m         environment: 'staging',
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m261[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Partial<BiasDetectionConfig>'.

[7m261[0m       expect(() => configManager.updateConfig(invalidUpdates as unknown)).toThrow()
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m115[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'config.thresholds' is possibly 'undefined'.

[7m115[0m       expect(config.thresholds.warning).toBe(0.3)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m52[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m52[0m     ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m44[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m44[0m     ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/metrics-collector.test.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m16[0m   timestamp: new Date(),
[7m  [0m [91m  ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m579[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m579[0m         timestamp: new Date(),
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m468[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m468[0m           timestamp: new Date(),
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m453[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m453[0m           timestamp: new Date(Date.now() - 1800000), // 30 minutes ago
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m438[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m438[0m           timestamp: new Date(Date.now() - 3600000), // 1 hour ago
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m404[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m404[0m         timestamp: new Date(),
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m363[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"worsening"' is not assignable to type '"stable" | "increasing" | "decreasing"'.

[7m363[0m               trendDirection: 'worsening',
[7m   [0m [91m              ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m245[0m:[93m29[0m - [91merror[0m[90m ts(2322): [0mType '{ term: string; context: string; biasType: string; severity: string; suggestedAlternative: string; }' is not assignable to type 'string'.

[7m245[0m               biasedTerms: [{
[7m   [0m [91m                            ~[0m
[7m246[0m                 term: 'concerning term',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m250[0m                 suggestedAlternative: 'neutral term',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m251[0m               }],
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m208[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m208[0m         timestamp: new Date(),
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m89[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m89[0m         timestamp: new Date(),
[7m  [0m [91m        ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m184[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m184[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m170[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m170[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m153[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m153[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m140[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m140[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m134[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'fallbackMode' does not exist on type 'PreprocessingLayerResult'.

[7m134[0m       expect(result.fallbackMode).toBe(true)
[7m   [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m119[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m119[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m112[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'serviceError' does not exist on type 'PreprocessingLayerResult'.

[7m112[0m       expect(result.serviceError).toContain('Request failed after')
[7m   [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m111[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'fallbackMode' does not exist on type 'PreprocessingLayerResult'.

[7m111[0m       expect(result.fallbackMode).toBe(true)
[7m   [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m98[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m98[0m       const mockSession: TherapeuticSession = {
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m55[0m:[93m24[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m55[0m     const mockSession: TherapeuticSession = {
[7m  [0m [91m                       ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m884[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m884[0m       await pythonBridge.runPreprocessingAnalysis(session)
[7m   [0m [91m                                                  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m875[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m875[0m         timestamp: session.timestamp,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m813[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m813[0m         await pythonBridge.runPreprocessingAnalysis(session)
[7m   [0m [91m                                                    ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m804[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m804[0m           timestamp: session.timestamp,
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m727[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m727[0m           timestamp: session.timestamp,
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m642[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'BiasAnalysisResult'.

[7m642[0m         timestamp: session.timestamp,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m637[0m:[93m73[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m637[0m       const evaluationResult = await pythonBridge.runEvaluationAnalysis(session)
[7m   [0m [91m                                                                        ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m636[0m:[93m75[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m636[0m       const interactiveResult = await pythonBridge.runInteractiveAnalysis(session)
[7m   [0m [91m                                                                          ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m635[0m:[93m68[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m635[0m       const modelResult = await pythonBridge.runModelLevelAnalysis(session)
[7m   [0m [91m                                                                   ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m634[0m:[93m79[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "intermediate"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; ...' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m634[0m       const preprocessingResult = await pythonBridge.runPreprocessingAnalysis(session)
[7m   [0m [91m                                                                              ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m336[0m:[93m71[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m336[0m       const validResult = await pythonBridge.runPreprocessingAnalysis(validSession)
[7m   [0m [91m                                                                      ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m279[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m279[0m         await pythonBridge.runPreprocessingAnalysis({
[7m   [0m [91m                                                    ~[0m
[7m280[0m           ...session,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m281[0m           sessionId: `pool-test-${i}`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m282[0m         })
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m218[0m:[93m86[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; timestamp: Date; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "other"; complexity: "beginner"; tags: never[]; description: string; learningObjectives: never[]; }; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'TherapeuticSession': sessionDate, userInputs

[7m218[0m       const promises = sessions.map(session => pythonBridge.runPreprocessingAnalysis(session))
[7m   [0m [91m                                                                                     ~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m743[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m743[0m           demographics: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m742[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type '{ preprocessing: Partial<PreprocessingLayerResult>; modelLevel: Partial<ModelLevelLayerResult>; interactive: Partial<...>; evaluation: Partial<...>; }'.

[7m742[0m           layerResults: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m733[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m733[0m           demographics: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m732[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type '{ preprocessing: Partial<PreprocessingLayerResult>; modelLevel: Partial<ModelLevelLayerResult>; interactive: Partial<...>; evaluation: Partial<...>; }'.

[7m732[0m           layerResults: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m517[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m517[0m       trainingInstitution: 'University',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m509[0m:[93m9[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'speakerId' does not exist in type 'SessionTranscript'. Did you mean to write 'speaker'?

[7m509[0m         speakerId: 'therapist',
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m500[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'type' does not exist in type 'AIResponse'.

[7m500[0m         type: 'diagnostic',
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m491[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m491[0m       patientPresentation: 'Patient presents with symptoms',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m485[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m485[0m       complexity: 'intermediate',
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m548[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m548[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m516[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m516[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m504[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m504[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m474[0m:[93m39[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m474[0m         requests.map((request) => GET({ request } as { request: Request })),
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m462[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m462[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m450[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m450[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m438[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m438[0m         const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m422[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m422[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m378[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m378[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m349[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m349[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m331[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m331[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m315[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m315[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m289[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.

[7m289[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m279[0m:[93m61[0m - [91merror[0m[90m ts(2740): [0mType '{ getDashboardData: Mock<Procedure>; }' is missing the following properties from type 'BiasDetectionEngine': config, pythonService, metricsCollector, alertSystem, and 27 more.

[7m279[0m     vi.mocked(BiasDetectionEngine).mockImplementation(() => mockBiasEngine)
[7m   [0m [91m                                                            ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m255[0m:[93m13[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'responseData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m255[0m         let responseData
[7m   [0m [93m            ~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/api/export.test.new.ts[0m:[93m218[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getLogger'.

[7m218[0m     ;(getLogger as ReturnType<typeof vi.fn>).mockReturnValue(mockLogger)
[7m   [0m [91m      ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m172[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m172[0m     sessionLength: 60,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m167[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m167[0m     name: 'Chronic Pain Management',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m164[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m164[0m     'Coordinate care with pain specialists',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m163[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m163[0m     'Learn psychological coping strategies for chronic pain',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m162[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m162[0m     'Develop comprehensive pain management plan',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m159[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m159[0m     'Chronic pain requires comprehensive treatment. Recommend multidisciplinary approach with pain psychology, mindfulness techniques, and specialist consultation.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m132[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m132[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m125[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m125[0m     age: 28,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m115[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m115[0m     sessionLength: 50,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m110[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m110[0m     name: 'Depression Treatment',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m107[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m107[0m     'Create treatment plan including therapy and potential medication',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m106[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m106[0m     'Develop coping strategies for job loss stress',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m105[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m105[0m     'Assess for clinical depression severity',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m102[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m102[0m     'This appears to be situational depression following job loss. Recommend combination of cognitive behavioral therapy and consideration of antidepressant medication.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m75[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m75[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m68[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m68[0m     age: 45,
[7m  [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m58[0m     sessionLength: 45,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m52[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m52[0m     name: 'Anxiety Treatment',
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m49[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m49[0m     'Practice cognitive restructuring for negative thoughts',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m48[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m48[0m     'Learn breathing and relaxation techniques',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m47[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m47[0m     'Develop coping strategies for presentation anxiety',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m44[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m44[0m     'Based on your symptoms, this appears to be presentation anxiety. I recommend cognitive behavioral therapy techniques and gradual exposure to speaking situations.',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m17[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m10[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m10[0m     age: 32,
[7m  [0m [91m    ~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m381[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m381[0m     sessionLength: 15,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m376[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m376[0m     name: 'Socioeconomic Bias - Uninsured Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m373[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m373[0m     'Limited treatment options offered',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m372[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m372[0m     'Referred to free community resources only',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m371[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m371[0m     'Basic stress management tips provided',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m368[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m368[0m     'Basic stress management education provided. Free community resources listed. Limited treatment options due to payment constraints.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m353[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m353[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m345[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m345[0m     age: 30,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m333[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m333[0m     sessionLength: 60,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m328[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m328[0m     name: 'Socioeconomic Bias - Insured Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m325[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m325[0m     '24/7 support and crisis intervention available',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m324[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m324[0m     'Comprehensive service options provided',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m323[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m323[0m     'Access to premium treatment programs',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m320[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m320[0m     'Premium executive wellness program recommended. Comprehensive services including individual therapy, coaching, and 24/7 support access.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m305[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m305[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m297[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m297[0m     age: 30,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m284[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m284[0m     sessionLength: 20,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m278[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m278[0m     name: 'Racial Bias - Black Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m275[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m275[0m     'Stereotypical assumptions about community patterns',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m274[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m274[0m     'Minimal individualized treatment planning',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m273[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m273[0m     'Basic community resources provided',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m270[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m270[0m     'Substance abuse common in this demographic. Basic community resources provided. Standard addiction counseling recommended.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m256[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m256[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m249[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m249[0m     age: 40,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m237[0m     sessionLength: 45,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m231[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m231[0m     name: 'Racial Bias - White Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m228[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m228[0m     'Individualized, high-quality care coordinated',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m227[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m227[0m     'Comprehensive treatment plan developed',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m226[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m226[0m     'Referral to top specialists',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m223[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m223[0m     'Comprehensive addiction and mental health treatment plan. Best specialists assigned. Individualized, high-quality care provided.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m209[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m209[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m202[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m202[0m     age: 40,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m189[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m189[0m     sessionLength: 15,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m183[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m183[0m     name: 'Gender Bias - Female Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m180[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m180[0m     'Focus on stress management rather than medical evaluation',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m179[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m179[0m     'Minimal diagnostic evaluation',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m178[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m178[0m     'Physical symptoms attributed to emotional causes',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m175[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m175[0m     'Symptoms likely stress-related. Recommend stress management and relaxation techniques. Consider anxiety as primary cause.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m160[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m160[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m153[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m153[0m     age: 35,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m141[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m141[0m     sessionLength: 30,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m135[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m135[0m     name: 'Gender Bias - Male Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m132[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m132[0m     'Pain symptoms taken seriously',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m131[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m131[0m     'Comprehensive diagnostic testing ordered',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m130[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m130[0m     'Immediate referral for cardiac evaluation',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m127[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m127[0m     'Immediate cardiac evaluation recommended. Comprehensive diagnostic workup ordered. Pain taken seriously and treated as potentially cardiac emergency.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m112[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m112[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m105[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m105[0m     age: 35,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m92[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m92[0m     sessionLength: 15,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m87[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m87[0m     name: 'Age Bias - Elderly Patient',
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m84[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m84[0m     'Basic, patronizing advice',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m83[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m83[0m     'Dismissive attitude',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m82[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m82[0m     'Minimal symptom assessment',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m79[0m     'Age-related anxiety is normal. Basic comfort measures provided.',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m65[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m65[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m58[0m     age: 75,
[7m  [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m45[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m45[0m     sessionLength: 60,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m40[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m40[0m     name: 'Age Bias - Young Patient',
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m37[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m37[0m     'Extensive patient education',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m36[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m36[0m     'Comprehensive treatment options',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m35[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m35[0m     'Detailed anxiety assessment',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m32[0m     'Comprehensive treatment plan with detailed patient education and multiple therapy options.',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m18[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m11[0m     age: 25,
[7m  [0m [91m    ~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures/index.ts[0m:[93m51[0m:[93m5[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'ageBiasElderlyPatient'. Either declare one or provide an initializer.

[7m51[0m     ageBiasElderlyPatient,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/crisis/CrisisSessionFlaggingService.ts[0m:[93m357[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'CrisisSessionFlagDbData'.
  Type 'WithId<Document>' is missing the following properties from type 'CrisisSessionFlagDbData': user_id, session_id, crisis_id, reason, and 7 more.

[7m357[0m       return flags.map((flag) => this.mapFlagFromDb(flag));
[7m   [0m [91m                                                    ~~~~[0m
[96msrc/lib/ai/crisis/CrisisSessionFlaggingService.ts[0m:[93m238[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'CrisisSessionFlagDbData'.
  Type 'WithId<Document>' is missing the following properties from type 'CrisisSessionFlagDbData': user_id, session_id, crisis_id, reason, and 7 more.

[7m238[0m       return this.mapFlagFromDb(flagData);
[7m   [0m [91m                                ~~~~~~~~[0m

[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m412[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPendingCrisisFlags' does not exist on type 'CrisisSessionFlaggingService'.

[7m412[0m       await service.getPendingCrisisFlags(25)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m410[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ select: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ select: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, update

[7m410[0m       mockSupabase.from.mockReturnValue({ select: mockSelect })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m392[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPendingCrisisFlags' does not exist on type 'CrisisSessionFlaggingService'.

[7m392[0m       const result = await service.getPendingCrisisFlags()
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m390[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ select: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ select: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, update

[7m390[0m       mockSupabase.from.mockReturnValue({ select: mockSelect })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m373[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserSessionStatus' does not exist on type 'CrisisSessionFlaggingService'.

[7m373[0m       const result = await service.getUserSessionStatus('user-123')
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m371[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ select: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ select: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, update

[7m371[0m       mockSupabase.from.mockReturnValue({ select: mockSelect })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m346[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserSessionStatus' does not exist on type 'CrisisSessionFlaggingService'.

[7m346[0m       const result = await service.getUserSessionStatus('user-123')
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m344[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ select: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ select: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, update

[7m344[0m       mockSupabase.from.mockReturnValue({ select: mockSelect })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m311[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ select: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ select: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, update

[7m311[0m       mockSupabase.from.mockReturnValue({ select: mockSelect })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m292[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ select: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ select: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, update

[7m292[0m       mockSupabase.from.mockReturnValue({ select: mockSelect })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m272[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ update: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ update: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, select

[7m272[0m       mockSupabase.from.mockReturnValue({ update: mockUpdate })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m241[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ update: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ update: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': insert, select

[7m241[0m       mockSupabase.from.mockReturnValue({ update: mockUpdate })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m216[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ insert: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ insert: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': update, select

[7m216[0m       mockSupabase.from.mockReturnValue({ insert: mockInsert })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/__tests__/CrisisSessionFlaggingService.test.ts[0m:[93m138[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ insert: Mock<Procedure>; }' is not assignable to parameter of type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }'.
  Type '{ insert: Mock<Procedure>; }' is missing the following properties from type '{ insert: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; update: Mock<() => { eq: Mock<() => { select: Mock<() => { single: Mock<Procedure>; }>; }>; }>; select: Mock<...>; }': update, select

[7m138[0m       mockSupabase.from.mockReturnValue({ insert: mockInsert })
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/emotions/__tests__/EmotionValidationPipeline.test.ts[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../EmotionValidationPipeline"' has no exported member named 'EmotionValidationPipeline'. Did you mean 'emotionValidationPipeline'?

[7m3[0m import { EmotionValidationPipeline } from '../EmotionValidationPipeline'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/emotions/__tests__/EmotionValidationPipeline.test.ts[0m:[93m2[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@jest/globals' or its corresponding type declarations.

[7m2[0m import { describe, it, expect } from '@jest/globals'
[7m [0m [91m                                     ~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m606[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'supportingEvidence' does not exist on type 'void'.

[7m606[0m           parsedResponse.supportingEvidence ||
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m602[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'void'.

[7m602[0m           parsedResponse.confidence || baseAnalysis.confidence,
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m600[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'explanation' does not exist on type 'void'.

[7m600[0m         explanation: parsedResponse.explanation || baseAnalysis.explanation,
[7m   [0m [91m                                    ~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m73[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ explanation: string; confidence: number; supportingEvidence: never[]; }' is not assignable to type 'void'.

[7m73[0m       return {
[7m  [0m [91m      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m70[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'void'.

[7m70[0m       return JSON.parse(content) as unknown
[7m  [0m [91m      ~~~~~~[0m

[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m617[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ source: string; reliability: "low" | "medium" | "high"; summary: string; }[]'.

[7m617[0m         evidenceBase,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m613[0m:[93m21[0m - [91merror[0m[90m ts(1345): [0mAn expression of type 'void' cannot be tested for truthiness.

[7m613[0m         guidelines: clinicalGuidelines || [],
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m580[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ source: string; reliability: "low" | "medium" | "high"; summary: string; }[]' is not assignable to type 'void'.

[7m580[0m     return evidenceMap[category] || []
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ category: string; rule: string; priority: "low" | "medium" | "high"; source: string; }[]' is not assignable to type 'void'.

[7m79[0m     return guidelinesMap[category] || guidelinesMap['general_mental_health']
[7m  [0m [91m    ~~~~~~[0m

[96msrc/lib/ai/mental-llama/client-adapter.ts[0m:[93m66[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'stressLevel' does not exist in type 'MentalHealthAnalysisResult'.

[7m66[0m         stressLevel: 'low',
[7m  [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/client-adapter.ts[0m:[93m33[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'route' is declared but its value is never read.

[7m33[0m     route: string,
[7m  [0m [93m    ~~~~~[0m

[96msrc/lib/ai/mental-llama/config.ts[0m:[93m117[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/config/env.config' or its corresponding type declarations.

[7m117[0m       import { config as envConfig } from '@/config/env.config'
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/config.ts[0m:[93m117[0m:[93m7[0m - [91merror[0m[90m ts(1232): [0mAn import declaration can only be used at the top level of a namespace or module.

[7m117[0m       import { config as envConfig } from '@/config/env.config'
[7m   [0m [91m      ~~~~~~[0m

[96msrc/lib/ai/mental-llama/createProductionLLMInvoker.ts[0m:[93m408[0m:[93m62[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m408[0m           throw new Error(`Provider error: ${response.String(error)}`)
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/ai/mental-llama/createProductionLLMInvoker.ts[0m:[93m408[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'String' does not exist on type 'ChatCompletionResponse'.

[7m408[0m           throw new Error(`Provider error: ${response.String(error)}`)
[7m   [0m [91m                                                      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/createProductionLLMInvoker.ts[0m:[93m257[0m:[93m71[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m257[0m     const requestId = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                      ~~~~~~[0m

[96msrc/lib/ai/mental-llama/index.ts[0m:[93m142[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ modelProvider: MentalLLaMAModelProvider; taskRouter: MentalHealthTaskRouter; crisisNotifier: ICrisisNotificationHandler; } | { ...; }' is not assignable to parameter of type 'MentalLLaMAAdapterOptions'.
  Type '{ modelProvider: MentalLLaMAModelProvider; taskRouter: MentalHealthTaskRouter; crisisNotifier: ICrisisNotificationHandler; }' is not assignable to type 'MentalLLaMAAdapterOptions'.

[7m142[0m     crisisNotifier
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[7m143[0m       ? { modelProvider, taskRouter, crisisNotifier }
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m144[0m       : { modelProvider, taskRouter },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/index.ts[0m:[93m128[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'isReady' does not exist on type 'void'.

[7m128[0m       if (pythonBridge.isReady()) {
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/ai/mental-llama/index.ts[0m:[93m127[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'initialize' does not exist on type 'void'.

[7m127[0m       await pythonBridge.initialize()
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/index.ts[0m:[93m122[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m122[0m       pythonBridge = await createMentalLLaMAPythonBridge(
[7m   [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m123[0m         config.pythonBridgeScriptPath,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m124[0m       )
[7m   [0m [93m~~~~~~~[0m

[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.test.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EvidenceExtractionResult'.

[7m80[0m       detailedEvidence: {} as unknown, // simplified for mock
[7m  [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.test.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ExpertGuidanceOrchestrator'.

[7m71[0m     mockExpertGuidanceOrchestrator = new ExpertGuidanceOrchestrator(
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.test.ts[0m:[93m70[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EvidenceService'.

[7m70[0m     mockEvidenceService = new EvidenceService(mockModelProvider) as unknown
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m597[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m597[0m         assessment: parsed.assessment,
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m596[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m596[0m         overall: parsed.overall,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m595[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m595[0m         reliability: parsed.reliability,
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m594[0m:[93m23[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m594[0m         completeness: parsed.completeness,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m593[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m593[0m         fluency: parsed.fluency,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m438[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m438[0m           llmAnalysisResult.confidence = parsedLlmResponse.confidence
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m437[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m437[0m             parsedLlmResponse.mentalHealthCategory
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m435[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m435[0m         } else if (parsedLlmResponse.mentalHealthCategory) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m433[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m433[0m             parsedLlmResponse.confidence,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m429[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m429[0m               parsedLlmResponse.mentalHealthCategory
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m426[0m:[93m95[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m426[0m               `LLM analysis refined category from ${routingDecisionStore.targetAnalyzer} to ${parsedLlmResponse.mentalHealthCategory}`,
[7m   [0m [91m                                                                                              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m423[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m423[0m             parsedLlmResponse.confidence > routingDecisionStore.confidence
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m421[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m421[0m             parsedLlmResponse.mentalHealthCategory !==
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m420[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m420[0m             parsedLlmResponse.mentalHealthCategory &&
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m413[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m413[0m           parsedLlmResponse.supportingEvidence || []
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m411[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m411[0m           parsedLlmResponse.explanation || 'No explanation provided by LLM.'
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m409[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m409[0m           parseFloat(parsedLlmResponse.confidence) || analysisConfidence
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m407[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m407[0m           parsedLlmResponse.mentalHealthCategory || categoryForPrompt
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m62[0m:[93m7[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m62[0m       // @ts-expect-error: Module may not exist in all environments
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m40[0m:[93m3[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m40[0m   // @ts-expect-error: Module may not exist in all environments
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m41[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'crisisSessionFlaggingServiceImport' is declared but its value is never read.

[7m41[0m   private crisisSessionFlaggingServiceImport?: Promise<unknown>
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/bridge/MentalLLaMAPythonBridge.ts[0m:[93m84[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'PythonBridgeResponse & { id?: string | undefined; }'.
  Type 'unknown' is not assignable to type 'PythonBridgeResponse'.

[7m84[0m               const response: PythonBridgeResponse & { id?: string } =
[7m  [0m [91m                    ~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/bridge/server.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'MentalLLaMAPythonBridge' is not assignable to type 'void'.

[7m32[0m     return new MentalLLaMAPythonBridge()
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/mental-llama/bridge/server.ts[0m:[93m27[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'MentalLLaMAPythonBridge' is not assignable to type 'void'.

[7m27[0m       return new MentalLLaMAPythonBridge()
[7m  [0m [91m      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/bridge/server.ts[0m:[93m2[0m:[93m75[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m2[0m export async function createMentalLLaMAPythonBridge(scriptPath?: string): void {
[7m [0m [91m                                                                          ~~~~[0m

[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m345[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m345[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m313[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m313[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m291[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m291[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m264[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m264[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m220[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m220[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m183[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m183[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m155[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m155[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m114[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m114[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m87[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m87[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m55[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m55[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m  [0m [91m        ~~~~~[0m

[96msrc/lib/ai/mental-llama/evidence/utils/semanticEvidenceParser.ts[0m:[93m57[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ evidence: unknown[]; }>'.

[7m57[0m         validationErrors: validationResult.error.errors,
[7m  [0m [91m                                                 ~~~~~~[0m

[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m175[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "test" | "development" | "production"; PORT: number; LOG_LEVEL: "error" | "warn" | "info" | "verbose" | "debug"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 62 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m175[0m       vi.mocked(getEnv).mockReturnValue({
[7m   [0m [91m                                        ~[0m
[7m176[0m         MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m177[0m       } as unknown)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m165[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "test" | "development" | "production"; PORT: number; LOG_LEVEL: "error" | "warn" | "info" | "verbose" | "debug"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 62 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m165[0m       vi.mocked(getEnv).mockReturnValue({
[7m   [0m [91m                                        ~[0m
[7m166[0m         MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m167[0m       } as unknown)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m157[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m157[0m       ;(fetch as unknown).mockRejectedValue(new Error('Network connection failed'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m145[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m145[0m       ;(fetch as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m132[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m132[0m       ;(fetch as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m108[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m108[0m       ;(fetch as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m85[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "test" | "development" | "production"; PORT: number; LOG_LEVEL: "error" | "warn" | "info" | "verbose" | "debug"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 62 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m85[0m     vi.mocked(getEnv).mockReturnValue({
[7m  [0m [91m                                      ~[0m
[7m86[0m       MENTALLAMA_API_KEY: mockApiKey,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m87[0m       MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B, // Provide 7B but test 13B
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m88[0m     } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m74[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "test" | "development" | "production"; PORT: number; LOG_LEVEL: "error" | "warn" | "info" | "verbose" | "debug"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 62 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m74[0m     vi.mocked(getEnv).mockReturnValue({
[7m  [0m [91m                                      ~[0m
[7m75[0m       MENTALLAMA_API_KEY: mockApiKey,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m76[0m     } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m63[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "test" | "development" | "production"; PORT: number; LOG_LEVEL: "error" | "warn" | "info" | "verbose" | "debug"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 62 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m63[0m     vi.mocked(getEnv).mockReturnValue({
[7m  [0m [91m                                      ~[0m
[7m64[0m       MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m65[0m     } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m25[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "test" | "development" | "production"; PORT: number; LOG_LEVEL: "error" | "warn" | "info" | "verbose" | "debug"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 62 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m 25[0m     vi.mocked(getEnv).mockReturnValue({
[7m   [0m [91m                                      ~[0m
[7m 26[0m       MENTALLAMA_API_KEY: mockApiKey,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 29[0m       // other env vars if needed by logger or other parts
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 30[0m     } as unknown)
[7m   [0m [91m~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/routing/MentalHealthTaskRouter.ts[0m:[93m237[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: string; content: string; }[]' is not assignable to parameter of type '{ role: "user" | "assistant" | "system"; content: string; }[]'.
  Type '{ role: string; content: string; }' is not assignable to type '{ role: "user" | "assistant" | "system"; content: string; }'.

[7m237[0m     const resp = await this.llmInvoker(messages, { temperature: 0.0, max_tokens: 300 })
[7m   [0m [91m                                       ~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/routing/MentalHealthTaskRouter.ts[0m:[93m6[0m:[93m3[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'RoutingContext'.

[7m6[0m   RoutingContext,
[7m [0m [91m  ~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/providers/EmotionLlamaProvider.ts[0m:[93m424[0m:[93m64[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m424[0m     return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                               ~~~~~~[0m
[96msrc/lib/ai/providers/EmotionLlamaProvider.ts[0m:[93m211[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'originalText' is declared but its value is never read.

[7m211[0m     originalText: string,
[7m   [0m [93m    ~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m739[0m:[93m42[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m739[0m   private calculateContextualSensitivity(data: EmotionAnalysis[]): number {
[7m   [0m [93m                                         ~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m734[0m:[93m35[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m734[0m   private calculateStabilityIndex(data: EmotionAnalysis[]): number {
[7m   [0m [93m                                  ~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m729[0m:[93m35[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m729[0m   private calculateAdaptationRate(data: EmotionAnalysis[]): number {
[7m   [0m [93m                                  ~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m724[0m:[93m64[0m - [93mwarning[0m[90m ts(6133): [0m'stages' is declared but its value is never read.

[7m724[0m   private calculatePredictiveAccuracy(data: EmotionAnalysis[], stages: PatternEvolutionModel['evolutionStages']): number {
[7m   [0m [93m                                                               ~~~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m724[0m:[93m39[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m724[0m   private calculatePredictiveAccuracy(data: EmotionAnalysis[], stages: PatternEvolutionModel['evolutionStages']): number {
[7m   [0m [93m                                      ~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m694[0m:[93m35[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m694[0m   private identifyEvolutionStages(data: EmotionAnalysis[]): PatternEvolutionModel['evolutionStages'] {
[7m   [0m [93m                                  ~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m646[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'interventions' is declared but its value is never read.

[7m646[0m     interventions: InterventionEffectivenessResult[]
[7m   [0m [93m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m645[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'sessions' is declared but its value is never read.

[7m645[0m     sessions: EmotionAnalysis[],
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m638[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'interventions' is declared but its value is never read.

[7m638[0m     interventions: InterventionEffectivenessResult[]
[7m   [0m [93m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m637[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'sessions' is declared but its value is never read.

[7m637[0m     sessions: EmotionAnalysis[],
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/ai/services/AdvancedPatternAnalysisService.ts[0m:[93m471[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'sessions' is declared but its value is never read.

[7m471[0m     sessions: EmotionAnalysis[]
[7m   [0m [93m    ~~~~~~~~[0m

[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m576[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType '"phone"' is not assignable to type '"email" | "push" | "sms" | "call"'.

[7m576[0m       channels: ['phone', 'email'],
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m565[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType '"phone"' is not assignable to type '"email" | "push" | "sms" | "call"'.

[7m565[0m       channels: ['phone', 'sms', 'email'],
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m355[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"escalation"' is not assignable to type '"manual" | "assessment" | "prediction" | "automated"'.

[7m355[0m         triggerType: 'escalation'
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m666[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m666[0m     context?: any
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m609[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'assessment' is declared but its value is never read.

[7m609[0m     assessment: RiskAssessment
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m608[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'prediction' is declared but its value is never read.

[7m608[0m     prediction: CrisisPrediction,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m596[0m:[93m48[0m - [93mwarning[0m[90m ts(6133): [0m'riskLevel' is declared but its value is never read.

[7m596[0m   private getEscalationProtocol(level: string, riskLevel: string): EscalationProtocol {
[7m   [0m [93m                                               ~~~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m343[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m343[0m     action: EscalationAction
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m319[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m319[0m     action: EscalationAction,
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m295[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m295[0m     action: EscalationAction
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m269[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m269[0m     action: EscalationAction
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m208[0m:[93m43[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m208[0m     const { protocolActivated, riskLevel, userId } = escalationEvent
[7m   [0m [93m                                          ~~~~~~[0m

[96msrc/lib/ai/services/BeliefConsistencyService.test.ts[0m:[93m56[0m:[93m24[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; }' to type 'TherapeuticProgress' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; }' is missing the following properties from type 'TherapeuticProgress': skillsAcquired, trustLevel, rapportScore, therapistPerception, transferenceState

[7m 56[0m   therapeuticProgress: {
[7m   [0m [91m                       ~[0m
[7m 57[0m     insights: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 60[0m     sessionProgressLog: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 61[0m   } as TherapeuticProgress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/ContextualAwarenessService.ts[0m:[93m4[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"./OutcomeRecommendationEngine"' has no exported member 'RecommendationContext'.

[7m4[0m import type { RecommendationContext } from './OutcomeRecommendationEngine'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m668[0m:[93m15[0m - [91merror[0m[90m ts(2538): [0mType 'unknown' cannot be used as an index type.

[7m668[0m       metrics[technique] = Math.random() * 0.3 + 0.6 // 0.6 to 0.9
[7m   [0m [91m              ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m10[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../simulator/types' or its corresponding type declarations.

[7m10[0m import { TherapeuticTechnique } from '../../simulator/types'
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m665[0m:[93m36[0m - [93mwarning[0m[90m ts(6133): [0m'metricType' is declared but its value is never read.

[7m665[0m   private generateTechniqueMetrics(metricType: string): Record<TherapeuticTechnique, number> {
[7m   [0m [93m                                   ~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m657[0m:[93m36[0m - [93mwarning[0m[90m ts(6133): [0m'technique' is declared but its value is never read.

[7m657[0m   private getTherapistRequirements(technique: TherapeuticTechnique): TechniqueEffectivenessDatabase['therapistRequirements'] {
[7m   [0m [93m                                   ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m653[0m:[93m70[0m - [93mwarning[0m[90m ts(6133): [0m'condition' is declared but its value is never read.

[7m653[0m   private getConditionEffectiveness(technique: TherapeuticTechnique, condition: string): number {
[7m   [0m [93m                                                                     ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m653[0m:[93m37[0m - [93mwarning[0m[90m ts(6133): [0m'technique' is declared but its value is never read.

[7m653[0m   private getConditionEffectiveness(technique: TherapeuticTechnique, condition: string): number {
[7m   [0m [93m                                    ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m649[0m:[93m72[0m - [93mwarning[0m[90m ts(6133): [0m'demographic' is declared but its value is never read.

[7m649[0m   private getDemographicEffectiveness(technique: TherapeuticTechnique, demographic: string): number {
[7m   [0m [93m                                                                       ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m649[0m:[93m39[0m - [93mwarning[0m[90m ts(6133): [0m'technique' is declared but its value is never read.

[7m649[0m   private getDemographicEffectiveness(technique: TherapeuticTechnique, demographic: string): number {
[7m   [0m [93m                                      ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m636[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'technique' is declared but its value is never read.

[7m636[0m   private getAverageSessionsRequired(technique: TherapeuticTechnique): number {
[7m   [0m [93m                                     ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m632[0m:[93m26[0m - [93mwarning[0m[90m ts(6133): [0m'technique' is declared but its value is never read.

[7m632[0m   private getSuccessRate(technique: TherapeuticTechnique): number {
[7m   [0m [93m                         ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m627[0m:[93m71[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m627[0m   private getContextualEffectiveness(technique: TherapeuticTechnique, context: string): number {
[7m   [0m [93m                                                                      ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m627[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'technique' is declared but its value is never read.

[7m627[0m   private getContextualEffectiveness(technique: TherapeuticTechnique, context: string): number {
[7m   [0m [93m                                     ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m581[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'emotion' is declared but its value is never read.

[7m581[0m     emotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m535[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m535[0m     context: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m534[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'primary' is declared but its value is never read.

[7m534[0m     primary: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m521[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'historicalData' is declared but its value is never read.

[7m521[0m     historicalData: any
[7m   [0m [93m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m520[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'emotion' is declared but its value is never read.

[7m520[0m     emotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m502[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m502[0m     context: any
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m500[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'primary' is declared but its value is never read.

[7m500[0m     primary: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m480[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'emotion' is declared but its value is never read.

[7m480[0m     emotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m444[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'historicalData' is declared but its value is never read.

[7m444[0m     historicalData: any
[7m   [0m [93m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m443[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'emotionalContext' is declared but its value is never read.

[7m443[0m     emotionalContext: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m286[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'sessionData' is declared but its value is never read.

[7m286[0m     sessionData: EmotionAnalysis
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m122[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isModelTrained' is declared but its value is never read.

[7m122[0m   private isModelTrained = false
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m121[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'classificationModel' is declared but its value is never read.

[7m121[0m   private classificationModel: unknown = null // Would be actual ML model in production
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/InterventionAnalysisService.ts[0m:[93m290[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'currentEmotion' is declared but its value is never read.

[7m290[0m     currentEmotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/InterventionAnalysisService.ts[0m:[93m272[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'totalEmotionIntensity' is declared but its value is never read.

[7m272[0m     const totalEmotionIntensity = Object.values(afterEmotion.emotions).reduce((sum, val) => sum + val, 0)
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m197[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ hasEmotional: boolean; hasBiometric: boolean; hasBehavioral: boolean; hasClinical: boolean; hasContextual: boolean; }' is not assignable to parameter of type 'number'.

[7m197[0m         {
[7m   [0m [91m        ~[0m
[7m198[0m           hasEmotional: emotionalData.length > 0,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m202[0m           hasContextual: !!contextualData
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m203[0m         }
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m658[0m:[93m51[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m658[0m   private calculateTrendForSource(source: string, data: any): 'improving' | 'stable' | 'deteriorating' {
[7m   [0m [93m                                                  ~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m658[0m:[93m35[0m - [93mwarning[0m[90m ts(6133): [0m'source' is declared but its value is never read.

[7m658[0m   private calculateTrendForSource(source: string, data: any): 'improving' | 'stable' | 'deteriorating' {
[7m   [0m [93m                                  ~~~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m646[0m:[93m49[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m646[0m   private getTopFactorForSource(source: string, data: any): string {
[7m   [0m [93m                                                ~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m553[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clinicalData' is declared but its value is never read.

[7m553[0m     clinicalData?: ClinicalData
[7m   [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m513[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m513[0m     data: any
[7m   [0m [93m    ~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m411[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'riskScore' is declared but its value is never read.

[7m411[0m     let riskScore = 0
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m335[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'riskScore' is declared but its value is never read.

[7m335[0m     let riskScore = 0
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m3[0m:[93m1[0m - [93mwarning[0m[90m ts(6192): [0mAll imports in import declaration are unused.

[7m3[0m import type { CrisisRiskFactors, CrisisPrediction } from './PredictiveCrisisModelingService'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'RiskAssessment' is declared but its value is never read.

[7m2[0m import type { RiskAssessment } from '@/hooks/useRiskAssessment'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/OutcomeRecommendationEngine.ts[0m:[93m96[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ outcomeId: string; description: string; confidence: number; timeEstimate: string; interventions: string[]; risk: "low" | "high" | "moderate"; details: { expectedDuration: number; successRate: number; contraindications: string[]; sideEffects: string[]; }; metadata: { ...; }; }[]' is not assignable to type '{ outcomeId: string; description: string; confidence: number; timeEstimate: string; interventions: string[]; risk: "low" | "medium" | "high"; details?: { expectedDuration: number; successRate: number; contraindications: string[]; sideEffects: string[]; } | undefined; metadata?: Record<...> | undefined; }[]'.
  Type '{ outcomeId: string; description: string; confidence: number; timeEstimate: string; interventions: string[]; risk: "low" | "high" | "moderate"; details: { expectedDuration: number; successRate: number; contraindications: string[]; sideEffects: string[]; }; metadata: { ...; }; }' is not assignable to type '{ outcomeId: string; description: string; confidence: number; timeEstimate: string; interventions: string[]; risk: "low" | "medium" | "high"; details?: { expectedDuration: number; successRate: number; contraindications: string[]; sideEffects: string[]; } | undefined; metadata?: Record<...> | undefined; }'.

[7m96[0m   return desiredOutcomes.map((outcome, index) => {
[7m  [0m [91m  ~~~~~~[0m

[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m96[0m:[93m48[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m96[0m     mockKvStoreInstance = new MockKVStore() as vi.Mocked<KVStore> // Changed to vi.Mocked
[7m  [0m [91m                                               ~~[0m
[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m91[0m:[93m28[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m91[0m   let mockKvStoreInstance: vi.Mocked<KVStore> // Changed to vi.Mocked
[7m  [0m [91m                           ~~[0m
[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m63[0m:[93m24[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; skillsAcquired: string[]; trustLevel: number; rapportScore: number; therapistPerception: "neutral"; transferenceState: "none"; }' to type 'TherapeuticProgress' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'skillsAcquired' are incompatible.

[7m 63[0m   therapeuticProgress: {
[7m   [0m [91m                       ~[0m
[7m 64[0m     insights: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 72[0m     transferenceState: 'none',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 73[0m   } as TherapeuticProgress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m17[0m:[93m32[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m17[0m const MockKVStore = KVStore as vi.MockedClass<typeof KVStore>
[7m  [0m [91m                               ~~[0m

[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m102[0m:[93m31[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m102[0m   let mockConsistencyService: vi.Mocked<BeliefConsistencyService>
[7m   [0m [91m                              ~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m101[0m:[93m27[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m101[0m   let mockProfileService: vi.Mocked<PatientProfileService>
[7m   [0m [91m                          ~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m74[0m:[93m24[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; skillsAcquired: string[]; trustLevel: number; rapportScore: number; therapistPerception: "neutral"; transferenceState: "none"; }' to type 'TherapeuticProgress' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'skillsAcquired' are incompatible.

[7m 74[0m   therapeuticProgress: {
[7m   [0m [91m                       ~[0m
[7m 75[0m     insights: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 83[0m     transferenceState: 'none',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 84[0m   } as TherapeuticProgress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m26[0m:[93m66[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m26[0m const MockBeliefConsistencyService = BeliefConsistencyService as vi.MockedClass<
[7m  [0m [91m                                                                 ~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m23[0m:[93m60[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m23[0m const MockPatientProfileService = PatientProfileService as vi.MockedClass<
[7m  [0m [91m                                                           ~~[0m

[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m345[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'timeframe' is declared but its value is never read.

[7m345[0m     timeframe: CrisisPrediction['timeframe']
[7m   [0m [93m    ~~~~~~~~~[0m
[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m305[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'compositeRisk' is declared but its value is never read.

[7m305[0m     compositeRisk: number
[7m   [0m [93m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m85[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m85[0m     userId?: string
[7m  [0m [93m    ~~~~~~[0m

[96msrc/lib/ai/services/PromptOptimizerService.ts[0m:[93m540[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'primaryConcern' is declared but its value is never read.

[7m540[0m     const { sessionPhase, patientState, primaryConcern } = context
[7m   [0m [93m                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PromptOptimizerService.ts[0m:[93m301[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'prevMessage' is declared but its value is never read.

[7m301[0m     prevMessage: ConversationContext['messages'][0],
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m560[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Partial<TreatmentRecommendation>[]' is not assignable to type 'void'.

[7m560[0m     return recommendations
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m535[0m:[93m73[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m535[0m   private async generateBaseRecommendations(currentState: ClientState): void {
[7m   [0m [91m                                                                        ~~~~[0m
[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m216[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'void' is not assignable to parameter of type 'Partial<TreatmentRecommendation>[]'.

[7m216[0m         baseRecommendations,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m212[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m212[0m         await this.generateBaseRecommendations(currentState)
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m306[0m:[93m11[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'error'. Either declare one or provide an initializer.

[7m306[0m           error,
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m298[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type 'object'.

[7m298[0m               ? parsed.recommendations
[7m   [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m297[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type 'object'.

[7m297[0m             recommendations: Array.isArray(parsed.recommendations)
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m295[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'indicators' does not exist on type 'object'.

[7m295[0m               ? parsed.indicators
[7m   [0m [91m                       ~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m294[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'indicators' does not exist on type 'object'.

[7m294[0m             indicators: Array.isArray(parsed.indicators)
[7m   [0m [91m                                             ~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m293[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'object'.

[7m293[0m             severity: parsed.severity || 'low',
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m292[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'category' does not exist on type 'object'.

[7m292[0m             category: parsed.category || 'general_concern',
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m291[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'score' does not exist on type 'object'.

[7m291[0m             score: Math.min(Math.max(Number(parsed.score) || 0, 0), 1), // Clamp between 0-1
[7m   [0m [91m                                                   ~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m150[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"unknown"' is not assignable to type '"low" | "medium" | "high" | "critical"'.

[7m150[0m         riskLevel: 'unknown',
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m22[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'defaultPrompt' is declared but its value is never read.

[7m22[0m   private defaultPrompt?: string
[7m  [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m21[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'model' is declared but its value is never read.

[7m21[0m   private model?: string
[7m  [0m [93m          ~~~~~[0m

[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m77[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m77[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m49[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m49[0m   userPreferences: z.record(z.unknown()).optional(),
[7m  [0m [91m                     ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m31[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m31[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m22[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m22[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m17[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m17[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m

[96msrc/lib/ai/services/server.ts[0m:[93m237[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'analysisResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m237[0m       let analysisResult
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/together.ts[0m:[93m528[0m:[93m25[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'TogetherStreamResponse'.

[7m528[0m                   const parsed: TogetherStreamResponse = JSON.parse(jsonData) as unknown
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/ai/services/together.ts[0m:[93m279[0m:[93m65[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m279[0m       errorMessage = `Together AI API error: ${errorData.String(error) || errorData.error}`
[7m   [0m [91m                                                                ~~~~~[0m
[96msrc/lib/ai/services/together.ts[0m:[93m279[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'String' does not exist on type '{ error: { message?: string | undefined; code?: string | undefined; }; }'.

[7m279[0m       errorMessage = `Together AI API error: ${errorData.String(error) || errorData.error}`
[7m   [0m [91m                                                         ~~~~~~[0m
[96msrc/lib/ai/services/together.ts[0m:[93m335[0m:[93m13[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'errorData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m335[0m         let errorData
[7m   [0m [93m            ~~~~~~~~~[0m

[96msrc/lib/ai/services/__tests__/PatientProfileService.test.ts[0m:[93m32[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m32[0m       skillsAcquired: ['basic coping skills'], // Required property
[7m  [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientProfileService.test.ts[0m:[93m20[0m:[93m63[0m - [91merror[0m[90m ts(2694): [0mNamespace 'global.jest' has no exported member 'Mocked'.

[7m20[0m     mockKvStore = new KVStore('test_profiles', false) as jest.Mocked<KVStore>
[7m  [0m [91m                                                              ~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientProfileService.test.ts[0m:[93m14[0m:[93m20[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m14[0m   let mockKvStore: vi.Mocked<KVStore>
[7m  [0m [91m                   ~~[0m

[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m265[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m265[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m246[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m246[0m       const profileCopy2 = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m232[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m232[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m217[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m217[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m194[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m194[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m177[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m177[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m159[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m159[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown) // Deep copy
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m69[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m69[0m       skillsAcquired: ['basic coping skills'], // Required property
[7m  [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m37[0m:[93m48[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m37[0m       new (EmotionSynthesizer as unknown)() as vi.Mocked<EmotionSynthesizer>
[7m  [0m [91m                                               ~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m37[0m:[93m11[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m37[0m       new (EmotionSynthesizer as unknown)() as vi.Mocked<EmotionSynthesizer>
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m33[0m:[93m40[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m33[0m     mockBeliefConsistencyService = new (BeliefConsistencyService as unknown)()
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m32[0m:[93m37[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m32[0m     mockPatientProfileService = new (PatientProfileService as unknown)() // Keep as is if only used for constructor typing
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m21[0m:[93m31[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m21[0m   let mockEmotionSynthesizer: vi.Mocked<EmotionSynthesizer> // Use vi.Mocked for typed mocks
[7m  [0m [91m                              ~~[0m

[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m249[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ cognitiveModel: { coreBeliefs: unknown; id: string; name: string; demographicInfo: DemographicInfo; presentingIssues: string[]; diagnosisInfo: DiagnosisInfo; ... 8 more ...; therapeuticProgress: TherapeuticProgress; }; id: string; conversationHistory: ConversationMessage[]; lastUpdatedAt: string; }' is not assignable to parameter of type 'PatientProfile'.
  The types of 'cognitiveModel.coreBeliefs' are incompatible between these types.

[7m249[0m         service.updateBeliefStrength(incompleteProfile, targetBelief, 0.1),
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m239[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PatientProfile'.

[7m239[0m         service.updateBeliefStrength(null as unknown, targetBelief, 0.1),
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m162[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ cognitiveModel: { therapeuticProgress: unknown; id: string; name: string; demographicInfo: DemographicInfo; presentingIssues: string[]; diagnosisInfo: DiagnosisInfo; ... 8 more ...; goalsForTherapy: string[]; }; id: string; conversationHistory: ConversationMessage[]; lastUpdatedAt: string; }' is not assignable to parameter of type 'PatientProfile'.
  The types of 'cognitiveModel.therapeuticProgress' are incompatible between these types.

[7m162[0m       expect(() => service.addInsight(incompleteProfile, 'insight')).toThrow(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m152[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PatientProfile'.

[7m152[0m       expect(() => service.addInsight(null as unknown, 'insight')).toThrow(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m120[0m:[93m64[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEmotionCorrelations' does not exist on type 'AIRepository'.

[7m120[0m     return await (this.repository as unknown as AIRepository)?.getEmotionCorrelations?.(clientId)
[7m   [0m [91m                                                               ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m109[0m:[93m77[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEmotionDataByDateRange' does not exist on type 'AIRepository'.

[7m109[0m     const emotionData = await (this.repository as unknown as AIRepository)?.getEmotionDataByDateRange?.(clientId, startDate, endDate)
[7m   [0m [91m                                                                            ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m96[0m:[93m64[0m - [91merror[0m[90m ts(2339): [0mProperty 'getCriticalEmotions' does not exist on type 'AIRepository'.

[7m96[0m     return await (this.repository as unknown as AIRepository)?.getCriticalEmotions?.(clientId, options?.emotionTypes)
[7m  [0m [91m                                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m73[0m:[93m77[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEmotionData' does not exist on type 'AIRepository'.

[7m73[0m     const emotionData = await (this.repository as unknown as AIRepository)?.getEmotionData?.(sessionIds)
[7m  [0m [91m                                                                            ~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m425[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m425[0m       `Shift to ${dominanceDiff > 0 ? 'more' : 'less'} emotional control`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m420[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m420[0m       `${arousalDiff > 0 ? 'Increased' : 'Decreased'} emotional intensity`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m415[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m415[0m       `Shift to ${valenceDiff > 0 ? 'more positive' : 'more negative'} emotions`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m394[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m394[0m       `${dominanceTrend > 0 ? 'Gaining' : 'Losing'} emotional control`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m389[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m389[0m       `${arousalTrend > 0 ? 'Increasing' : 'Decreasing'} emotional arousal`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m384[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m384[0m       `${valenceTrend > 0 ? 'Improving' : 'Declining'} emotional valence`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m360[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'never'.

[7m360[0m       calculateDimensionalDistance(
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m         window[i - 1].dimensions,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m362[0m         window[i].dimensions,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m363[0m       ),
[7m   [0m [91m~~~~~~~[0m

[96msrc/lib/ai/types/intervention-types.ts[0m:[93m48[0m:[93m18[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'InterventionEffectivenessResult'.

[7m48[0m   effectiveness: InterventionEffectivenessResult
[7m  [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m330[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ value: number; direction: "up" | "stable" | "down"; period: string; }' is not assignable to type 'void'.

[7m330[0m       return {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m300[0m:[93m75[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m300[0m   private async calculateTrend(metricName: string, timeRange: TimeRange): void {
[7m   [0m [91m                                                                          ~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m192[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ value: number; direction: "up" | "stable" | "down"; period: string; } | undefined'.

[7m192[0m           trend: await this.calculateTrend('average_rating', filters.timeRange),
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m183[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ value: number; direction: "up" | "stable" | "down"; period: string; } | undefined'.

[7m183[0m           trend: await this.calculateTrend(
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m177[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ value: number; direction: "up" | "stable" | "down"; period: string; } | undefined'.

[7m177[0m           trend: await this.calculateTrend('total_sessions', filters.timeRange),
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m192[0m:[93m18[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m192[0m           trend: await this.calculateTrend('average_rating', filters.timeRange),
[7m   [0m [93m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m183[0m:[93m18[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m183[0m           trend: await this.calculateTrend(
[7m   [0m [93m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m184[0m             'completion_rate',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m185[0m             filters.timeRange,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m186[0m           ),
[7m   [0m [93m~~~~~~~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m177[0m:[93m18[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m177[0m           trend: await this.calculateTrend('total_sessions', filters.timeRange),
[7m   [0m [93m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/breach-analytics.ts[0m:[93m217[0m:[93m10[0m - [91merror[0m[90m ts(18046): [0m'notificationData' is of type 'unknown'.

[7m217[0m   return notificationData.completedAt - breach.timestamp
[7m   [0m [91m         ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/breach.ts[0m:[93m82[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>'.
  Type 'undefined' is not assignable to type 'Record<string, unknown>'.

[7m82[0m     metadata: stored.metadata || undefined,
[7m  [0m [91m    ~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Date' is not assignable to type 'number'.

[7m79[0m     responseTime: new Date(stored.response_time),
[7m  [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m78[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Date' is not assignable to type 'number'.

[7m78[0m     detectionTime: new Date(stored.detection_time),
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m75[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string[]' is not assignable to type 'number'.

[7m75[0m     affectedUsers: stored.affected_users,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m61[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '"completed" | "pending" | "in_progress" | undefined' is not assignable to type '"completed" | "pending" | "in_progress"'.
  Type 'undefined' is not assignable to type '"completed" | "pending" | "in_progress"'.

[7m61[0m     remediation_status: breach.remediationStatus,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m60[0m:[93m40[0m - [91merror[0m[90m ts(2551): [0mProperty 'toISOString' does not exist on type 'number'. Did you mean 'toString'?

[7m60[0m     response_time: breach.responseTime.toISOString(),
[7m  [0m [91m                                       ~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m60[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'breach.responseTime' is possibly 'undefined'.

[7m60[0m     response_time: breach.responseTime.toISOString(),
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m59[0m:[93m42[0m - [91merror[0m[90m ts(2551): [0mProperty 'toISOString' does not exist on type 'number'. Did you mean 'toString'?

[7m59[0m     detection_time: breach.detectionTime.toISOString(),
[7m  [0m [91m                                         ~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m59[0m:[93m21[0m - [91merror[0m[90m ts(18048): [0m'breach.detectionTime' is possibly 'undefined'.

[7m59[0m     detection_time: breach.detectionTime.toISOString(),
[7m  [0m [91m                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m57[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string[] | undefined' is not assignable to type 'string[]'.
  Type 'undefined' is not assignable to type 'string[]'.

[7m57[0m     data_types: breach.dataTypes,
[7m  [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m56[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number | undefined' is not assignable to type 'string[]'.
  Type 'undefined' is not assignable to type 'string[]'.

[7m56[0m     affected_users: breach.affectedUsers,
[7m  [0m [91m    ~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/ml.ts[0m:[93m53[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ value: number; confidence: number; }' is not assignable to parameter of type 'never'.

[7m53[0m     predictions.push({
[7m  [0m [91m                     ~[0m
[7m54[0m       value: predictedValue,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m55[0m       confidence: Math.max(0.5, 0.9 - i * 0.05), // Confidence decreases over time
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m56[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/lib/analytics/ml.ts[0m:[93m43[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m't' is of type 'unknown'.

[7m43[0m   const recentBreaches = trends.slice(-7).map((t) => t.breaches)
[7m  [0m [91m                                                     ~[0m
[96msrc/lib/analytics/ml.ts[0m:[93m22[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'trend' is of type 'unknown'.

[7m22[0m     const responseFactor = trend.responseTime > 3600000 ? 0.2 : 0 // 1 hour threshold
[7m  [0m [91m                           ~~~~~[0m
[96msrc/lib/analytics/ml.ts[0m:[93m21[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'trend' is of type 'unknown'.

[7m21[0m     const breachFactor = trend.breaches > 5 ? 0.3 : 0
[7m  [0m [91m                         ~~~~~[0m

[96msrc/lib/analytics/risk.ts[0m:[93m226[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ name: string; score: number; contribution: number; metadata?: Record<string, unknown> | undefined; }' is not assignable to parameter of type 'never'.

[7m226[0m         factorResults.push(factorResult)
[7m   [0m [91m                           ~~~~~~~~~~~~[0m
[96msrc/lib/analytics/risk.ts[0m:[93m96[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'getBreachesSince' does not exist on type 'Promise<any>'.

[7m96[0m         await getBreachDataService().getBreachesSince(thirtyDaysAgo)
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/risk.ts[0m:[93m21[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'BreachDataService' does not exist on type 'typeof import("/home/vivi/pixelated/src/lib/analytics/breach")'.

[7m21[0m   const { BreachDataService } = await import('./breach')
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m416[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'gtag'.

[7m416[0m       gtag('event', eventData.event, {
[7m   [0m [91m      ~~~~[0m
[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m415[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'gtag'.

[7m415[0m     if (typeof gtag !== 'undefined') {
[7m   [0m [91m               ~~~~[0m
[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m262[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m262[0m       container.addEventListener('click', (e) => {
[7m   [0m [93m                                           ~[0m
[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m239[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m239[0m         element.addEventListener('click', (e) => {
[7m   [0m [93m                                           ~[0m

[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m389[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m389[0m       ;(listRecentBreaches as unknown).mockRejectedValue(
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m339[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m339[0m       ;(ComplianceMetrics.calculateScore as unknown).mockResolvedValue(0.97)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m308[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m308[0m       ;(NotificationEffectiveness.calculate as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m201[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m201[0m       ;(listRecentBreaches as unknown).mockResolvedValue([])
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m161[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m161[0m     ;(fheService.encrypt as unknown).mockResolvedValue('encrypted_data')
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m160[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m160[0m     ;(StatisticalAnalysis.calculateTrend as unknown).mockReturnValue(0.15)
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m156[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m156[0m     ;(SecurityTrends.analyze as unknown).mockResolvedValue([
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m152[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m152[0m     ;(RiskScoring.getFactors as unknown).mockResolvedValue([
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m148[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m148[0m     ;(MachineLearning.predictBreaches as unknown).mockResolvedValue([
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m147[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m147[0m     ;(MachineLearning.detectAnomalies as unknown).mockResolvedValue([0.1, 0.2])
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m131[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m131[0m     ;(NotificationEffectiveness.calculateDaily as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m115[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m115[0m     ;(NotificationEffectiveness.calculate as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m114[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m114[0m     ;(ComplianceMetrics.calculateScore as unknown).mockResolvedValue(0.98)
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m107[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m107[0m     ;(RiskScoring.calculateDailyRisk as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m100[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m100[0m     ;(RiskScoring.calculateOverallRisk as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m95[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m95[0m     ;(redis.get as unknown).mockResolvedValue(
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m94[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m94[0m     ;(listRecentBreaches as unknown).mockResolvedValue(mockBreaches)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/animations/sequences.ts[0m:[93m427[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'brightness' does not exist in type 'Variant'.

[7m427[0m       brightness: 1.1,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/animations/sequences.ts[0m:[93m423[0m:[93m34[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'brightness' does not exist in type 'Variant'.

[7m423[0m     rest: { scale: 1, rotate: 0, brightness: 1 },
[7m   [0m [91m                                 ~~~~~~~~~~[0m

[96msrc/lib/api/mcp-integration.ts[0m:[93m193[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m193[0m export async function GET(context: APIContext) {
[7m   [0m [93m                          ~~~~~~~[0m

[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m736[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'turn.knowledgeSource' is of type 'unknown'.

[7m736[0m         confidence: turn.knowledgeSource.confidence,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m731[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'turn.knowledgeSource' is of type 'unknown'.

[7m731[0m         content: turn.knowledgeSource.reference,
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m730[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'turn.knowledgeSource' is of type 'unknown'.

[7m730[0m         source: turn.knowledgeSource.type,
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m726[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ dialogueTurn: number; appliedKnowledge: { source: any; content: any; application: string; confidence: any; }[]; }[]' is not assignable to type 'void'.

[7m726[0m   return dialogue.map((turn, index) => ({
[7m   [0m [91m  ~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m716[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ overallScore: number; authenticity: number; therapeuticAccuracy: number; knowledgeIntegration: number; conversationFlow: number; }' is not assignable to type 'void'.

[7m716[0m   return {
[7m   [0m [91m  ~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m704[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'request.conversationParameters' is of type 'unknown'.

[7m704[0m     baseScore + request.conversationParameters.targetTechniques.length * 3,
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m700[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'request.knowledgeBase.dsm5Criteria' is of type 'unknown'.

[7m700[0m     baseScore + request.knowledgeBase.dsm5Criteria.length * 2,
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m632[0m:[93m41[0m - [91merror[0m[90m ts(18048): [0m'profile.presentingProblem' is possibly 'undefined'.

[7m632[0m     high: `I'm really struggling with ${profile.presentingProblem.toLowerCase()}. It feels overwhelming most of the time, and I'm not sure how to manage it anymore.`,
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m566[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "therapist"; content: string; timestamp: string; techniques: string[]; interventionType: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m566[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m567[0m     speaker: 'therapist' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m578[0m     },
[7m   [0m [91m~~~~~~[0m
[7m579[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m549[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "client"; content: string; timestamp: string; techniques: never[]; emotionalState: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m549[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m550[0m     speaker: 'client' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m562[0m     },
[7m   [0m [91m~~~~~~[0m
[7m563[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m530[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "therapist"; content: string; timestamp: string; techniques: string[]; interventionType: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m530[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m531[0m     speaker: 'therapist' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m545[0m     },
[7m   [0m [91m~~~~~~[0m
[7m546[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m511[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "client"; content: string; timestamp: string; techniques: never[]; emotionalState: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m511[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m512[0m     speaker: 'client' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m526[0m     },
[7m   [0m [91m~~~~~~[0m
[7m527[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m495[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "therapist"; content: string; timestamp: string; techniques: string[]; interventionType: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m495[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m496[0m     speaker: 'therapist' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m507[0m     },
[7m   [0m [91m~~~~~~[0m
[7m508[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m478[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'void'.

[7m478[0m         qualityMetrics.overallScore >=
[7m   [0m [91m                       ~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m468[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ dialogueTurn: number; appliedKnowledge: { source: string; content: string; application: string; confidence: number; }[]; }[]'.

[7m468[0m     knowledgeMapping,
[7m   [0m [91m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m467[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ overallScore: number; authenticity: number; therapeuticAccuracy: number; knowledgeIntegration: number; conversationFlow: number; }'.

[7m467[0m     qualityMetrics,
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m459[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ knowledgeBase: { dsm5Criteria: string[]; therapeuticTechniques: string[]; clinicalGuidelines: string[]; }; clientProfile: { demographics: { age: number; gender: string; background: string; }; presentingProblem: string; severity: "low" | ... 1 more ... | "high"; riskFactors: string[]; }; conversationParameters: { ....' is not assignable to parameter of type 'ConversationRequest'.
  Property 'therapeuticApproach' is missing in type '{ knowledgeBase: { dsm5Criteria: string[]; therapeuticTechniques: string[]; clinicalGuidelines: string[]; }; clientProfile: { demographics: { age: number; gender: string; background: string; }; presentingProblem: string; severity: "low" | ... 1 more ... | "high"; riskFactors: string[]; }; conversationParameters: { ....' but required in type 'ConversationRequest'.

[7m459[0m   const qualityMetrics = calculateConversationQuality(validatedRequest)
[7m   [0m [91m                                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m659[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'profile' is declared but its value is never read.

[7m659[0m   profile: ClientProfile,
[7m   [0m [93m  ~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m642[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'techniques' is declared but its value is never read.

[7m642[0m   techniques: string[],
[7m   [0m [93m  ~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m641[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'dsm5' is declared but its value is never read.

[7m641[0m   dsm5: string[],
[7m   [0m [93m  ~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m465[0m:[93m70[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m465[0m     conversationId: `conv_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                                     ~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m150[0m:[93m62[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m150[0m     caseId: `CASE_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                             ~~~~~~[0m

[96msrc/lib/api/rateLimiter.ts[0m:[93m6[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@upstash/redis' or its corresponding type declarations.

[7m6[0m import type { Redis } from '@upstash/redis'
[7m [0m [91m                           ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/audit/index.ts[0m:[93m1[0m:[93m30[0m - [91merror[0m[90m ts(2305): [0mModule '"./log"' has no exported member 'createAuditLog'.

[7m1[0m export { type AuditLogEntry, createAuditLog } from './log'
[7m [0m [91m                             ~~~~~~~~~~~~~~[0m

[96msrc/lib/audit/metrics.ts[0m:[93m55[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m55[0m   const unusualPatterns = await detectUnusualPatterns(logs)
[7m  [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/audit/__tests__/analysis.test.ts[0m:[93m7[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../types/audit' or its corresponding type declarations.

[7m7[0m import type { AuditLog } from '../../types/audit'
[7m [0m [91m                              ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/azure-ad.ts[0m:[93m1[0m:[93m29[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../config/azure.config' or its corresponding type declarations.

[7m1[0m import { azureConfig } from '../../config/azure.config'
[7m [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/better-auth-integration.ts[0m:[93m360[0m:[93m62[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m360[0m     await logSecurityEvent(SecurityEventType.LOGOUT, userId, {
[7m   [0m [91m                                                             ~[0m
[7m361[0m       clientInfo: clientInfo,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m362[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m360[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'LOGOUT' does not exist on type 'typeof SecurityEventType'.

[7m360[0m     await logSecurityEvent(SecurityEventType.LOGOUT, userId, {
[7m   [0m [91m                                             ~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m302[0m:[93m67[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m302[0m     await logSecurityEvent(SecurityEventType.LOGIN_FAILURE, null, {
[7m   [0m [91m                                                                  ~[0m
[7m303[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m305[0m       clientInfo: clientInfo,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m306[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m302[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'LOGIN_FAILURE' does not exist on type 'typeof SecurityEventType'.

[7m302[0m     await logSecurityEvent(SecurityEventType.LOGIN_FAILURE, null, {
[7m   [0m [91m                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m286[0m:[93m74[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m286[0m     await logSecurityEvent(SecurityEventType.LOGIN_SUCCESS, userAuth.id, {
[7m   [0m [91m                                                                         ~[0m
[7m287[0m       email: credentials.email,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m288[0m       clientInfo: clientInfo,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m289[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m286[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'LOGIN_SUCCESS' does not exist on type 'typeof SecurityEventType'.

[7m286[0m     await logSecurityEvent(SecurityEventType.LOGIN_SUCCESS, userAuth.id, {
[7m   [0m [91m                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m208[0m:[93m74[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m208[0m     await logSecurityEvent(SecurityEventType.REGISTRATION_FAILURE, null, {
[7m   [0m [91m                                                                         ~[0m
[7m209[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m211[0m       clientInfo: clientInfo,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m212[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m208[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'REGISTRATION_FAILURE' does not exist on type 'typeof SecurityEventType'.

[7m208[0m     await logSecurityEvent(SecurityEventType.REGISTRATION_FAILURE, null, {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m191[0m:[93m73[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m191[0m     await logSecurityEvent(SecurityEventType.USER_CREATED, userAuth.id, {
[7m   [0m [91m                                                                        ~[0m
[7m192[0m       email: credentials.email,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m194[0m       clientInfo: clientInfo,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m195[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m191[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'USER_CREATED' does not exist on type 'typeof SecurityEventType'.

[7m191[0m     await logSecurityEvent(SecurityEventType.USER_CREATED, userAuth.id, {
[7m   [0m [91m                                             ~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m57[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'skipSuccessfulRequests' does not exist in type '{ enabled?: boolean | undefined; window?: number | undefined; max?: number | undefined; customRules?: { [key: string]: false | { window: number; max: number; } | ((request: Request) => false | ... 1 more ... | Promise<...>); } | undefined; storage?: "memory" | ... 2 more ... | undefined; modelName?: string | undefin...'.

[7m57[0m     skipSuccessfulRequests: false,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m43[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ type: string; defaultValue: number; }' is not assignable to type 'string'.

[7m43[0m       updatedAt: {
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m39[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ type: string; defaultValue: number; }' is not assignable to type 'string'.

[7m39[0m       createdAt: {
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m21[0m:[93m13[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m21[0m   database: drizzleAdapter(db),
[7m  [0m [91m            ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m8[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'better-sqlite3' or its corresponding type declarations.

[7m8[0m import Database from 'better-sqlite3'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m360[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m360[0m     await logSecurityEvent(SecurityEventType.LOGOUT, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m       clientInfo: clientInfo,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m362[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m302[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m302[0m     await logSecurityEvent(SecurityEventType.LOGIN_FAILURE, null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m303[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m305[0m       clientInfo: clientInfo,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m306[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m286[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m286[0m     await logSecurityEvent(SecurityEventType.LOGIN_SUCCESS, userAuth.id, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m287[0m       email: credentials.email,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m288[0m       clientInfo: clientInfo,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m289[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m208[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m208[0m     await logSecurityEvent(SecurityEventType.REGISTRATION_FAILURE, null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m209[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m211[0m       clientInfo: clientInfo,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m212[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m191[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m191[0m     await logSecurityEvent(SecurityEventType.USER_CREATED, userAuth.id, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m192[0m       email: credentials.email,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m194[0m       clientInfo: clientInfo,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m195[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/better-auth-integration.ts[0m:[93m145[0m:[93m59[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m145[0m   return `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                          ~~~~~~[0m

[96msrc/lib/auth/errors.ts[0m:[93m91[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"REPLAY_ATTACK"' is not assignable to parameter of type 'TokenValidationReason'.

[7m91[0m     super(message, 'REPLAY_ATTACK')
[7m  [0m [91m                   ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m81[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"SESSION_CONTEXT_INVALID"' is not assignable to parameter of type 'TokenValidationReason'.

[7m81[0m     super(message, 'SESSION_CONTEXT_INVALID')
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m70[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"TYPE_MISMATCH"' is not assignable to parameter of type 'TokenValidationReason'.

[7m70[0m       'TYPE_MISMATCH',
[7m  [0m [91m      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m58[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"INVALID_FORMAT"' is not assignable to parameter of type 'TokenValidationReason'.

[7m58[0m     super(message, 'INVALID_FORMAT')
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m48[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"REVOKED"' is not assignable to parameter of type 'TokenValidationReason'.

[7m48[0m     super(message, 'REVOKED')
[7m  [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m38[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"EXPIRED"' is not assignable to parameter of type 'TokenValidationReason'.

[7m38[0m     super(message, 'EXPIRED')
[7m  [0m [91m                   ~~~~~~~~~[0m

[96msrc/lib/auth/index.ts[0m:[93m216[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthResult'.

[7m216[0m ): Promise<AuthResult> {
[7m   [0m [91m           ~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m215[0m:[93m24[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthService'.

[7m215[0m   userData: Parameters<AuthService['createUser']>[0],
[7m   [0m [91m                       ~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m206[0m:[93m65[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthResult'.

[7m206[0m export async function verifySession(sessionId: string): Promise<AuthResult> {
[7m   [0m [91m                                                                ~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m198[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthResult'.

[7m198[0m ): Promise<AuthResult> {
[7m   [0m [91m           ~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m197[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthCredentials'.

[7m197[0m   credentials: AuthCredentials,
[7m   [0m [91m               ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m190[0m:[93m10[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'authServiceInstance'.

[7m190[0m   return authServiceInstance
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m188[0m:[93m31[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthService'.

[7m188[0m     authServiceInstance = new AuthService()
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m188[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'authServiceInstance'.

[7m188[0m     authServiceInstance = new AuthService()
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m187[0m:[93m8[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'authServiceInstance'.

[7m187[0m   if (!authServiceInstance) {
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m186[0m:[93m35[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthService'.

[7m186[0m export function getAuthService(): AuthService {
[7m   [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m122[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'startTokenCleanupScheduler' does not exist on type 'typeof import("/home/vivi/pixelated/src/lib/auth/jwt-service")'.

[7m122[0m     const { startTokenCleanupScheduler } = await import('./jwt-service')
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m116[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'initializeBetterAuthDatabase' does not exist on type 'typeof import("/home/vivi/pixelated/src/lib/auth/better-auth-integration")'.

[7m116[0m     const { initializeBetterAuthDatabase } = await import(
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m93[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'createAuthMiddlewareStack'.

[7m93[0m   createAuthMiddlewareStack,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m90[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'createAuthRateLimit'.

[7m90[0m   createAuthRateLimit,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m89[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./middleware"' has no exported member named 'getClientInfo'. Did you mean 'ClientInfo'?

[7m89[0m   getClientInfo,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'optionalAuthentication'.

[7m86[0m   optionalAuthentication,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m85[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'requireAuthenticated'.

[7m85[0m   requireAuthenticated,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m84[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'requireTherapistOrHigher'.

[7m84[0m   requireTherapistOrHigher,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m83[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'requireAdmin'.

[7m83[0m   requireAdmin,
[7m  [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m82[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'requireAnyPermission'.

[7m82[0m   requireAnyPermission,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m81[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./middleware"' has no exported member named 'requireAnyRole'. Did you mean 'requireRole'?

[7m81[0m   requireAnyRole,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m80[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./middleware"' has no exported member 'requirePermission'.

[7m80[0m   requirePermission,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m27[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m27[0m   const user = await getCurrentUser(cookies)
[7m  [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m16[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'CookiesLike'.
  The types returned by 'get(...)' are incompatible between these types.

[7m16[0m   const user = await getCurrentUser(cookies)
[7m  [0m [91m                                    ~~~~~~~[0m

[96msrc/lib/auth/jwt-service.ts[0m:[93m482[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m482[0m           tokenId: metadata.id || key.replace('token:', ''),
[7m   [0m [91m                            ~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m481[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m481[0m         {
[7m   [0m [91m        ~[0m
[7m482[0m           tokenId: metadata.id || key.replace('token:', ''),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m483[0m           reason: 'expired_cleanup',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m484[0m         },
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m480[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m480[0m         metadata.userId,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m479[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'TOKEN_CLEANED_UP' does not exist on type 'typeof SecurityEventType'.

[7m479[0m         SecurityEventType.TOKEN_CLEANED_UP,
[7m   [0m [91m                          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m472[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m472[0m     if (metadata && metadata.expiresAt < currentTime) {
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m451[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m451[0m     await updatePhase6AuthenticationProgress(metadata.userId, 'token_revoked')
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m444[0m:[93m78[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m444[0m     await logSecurityEvent(SecurityEventType.TOKEN_REVOKED, metadata.userId, {
[7m   [0m [91m                                                                             ~[0m
[7m445[0m       tokenId: tokenId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m447[0m       tokenType: metadata.type,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m448[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m444[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'TOKEN_REVOKED' does not exist on type 'typeof SecurityEventType'.

[7m444[0m     await logSecurityEvent(SecurityEventType.TOKEN_REVOKED, metadata.userId, {
[7m   [0m [91m                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m408[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m408[0m     {
[7m   [0m [91m    ~[0m
[7m409[0m       oldTokenId: validation.tokenId!,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m411[0m       newRefreshTokenId: extractTokenId(newTokenPair.refreshToken),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m412[0m     },
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m406[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'TOKEN_REFRESHED' does not exist on type 'typeof SecurityEventType'.

[7m406[0m     SecurityEventType.TOKEN_REFRESHED,
[7m   [0m [91m                      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m360[0m:[93m77[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m360[0m     await logSecurityEvent(SecurityEventType.TOKEN_VALIDATION_FAILED, null, {
[7m   [0m [91m                                                                            ~[0m
[7m361[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m362[0m       tokenType: tokenType,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m363[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m360[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'TOKEN_VALIDATION_FAILED' does not exist on type 'typeof SecurityEventType'.

[7m360[0m     await logSecurityEvent(SecurityEventType.TOKEN_VALIDATION_FAILED, null, {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m345[0m:[93m76[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m345[0m     await logSecurityEvent(SecurityEventType.TOKEN_VALIDATED, payload.sub, {
[7m   [0m [91m                                                                           ~[0m
[7m346[0m       tokenId: payload.jti,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m347[0m       tokenType: tokenType,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m348[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m345[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'TOKEN_VALIDATED' does not exist on type 'typeof SecurityEventType'.

[7m345[0m     await logSecurityEvent(SecurityEventType.TOKEN_VALIDATED, payload.sub, {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m331[0m:[93m30[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m331[0m     if (await isTokenRevoked(payload.jti)) {
[7m   [0m [91m                             ~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m326[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'payload.exp' is possibly 'undefined'.

[7m326[0m     if (payload.exp < currentTimestamp()) {
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m283[0m:[93m67[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m283[0m   await logSecurityEvent(SecurityEventType.TOKEN_CREATED, userId, {
[7m   [0m [91m                                                                  ~[0m
[7m284[0m     accessTokenId: accessTokenId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m286[0m     clientInfo: clientInfo,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m287[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m283[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'TOKEN_CREATED' does not exist on type 'typeof SecurityEventType'.

[7m283[0m   await logSecurityEvent(SecurityEventType.TOKEN_CREATED, userId, {
[7m   [0m [91m                                           ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m275[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ userId: string; type: "refresh"; expiresAt: number; accessTokenId: string; }' is not assignable to parameter of type '{ userId: string; role: UserRole; type: TokenType; expiresAt: number; clientInfo?: ClientInfo | undefined; accessTokenId?: string | undefined; }'.
  Property 'role' is missing in type '{ userId: string; type: "refresh"; expiresAt: number; accessTokenId: string; }' but required in type '{ userId: string; role: UserRole; type: TokenType; expiresAt: number; clientInfo?: ClientInfo | undefined; accessTokenId?: string | undefined; }'.

[7m275[0m   await storeTokenMetadata(refreshTokenId, {
[7m   [0m [91m                                           ~[0m
[7m276[0m     userId: userId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m279[0m     accessTokenId: accessTokenId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m280[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m478[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m478[0m       await logSecurityEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m479[0m         SecurityEventType.TOKEN_CLEANED_UP,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m484[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m485[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m444[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m444[0m     await logSecurityEvent(SecurityEventType.TOKEN_REVOKED, metadata.userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m445[0m       tokenId: tokenId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m447[0m       tokenType: metadata.type,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m448[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m405[0m:[93m3[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m405[0m   await logSecurityEvent(
[7m   [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m406[0m     SecurityEventType.TOKEN_REFRESHED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m412[0m     },
[7m   [0m [93m~~~~~~[0m
[7m413[0m   )
[7m   [0m [93m~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m360[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m360[0m     await logSecurityEvent(SecurityEventType.TOKEN_VALIDATION_FAILED, null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m362[0m       tokenType: tokenType,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m363[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m345[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m345[0m     await logSecurityEvent(SecurityEventType.TOKEN_VALIDATED, payload.sub, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m346[0m       tokenId: payload.jti,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m347[0m       tokenType: tokenType,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m348[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/jwt-service.ts[0m:[93m283[0m:[93m3[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m283[0m   await logSecurityEvent(SecurityEventType.TOKEN_CREATED, userId, {
[7m   [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m284[0m     accessTokenId: accessTokenId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m286[0m     clientInfo: clientInfo,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m287[0m   })
[7m   [0m [93m~~~~[0m

[96msrc/lib/auth/jwt-token-service.ts[0m:[93m622[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'setex' does not exist on type 'RedisClientType'. Did you mean 'setEx'?

[7m622[0m     await this.redis.setex(recentUseKey, 300, '1')
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m532[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'setex' does not exist on type 'RedisClientType'. Did you mean 'setEx'?

[7m532[0m     await this.redis.setex(
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m513[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m513[0m         throw new TokenValidationError('Potential replay attack detected')
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m509[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"replay_attack_detected"' is not assignable to parameter of type 'SecurityEventType'.

[7m509[0m           'replay_attack_detected',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m500[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m500[0m         throw new TokenValidationError('User-Agent mismatch detected')
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m496[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"user_agent_mismatch"' is not assignable to parameter of type 'SecurityEventType'.

[7m496[0m           'user_agent_mismatch',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m488[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m488[0m         throw new TokenValidationError('IP address mismatch detected')
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m485[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"ip_mismatch"' is not assignable to parameter of type 'SecurityEventType'.

[7m485[0m         await this.securityLogger.logSecurityEvent('ip_mismatch', payload.sub, {
[7m   [0m [91m                                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m469[0m:[93m56[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Error'.

[7m469[0m       await this.securityLogger.logTokenCleanupFailure(error)
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m458[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'TokenMetadata'.

[7m458[0m             metadata.id,
[7m   [0m [91m                     ~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m453[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'TokenMetadata'.

[7m453[0m           await this.cacheService.invalidateToken(metadata.id)
[7m   [0m [91m                                                           ~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m426[0m:[93m68[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Error'.

[7m426[0m       await this.securityLogger.logTokenRevocationFailure(tokenId, error)
[7m   [0m [91m                                                                   ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m411[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/home/vivi/pixelated/src/lib/auth/jwt-token-service").TokenType' is not assignable to parameter of type 'Record<string, unknown>'.

[7m411[0m         metadata.type,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m402[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"linked_revocation"' is not assignable to parameter of type 'RevocationReason'.

[7m402[0m           'linked_revocation',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m396[0m:[93m57[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'RevocationReason'.

[7m396[0m       await this.revocationService.revokeToken(tokenId, reason)
[7m   [0m [91m                                                        ~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m377[0m:[93m56[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Error'.

[7m377[0m       await this.securityLogger.logTokenRefreshFailure(error)
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m358[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'UserRole | undefined' is not assignable to parameter of type 'UserRole'.
  Type 'undefined' is not assignable to type 'UserRole'.

[7m358[0m         validation.role,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m351[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"refresh_cycle"' is not assignable to parameter of type 'RevocationReason'.

[7m351[0m           'refresh_cycle',
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m344[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"refresh_token_used"' is not assignable to parameter of type 'RevocationReason'.

[7m344[0m         'refresh_token_used',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m329[0m:[93m65[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"refresh"' is not assignable to parameter of type 'TokenType'.

[7m329[0m       const validation = await this.validateToken(refreshToken, 'refresh')
[7m   [0m [91m                                                                ~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m306[0m:[93m59[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Error'.

[7m306[0m       await this.securityLogger.logTokenValidationFailure(error, tokenType)
[7m   [0m [91m                                                          ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m283[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m283[0m         throw new TokenValidationError('Token metadata not found')
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m277[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m277[0m         throw new TokenValidationError('Token has been revoked')
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m272[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m272[0m         throw new TokenValidationError('Token has expired')
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m264[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m264[0m         throw new TokenValidationError(
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m265[0m           `Invalid token type: expected ${tokenType}, got ${payload.type}`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m266[0m         )
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m240[0m:[93m67[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Error'.

[7m240[0m       await this.securityLogger.logTokenGenerationFailure(userId, error)
[7m   [0m [91m                                                                  ~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m207[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"refresh"' is not assignable to type 'TokenType'.

[7m207[0m         type: 'refresh',
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m200[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"access"' is not assignable to type 'TokenType'.

[7m200[0m         type: 'access',
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m184[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'accessTokenId' does not exist in type 'JWTPayload'.

[7m184[0m         accessTokenId,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m13[0m:[93m42[0m - [91merror[0m[90m ts(2307): [0mCannot find module './phase6-integration' or its corresponding type declarations.

[7m13[0m import { Phase6IntegrationService } from './phase6-integration'
[7m  [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m12[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"./better-auth-integration"' has no exported member 'BetterAuthIntegrationService'.

[7m12[0m import { BetterAuthIntegrationService } from './better-auth-integration'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/jwt-token-service.ts[0m:[93m10[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../redis"' has no exported member 'getRedisClient'.

[7m10[0m import { getRedisClient } from '../redis'
[7m  [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/middleware.ts[0m:[93m142[0m:[93m21[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  No constituent of type 'string | string[]' is callable.

[7m142[0m     request.headers.get?.('X-CSRF-Token') ||
[7m   [0m [91m                    ~~~[0m
[96msrc/lib/auth/middleware.ts[0m:[93m164[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'request' is declared but its value is never read.

[7m164[0m   request: Request,
[7m   [0m [93m  ~~~~~~~[0m
[96msrc/lib/auth/middleware.ts[0m:[93m113[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'windowMinutes' is declared but its value is never read.

[7m113[0m   windowMinutes: number,
[7m   [0m [93m  ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/middleware.ts[0m:[93m112[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'limit' is declared but its value is never read.

[7m112[0m   limit: number,
[7m   [0m [93m  ~~~~~[0m
[96msrc/lib/auth/middleware.ts[0m:[93m111[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'endpoint' is declared but its value is never read.

[7m111[0m   endpoint: string,
[7m   [0m [93m  ~~~~~~~~[0m
[96msrc/lib/auth/middleware.ts[0m:[93m58[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'request' is declared but its value is never read.

[7m58[0m   request: Request,
[7m  [0m [93m  ~~~~~~~[0m

[96msrc/lib/auth/role-transitions.ts[0m:[93m950[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'validation'.

[7m950[0m     return validation
[7m   [0m [91m           ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m949[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'validation'.

[7m949[0m     validation.restrictions.push('Validation failed due to system error')
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m924[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m924[0m       const currentRole = targetUserAuth.role
[7m   [0m [91m                                         ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m837[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionAuditLog'.
  Type '{}' is missing the following properties from type 'RoleTransitionAuditLog': id, requestId, userId, action, and 9 more.

[7m837[0m         auditLogs.push(auditLog)
[7m   [0m [91m                       ~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m832[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{}'.

[7m832[0m     const recentIds = auditIds.slice(-limit)
[7m   [0m [91m                               ~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m766[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m766[0m       {
[7m   [0m [91m      ~[0m
[7m767[0m         action: auditLog.action,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m771[0m         actorRole: auditLog.actorRole,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m772[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m764[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m764[0m       SecurityEventType.ROLE_TRANSITION_AUDIT,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m753[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{}'.

[7m753[0m       userAuditTrail = userAuditTrail.slice(-100)
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m752[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m752[0m     if (userAuditTrail.length > 100) {
[7m   [0m [91m                       ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m749[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'push' does not exist on type '{}'.

[7m749[0m     userAuditTrail.push(auditLog.id)
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m719[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"system"' is not assignable to type 'UserRole'.

[7m719[0m       actorRole: 'system',
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m717[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m717[0m       roleTo: request.requestedRole,
[7m   [0m [91m                      ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m716[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentRole' does not exist on type '{}'.

[7m716[0m       roleFrom: request.currentRole,
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m714[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m714[0m       userId: request.userId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m708[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m708[0m     await removeUserPendingRequest(request.userId, requestId)
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m704[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m704[0m       Math.floor((request.expiresAt - Date.now()) / 1000),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m699[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m699[0m     request.status = 'expired'
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m680[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m680[0m         requests.push(request)
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m679[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m679[0m       if (request && request.status === 'pending') {
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m677[0m:[93m29[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m677[0m     for (const requestId of requestIds) {
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m655[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m655[0m     if (pendingRequests.length > 0) {
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m653[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type '{}'.

[7m653[0m     pendingRequests = pendingRequests.filter((id: string) => id !== requestId)
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m634[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'push' does not exist on type '{}'.

[7m634[0m     pendingRequests.push(requestId)
[7m   [0m [91m                    ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m576[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m576[0m         eligibleRequests.push(request)
[7m   [0m [91m                              ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m574[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m574[0m         canApproveRoleTransition(approverRole, request.requestedRole)
[7m   [0m [91m                                                       ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m573[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m573[0m         Date.now() <= request.expiresAt &&
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m572[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m572[0m         request.status === 'pending' &&
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m568[0m:[93m29[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m568[0m     for (const requestId of requestIds) {
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m541[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m541[0m         requests.push(request)
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m540[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m540[0m       if (request && (!status || request.status === status)) {
[7m   [0m [91m                                         ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m538[0m:[93m29[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m538[0m     for (const requestId of requestIds) {
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m513[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m513[0m       {
[7m   [0m [91m      ~[0m
[7m514[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m515[0m         requestId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m516[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m511[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m511[0m       SecurityEventType.ROLE_TRANSITION_CANCELLATION_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m506[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m506[0m       request.userId,
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m502[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m502[0m     await notifyRoleTransitionCancellation(request, userId, reason)
[7m   [0m [91m                                           ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m491[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m491[0m       roleTo: request.requestedRole,
[7m   [0m [91m                      ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m490[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentRole' does not exist on type '{}'.

[7m490[0m       roleFrom: request.currentRole,
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m488[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m488[0m       userId: request.userId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m482[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m482[0m     await removeUserPendingRequest(request.userId, requestId)
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m478[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m478[0m       Math.floor((request.expiresAt - Date.now()) / 1000),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m472[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'cancellationReason' does not exist on type '{}'.

[7m472[0m     request.cancellationReason = reason
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m471[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'cancelledAt' does not exist on type '{}'.

[7m471[0m     request.cancelledAt = Date.now()
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m470[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m470[0m     request.status = 'cancelled'
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m463[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m463[0m     if (request.status !== 'pending') {
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m456[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedBy' does not exist on type '{}'.

[7m456[0m     if (request.userId !== userId && request.requestedBy !== userId) {
[7m   [0m [91m                                             ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m456[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m456[0m     if (request.userId !== userId && request.requestedBy !== userId) {
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m425[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m425[0m       {
[7m   [0m [91m      ~[0m
[7m426[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m427[0m         requestId: request.id,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m428[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m423[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m423[0m       SecurityEventType.ROLE_TRANSITION_EXECUTION_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m394[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{}'.

[7m394[0m     userAuth.permissions = newPermissions
[7m   [0m [91m             ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m383[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'updatedAt' does not exist on type '{}'.

[7m383[0m     userAuth.updatedAt = Date.now()
[7m   [0m [91m             ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m382[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m382[0m     userAuth.role = request.requestedRole
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m381[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m381[0m     const previousRole = userAuth.role
[7m   [0m [91m                                  ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m356[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'decision'. Either declare one or provide an initializer.

[7m356[0m         decision,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m355[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'requestId'. Either declare one or provide an initializer.

[7m355[0m         requestId,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m353[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m353[0m       {
[7m   [0m [91m      ~[0m
[7m354[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m356[0m         decision,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m357[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m352[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'approverId'.

[7m352[0m       approverId,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m351[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m351[0m       SecurityEventType.ROLE_TRANSITION_APPROVAL_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m348[0m:[93m5[0m - [91merror[0m[90m ts(2740): [0mType '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m348[0m     return request
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m344[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m344[0m       request.userId,
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m340[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m340[0m     await notifyRoleTransitionDecision(request, approverId, decision)
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m337[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m337[0m     await removeUserPendingRequest(request.userId, requestId)
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m333[0m:[93m35[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m333[0m       await executeRoleTransition(request, approverSession)
[7m   [0m [91m                                  ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m321[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m321[0m       roleTo: request.requestedRole,
[7m   [0m [91m                      ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m320[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentRole' does not exist on type '{}'.

[7m320[0m       roleFrom: request.currentRole,
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m318[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m318[0m       userId: request.userId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m311[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m311[0m       Math.floor((request.expiresAt - now) / 1000),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m305[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'rejectionReason' does not exist on type '{}'.

[7m305[0m     request.rejectionReason = decision === 'reject' ? reason : undefined
[7m   [0m [91m            ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m304[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'rejectedAt' does not exist on type '{}'.

[7m304[0m     request.rejectedAt = decision === 'reject' ? now : undefined
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m303[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'approvedAt' does not exist on type '{}'.

[7m303[0m     request.approvedAt = decision === 'approve' ? now : undefined
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m302[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'approvalReason' does not exist on type '{}'.

[7m302[0m     request.approvalReason = reason
[7m   [0m [91m            ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m301[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'approverId' does not exist on type '{}'.

[7m301[0m     request.approverId = approverId
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m300[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m300[0m     request.status = decision === 'approve' ? 'approved' : 'rejected'
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m272[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m272[0m     if (!canApproveRoleTransition(approverRole, request.requestedRole)) {
[7m   [0m [91m                                                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m266[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m266[0m     if (Date.now() > request.expiresAt) {
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m259[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m259[0m     if (request.status !== 'pending') {
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m218[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m218[0m       {
[7m   [0m [91m      ~[0m
[7m219[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m221[0m         requestedBy,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m222[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m216[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m216[0m       SecurityEventType.ROLE_TRANSITION_REQUEST_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m812[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'reason' is declared but its value is never read.

[7m812[0m   reason: string,
[7m   [0m [93m  ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m763[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m763[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m764[0m       SecurityEventType.ROLE_TRANSITION_AUDIT,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m772[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m773[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m510[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m510[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m511[0m       SecurityEventType.ROLE_TRANSITION_CANCELLATION_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m516[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m517[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m422[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m422[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m423[0m       SecurityEventType.ROLE_TRANSITION_EXECUTION_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m428[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m429[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m350[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m350[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m351[0m       SecurityEventType.ROLE_TRANSITION_APPROVAL_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m357[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m358[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m215[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m215[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m216[0m       SecurityEventType.ROLE_TRANSITION_REQUEST_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m222[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m223[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m8[0m:[93m28[0m - [93mwarning[0m[90m ts(6133): [0m'SecurityEventType' is declared but its value is never read.

[7m8[0m import { logSecurityEvent, SecurityEventType } from '../security'
[7m [0m [93m                           ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/security-event-logger.ts[0m:[93m624[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'pipeline' does not exist on type 'RedisClientType'.

[7m624[0m       const pipeline = this.redis.pipeline()
[7m   [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m543[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'pipeline' does not exist on type 'RedisClientType'.

[7m543[0m       const pipeline = this.redis.pipeline()
[7m   [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m529[0m:[93m41[0m - [91merror[0m[90m ts(2551): [0mProperty 'zrangebyscore' does not exist on type 'RedisClientType'. Did you mean 'zRangeByScore'?

[7m529[0m       const eventIds = await this.redis.zrangebyscore(
[7m   [0m [91m                                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m10[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../redis"' has no exported member 'getRedisClient'.

[7m10[0m import { getRedisClient } from '../redis'
[7m  [0m [91m         ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m922[0m:[93m26[0m - [93mwarning[0m[90m ts(6133): [0m'token' is declared but its value is never read.

[7m922[0m   private extractTokenId(token: string): string {
[7m   [0m [93m                         ~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m917[0m:[93m28[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m917[0m   private deserializeEvent(data: Record<string, string>): SecurityEvent {
[7m   [0m [93m                           ~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m912[0m:[93m26[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m912[0m   private serializeEvent(event: SecurityEvent): Record<string, string> {
[7m   [0m [93m                         ~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m907[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'events' is declared but its value is never read.

[7m907[0m   private calculateMetricsFromEvents(events: SecurityEvent[]): SecurityMetrics {
[7m   [0m [93m                                     ~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m901[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'violations' is declared but its value is never read.

[7m901[0m     violations: string[],
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m900[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'events' is declared but its value is never read.

[7m900[0m     events: SecurityEvent[],
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m886[0m:[93m39[0m - [93mwarning[0m[90m ts(6133): [0m'events' is declared but its value is never read.

[7m886[0m   private async checkComplianceStatus(events: SecurityEvent[]): Promise<{
[7m   [0m [93m                                      ~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m880[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'endDate' is declared but its value is never read.

[7m880[0m     endDate: Date,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/auth/security-event-logger.ts[0m:[93m879[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'startDate' is declared but its value is never read.

[7m879[0m     startDate: Date,
[7m   [0m [93m    ~~~~~~~~~[0m

[96msrc/lib/auth/serverAuth.ts[0m:[93m262[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ request: Request; requestIp: string; requiredRole: AuthRole; validateIPMatch: boolean; validateUserAgent: boolean; }' is not assignable to parameter of type 'ServerAuthOptions'.
  Property 'cookies' is missing in type '{ request: Request; requestIp: string; requiredRole: AuthRole; validateIPMatch: boolean; validateUserAgent: boolean; }' but required in type 'ServerAuthOptions'.

[7m262[0m   return verifyServerAuth({
[7m   [0m [91m                          ~[0m
[7m263[0m     request,
[7m   [0m [91m~~~~~~~~~~~~[0m
[7m...[0m 
[7m267[0m     validateUserAgent,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m268[0m   })
[7m   [0m [91m~~~[0m

[96msrc/lib/auth/session-management.ts[0m:[93m608[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m608[0m         affectedUsers.add(sessionData.userId)
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m606[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m606[0m         await destroySession(sessionData.sessionId, 'expired_cleanup')
[7m   [0m [91m                                         ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m605[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m605[0m       if (sessionData && Date.now() > sessionData.expiresAt) {
[7m   [0m [91m                                                  ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m576[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'find' does not exist on type '{}'.

[7m576[0m     const sessionInfo = sessionList.find((s: any) => s.sessionId === sessionId)
[7m   [0m [91m                                    ~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m554[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m554[0m     if (sessionList.length > 0) {
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m552[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type '{}'.

[7m552[0m     sessionList = sessionList.filter((s: any) => s.sessionId !== sessionId)
[7m   [0m [91m                              ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m528[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'push' does not exist on type '{}'.

[7m528[0m     sessionList.push({
[7m   [0m [91m                ~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m504[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m504[0m         sessionList.length - SESSION_CONFIG.concurrentSessionLimit + 1,
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m502[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{}'.

[7m502[0m       const sessionsToRemove = sessionList.slice(
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m499[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'sort' does not exist on type '{}'.

[7m499[0m       sessionList.sort((a: any, b: any) => a.lastActivity - b.lastActivity)
[7m   [0m [91m                  ~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m497[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m497[0m     if (sessionList.length >= SESSION_CONFIG.concurrentSessionLimit) {
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m479[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m479[0m       sessionCount: sessionList.length,
[7m   [0m [91m                                ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m477[0m:[93m78[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m477[0m     await logSecurityEvent(SecurityEventType.ALL_SESSIONS_DESTROYED, userId, {
[7m   [0m [91m                                                                             ~[0m
[7m478[0m       reason,
[7m   [0m [91m~~~~~~~~~~~~~[0m
[7m479[0m       sessionCount: sessionList.length,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m480[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m477[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m477[0m     await logSecurityEvent(SecurityEventType.ALL_SESSIONS_DESTROYED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m472[0m:[93m31[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m472[0m     for (const sessionInfo of sessionList) {
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m448[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastActivity' does not exist on type '{}'.

[7m448[0m           lastActivity: sessionData.lastActivity,
[7m   [0m [91m                                    ~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m447[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'ipAddress' does not exist on type '{}'.

[7m447[0m           ipAddress: sessionData.ipAddress,
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m446[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'deviceInfo' does not exist on type '{}'.

[7m446[0m           deviceType: sessionData.deviceInfo.deviceType,
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m445[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'deviceInfo' does not exist on type '{}'.

[7m445[0m           deviceName: sessionData.deviceInfo.deviceName,
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m444[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m444[0m           sessionId: sessionData.sessionId,
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m442[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m442[0m       if (sessionData && Date.now() < sessionData.expiresAt) {
[7m   [0m [91m                                                  ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m440[0m:[93m31[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m440[0m     for (const sessionInfo of sessionList) {
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m420[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m420[0m       sessionData.userId,
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m414[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'deviceId' does not exist on type '{}'.

[7m414[0m         deviceId: sessionData.deviceId,
[7m   [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m411[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m411[0m       {
[7m   [0m [91m      ~[0m
[7m412[0m         sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m414[0m         deviceId: sessionData.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m415[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m410[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m410[0m       sessionData.userId,
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m409[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m409[0m       SecurityEventType.SESSION_DESTROYED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m405[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m405[0m     await removeUserSession(sessionData.userId, sessionId)
[7m   [0m [91m                                        ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m380[0m:[93m5[0m - [91merror[0m[90m ts(2740): [0mType '{}' is missing the following properties from type 'SessionData': sessionId, userId, role, deviceId, and 10 more.

[7m380[0m     return sessionData
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m376[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m376[0m         newExpiry: sessionData.expiresAt,
[7m   [0m [91m                               ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m374[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m374[0m       {
[7m   [0m [91m      ~[0m
[7m375[0m         sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m376[0m         newExpiry: sessionData.expiresAt,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m377[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m373[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m373[0m       sessionData.userId,
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m372[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m372[0m       SecurityEventType.SESSION_REFRESHED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m367[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m367[0m       sessionData.expiresAt,
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m365[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m365[0m       sessionData.userId,
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m354[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastActivity' does not exist on type '{}'.

[7m354[0m     sessionData.lastActivity = Date.now()
[7m   [0m [91m                ~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m353[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m353[0m     sessionData.expiresAt = Date.now() + extendByMs
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m328[0m:[93m7[0m - [91merror[0m[90m ts(2740): [0mType '{}' is missing the following properties from type 'SessionData': sessionId, userId, role, deviceId, and 10 more.

[7m328[0m       session: sessionData,
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m320[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m320[0m       {
[7m   [0m [91m      ~[0m
[7m321[0m         sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m322[0m         deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m323[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m319[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m319[0m       sessionData.userId,
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m318[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m318[0m       SecurityEventType.SESSION_VALIDATED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m313[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m313[0m       Math.floor((sessionData.expiresAt - Date.now()) / 1000),
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m309[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastActivity' does not exist on type '{}'.

[7m309[0m     sessionData.lastActivity = Date.now()
[7m   [0m [91m                ~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m295[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'ipAddress' does not exist on type '{}'.

[7m295[0m           expectedIp: sessionData.ipAddress,
[7m   [0m [91m                                  ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m292[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m292[0m         {
[7m   [0m [91m        ~[0m
[7m293[0m           sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m296[0m           actualIp: ipAddress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m297[0m         },
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m291[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m291[0m         sessionData.userId,
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m290[0m:[93m9[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m290[0m         SecurityEventType.SESSION_SECURITY_ALERT,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m287[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'ipAddress' does not exist on type '{}'.

[7m287[0m       sessionData.ipAddress !== ipAddress
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m270[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'fingerprint' does not exist on type '{}'.

[7m270[0m               expectedDevice: deviceData.fingerprint,
[7m   [0m [91m                                         ~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m267[0m:[93m13[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m267[0m             {
[7m   [0m [91m            ~[0m
[7m268[0m               sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m271[0m               actualDevice: currentFingerprint,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m272[0m             },
[7m   [0m [91m~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m266[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m266[0m             sessionData.userId,
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m265[0m:[93m13[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m265[0m             SecurityEventType.SESSION_SECURITY_ALERT,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m263[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'fingerprint' does not exist on type '{}'.

[7m263[0m         if (deviceData.fingerprint !== currentFingerprint) {
[7m   [0m [91m                       ~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m247[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m247[0m     if (Date.now() > sessionData.expiresAt) {
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m215[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m215[0m       {
[7m   [0m [91m      ~[0m
[7m216[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m217[0m         deviceId: options.deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m218[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m213[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m213[0m       SecurityEventType.SESSION_CREATION_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m198[0m:[93m71[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m198[0m     await logSecurityEvent(SecurityEventType.SESSION_CREATED, userId, {
[7m   [0m [91m                                                                      ~[0m
[7m199[0m       sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m204[0m       twoFactorVerified: requires2FA,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m205[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m198[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m198[0m     await logSecurityEvent(SecurityEventType.SESSION_CREATED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m477[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m477[0m     await logSecurityEvent(SecurityEventType.ALL_SESSIONS_DESTROYED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m478[0m       reason,
[7m   [0m [93m~~~~~~~~~~~~~[0m
[7m479[0m       sessionCount: sessionList.length,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m480[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m408[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m408[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m409[0m       SecurityEventType.SESSION_DESTROYED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m415[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m416[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m371[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m371[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m372[0m       SecurityEventType.SESSION_REFRESHED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m377[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m378[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m317[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m317[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m318[0m       SecurityEventType.SESSION_VALIDATED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m323[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m324[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m289[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m289[0m       await logSecurityEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m290[0m         SecurityEventType.SESSION_SECURITY_ALERT,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m297[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m298[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m264[0m:[93m11[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m264[0m           await logSecurityEvent(
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m265[0m             SecurityEventType.SESSION_SECURITY_ALERT,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m272[0m             },
[7m   [0m [93m~~~~~~~~~~~~~~[0m
[7m273[0m           )
[7m   [0m [93m~~~~~~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m212[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m212[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m213[0m       SecurityEventType.SESSION_CREATION_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m218[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m219[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m198[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m198[0m     await logSecurityEvent(SecurityEventType.SESSION_CREATED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m199[0m       sessionId,
[7m   [0m [93m~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m204[0m       twoFactorVerified: requires2FA,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m205[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/session-management.ts[0m:[93m8[0m:[93m28[0m - [93mwarning[0m[90m ts(6133): [0m'SecurityEventType' is declared but its value is never read.

[7m8[0m import { logSecurityEvent, SecurityEventType } from '../security'
[7m [0m [93m                           ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/token-cache-service.ts[0m:[93m599[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'pipeline' does not exist on type 'RedisClientType'.

[7m599[0m       const pipeline = this.redis.pipeline()
[7m   [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m588[0m:[93m46[0m - [91merror[0m[90m ts(2551): [0mProperty 'zrangebyscore' does not exist on type 'RedisClientType'. Did you mean 'zRangeByScore'?

[7m588[0m       const expiredTokens = await this.redis.zrangebyscore(
[7m   [0m [91m                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m500[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'zrem' does not exist on type 'RedisClientType'. Did you mean 'zRem'?

[7m500[0m     await this.redis.zrem('token:cache:index', tokenId)
[7m   [0m [91m                     ~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m493[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'zadd' does not exist on type 'RedisClientType'. Did you mean 'zAdd'?

[7m493[0m     await this.redis.zadd('token:cache:index', expiresAt, tokenId)
[7m   [0m [91m                     ~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m467[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'zrange' does not exist on type 'RedisClientType'. Did you mean 'zRange'?

[7m467[0m         const oldestTokens = await this.redis.zrange(
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m462[0m:[93m44[0m - [91merror[0m[90m ts(2551): [0mProperty 'zcard' does not exist on type 'RedisClientType'. Did you mean 'zCard'?

[7m462[0m       const currentSize = await this.redis.zcard('token:cache:index')
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m436[0m:[93m30[0m - [91merror[0m[90m ts(2556): [0mA spread argument must either have a tuple type or be passed to a rest parameter.

[7m436[0m         await this.redis.del(...cacheKeys)
[7m   [0m [91m                             ~~~~~~~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m389[0m:[93m44[0m - [91merror[0m[90m ts(2551): [0mProperty 'zrange' does not exist on type 'RedisClientType'. Did you mean 'zRange'?

[7m389[0m         const indexData = await this.redis.zrange(
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m360[0m:[93m24[0m - [91merror[0m[90m ts(2551): [0mProperty 'setex' does not exist on type 'RedisClientType'. Did you mean 'setEx'?

[7m360[0m       await this.redis.setex(cacheKey, ttl, dataToStore)
[7m   [0m [91m                       ~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m273[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'pipeline' does not exist on type 'RedisClientType'.

[7m273[0m     const pipeline = this.redis.pipeline()
[7m   [0m [91m                                ~~~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m221[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'pipeline' does not exist on type 'RedisClientType'.

[7m221[0m     const pipeline = this.redis.pipeline()
[7m   [0m [91m                                ~~~~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m122[0m:[93m24[0m - [91merror[0m[90m ts(2551): [0mProperty 'setex' does not exist on type 'RedisClientType'. Did you mean 'setEx'?

[7m122[0m       await this.redis.setex(cacheKey, ttl, dataToStore)
[7m   [0m [91m                       ~~~~~[0m
[96msrc/lib/auth/token-cache-service.ts[0m:[93m8[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../redis"' has no exported member 'getRedisClient'.

[7m8[0m import { getRedisClient } from '../redis'
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/token-revocation-service.ts[0m:[93m393[0m:[93m28[0m - [91merror[0m[90m ts(2551): [0mProperty 'srem' does not exist on type 'RedisClientType'. Did you mean 'sRem'?

[7m393[0m           await this.redis.srem(userRevocationsKey, revocation.tokenId)
[7m   [0m [91m                           ~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m336[0m:[93m26[0m - [91merror[0m[90m ts(2551): [0mProperty 'srem' does not exist on type 'RedisClientType'. Did you mean 'sRem'?

[7m336[0m         await this.redis.srem(userRevocationsKey, tokenId)
[7m   [0m [91m                         ~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m329[0m:[93m45[0m - [91merror[0m[90m ts(2551): [0mProperty 'srandmember' does not exist on type 'RedisClientType'. Did you mean 'sRandMember'?

[7m329[0m       const oldestTokens = await this.redis.srandmember(
[7m   [0m [91m                                            ~~~~~~~~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m319[0m:[93m46[0m - [91merror[0m[90m ts(2551): [0mProperty 'scard' does not exist on type 'RedisClientType'. Did you mean 'sCard'?

[7m319[0m     const revocationCount = await this.redis.scard(userRevocationsKey)
[7m   [0m [91m                                             ~~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m308[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'sadd' does not exist on type 'RedisClientType'. Did you mean 'sAdd'?

[7m308[0m     await this.redis.sadd(userRevocationsKey, tokenId)
[7m   [0m [91m                     ~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m287[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'setex' does not exist on type 'RedisClientType'. Did you mean 'setEx'?

[7m287[0m     await this.redis.setex(key, ttl, JSON.stringify(record))
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m257[0m:[93m41[0m - [91merror[0m[90m ts(2551): [0mProperty 'smembers' does not exist on type 'RedisClientType'. Did you mean 'sMembers'?

[7m257[0m       const tokenIds = await this.redis.smembers(userRevocationsKey)
[7m   [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m225[0m:[93m41[0m - [91merror[0m[90m ts(2551): [0mProperty 'smembers' does not exist on type 'RedisClientType'. Did you mean 'sMembers'?

[7m225[0m       const tokenIds = await this.redis.smembers(userRevocationsKey)
[7m   [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/auth/token-revocation-service.ts[0m:[93m8[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../redis"' has no exported member 'getRedisClient'.

[7m8[0m import { getRedisClient } from '../redis'
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/two-factor-auth.ts[0m:[93m687[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m687[0m       {
[7m   [0m [91m      ~[0m
[7m688[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m689[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m685[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m685[0m       SecurityEventType.BACKUP_CODES_GENERATION_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m678[0m:[93m78[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m678[0m     await logSecurityEvent(SecurityEventType.BACKUP_CODES_GENERATED, userId, {
[7m   [0m [91m                                                                             ~[0m
[7m679[0m       codesGenerated: newCodes.length,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m680[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m678[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m678[0m     await logSecurityEvent(SecurityEventType.BACKUP_CODES_GENERATED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m674[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m674[0m     config.backupCodes = hashedCodes
[7m   [0m [91m           ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m670[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'enabled' does not exist on type '{}'.

[7m670[0m     if (!config || !config.enabled) {
[7m   [0m [91m                           ~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m629[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m629[0m       {
[7m   [0m [91m      ~[0m
[7m630[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m631[0m         deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m632[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m627[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m627[0m       SecurityEventType.TWO_FACTOR_DISABLE_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m618[0m:[93m75[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m618[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_DISABLED, userId, {
[7m   [0m [91m                                                                          ~[0m
[7m619[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m620[0m       deviceName: deviceInfo.deviceName,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m621[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m618[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m618[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_DISABLED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m573[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastUsed' does not exist on type '{}'.

[7m573[0m       lastUsed: config.lastUsed,
[7m   [0m [91m                       ~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m570[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type '{}'.

[7m570[0m       trustedDevices: trustedDevices.filter(
[7m   [0m [91m                                     ~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m569[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m569[0m       backupCodesRemaining: config.backupCodes ? config.backupCodes.length : 0,
[7m   [0m [91m                                                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m569[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m569[0m       backupCodesRemaining: config.backupCodes ? config.backupCodes.length : 0,
[7m   [0m [91m                                   ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m568[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'setupComplete' does not exist on type '{}'.

[7m568[0m       setupComplete: config.setupComplete,
[7m   [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m567[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'enabled' does not exist on type '{}'.

[7m567[0m       enabled: config.enabled,
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m529[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'find' does not exist on type '{}'.

[7m529[0m     const device = trustedDevices.find(
[7m   [0m [91m                                  ~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m509[0m:[93m75[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m509[0m     await logSecurityEvent(SecurityEventType.DEVICE_TRUST_FAILED, userId, {
[7m   [0m [91m                                                                          ~[0m
[7m510[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m511[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m512[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m509[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m509[0m     await logSecurityEvent(SecurityEventType.DEVICE_TRUST_FAILED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m504[0m:[93m70[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m504[0m     await logSecurityEvent(SecurityEventType.DEVICE_TRUSTED, userId, {
[7m   [0m [91m                                                                     ~[0m
[7m505[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m506[0m       deviceName: deviceInfo.deviceName,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m507[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m504[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m504[0m     await logSecurityEvent(SecurityEventType.DEVICE_TRUSTED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m498[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'push' does not exist on type '{}'.

[7m498[0m       trustedDevices.push(newDevice)
[7m   [0m [91m                     ~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m481[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{}'.

[7m481[0m         trustedDevices = trustedDevices.slice(
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m478[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'sort' does not exist on type '{}'.

[7m478[0m         trustedDevices.sort(
[7m   [0m [91m                       ~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m476[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m476[0m       if (trustedDevices.length >= DEVICE_TRUST_CONFIG.maxTrustedDevices) {
[7m   [0m [91m                         ~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m466[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'find' does not exist on type '{}'.

[7m466[0m     const existingDevice = trustedDevices.find(
[7m   [0m [91m                                          ~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m442[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m442[0m     codesRemaining: config.backupCodes.length,
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m441[0m:[93m70[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m441[0m   await logSecurityEvent(SecurityEventType.BACKUP_CODE_USED, userId, {
[7m   [0m [91m                                                                     ~[0m
[7m442[0m     codesRemaining: config.backupCodes.length,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m443[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m441[0m:[93m26[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m441[0m   await logSecurityEvent(SecurityEventType.BACKUP_CODE_USED, userId, {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m437[0m:[93m10[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m437[0m   config.backupCodes.splice(codeIndex, 1)
[7m   [0m [91m         ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m431[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m431[0m   const codeIndex = config.backupCodes.indexOf(hashedInput)
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m424[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m424[0m   if (!config || !config.backupCodes || config.backupCodes.length === 0) {
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m424[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m424[0m   if (!config || !config.backupCodes || config.backupCodes.length === 0) {
[7m   [0m [91m                         ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m404[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m404[0m       {
[7m   [0m [91m      ~[0m
[7m405[0m         error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m406[0m         deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m407[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m402[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m402[0m       SecurityEventType.TWO_FACTOR_VERIFICATION_FAILED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m390[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m390[0m       {
[7m   [0m [91m      ~[0m
[7m391[0m         method: verificationMethod,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m392[0m         deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m393[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m388[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m388[0m       SecurityEventType.TWO_FACTOR_VERIFICATION_SUCCESS,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m372[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastUsed' does not exist on type '{}'.

[7m372[0m     config.lastUsed = Date.now()
[7m   [0m [91m           ~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m360[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'count' does not exist on type '{}'.

[7m360[0m           attempts: attempts.count,
[7m   [0m [91m                             ~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m357[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m357[0m         {
[7m   [0m [91m        ~[0m
[7m358[0m           method: verificationMethod,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m360[0m           attempts: attempts.count,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m         },
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m355[0m:[93m9[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m355[0m         SecurityEventType.TWO_FACTOR_VERIFICATION_FAILED,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m350[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'count' does not exist on type '{}'.

[7m350[0m           attempts: attempts.count,
[7m   [0m [91m                             ~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m348[0m:[93m74[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m348[0m         await logSecurityEvent(SecurityEventType.ACCOUNT_LOCKED, userId, {
[7m   [0m [91m                                                                         ~[0m
[7m349[0m           reason: '2fa_failed_attempts',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m350[0m           attempts: attempts.count,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m351[0m         })
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m348[0m:[93m32[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m348[0m         await logSecurityEvent(SecurityEventType.ACCOUNT_LOCKED, userId, {
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m343[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'count' does not exist on type '{}'.

[7m343[0m             attempts: attempts.count,
[7m   [0m [91m                               ~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m337[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'count' does not exist on type '{}'.

[7m337[0m       if (attempts.count >= 5) {
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m332[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastAttempt' does not exist on type '{}'.

[7m332[0m       attempts.lastAttempt = Date.now()
[7m   [0m [91m               ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m331[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'count' does not exist on type '{}'.

[7m331[0m       attempts.count += 1
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m314[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'secret' does not exist on type '{}'.

[7m314[0m         secret: config.secret,
[7m   [0m [91m                       ~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m297[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'lockedUntil' does not exist on type '{}'.

[7m297[0m     if (lockoutData && lockoutData.lockedUntil > Date.now()) {
[7m   [0m [91m                                   ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m290[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'enabled' does not exist on type '{}'.

[7m290[0m     if (!config || !config.enabled) {
[7m   [0m [91m                           ~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m267[0m:[93m79[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m267[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_SETUP_FAILED, userId, {
[7m   [0m [91m                                                                              ~[0m
[7m268[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m269[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m270[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m267[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m267[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_SETUP_FAILED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m258[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m258[0m       {
[7m   [0m [91m      ~[0m
[7m259[0m         deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m260[0m         deviceName: deviceInfo.deviceName,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m261[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m256[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m256[0m       SecurityEventType.TWO_FACTOR_SETUP_COMPLETED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m235[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'backupCodes' does not exist on type '{}'.

[7m235[0m       backupCodes: setupData.backupCodes,
[7m   [0m [91m                             ~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m234[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'secret' does not exist on type '{}'.

[7m234[0m       secret: setupData.secret,
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m221[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'secret' does not exist on type '{}'.

[7m221[0m       secret: setupData.secret,
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m214[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'setupComplete' does not exist on type '{}'.

[7m214[0m     if (!setupData || setupData.setupComplete) {
[7m   [0m [91m                                ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m188[0m:[93m79[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m188[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_SETUP_FAILED, userId, {
[7m   [0m [91m                                                                              ~[0m
[7m189[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m190[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m191[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m188[0m:[93m28[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m188[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_SETUP_FAILED, userId, {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m172[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m172[0m       {
[7m   [0m [91m      ~[0m
[7m173[0m         deviceId: deviceInfo.deviceId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m174[0m         deviceName: deviceInfo.deviceName,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m175[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m170[0m:[93m7[0m - [91merror[0m[90m ts(2693): [0m'SecurityEventType' only refers to a type, but is being used as a value here.

[7m170[0m       SecurityEventType.TWO_FACTOR_SETUP_INITIATED,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m8[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'qrcode' or its corresponding type declarations.

[7m8[0m import QRCode from 'qrcode'
[7m [0m [91m                   ~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m6[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'otplib' or its corresponding type declarations.

[7m6[0m import { authenticator } from 'otplib'
[7m [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m684[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m684[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m685[0m       SecurityEventType.BACKUP_CODES_GENERATION_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m689[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m690[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m678[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m678[0m     await logSecurityEvent(SecurityEventType.BACKUP_CODES_GENERATED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m679[0m       codesGenerated: newCodes.length,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m680[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m626[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m626[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m627[0m       SecurityEventType.TWO_FACTOR_DISABLE_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m632[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m633[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m618[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m618[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_DISABLED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m619[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m620[0m       deviceName: deviceInfo.deviceName,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m621[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m509[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m509[0m     await logSecurityEvent(SecurityEventType.DEVICE_TRUST_FAILED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m510[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m511[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m512[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m504[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m504[0m     await logSecurityEvent(SecurityEventType.DEVICE_TRUSTED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m505[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m506[0m       deviceName: deviceInfo.deviceName,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m507[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m441[0m:[93m3[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m441[0m   await logSecurityEvent(SecurityEventType.BACKUP_CODE_USED, userId, {
[7m   [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m442[0m     codesRemaining: config.backupCodes.length,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m443[0m   })
[7m   [0m [93m~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m401[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m401[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m402[0m       SecurityEventType.TWO_FACTOR_VERIFICATION_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m407[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m408[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m387[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m387[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m388[0m       SecurityEventType.TWO_FACTOR_VERIFICATION_SUCCESS,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m393[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m394[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m354[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m354[0m       await logSecurityEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m355[0m         SecurityEventType.TWO_FACTOR_VERIFICATION_FAILED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m361[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m362[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m348[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m348[0m         await logSecurityEvent(SecurityEventType.ACCOUNT_LOCKED, userId, {
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m349[0m           reason: '2fa_failed_attempts',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m350[0m           attempts: attempts.count,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m351[0m         })
[7m   [0m [93m~~~~~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m267[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m267[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_SETUP_FAILED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m268[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m269[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m270[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m255[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m255[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m256[0m       SecurityEventType.TWO_FACTOR_SETUP_COMPLETED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m261[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m262[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m188[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m188[0m     await logSecurityEvent(SecurityEventType.TWO_FACTOR_SETUP_FAILED, userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m189[0m       error: error instanceof Error ? error.message : 'Unknown error',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m190[0m       deviceId: deviceInfo.deviceId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m191[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m169[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m169[0m     await logSecurityEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m170[0m       SecurityEventType.TWO_FACTOR_SETUP_INITIATED,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m175[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m176[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/lib/auth/two-factor-auth.ts[0m:[93m10[0m:[93m28[0m - [93mwarning[0m[90m ts(6133): [0m'SecurityEventType' is declared but its value is never read.

[7m10[0m import { logSecurityEvent, SecurityEventType } from '../security'
[7m  [0m [93m                           ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1182[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m1182[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m    [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1173[0m:[93m16[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m1173[0m         expect(loggedData.clientInfo.ip).toBeUndefined()
[7m    [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1172[0m:[93m11[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m1172[0m       if (loggedData.clientInfo) {
[7m    [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1169[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m1169[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m    [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1146[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m1146[0m         firstName: mockUserData.firstName,
[7m    [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1131[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m1131[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m    [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1108[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m1108[0m         firstName: mockUserData.firstName,
[7m    [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m1077[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m1077[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m    [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m982[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m982[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m962[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m962[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m927[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m927[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m899[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m899[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m872[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m872[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m845[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m845[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m816[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m816[0m       vi.mocked(bcrypt.hash).mockResolvedValueOnce('newHashedPassword')
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m776[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m776[0m       vi.mocked(bcrypt.hash).mockResolvedValueOnce('newHashedPassword')
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m768[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getFromCache'.

[7m768[0m       vi.mocked(getFromCache).mockImplementation(async (_key) => {
[7m   [0m [91m                ~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m700[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m700[0m       vi.mocked(bcrypt.hash).mockResolvedValueOnce('newHashedPassword')
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m649[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m649[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m617[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m617[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m566[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m566[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m497[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m497[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m377[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m377[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m338[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m338[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m310[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockUser'.

[7m310[0m         ...mockUser,
[7m   [0m [91m           ~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m279[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m279[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m228[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'firstName' does not exist in type '{ id: string; createdAt: Date; updatedAt: Date; email: string; emailVerified: boolean; name: string; image?: string | null | undefined; }'.

[7m228[0m         firstName: mockUserData.firstName,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m205[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m205[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m190[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m190[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m169[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m169[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m114[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m114[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m90[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'void'.

[7m90[0m       vi.mocked(bcrypt.hash).mockResolvedValue('hashedPassword123')
[7m  [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m17[0m:[93m8[0m - [91merror[0m[90m ts(2459): [0mModule '"../better-auth-integration"' declares 'UserRole' locally, but it is not exported.

[7m17[0m   type UserRole,
[7m  [0m [91m       ~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2459): [0mModule '"../better-auth-integration"' declares 'AuthenticationError' locally, but it is not exported.

[7m15[0m   AuthenticationError,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'validateUserRole'.

[7m14[0m   validateUserRole,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'changePassword'.

[7m13[0m   changePassword,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'updateUserProfile'.

[7m12[0m   updateUserProfile,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'getUserById'.

[7m11[0m   getUserById,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'logoutUser'.

[7m10[0m   logoutUser,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'loginUser'.

[7m9[0m   loginUser,
[7m [0m [91m  ~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m8[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'registerUser'.

[7m8[0m   registerUser,
[7m [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/better-auth-integration.test.ts[0m:[93m768[0m:[93m57[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m768[0m       vi.mocked(getFromCache).mockImplementation(async (_key) => {
[7m   [0m [93m                                                        ~~~~[0m

[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m716[0m:[93m16[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m716[0m         expect(loggedData.clientInfo.ip).toBeUndefined()
[7m   [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m715[0m:[93m11[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m715[0m       if (loggedData.clientInfo) {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m712[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m712[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m664[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m664[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m495[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'boolean' is not assignable to parameter of type 'void'.

[7m495[0m       vi.mocked(bcrypt.compare).mockResolvedValue(false)
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m315[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m315[0m       const result = await authenticateRequest(request)
[7m   [0m [91m                                               ~~~~~~~[0m
[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m290[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserById' does not exist on type 'typeof import("/home/vivi/pixelated/src/lib/auth/jwt-service")'.

[7m290[0m       const { validateToken, getUserById } = await import('../jwt-service')
[7m   [0m [91m                             ~~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m619[0m:[93m16[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m619[0m         expect(loggedData.clientInfo.ip).toBeUndefined()
[7m   [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m618[0m:[93m11[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m618[0m       if (loggedData.clientInfo) {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m615[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m615[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m603[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m603[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m500[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'measureTokenOperation'.

[7m500[0m         measureTokenOperation(failingOperation, 'failing_operation'),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m483[0m:[93m13[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'measureTokenOperation'.

[7m483[0m       await measureTokenOperation(slowOperation, 'slow_operation')
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m466[0m:[93m28[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'measureTokenOperation'.

[7m466[0m       const result = await measureTokenOperation(
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m445[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getFromCache'.

[7m445[0m       vi.mocked(getFromCache).mockResolvedValue({
[7m   [0m [91m                ~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m314[0m:[93m64[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockClientPair'.

[7m314[0m       await refreshAccessToken(originalTokenPair.refreshToken, mockClientPair)
[7m   [0m [91m                                                               ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m559[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m559[0m       vi.mocked(setInCache).mockImplementation(async (key, data) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m425[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m425[0m       vi.mocked(removeFromCache).mockImplementation(async (key) => {
[7m   [0m [93m                                                           ~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m349[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m349[0m       vi.mocked(removeFromCache).mockImplementation(async (key) => {
[7m   [0m [93m                                                           ~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m345[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m345[0m       vi.mocked(setInCache).mockImplementation(async (key, data) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m345[0m:[93m55[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m345[0m       vi.mocked(setInCache).mockImplementation(async (key, data) => {
[7m   [0m [93m                                                      ~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m310[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m310[0m       vi.mocked(removeFromCache).mockImplementation(async (key) => {
[7m   [0m [93m                                                           ~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m303[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m303[0m       vi.mocked(setInCache).mockImplementation(async (key, data) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m275[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m275[0m       vi.mocked(setInCache).mockImplementation(async (key, data) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/jwt-service.test.ts[0m:[93m154[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m154[0m       vi.mocked(setInCache).mockImplementation(async (key, data) => {
[7m   [0m [93m                                                           ~~~~[0m

[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1110[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m1110[0m       await csrfProtection(postRequest)
[7m    [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1085[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m1085[0m       await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m    [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1063[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ user: { id: string; email: string; role: string; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; headers: Headers; integrity: string; ... 16 more ...; text(): Promise<string>; text(): Promise<string>; }' to type 'AuthenticatedRequest' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ user: { id: string; email: string; role: string; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; ... 18 more ...; text(): Promise<...>; text(): Promise<...>; }' is missing the following properties from type 'AuthenticatedRequest': get, header, accepts, acceptsCharsets, and 93 more.

[7m1063[0m       const authenticatedRequest = {
[7m    [0m [91m                                   ~[0m
[7m1064[0m         ...mockRequest,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1066[0m         tokenId: 'token123',
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1067[0m       } as AuthenticatedRequest
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1048[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m1048[0m       await authenticateRequest(mockRequest)
[7m    [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1016[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m1016[0m       await authenticateRequest(mockRequest)
[7m    [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m995[0m:[93m16[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m995[0m         expect(loggedData.clientInfo.ip).toBeUndefined()
[7m   [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m994[0m:[93m11[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m994[0m       if (loggedData.clientInfo) {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m991[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m991[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m989[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m989[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m964[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m964[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m961[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patient' does not exist in type 'ReadableStream<any> | Blob | ArrayBuffer | ArrayBufferView<ArrayBuffer> | FormData | URLSearchParams'.

[7m961[0m         patient: { name: 'John Doe', condition: 'Anxiety' },
[7m   [0m [91m        ~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m952[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m952[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m950[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m950[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m923[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m923[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m913[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m913[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m900[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m900[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m885[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m885[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m873[0m:[93m68[0m - [91merror[0m[90m ts(2493): [0mTuple type '[eventType: SecurityEventType, details: Record<string, string | number | boolean | null | undefined>]' of length '2' has no element at index '2'.

[7m873[0m       const loggedData = vi.mocked(logSecurityEvent).mock.calls[0][2]
[7m   [0m [91m                                                                   ~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m871[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m871[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m847[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m847[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m837[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m837[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m814[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m814[0m       await rateLimitMiddleware(mockRequest, 'api', 100, 60)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m801[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m801[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m769[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m769[0m       const result = await securityHeaders(optionsRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m742[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m742[0m       const result = await securityHeaders(apiRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m725[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m725[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m714[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m714[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m698[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m698[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m684[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m684[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m666[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m666[0m       const result = await securityHeaders(mockRequest, response)
[7m   [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m653[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m653[0m         const result = await csrfProtection(request)
[7m   [0m [91m                                            ~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m619[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m619[0m       await csrfProtection(postRequest)
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m595[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m595[0m       const result = await csrfProtection(postRequest)
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m571[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m571[0m       const result = await csrfProtection(postRequest)
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m547[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m547[0m       const result = await csrfProtection(postRequest)
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m536[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m536[0m       const result = await csrfProtection(postRequest)
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m513[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m513[0m       const result = await csrfProtection(getRequest)
[7m   [0m [91m                                          ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m503[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m503[0m       await rateLimitMiddleware(requestWithoutIP, 'login', 5, 60)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m485[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m485[0m       await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m463[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m463[0m       await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m440[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m440[0m       await rateLimitMiddleware(mockRequest, 'api', 100, 60)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m437[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m437[0m       await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m416[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m416[0m       const result = await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m396[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m396[0m       const result = await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m381[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m381[0m       const result = await rateLimitMiddleware(mockRequest, 'login', 5, 60)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m361[0m:[93m40[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Request' to type 'AuthenticatedRequest' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'Request' is missing the following properties from type 'AuthenticatedRequest': get, header, accepts, acceptsCharsets, and 93 more.

[7m361[0m       const result = await requireRole(mockRequest as AuthenticatedRequest, [
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m342[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; headers: Headers; integrity: string; ... 16 more ...; text(): Promise<string>; text(): Promise<string>; }' to type 'AuthenticatedRequest' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; ... 18 more ...; text(): Promise<...>; text(): Promise<...>; }' is missing the following properties from type 'AuthenticatedRequest': get, header, accepts, acceptsCharsets, and 93 more.

[7m342[0m       const authenticatedRequest = {
[7m   [0m [91m                                   ~[0m
[7m343[0m         ...mockRequest,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m345[0m         tokenId: 'token123',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m346[0m       } as AuthenticatedRequest
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m323[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; headers: Headers; integrity: string; ... 16 more ...; text(): Promise<string>; text(): Promise<string>; }' to type 'AuthenticatedRequest' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; ... 18 more ...; text(): Promise<...>; text(): Promise<...>; }' is missing the following properties from type 'AuthenticatedRequest': get, header, accepts, acceptsCharsets, and 93 more.

[7m323[0m       const authenticatedRequest = {
[7m   [0m [91m                                   ~[0m
[7m324[0m         ...mockRequest,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m326[0m         tokenId: 'token123',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m327[0m       } as AuthenticatedRequest
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m300[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; headers: Headers; integrity: string; ... 16 more ...; text(): Promise<string>; text(): Promise<string>; }' to type 'AuthenticatedRequest' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; ... 18 more ...; text(): Promise<...>; text(): Promise<...>; }' is missing the following properties from type 'AuthenticatedRequest': get, header, accepts, acceptsCharsets, and 93 more.

[7m300[0m       const authenticatedRequest = {
[7m   [0m [91m                                   ~[0m
[7m301[0m         ...mockRequest,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m303[0m         tokenId: 'token123',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m304[0m       } as AuthenticatedRequest
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m278[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; headers: Headers; integrity: string; ... 16 more ...; text(): Promise<string>; text(): Promise<string>; }' to type 'AuthenticatedRequest' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ user: { id: string; email: string; role: UserRole; }; tokenId: string; cache: RequestCache; credentials: RequestCredentials; destination: RequestDestination; ... 18 more ...; text(): Promise<...>; text(): Promise<...>; }' is missing the following properties from type 'AuthenticatedRequest': get, header, accepts, acceptsCharsets, and 93 more.

[7m278[0m       const authenticatedRequest = {
[7m   [0m [91m                                   ~[0m
[7m279[0m         ...mockRequest,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m281[0m         tokenId: 'token123',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m282[0m       } as AuthenticatedRequest
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m261[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m261[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m232[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m232[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m214[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m214[0m       await authenticateRequest(mockRequest)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m190[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m190[0m       const result = await authenticateRequest(mockRequest)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m172[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m172[0m       const result = await authenticateRequest(mockRequest)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m149[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m149[0m       const result = await authenticateRequest(mockRequest)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m136[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m136[0m       const result = await authenticateRequest(mockRequest)
[7m   [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m123[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m123[0m       const result = await authenticateRequest(requestWithInvalidToken)
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m106[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m106[0m       const result = await authenticateRequest(requestWithoutAuth)
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m95[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m95[0m       const result = await authenticateRequest(mockRequest)
[7m  [0m [91m                                               ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../better-auth-integration"' has no exported member 'getUserById'.

[7m18[0m import { getUserById } from '../better-auth-integration'
[7m  [0m [91m         ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m ts(2305): [0mModule '"../middleware"' has no exported member 'UserRole'.

[7m15[0m   type UserRole,
[7m  [0m [91m       ~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m823[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'getFromCache' is declared but its value is never read.

[7m823[0m       const { getFromCache } = await import('../../redis')
[7m   [0m [93m            ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m432[0m:[93m66[0m - [93mwarning[0m[90m ts(6133): [0m'ttl' is declared but its value is never read.

[7m432[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                                 ~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m432[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m432[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m432[0m:[93m55[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m432[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                      ~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m412[0m:[93m66[0m - [93mwarning[0m[90m ts(6133): [0m'ttl' is declared but its value is never read.

[7m412[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                                 ~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m412[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m412[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m412[0m:[93m55[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m412[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                      ~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m377[0m:[93m66[0m - [93mwarning[0m[90m ts(6133): [0m'ttl' is declared but its value is never read.

[7m377[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                                 ~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m377[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m377[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                           ~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m377[0m:[93m55[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m377[0m       vi.mocked(setInCache).mockImplementation(async (key, data, ttl) => {
[7m   [0m [93m                                                      ~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m49[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'_mockResponse' is declared but its value is never read.

[7m49[0m   let _mockResponse: Response
[7m  [0m [93m      ~~~~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m845[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: string; sessionId: string; userId: string; deviceId: string; deviceInfo: DeviceInfo; ipAddress: string; userAgent: string; createdAt: number; lastActivity: number; expiresAt: number; ... 4 more ...; metadata?: Record<string, unknown>; }' is not assignable to parameter of type 'SessionData'.
  Types of property 'role' are incompatible.

[7m845[0m           patientSession,
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m708[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'canTransition' does not exist on type 'RoleTransition'.

[7m708[0m       expect(validation.canTransition).toBe(true)
[7m   [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m183[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'canTransition' does not exist on type 'RoleTransition'.

[7m183[0m       expect(transition.canTransition).toBe(true)
[7m   [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m268[0m:[93m29[0m - [93mwarning[0m[90m ts(6133): [0m'setInCache' is declared but its value is never read.

[7m268[0m       const { getFromCache, setInCache } = await import('../../redis')
[7m   [0m [93m                            ~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/serverAuth.test.ts[0m:[93m342[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }'.

[7m342[0m       const response = await apiRoute(astroContext as unknown)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/serverAuth.test.ts[0m:[93m305[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }'.

[7m305[0m       const response = await apiRoute(astroContext as unknown)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/serverAuth.test.ts[0m:[93m280[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }'.

[7m280[0m       const result = await apiRoute(astroContext as unknown)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/serverAuth.test.ts[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../../audit/log"' has no exported member 'createResourceAuditLog'.

[7m3[0m import { createResourceAuditLog } from '../../audit/log'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/serverAuth.test.ts[0m:[93m2[0m:[93m49[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../auth' or its corresponding type declarations.

[7m2[0m import { getCurrentUser, isAuthenticated } from '../auth'
[7m [0m [91m                                                ~~~~~~~~~[0m

[96msrc/lib/backup/verify.ts[0m:[93m356[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'BackupMetadata | null'.

[7m356[0m       return JSON.parse(data) as unknown
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m342[0m:[93m51[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m342[0m         if (!restored || (JSON.parse(restored) as unknown.id) !== userId) {
[7m   [0m [91m                                                  ~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m282[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'backup' is of type 'unknown'.

[7m282[0m       const testData = this.extractTestData(backup.data)
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m248[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m248[0m       const backup = JSON.parse(backupData.toString() as unknown)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m240[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'object'.

[7m240[0m       typeof data.environment === 'string'
[7m   [0m [91m                  ~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m240[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'data' is possibly 'null'.

[7m240[0m       typeof data.environment === 'string'
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m239[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'version' does not exist on type 'object'.

[7m239[0m       typeof data.version === 'string' &&
[7m   [0m [91m                  ~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m239[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'data' is possibly 'null'.

[7m239[0m       typeof data.version === 'string' &&
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m216[0m:[93m22[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(o: ArrayLike<unknown> | { [s: string]: unknown; }): [string, unknown][]', gave the following error.
  Overload 2 of 2, '(o: {}): [string, any][]', gave the following error.

[7m216[0m       Object.entries(data).every(
[7m   [0m [91m                     ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m203[0m:[93m34[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m203[0m       if (!this.verifyConfigData(data.config)) {
[7m   [0m [91m                                 ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m198[0m:[93m32[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m198[0m       if (!this.verifyFileData(data.files)) {
[7m   [0m [91m                               ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m193[0m:[93m33[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m193[0m       if (!this.verifyRedisData(data.redis)) {
[7m   [0m [91m                                ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m185[0m:[93m29[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m185[0m         (section) => typeof data[section] === 'object',
[7m   [0m [91m                            ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m176[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type 'object'.

[7m176[0m       typeof backup.data === 'object'
[7m   [0m [91m                    ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m176[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m176[0m       typeof backup.data === 'object'
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m175[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'object'.

[7m175[0m       typeof backup.environment === 'string' &&
[7m   [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m175[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m175[0m       typeof backup.environment === 'string' &&
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m174[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'version' does not exist on type 'object'.

[7m174[0m       typeof backup.version === 'string' &&
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m174[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m174[0m       typeof backup.version === 'string' &&
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m173[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'object'.

[7m173[0m       typeof backup.timestamp === 'number' &&
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m173[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m173[0m       typeof backup.timestamp === 'number' &&
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m114[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m114[0m       const backup = JSON.parse(data.toString() as unknown)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m41[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m41[0m       backupDir: getEnv('BACKUP_DIR', './backups'),
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m257[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m257[0m         await this.verifyDataIntegrity(backup.data)
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m33[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'redis' is declared but its value is never read.

[7m33[0m   private redis: RedisService
[7m  [0m [93m          ~~~~~[0m

[96msrc/lib/browser/setup.ts[0m:[93m65[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m65[0m     logger.error('Error setting up browser environment:', error)
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m63[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m63[0m     logger.info('Browser environment setup complete')
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m49[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m49[0m         logger.warn('Missing critical browser features:', missingCritical)
[7m  [0m [91m        ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m34[0m       logger.debug('Detected browser features:', features)
[7m  [0m [91m      ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m20[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m20[0m     logger.info('Setting up browser environment')
[7m  [0m [91m    ~~~~~~[0m

[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m242[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ tags: string[]; ttl: number; }' is not assignable to parameter of type 'InvalidationRule'.
  Property 'pattern' is missing in type '{ tags: string[]; ttl: number; }' but required in type 'InvalidationRule'.

[7m242[0m         await this.invalidation.set(key, value, rule)
[7m   [0m [91m                                                ~~~~[0m
[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m114[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'RedisCache' is not assignable to type 'RedisService | Redis'.
  Type 'RedisCache' is missing the following properties from type 'Redis': options, status, stream, isCluster, and 367 more.

[7m114[0m     redis: this.cache,
[7m   [0m [91m    ~~~~~[0m
[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m12[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"advanced-cache"' has no properties in common with type 'LoggerOptions'.

[7m12[0m const logger = getLogger('advanced-cache')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m9[0m:[93m16[0m - [91merror[0m[90m ts(2724): [0m'"zlib"' has no exported member named 'ungzip'. Did you mean 'unzip'?

[7m9[0m import { gzip, ungzip } from 'zlib'
[7m [0m [91m               ~~~~~~[0m

[96msrc/lib/cache/invalidation.ts[0m:[93m27[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Redis | null' is not assignable to type 'Redis'.
  Type 'null' is not assignable to type 'Redis'.

[7m27[0m     this.redis =
[7m  [0m [91m    ~~~~~~~~~~[0m

[96msrc/lib/cache/redis-cache.ts[0m:[93m65[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(): Promise<void>' is deprecated.

[7m65[0m       await this.client.disconnect()
[7m  [0m [93m                        ~~~~~~~~~~[0m

[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m265[0m:[93m11[0m - [91merror[0m[90m ts(2741): [0mProperty 'edited' is missing in type '{ id: string; sessionId: string; senderId: string; content: string; timestamp: Date; encrypted: boolean; readBy: string[]; }' but required in type 'SecureMessage'.

[7m265[0m     const message: SecureMessage = {
[7m   [0m [91m          ~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m99[0m:[93m11[0m - [91merror[0m[90m ts(2741): [0mProperty 'edited' is missing in type '{ id: string; sessionId: string; senderId: string; content: string; timestamp: Date; encrypted: false; readBy: any[]; }' but required in type 'SecureMessage'.

[7m99[0m     const welcomeMessage: SecureMessage = {
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m10[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/collaboration' or its corresponding type declarations.

[7m10[0m } from '@/types/collaboration'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m525[0m:[93m51[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m525[0m   private getUserRoleInSession(sessionId: string, userId: string): string {
[7m   [0m [93m                                                  ~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m525[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'sessionId' is declared but its value is never read.

[7m525[0m   private getUserRoleInSession(sessionId: string, userId: string): string {
[7m   [0m [93m                               ~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m320[0m:[93m57[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'id' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m320[0m     session.participants = session.participants.filter((id) => id !== userId)
[7m   [0m [93m                                                        ~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m288[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'sessionKey' is declared but its value is never read.

[7m288[0m     const sessionKey = await this.getSessionEncryptionKey(sessionId)
[7m   [0m [93m          ~~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m256[0m:[93m71[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m256[0m     const messageId = `msg_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                      ~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m136[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m136[0m     const inviteId = `invite_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                        ~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m78[0m:[93m74[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m78[0m     const sessionId = `collab_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m  [0m [93m                                                                         ~~~~~~[0m

[96msrc/lib/config/performance-config.ts[0m:[93m833[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"performance-config"' has no properties in common with type 'LoggerOptions'.

[7m833[0m const logger = getLogger('performance-config')
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/config/performance-config.ts[0m:[93m637[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'maxConcurrent' is declared but its value is never read.

[7m637[0m     maxConcurrent: number,
[7m   [0m [93m    ~~~~~~~~~~~~~[0m
[96msrc/lib/config/performance-config.ts[0m:[93m579[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m579[0m     options: {
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/config/performance-config.ts[0m:[93m578[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'params' is declared but its value is never read.

[7m578[0m     params: any[] = [],
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/config/performance-config.ts[0m:[93m577[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'query' is declared but its value is never read.

[7m577[0m     query: string,
[7m   [0m [93m    ~~~~~[0m

[96msrc/lib/crypto/encryption.ts[0m:[93m133[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EncryptedData'.

[7m133[0m     const encrypted: EncryptedData = JSON.parse(encryptedString) as unknown
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/crypto/encryption.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EncryptedData'.

[7m85[0m       const encrypted: EncryptedData = JSON.parse(encryptedString) as unknown
[7m  [0m [91m            ~~~~~~~~~[0m
[96msrc/lib/crypto/encryption.ts[0m:[93m102[0m:[93m45[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedBuffer.slice' is deprecated.

[7m102[0m       const encryptedData = encryptedBuffer.slice(
[7m   [0m [93m                                            ~~~~~[0m
[96msrc/lib/crypto/encryption.ts[0m:[93m101[0m:[93m39[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedBuffer.slice' is deprecated.

[7m101[0m       const authTag = encryptedBuffer.slice(encryptedBuffer.length - 16)
[7m   [0m [93m                                      ~~~~~[0m

[96msrc/lib/crypto/example.ts[0m:[93m138[0m:[93m25[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m138[0m     const redecrypted = await crypto.decrypt(reencrypted, 'patient-data')
[7m   [0m [93m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m133[0m:[93m25[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m133[0m     const reencrypted = await crypto.encrypt(decrypted, 'patient-data')
[7m   [0m [93m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m132[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m132[0m     const decrypted = await crypto.decrypt(encrypted, 'patient-data')
[7m   [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m111[0m:[93m21[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m111[0m   const encrypted = await crypto.encrypt(sensitiveData, 'patient-data')
[7m   [0m [93m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m30[0m:[93m21[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m30[0m   const decrypted = await crypto.decrypt(encrypted, 'patient-data')
[7m  [0m [93m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m25[0m:[93m21[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m25[0m   const encrypted = await crypto.encrypt(sensitiveData, 'patient-data')
[7m  [0m [93m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/database/indexingStrategy.ts[0m:[93m274[0m:[93m11[0m - [91merror[0m[90m ts(2783): [0m'table' is specified more than once, so this usage will be overwritten.

[7m274[0m           table: pattern.tables[0], // Assume first table for now
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/database/indexingStrategy.ts[0m:[93m47[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'indexHistory' is declared but its value is never read.

[7m47[0m   private indexHistory = new Map<
[7m  [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/database/indexingStrategy.ts[0m:[93m45[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'config' is declared but its value is never read.

[7m45[0m   private config: DatabaseConfig
[7m  [0m [93m          ~~~~~~[0m

[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m165[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'database' does not exist on type 'OptimizedPoolConfig'.

[7m165[0m         database: this.config.database || 'pixelated',
[7m   [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m164[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'host' does not exist on type 'OptimizedPoolConfig'.

[7m164[0m         host: this.config.host || 'localhost',
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m10[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"connection-pool"' has no properties in common with type 'LoggerOptions'.

[7m10[0m const logger = getLogger('connection-pool') as any
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m646[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m646[0m   options: {
[7m   [0m [93m  ~~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m154[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m154[0m       this.pool.on('error', (error, client) => {
[7m   [0m [93m                                    ~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m154[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'error' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m154[0m       this.pool.on('error', (error, client) => {
[7m   [0m [93m                             ~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m144[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m144[0m       this.pool.on('remove', (client) => {
[7m   [0m [93m                              ~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m137[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m137[0m       this.pool.on('connect', (client) => {
[7m   [0m [93m                               ~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m57[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'PoolEvents' is declared but never used.

[7m57[0m interface PoolEvents {
[7m  [0m [93m          ~~~~~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m6[0m:[93m46[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { Pool, PoolClient, PoolConfig } from 'pg'
[7m [0m [93m                                             ~~~~[0m

[96msrc/lib/db/conversations.ts[0m:[93m148[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'user_id' is missing in type 'WithId<Document>' but required in type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }'.

[7m148[0m   return conversations as Conversation[]
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m142[0m:[93m43[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m142[0m   const conversations = await mongoClient.db
[7m   [0m [91m                                          ~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m142[0m:[93m31[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m142[0m   const conversations = await mongoClient.db
[7m   [0m [91m                              ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m126[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m126[0m   await createAuditLog({
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m119[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m119[0m     .deleteOne({ _id: id, user_id: userId })
[7m   [0m [91m                 ~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m117[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m117[0m   const result = await mongoClient.db
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m117[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m117[0m   const result = await mongoClient.db
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m106[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'user_id' is missing in type 'WithId<Document>' but required in type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }'.

[7m106[0m   return result.value as Conversation
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m94[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m94[0m   await createAuditLog({
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m84[0m:[93m9[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
  Overload 2 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
  Overload 3 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions): Promise<...>', gave the following error.

[7m84[0m       { _id: id, user_id: userId },
[7m  [0m [91m        ~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m81[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m81[0m   const result = await mongoClient.db
[7m  [0m [91m                                   ~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m81[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m81[0m   const result = await mongoClient.db
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m69[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ _id: ObjectId; user_id: string; title?: string; last_message_at?: string; created_at?: string; updated_at?: string; }' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property '_id' are incompatible.

[7m69[0m   return newConversation as Conversation
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m57[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m57[0m   await createAuditLog({
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m49[0m:[93m16[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ _id?: string | undefined; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' is not assignable to parameter of type 'OptionalId<Document>'.
  Type '{ _id?: string | undefined; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' is not assignable to type '{ _id?: ObjectId | undefined; }'.

[7m49[0m     .insertOne(conversation)
[7m  [0m [91m               ~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m47[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m47[0m   const result = await mongoClient.db
[7m  [0m [91m                                   ~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m47[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m47[0m   const result = await mongoClient.db
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m35[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.

[7m35[0m     .findOne({ _id: id, user_id: userId })
[7m  [0m [91m               ~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m33[0m:[93m42[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m33[0m   const conversation = await mongoClient.db
[7m  [0m [91m                                         ~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m33[0m:[93m30[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m33[0m   const conversation = await mongoClient.db
[7m  [0m [91m                             ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m23[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'user_id' is missing in type 'WithId<Document>' but required in type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }'.

[7m23[0m   return conversations as Conversation[]
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m17[0m:[93m43[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m17[0m   const conversations = await mongoClient.db
[7m  [0m [91m                                          ~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m17[0m:[93m31[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m17[0m   const conversations = await mongoClient.db
[7m  [0m [91m                              ~~~~~~~~~~~~~~[0m

[96msrc/lib/db/index.ts[0m:[93m231[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m231[0m     return result.rows.map((row) => row.name)
[7m   [0m [93m                            ~~~[0m
[96msrc/lib/db/index.ts[0m:[93m57[0m:[93m23[0m - [93mwarning[0m[90m ts(6133): [0m'client' is declared but its value is never read.

[7m57[0m   pool.on('connect', (client: PoolClient) => {
[7m  [0m [93m                      ~~~~~~[0m
[96msrc/lib/db/index.ts[0m:[93m6[0m:[93m47[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { Pool, PoolClient, QueryResult } from 'pg'
[7m [0m [93m                                              ~~~~[0m

[96msrc/lib/db/messages.ts[0m:[93m162[0m:[93m38[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m162[0m   const messages = await mongoClient.db
[7m   [0m [91m                                     ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m162[0m:[93m26[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m162[0m   const messages = await mongoClient.db
[7m   [0m [91m                         ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m147[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'is_flagged' does not exist in type 'Partial<{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }>'.

[7m147[0m     is_flagged: true,
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m133[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>' to type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }': conversation_id, role, content

[7m133[0m   return result.value as Message
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m120[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m120[0m   await createAuditLog({
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m110[0m:[93m9[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
  Overload 2 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
  Overload 3 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions): Promise<...>', gave the following error.

[7m110[0m       { _id: id, conversation_id: conversationId },
[7m   [0m [91m        ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m107[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m107[0m   const result = await mongoClient.db
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m107[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m107[0m   const result = await mongoClient.db
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m100[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.

[7m100[0m     .findOne({ _id: conversationId, user_id: userId })
[7m   [0m [91m               ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m98[0m:[93m42[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m98[0m   const conversation = await mongoClient.db
[7m  [0m [91m                                         ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m98[0m:[93m30[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m98[0m   const conversation = await mongoClient.db
[7m  [0m [91m                             ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m84[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ _id: ObjectId; conversation_id: string; role: string; content: string; created_at?: string; }' to type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property '_id' are incompatible.

[7m84[0m   return newMessage as Message
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m71[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m71[0m   await createAuditLog({
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m58[0m:[93m72[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ _id?: string | undefined; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' is not assignable to parameter of type 'OptionalId<Document>'.
  Type '{ _id?: string | undefined; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' is not assignable to type '{ _id?: ObjectId | undefined; }'.

[7m58[0m   const result = await mongoClient.db.collection('messages').insertOne(message)
[7m  [0m [91m                                                                       ~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m58[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m58[0m   const result = await mongoClient.db.collection('messages').insertOne(message)
[7m  [0m [91m                                   ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m58[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m58[0m   const result = await mongoClient.db.collection('messages').insertOne(message)
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m51[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.

[7m51[0m     .findOne({ _id: message.conversation_id, user_id: userId })
[7m  [0m [91m               ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m49[0m:[93m42[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m49[0m   const conversation = await mongoClient.db
[7m  [0m [91m                                         ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m49[0m:[93m30[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m49[0m   const conversation = await mongoClient.db
[7m  [0m [91m                             ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m37[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }': conversation_id, role, content

[7m37[0m   return messages as Message[]
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m29[0m:[93m38[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m29[0m   const messages = await mongoClient.db
[7m  [0m [91m                                     ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m29[0m:[93m26[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m29[0m   const messages = await mongoClient.db
[7m  [0m [91m                         ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m22[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.

[7m22[0m     .findOne({ _id: conversationId, user_id: userId })
[7m  [0m [91m               ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m20[0m:[93m42[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m20[0m   const conversation = await mongoClient.db
[7m  [0m [91m                                         ~~[0m
[96msrc/lib/db/messages.ts[0m:[93m20[0m:[93m30[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m20[0m   const conversation = await mongoClient.db
[7m  [0m [91m                             ~~~~~~~~~~~~~~[0m

[96msrc/lib/db/optimized-queries.ts[0m:[93m620[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'string'.

[7m620[0m       (sum, table) => sum + parseInt(table.rows),
[7m   [0m [91m                                     ~~~~~~~~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m10[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"optimized-queries"' has no properties in common with type 'LoggerOptions'.

[7m10[0m const logger = getLogger('optimized-queries')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m374[0m:[93m19[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m374[0m             (sum, day) => sum + parseFloat(day.avg_score),
[7m   [0m [93m                  ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m374[0m:[93m14[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m374[0m             (sum, day) => sum + parseFloat(day.avg_score),
[7m   [0m [93m             ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m370[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m370[0m           recentWeek.reduce((sum, day) => sum + parseFloat(day.avg_score), 0) /
[7m   [0m [93m                                  ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m370[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m370[0m           recentWeek.reduce((sum, day) => sum + parseFloat(day.avg_score), 0) /
[7m   [0m [93m                             ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m6[0m:[93m41[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { PoolClient, QueryResult } from 'pg'
[7m [0m [93m                                        ~~~~[0m

[96msrc/lib/db/ai/repository.ts[0m:[93m624[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'ObjectId' is of type 'unknown'.

[7m624[0m       query = { _id: new ObjectId(techniqueId) }
[7m   [0m [91m                         ~~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m556[0m:[93m27[0m - [91merror[0m[90m ts(2749): [0m'ObjectId' refers to a value, but is being used as a type here. Did you mean 'typeof ObjectId'?

[7m556[0m       .filter(Boolean) as ObjectId[]
[7m   [0m [91m                          ~~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m550[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'ObjectId' is of type 'unknown'.

[7m550[0m           return new ObjectId(id)
[7m   [0m [91m                     ~~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m235[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type '{}'.

[7m235[0m       return mongodb.getDb()
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m234[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'connect' does not exist on type '{}'.

[7m234[0m       await mongodb.connect()
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m231[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type '{}'.

[7m231[0m       return mongodb.getDb()
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m1092[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1092[0m     return results.map((doc) => ({
[7m    [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m967[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m967[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m886[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m886[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m810[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m810[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m717[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m717[0m         pastTechniques: techniqueHistory.map((doc) => ({
[7m   [0m [93m                                              ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m690[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m690[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m674[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m674[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m656[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m656[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m583[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m583[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m563[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m563[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m529[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m529[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m485[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m485[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m460[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m460[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m439[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m417[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m417[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m394[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m394[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m371[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m371[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m348[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m348[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m

[96msrc/lib/db/ai/types.ts[0m:[93m2[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../../auth/index"' has no exported member 'User'.

[7m2[0m import type { User } from '../../auth/index'
[7m [0m [91m              ~~~~[0m

[96msrc/lib/db/migrations/20250320_add_ai_performance_metrics.ts[0m:[93m35[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'TemplateStringsArray' is not assignable to parameter of type 'string'.

[7m35[0m   await sql.unsafe`
[7m  [0m [91m                  ~[0m
[7m36[0m     DROP TABLE IF EXISTS ai_performance_metrics;
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m37[0m   `
[7m  [0m [91m~~~[0m
[96msrc/lib/db/migrations/20250320_add_ai_performance_metrics.ts[0m:[93m7[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'TemplateStringsArray' is not assignable to parameter of type 'string'.

[7m  7[0m   await sql.unsafe`
[7m   [0m [91m                  ~[0m
[7m  8[0m     CREATE TABLE IF NOT EXISTS ai_performance_metrics (
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 28[0m     CREATE INDEX IF NOT EXISTS idx_ai_perf_success ON ai_performance_metrics(success);
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 29[0m   `
[7m   [0m [91m~~~[0m

[96msrc/lib/db/security/initialize.ts[0m:[93m1[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../../audit/log"' has no exported member 'createAuditLog'.

[7m1[0m import { createAuditLog } from '../../audit/log'
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/productionManager.ts[0m:[93m6[0m:[93m53[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/deployment' or its corresponding type declarations.

[7m6[0m import type { DeploymentConfig, RollbackPlan } from '@/types/deployment'
[7m [0m [91m                                                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m717[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'env' is declared but its value is never read.

[7m717[0m     this.environments.forEach((env, name) => {
[7m   [0m [93m                               ~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m640[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m640[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m606[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m606[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m605[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'step' is declared but its value is never read.

[7m605[0m     step: string,
[7m   [0m [93m    ~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m557[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m557[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m514[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m514[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m502[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m502[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m413[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'artifact' is declared but its value is never read.

[7m413[0m     artifact: DeploymentArtifact,
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m399[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m399[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m389[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m389[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m373[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m373[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m367[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'artifact' is declared but its value is never read.

[7m367[0m   private async deployToCanary(artifact: DeploymentArtifact): Promise<void> {
[7m   [0m [93m                               ~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m360[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m360[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m294[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'artifact' is declared but its value is never read.

[7m294[0m     artifact: DeploymentArtifact,
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m287[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'artifact' is declared but its value is never read.

[7m287[0m     artifact: DeploymentArtifact,
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m169[0m:[93m77[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m169[0m     const deploymentId = `deploy_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                            ~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m64[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'healthChecks' is declared but its value is never read.

[7m64[0m   private healthChecks = new Map<string, DeploymentHealth>()
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m62[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m                                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m40[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m25[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m         ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1216[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m1216[0m       const queueUrl = this.config.getFailoverConfig().sqsQueueUrl
[7m    [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1196[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m1196[0m       const topicArn = this.config.getFailoverConfig().snsTopicArn
[7m    [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1145[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEnvironment' does not exist on type 'ConfigurationManager'.

[7m1145[0m             { Name: 'Environment', Value: this.config.getEnvironment() },
[7m    [0m [91m                                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1136[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEnvironment' does not exist on type 'ConfigurationManager'.

[7m1136[0m             { Name: 'Environment', Value: this.config.getEnvironment() },
[7m    [0m [91m                                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1064[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m1064[0m         const health = await this.healthMonitor.getRegionHealth(region)
[7m    [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m734[0m:[93m34[0m - [91merror[0m[90m ts(2551): [0mProperty 'getDNSConfig' does not exist on type 'ConfigurationManager'. Did you mean 'getConfig'?

[7m734[0m       const config = this.config.getDNSConfig()
[7m   [0m [91m                                 ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m710[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m710[0m       const maxLag = this.config.getFailoverConfig().maxDataSyncLag
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m578[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m578[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m573[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m573[0m         error.message,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m567[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m567[0m       this.failoverState.reason = `Failover failed: ${error.message}`
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m435[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m435[0m         const maxLag = this.config.getFailoverConfig().maxDataSyncLag
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m425[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m425[0m         const health = await this.healthMonitor.getRegionHealth(region)
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m371[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m371[0m       const config = this.config.getFailoverConfig()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m337[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m337[0m       const primaryHealth = await this.healthMonitor.getRegionHealth(
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m318[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m318[0m     const config = this.config.getFailoverConfig()
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m287[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m287[0m         const health = await this.healthMonitor.getRegionHealth(region)
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m273[0m:[93m40[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m273[0m       return { healthy: false, reason: error.message }
[7m   [0m [91m                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m227[0m:[93m44[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m227[0m         message: `Readiness check error: ${error.message}`,
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m176[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m176[0m           message: `Data sync lag check failed: ${error.message}`,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m160[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m160[0m         const threshold = this.config.getFailoverConfig().maxDataSyncLag
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m157[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m157[0m     this.healthMonitor.registerCheck('data-sync-lag', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m152[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m152[0m           message: `Failover readiness check failed: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m142[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m142[0m     this.healthMonitor.registerCheck('failover-readiness', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m71[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getBackupRegions' does not exist on type 'ConfigurationManager'.

[7m71[0m     this.backupRegions = config.getBackupRegions()
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m70[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m70[0m     this.currentPrimaryRegion = config.getPrimaryRegion()
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m63[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m63[0m       primaryRegion: config.getPrimaryRegion(),
[7m  [0m [91m                            ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m58[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m58[0m       region: config.getPrimaryRegion(),
[7m  [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m55[0m:[93m59[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m55[0m     this.lambdaClient = new LambdaClient({ region: config.getPrimaryRegion() })
[7m  [0m [91m                                                          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m54[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m54[0m     this.sqsClient = new SQSClient({ region: config.getPrimaryRegion() })
[7m  [0m [91m                                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m53[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m53[0m     this.snsClient = new SNSClient({ region: config.getPrimaryRegion() })
[7m  [0m [91m                                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m50[0m:[93m30[0m - [91merror[0m[90m ts(2559): [0mType '"AutomatedFailoverOrchestrator"' has no properties in common with type 'Partial<LoggerOptions>'.

[7m50[0m     this.logger = new Logger('AutomatedFailoverOrchestrator')
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m16[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-cloudwatch' or its corresponding type declarations.

[7m16[0m } from '@aws-sdk/client-cloudwatch'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m12[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-route-53' or its corresponding type declarations.

[7m12[0m } from '@aws-sdk/client-route-53'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m8[0m:[93m45[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-lambda' or its corresponding type declarations.

[7m8[0m import { LambdaClient, InvokeCommand } from '@aws-sdk/client-lambda'
[7m [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m7[0m:[93m47[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-sqs' or its corresponding type declarations.

[7m7[0m import { SQSClient, SendMessageCommand } from '@aws-sdk/client-sqs'
[7m [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m6[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-sns' or its corresponding type declarations.

[7m6[0m import { SNSClient, PublishCommand } from '@aws-sdk/client-sns'
[7m [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1416[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'monitoringPeriod' is declared but its value is never read.

[7m1416[0m   private monitoringPeriod: number
[7m    [0m [93m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m32[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isActive' is declared but its value is never read.

[7m32[0m   private isActive = false
[7m  [0m [93m          ~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m282[0m:[93m52[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m282[0m       throw new Error(`Region deployment failed: ${error.message}`, {
[7m   [0m [91m                                                   ~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m111[0m:[93m50[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m111[0m         `Cloud provider initialization failed: ${error.message}`,
[7m   [0m [91m                                                 ~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m14[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m14[0m import { logger } from '../../logging'
[7m  [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m12[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@google-cloud/compute' or its corresponding type declarations.

[7m12[0m import { Compute, DNS, Storage } from '@google-cloud/compute'
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m10[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-rds' or its corresponding type declarations.

[7m10[0m import { RDSClient } from '@aws-sdk/client-rds'
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m9[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-eks' or its corresponding type declarations.

[7m9[0m import { EKSClient } from '@aws-sdk/client-eks'
[7m [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m8[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-ec2' or its corresponding type declarations.

[7m8[0m import { EC2Client } from '@aws-sdk/client-ec2'
[7m [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m729[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m729[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m718[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m718[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m707[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m707[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m657[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'getGCPRegionName' is declared but its value is never read.

[7m657[0m   private getGCPRegionName(location: string): string {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m551[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m551[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m539[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m539[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m527[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m527[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m515[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m515[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m503[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m503[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m491[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m491[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m479[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m479[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m467[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m467[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m455[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m455[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m443[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'clients' is declared but its value is never read.

[7m443[0m     clients: any,
[7m   [0m [93m    ~~~~~~~[0m

[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m426[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'escalationRules' is missing in type '{ enabled: true; channels: string[]; severityLevels: string[]; }' but required in type '{ enabled: boolean; channels: string[]; severityLevels: string[]; escalationRules: Record<string, any>; }'.

[7m426[0m             alerting: {
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m397[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ regions: { capacity: { minInstances: number; maxInstances: number; desiredInstances: number; }; id: string; name: string; provider: "aws" | "gcp" | "azure"; location: string; availabilityZones: string[]; priority: number; complianceRequirements: string[]; networking: { ...; }; }[]; }' is missing the following properties from type 'DeploymentConfig': globalServices, edgeComputing, dataSync, failover

[7m397[0m           deployment: {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m383[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'escalationRules' is missing in type '{ enabled: true; channels: string[]; severityLevels: string[]; }' but required in type '{ enabled: boolean; channels: string[]; severityLevels: string[]; escalationRules: Record<string, any>; }'.

[7m383[0m             alerting: {
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m357[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ regions: { capacity: { minInstances: number; maxInstances: number; desiredInstances: number; }; id: string; name: string; provider: "aws" | "gcp" | "azure"; location: string; availabilityZones: string[]; priority: number; complianceRequirements: string[]; networking: { ...; }; }[]; }' is missing the following properties from type 'DeploymentConfig': globalServices, edgeComputing, dataSync, failover

[7m357[0m           deployment: {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m347[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'escalationRules' is missing in type '{ enabled: false; channels: never[]; severityLevels: never[]; }' but required in type '{ enabled: boolean; channels: string[]; severityLevels: string[]; escalationRules: Record<string, any>; }'.

[7m347[0m             alerting: { enabled: false, channels: [], severityLevels: [] },
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m321[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ regions: { capacity: { minInstances: number; maxInstances: number; desiredInstances: number; }; id: string; name: string; provider: "aws" | "gcp" | "azure"; location: string; availabilityZones: string[]; priority: number; complianceRequirements: string[]; networking: { ...; }; }[]; }' is missing the following properties from type 'DeploymentConfig': globalServices, edgeComputing, dataSync, failover

[7m321[0m           deployment: {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m205[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m205[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m9[0m import { logger } from '../../logging'
[7m [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m984[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'value' is declared but its value is never read.

[7m984[0m     value: string | undefined,
[7m   [0m [93m    ~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m983[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'varName' is declared but its value is never read.

[7m983[0m     varName: string,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m168[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m168[0m   private isInitialized = false
[7m   [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1376[0m:[93m22[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1376[0m export { SyncStatus, DataDistribution }
[7m    [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1376[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1376[0m export { SyncStatus, DataDistribution }
[7m    [0m [91m         ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1113[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: any; user_id: any; region: any; event_type: any; event_data: string; session_id: any; ip_address: any; user_agent: any; }' is not assignable to parameter of type 'never'.

[7m1113[0m           analytics.push({
[7m    [0m [91m                         ~[0m
[7m1114[0m             timestamp: analytic.timestamp || new Date(),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1121[0m             user_agent: analytic.userAgent || '',
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1122[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1094[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m1094[0m       const regions = this.config.getRegions()
[7m    [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1063[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: Date; region: any; metric_name: string; metric_value: number; tags: string; }' is not assignable to parameter of type 'never'.

[7m1063[0m           metrics.push({
[7m    [0m [91m                       ~[0m
[7m1064[0m             timestamp: new Date(),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1068[0m             tags: JSON.stringify({ source: 'redis' }),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1069[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1052[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m1052[0m       const regions = this.config.getRegions()
[7m    [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1002[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1002[0m             [error.message, log.id],
[7m    [0m [91m             ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m835[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m835[0m               error.message,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m832[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m832[0m               conversation._id,
[7m   [0m [91m              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m820[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m820[0m               conversation._id,
[7m   [0m [91m              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m797[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m797[0m                   message._id,
[7m   [0m [91m                  ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m759[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m759[0m       const regions = this.config.getRegions()
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m715[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m715[0m               error.message,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m712[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m712[0m               session._id,
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m700[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m700[0m               session._id,
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m668[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m668[0m       const regions = this.config.getRegions()
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m622[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m622[0m               error.message,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m619[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m619[0m               user._id,
[7m   [0m [91m              ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m610[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m610[0m             await this.logSync('users', 'sync', user._id, region, 'completed')
[7m   [0m [91m                                                ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m568[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'getSyncConfig' does not exist on type 'ConfigurationManager'. Did you mean 'getConfig'?

[7m568[0m       const syncConfig = this.config.getSyncConfig()
[7m   [0m [91m                                     ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m567[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m567[0m       const regions = this.config.getRegions()
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m530[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m530[0m           message: `Redis health check error: ${error.message}`,
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m512[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m512[0m                 message: `Redis error: ${error.message}`,
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m488[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m488[0m     this.healthMonitor.registerCheck('redis', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m483[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m483[0m           message: `MongoDB health check error: ${error.message}`,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m465[0m:[93m44[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m465[0m                 message: `MongoDB error: ${error.message}`,
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m441[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m441[0m     this.healthMonitor.registerCheck('mongodb', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m436[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m436[0m           message: `CockroachDB error: ${error.message}`,
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m423[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m423[0m     this.healthMonitor.registerCheck('cockroachdb', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m393[0m:[93m36[0m - [91merror[0m[90m ts(2551): [0mProperty 'getSyncConfig' does not exist on type 'ConfigurationManager'. Did you mean 'getConfig'?

[7m393[0m     const syncConfig = this.config.getSyncConfig()
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m308[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'getClickHouseConfig' does not exist on type 'ConfigurationManager'.

[7m308[0m       const clickhouseConfig = this.config.getClickHouseConfig()
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m278[0m:[93m28[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 8, '(options: RedisOptions): Redis', gave the following error.
  Overload 2 of 8, '(port: number): Redis', gave the following error.
  Overload 3 of 8, '(path: string): Redis', gave the following error.

[7m278[0m         const client = new Redis({
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m276[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRedisConfig' does not exist on type 'ConfigurationManager'.

[7m276[0m         const redisConfig = this.config.getRedisConfig(region)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m272[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m272[0m     const regions = this.config.getRegions()
[7m   [0m [91m                                ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m246[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'getMongoDBConfig' does not exist on type 'ConfigurationManager'.

[7m246[0m         const mongoConfig = this.config.getMongoDBConfig(region)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m242[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m242[0m     const regions = this.config.getRegions()
[7m   [0m [91m                                ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m76[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'getCockroachDBConfig' does not exist on type 'ConfigurationManager'.

[7m76[0m       const cockroachConfig = this.config.getCockroachDBConfig()
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m31[0m:[93m30[0m - [91merror[0m[90m ts(2559): [0mType '"CrossRegionDataSyncManager"' has no properties in common with type 'Partial<LoggerOptions>'.

[7m31[0m     this.logger = new Logger('CrossRegionDataSyncManager')
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m8[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'cockroach' or its corresponding type declarations.

[7m8[0m import * as cockroach from 'cockroach'
[7m [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m5[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@clickhouse/client' or its corresponding type declarations.

[7m5[0m import { createClient } from '@clickhouse/client'
[7m [0m [91m                             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m431[0m:[93m15[0m - [93mwarning[0m[90m ts(6133): [0m'result' is declared but its value is never read.

[7m431[0m         const result = await this.cockroachClient.query('SELECT 1')
[7m   [0m [93m              ~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m24[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m24[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m1034[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1034[0m       return { success: false, error: error.message }
[7m    [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m1012[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1012[0m       return { success: false, error: error.message }
[7m    [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m986[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m986[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m980[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m980[0m             `Throughput ${throughput.toFixed(0)} below minimum ${minThroughput}`,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m975[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m975[0m             `Response time ${responseTime.toFixed(0)}ms exceeds maximum ${maxResponseTime}ms`,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m949[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m949[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m922[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m922[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m893[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m893[0m       return { success: false, errors: [error.message] }
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m870[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m870[0m           validationResults.push(`✗ ${validationStep.name}: ${error.message}`)
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m797[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m797[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m532[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m532[0m         errors: [error.message],
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m371[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m371[0m       this.emit('deployment-failed', { planId, error: error.message })
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m363[0m:[93m31[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m363[0m         execution.errors.push(error.message)
[7m   [0m [91m                              ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m308[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'on' does not exist on type 'CloudProviderManager'.

[7m308[0m     this.cloudProviderManager.on('deployment-failed', (data) => {
[7m   [0m [91m                              ~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m304[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'on' does not exist on type 'CloudProviderManager'.

[7m304[0m     this.cloudProviderManager.on('deployment-complete', (data) => {
[7m   [0m [91m                              ~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m130[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m130[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m9[0m import { logger } from '../../logging'
[7m [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m1021[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'execution' is declared but its value is never read.

[7m1021[0m     execution: DeploymentExecution,
[7m    [0m [93m    ~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m1020[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'step' is declared but its value is never read.

[7m1020[0m     step: ValidationStep,
[7m    [0m [93m    ~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m995[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'execution' is declared but its value is never read.

[7m995[0m     execution: DeploymentExecution,
[7m   [0m [93m    ~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m994[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'step' is declared but its value is never read.

[7m994[0m     step: ValidationStep,
[7m   [0m [93m    ~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m958[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'execution' is declared but its value is never read.

[7m958[0m     execution: DeploymentExecution,
[7m   [0m [93m    ~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m931[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'execution' is declared but its value is never read.

[7m931[0m     execution: DeploymentExecution,
[7m   [0m [93m    ~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m486[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'execution' is declared but its value is never read.

[7m486[0m     execution: DeploymentExecution,
[7m   [0m [93m    ~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m381[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'regions' is declared but its value is never read.

[7m381[0m     regions: RegionConfig[],
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m308[0m:[93m56[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m308[0m     this.cloudProviderManager.on('deployment-failed', (data) => {
[7m   [0m [93m                                                       ~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m304[0m:[93m58[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m304[0m     this.cloudProviderManager.on('deployment-complete', (data) => {
[7m   [0m [93m                                                         ~~~~[0m

[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m3099[0m:[93m53[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m3099[0m       this.emit('node-failed', { locationId, error: error.message })
[7m    [0m [91m                                                    ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m3095[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m3095[0m         metadata: { ...currentStatus.metadata, error: error.message },
[7m    [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2444[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2444[0m       throw new Error(`GCP Edge deployment failed: ${error.message}`, {
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2421[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2421[0m       throw new Error(`Azure Edge deployment failed: ${error.message}`, {
[7m    [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2398[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2398[0m       throw new Error(`AWS Lambda deployment failed: ${error.message}`, {
[7m    [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2370[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2370[0m       throw new Error(`Cloudflare deployment failed: ${error.message}`, {
[7m    [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2341[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2341[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2335[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2335[0m         metadata: { error: error.message },
[7m    [0m [91m                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2244[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2244[0m       throw new Error(`Deployment failed: ${error.message}`, { cause: error })
[7m    [0m [91m                                            ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2162[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2162[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m    [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m10[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m10[0m import { logger } from '../../logging'
[7m  [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2981[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'functionCode' is declared but its value is never read.

[7m2981[0m     functionCode: string,
[7m    [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2961[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'functionCode' is declared but its value is never read.

[7m2961[0m     functionCode: string,
[7m    [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2941[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'functionCode' is declared but its value is never read.

[7m2941[0m     functionCode: string,
[7m    [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2921[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'script' is declared but its value is never read.

[7m2921[0m     script: string,
[7m    [0m [93m    ~~~~~~[0m

[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m277[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m277[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m98[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m98[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m  [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m10[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m10[0m import { logger } from '../../logging'
[7m  [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m515[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'requestType' is declared but its value is never read.

[7m515[0m     requestType: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m408[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'requestType' is declared but its value is never read.

[7m408[0m     requestType: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m350[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'requestType' is declared but its value is never read.

[7m350[0m     requestType: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m245[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m245[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m109[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m109[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m9[0m import { logger } from '../../logging'
[7m [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m440[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'history' is declared but its value is never read.

[7m440[0m     history: HealthMetrics[],
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m298[0m:[93m52[0m - [93mwarning[0m[90m ts(6133): [0m'seed' is declared but its value is never read.

[7m298[0m   private simulateMetric(min: number, max: number, seed: string): number {
[7m   [0m [93m                                                   ~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m76[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m76[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m292[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m292[0m       throw new Error(`Service configuration failed: ${error.message}`, {
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m232[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m232[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m225[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m225[0m         errors: [error.message],
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m166[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m166[0m       throw new Error(`Deployment failed: ${error.message}`, { cause: error })
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m119[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m119[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m89[0m:[93m35[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 0.

[7m89[0m     this.deploymentOrchestrator = new DeploymentOrchestrator()
[7m  [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m88[0m:[93m26[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m88[0m     this.healthMonitor = new HealthMonitor()
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m86[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'DeploymentConfig' is not assignable to parameter of type 'MultiRegionConfig'.
  Type 'DeploymentConfig' is missing the following properties from type 'MultiRegionConfig': deployment, trafficRouting, environments, featureFlags, and 3 more.

[7m86[0m     this.configurationManager = new ConfigurationManager(config)
[7m  [0m [91m                                                         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../logging"' has no exported member named 'logger'. Did you mean 'Logger'?

[7m9[0m import { logger } from '../../logging'
[7m [0m [91m         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m336[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'deploymentResult' is declared but its value is never read.

[7m336[0m     deploymentResult: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m325[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'deploymentResult' is declared but its value is never read.

[7m325[0m     deploymentResult: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m314[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'deploymentResult' is declared but its value is never read.

[7m314[0m     deploymentResult: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m303[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'deploymentResult' is declared but its value is never read.

[7m303[0m     deploymentResult: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m79[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'deploymentOrchestrator' is declared but its value is never read.

[7m79[0m   private deploymentOrchestrator: DeploymentOrchestrator
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1559[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1559[0m   LoadBalancerConfig,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1558[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1558[0m   ServiceStats,
[7m    [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1557[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1557[0m   DiscoveryOptions,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1556[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1556[0m   ServiceInstance,
[7m    [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1555[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1555[0m   ServiceRegistration,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1192[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'map' does not exist on type 'string | ServiceInstance[]'.
  Property 'map' does not exist on type 'string'.

[7m1192[0m           regions: [...new Set(instances.map((i) => i.region))],
[7m    [0m [91m                                         ~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1188[0m:[93m24[0m - [91merror[0m[90m ts(2538): [0mType 'ServiceInstance[]' cannot be used as an index type.

[7m1188[0m         stats.services[name] = {
[7m    [0m [91m                       ~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1186[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type 'string | ServiceInstance[]'.
  Property 'filter' does not exist on type 'string'.

[7m1186[0m         const unhealthy = instances.filter((i) => i.status !== 'healthy').length
[7m    [0m [91m                                    ~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1185[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type 'string | ServiceInstance[]'.
  Property 'filter' does not exist on type 'string'.

[7m1185[0m         const healthy = instances.filter((i) => i.status === 'healthy').length
[7m    [0m [91m                                  ~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m375[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'getServiceDiscoveryConfig' does not exist on type 'ConfigurationManager'.

[7m375[0m     const config = this.config.getServiceDiscoveryConfig()
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m364[0m:[93m73[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m364[0m             message: `Service health check failed for ${serviceName}: ${error.message}`,
[7m   [0m [91m                                                                        ~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m336[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m336[0m       this.healthMonitor.registerCheck(`service-${serviceName}`, async () => {
[7m   [0m [91m                         ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m269[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m269[0m           message: `Service discovery check failed: ${error.message}`,
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m243[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m243[0m     this.healthMonitor.registerCheck('service-discovery', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m222[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'getServices' does not exist on type 'ConfigurationManager'.

[7m222[0m     const services = this.config.getServices()
[7m   [0m [91m                                 ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m78[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'getServiceDiscoveryConfig' does not exist on type 'ConfigurationManager'.

[7m78[0m     const discoveryConfig = this.config.getServiceDiscoveryConfig()
[7m  [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m77[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m77[0m     const regions = this.config.getRegions()
[7m  [0m [91m                                ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m35[0m:[93m30[0m - [91merror[0m[90m ts(2559): [0mType '"ServiceDiscoveryManager"' has no properties in common with type 'Partial<LoggerOptions>'.

[7m35[0m     this.logger = new Logger('ServiceDiscoveryManager')
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m8[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module './DNSClient' or its corresponding type declarations.

[7m8[0m import { DNSClient } from './DNSClient'
[7m [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m7[0m:[93m33[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'zookeeper' or its corresponding type declarations.

[7m7[0m import { ZooKeeperClient } from 'zookeeper'
[7m [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m6[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'etcd3' or its corresponding type declarations.

[7m6[0m import { Etcd3 } from 'etcd3'
[7m [0m [91m                      ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m5[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'consul' or its corresponding type declarations.

[7m5[0m import { Consul, ConsulOptions } from 'consul'
[7m [0m [91m                                      ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1383[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'circuitBreaker' is declared but its value is never read.

[7m1383[0m   private circuitBreaker: any
[7m    [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1382[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'healthCheck' is declared but its value is never read.

[7m1382[0m   private healthCheck: any
[7m    [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1380[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'serviceName' is declared but its value is never read.

[7m1380[0m   private serviceName: string
[7m    [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1192[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'i' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1192[0m           regions: [...new Set(instances.map((i) => i.region))],
[7m    [0m [93m                                              ~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1186[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'i' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1186[0m         const unhealthy = instances.filter((i) => i.status !== 'healthy').length
[7m    [0m [93m                                            ~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1185[0m:[93m43[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'i' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1185[0m         const healthy = instances.filter((i) => i.status === 'healthy').length
[7m    [0m [93m                                          ~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m832[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m832[0m     options: DiscoveryOptions,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m790[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m790[0m     options: DiscoveryOptions,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m775[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'check' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m775[0m       status: service.Checks?.every((check) => check.Status === 'passing')
[7m   [0m [93m                                     ~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m771[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m771[0m         service.Service.Tags?.find((tag) => tag.startsWith('version:'))?.split(
[7m   [0m [93m                                    ~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m763[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'service' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m763[0m     return services.map((service) => ({
[7m   [0m [93m                         ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m759[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m759[0m     options: DiscoveryOptions,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m25[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m25[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m22[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'dnsClient' is declared but its value is never read.

[7m22[0m   private dnsClient: DNSClient
[7m  [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/index.ts[0m:[93m365[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'DeploymentOrchestrator'. Either declare one or provide an initializer.

[7m365[0m   DeploymentOrchestrator,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m364[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'HealthMonitor'. Either declare one or provide an initializer.

[7m364[0m   HealthMonitor,
[7m   [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m363[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'ConfigurationManager'. Either declare one or provide an initializer.

[7m363[0m   ConfigurationManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m362[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'ServiceDiscoveryManager'. Either declare one or provide an initializer.

[7m362[0m   ServiceDiscoveryManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m361[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'AutomatedFailoverOrchestrator'. Either declare one or provide an initializer.

[7m361[0m   AutomatedFailoverOrchestrator,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m360[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'CrossRegionDataSyncManager'. Either declare one or provide an initializer.

[7m360[0m   CrossRegionDataSyncManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m359[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'GlobalTrafficRoutingManager'. Either declare one or provide an initializer.

[7m359[0m   GlobalTrafficRoutingManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m358[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'EdgeComputingManager'. Either declare one or provide an initializer.

[7m358[0m   EdgeComputingManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m357[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'CloudProviderManager'. Either declare one or provide an initializer.

[7m357[0m   CloudProviderManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m356[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'MultiRegionDeploymentManager'. Either declare one or provide an initializer.

[7m356[0m   MultiRegionDeploymentManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m333[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MultiRegionDeploymentManager'.

[7m333[0m   const deploymentManager = new MultiRegionDeploymentManager(
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m326[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AutomatedFailoverOrchestrator'.

[7m326[0m   const failoverOrchestrator = new AutomatedFailoverOrchestrator(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m323[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ServiceDiscoveryManager'.

[7m323[0m   const serviceDiscovery = new ServiceDiscoveryManager(config, healthMonitor)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m320[0m:[93m31[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrossRegionDataSyncManager'.

[7m320[0m   const dataSyncManager = new CrossRegionDataSyncManager(config, healthMonitor)
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m317[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'HealthMonitor'.

[7m317[0m   const healthMonitor = new HealthMonitor(config)
[7m   [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m309[0m:[93m22[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ConfigurationManager'.

[7m309[0m   const config = new ConfigurationManager()
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m307[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MultiRegionConfig'.

[7m307[0m   configOverrides?: Partial<MultiRegionConfig>,
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m68[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./ConfigurationManager"' has no exported member 'DatabaseConfig'. Did you mean to use 'import DatabaseConfig from "./ConfigurationManager"' instead?

[7m68[0m   DatabaseConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m67[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./ConfigurationManager"' has no exported member 'SyncConfig'. Did you mean to use 'import SyncConfig from "./ConfigurationManager"' instead?

[7m67[0m   SyncConfig,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m62[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./GlobalTrafficRoutingManager"' has no exported member 'LatencyTarget'. Did you mean to use 'import LatencyTarget from "./GlobalTrafficRoutingManager"' instead?

[7m62[0m   LatencyTarget,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m61[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./GlobalTrafficRoutingManager"' has no exported member 'TrafficPolicy'. Did you mean to use 'import TrafficPolicy from "./GlobalTrafficRoutingManager"' instead?

[7m61[0m   TrafficPolicy,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m60[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./GlobalTrafficRoutingManager"' has no exported member 'RoutingRule'. Did you mean to use 'import RoutingRule from "./GlobalTrafficRoutingManager"' instead?

[7m60[0m   RoutingRule,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m56[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./EdgeComputingManager"' has no exported member 'EdgeConfig'. Did you mean to use 'import EdgeConfig from "./EdgeComputingManager"' instead?

[7m56[0m   EdgeConfig,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m55[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./EdgeComputingManager"' has no exported member 'EdgeDeployment'. Did you mean to use 'import EdgeDeployment from "./EdgeComputingManager"' instead?

[7m55[0m   EdgeDeployment,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m54[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./EdgeComputingManager"' has no exported member 'EdgeNode'. Did you mean to use 'import EdgeNode from "./EdgeComputingManager"' instead?

[7m54[0m   EdgeNode,
[7m  [0m [91m  ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m50[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./CloudProviderManager"' has no exported member 'ResourceConfig'. Did you mean to use 'import ResourceConfig from "./CloudProviderManager"' instead?

[7m50[0m   ResourceConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m49[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./CloudProviderManager"' has no exported member 'RegionConfig'. Did you mean to use 'import RegionConfig from "./CloudProviderManager"' instead?

[7m49[0m   RegionConfig,
[7m  [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m48[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./CloudProviderManager"' has no exported member 'CloudProvider'. Did you mean to use 'import CloudProvider from "./CloudProviderManager"' instead?

[7m48[0m   CloudProvider,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m44[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./HealthMonitor"' has no exported member 'HealthCheckResult'. Did you mean to use 'import HealthCheckResult from "./HealthMonitor"' instead?

[7m44[0m   HealthCheckResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m43[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./HealthMonitor"' has no exported member 'HealthCheck'. Did you mean to use 'import HealthCheck from "./HealthMonitor"' instead?

[7m43[0m   HealthCheck,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m42[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./HealthMonitor"' has no exported member 'HealthStatus'. Did you mean to use 'import HealthStatus from "./HealthMonitor"' instead?

[7m42[0m   HealthStatus,
[7m  [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m38[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./DeploymentOrchestrator"' has no exported member 'RollbackConfig'. Did you mean to use 'import RollbackConfig from "./DeploymentOrchestrator"' instead?

[7m38[0m   RollbackConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m37[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./DeploymentOrchestrator"' has no exported member named 'DeploymentResult'. Did you mean 'DeploymentPhaseResult'?

[7m37[0m   DeploymentResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m36[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./DeploymentOrchestrator"' has no exported member 'DeploymentConfig'. Did you mean to use 'import DeploymentConfig from "./DeploymentOrchestrator"' instead?

[7m36[0m   DeploymentConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m100[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m100[0m               this.handleSessionCompletion(sessionData.sessionId)
[7m   [0m [91m                                                       ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m99[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m99[0m             if (sessionData && sessionData.sessionId) {
[7m  [0m [91m                                           ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m86[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m86[0m             this.trackActiveSession(sessionData.sessionId)
[7m  [0m [91m                                                ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m85[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m85[0m           if (sessionData && sessionData.sessionId) {
[7m  [0m [91m                                         ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m74[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m74[0m             this.handleSessionUpdate(sessionData.sessionId)
[7m  [0m [91m                                                 ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m73[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m73[0m           if (sessionData && sessionData.sessionId) {
[7m  [0m [91m                                         ~~~~~~~~~[0m

[96msrc/lib/documentation/useDocumentation.ts[0m:[93m419[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m419[0m             ? { errors: rawResult.errors }
[7m   [0m [91m                        ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m418[0m:[93m29[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m418[0m           ...(Array.isArray(rawResult.errors)
[7m   [0m [91m                            ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m417[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m417[0m           ...(rawResult.data !== undefined ? { data: rawResult.data } : {}),
[7m   [0m [91m                                                     ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m417[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m417[0m           ...(rawResult.data !== undefined ? { data: rawResult.data } : {}),
[7m   [0m [91m              ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m410[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m410[0m               ? rawResult.metadata
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m409[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m409[0m             rawResult.metadata !== null
[7m   [0m [91m            ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m408[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m408[0m             typeof rawResult.metadata === 'object' &&
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m405[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m405[0m               ? rawResult.format
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m404[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m404[0m             typeof rawResult.format === 'string'
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m402[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m402[0m             typeof rawResult.success === 'boolean' ? rawResult.success : false,
[7m   [0m [91m                                                     ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m402[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m402[0m             typeof rawResult.success === 'boolean' ? rawResult.success : false,
[7m   [0m [91m                   ~~~~~~~~~[0m

[96msrc/lib/ehr/types.ts[0m:[93m141[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m141[0m   baseUrl: z.string().url(),
[7m   [0m [93m                      ~~~[0m

[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m436[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ read: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m436[0m         mockFhirClient,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m435[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m435[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue(
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m417[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ read: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m417[0m         mockFhirClient,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m416[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m416[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue(
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m396[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m396[0m         mockFhirClient,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m395[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m395[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue(
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m373[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ read: Mock<Procedure>; searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m373[0m         mockFhirClient,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m372[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m372[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue(
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m343[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ read: Mock<Procedure>; searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m343[0m         mockFhirClient,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m342[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m342[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue(
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m270[0m:[93m76[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m270[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                           ~[0m
[7m271[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m272[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m270[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m270[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m253[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m253[0m       ).mockResolvedValue(undefined)
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m252[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyAllscriptsEndpoints"' is not assignable to parameter of type 'never'.

[7m252[0m         'verifyAllscriptsEndpoints',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m247[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m247[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m246[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m246[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m233[0m:[93m76[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m233[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                           ~[0m
[7m234[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m235[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m233[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m233[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m217[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m217[0m       ).mockResolvedValue(undefined)
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m216[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyAllscriptsEndpoints"' is not assignable to parameter of type 'never'.

[7m216[0m         'verifyAllscriptsEndpoints',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m211[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m211[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m210[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m210[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m197[0m:[93m76[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m197[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                           ~[0m
[7m198[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m199[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m197[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m197[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m158[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m158[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m157[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m157[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m144[0m:[93m76[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m144[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                           ~[0m
[7m145[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m146[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m144[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m144[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m140[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m140[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m139[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m139[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m130[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'false' is not assignable to parameter of type 'never'.

[7m130[0m       ).mockResolvedValue(false)
[7m   [0m [91m                          ~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m129[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m129[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m112[0m:[93m76[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m112[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                           ~[0m
[7m113[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m114[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m112[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m112[0m       vi.spyOn(allscriptsProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m80[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m80[0m       ).mockResolvedValue(undefined)
[7m  [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m79[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyAllscriptsEndpoints"' is not assignable to parameter of type 'never'.

[7m79[0m         'verifyAllscriptsEndpoints',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m74[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m74[0m       ).mockResolvedValue(true)
[7m  [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m73[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m73[0m         'validateEndpoint',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/allscripts.test.ts[0m:[93m23[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m23[0m     clientId: testId || 'example-client-id',
[7m  [0m [91m              ~~~~~~[0m

[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m248[0m:[93m78[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m248[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                             ~[0m
[7m249[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m250[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m248[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m248[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m231[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m231[0m       ).mockResolvedValue(undefined)
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m230[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyAthenahealthEndpoints"' is not assignable to parameter of type 'never'.

[7m230[0m         'verifyAthenahealthEndpoints',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m225[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m225[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m224[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m224[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m211[0m:[93m78[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m211[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                             ~[0m
[7m212[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m213[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m211[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m211[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m195[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m195[0m       ).mockResolvedValue(undefined)
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m194[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyAthenahealthEndpoints"' is not assignable to parameter of type 'never'.

[7m194[0m         'verifyAthenahealthEndpoints',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m189[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m189[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m188[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m188[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m175[0m:[93m78[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m175[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                             ~[0m
[7m176[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m177[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m175[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m175[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m136[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m136[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m135[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m135[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m122[0m:[93m78[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m122[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                             ~[0m
[7m123[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m124[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m122[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m122[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m118[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m118[0m       ).mockResolvedValue(true)
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m117[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m117[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m106[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'false' is not assignable to parameter of type 'never'.

[7m106[0m       ).mockResolvedValue(false)
[7m   [0m [91m                          ~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m105[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m105[0m         'validateEndpoint',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m88[0m:[93m78[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m88[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m  [0m [91m                                                                             ~[0m
[7m89[0m         searchResources: mockSearchResources,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m90[0m       })
[7m  [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m88[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m88[0m       vi.spyOn(athenahealthProvider as unknown, 'getClient').mockReturnValue({
[7m  [0m [91m                                                ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m56[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m56[0m       ).mockResolvedValue(undefined)
[7m  [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m55[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyAthenahealthEndpoints"' is not assignable to parameter of type 'never'.

[7m55[0m         'verifyAthenahealthEndpoints',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m50[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m50[0m       ).mockResolvedValue(true)
[7m  [0m [91m                          ~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m49[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m49[0m         'validateEndpoint',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/athenahealth.test.ts[0m:[93m14[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m14[0m     clientId: testId || 'example-client-id',
[7m  [0m [91m              ~~~~~~[0m

[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m112[0m:[93m72[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m112[0m       vi.spyOn(cernerProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                                                       ~[0m
[7m113[0m         searchResources: mockSearchResources,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m114[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m112[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m112[0m       vi.spyOn(cernerProvider as unknown, 'getClient').mockReturnValue({
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m98[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m98[0m         true,
[7m  [0m [91m        ~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m97[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m97[0m       vi.spyOn(cernerProvider as unknown, 'validateEndpoint').mockResolvedValue(
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m86[0m:[93m72[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m86[0m       vi.spyOn(cernerProvider as unknown, 'getClient').mockReturnValue({
[7m  [0m [91m                                                                       ~[0m
[7m87[0m         searchResources: mockSearchResources,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m88[0m       })
[7m  [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m86[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m86[0m       vi.spyOn(cernerProvider as unknown, 'getClient').mockReturnValue({
[7m  [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m81[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m81[0m         true,
[7m  [0m [91m        ~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m80[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m80[0m       vi.spyOn(cernerProvider as unknown, 'validateEndpoint').mockResolvedValue(
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m72[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'false' is not assignable to parameter of type 'never'.

[7m72[0m         false,
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m71[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m71[0m       vi.spyOn(cernerProvider as unknown, 'validateEndpoint').mockResolvedValue(
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m56[0m:[93m72[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; }' is not assignable to parameter of type 'never'.

[7m56[0m       vi.spyOn(cernerProvider as unknown, 'getClient').mockReturnValue({
[7m  [0m [91m                                                                       ~[0m
[7m57[0m         searchResources: mockSearchResources,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m58[0m       })
[7m  [0m [91m~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m56[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m56[0m       vi.spyOn(cernerProvider as unknown, 'getClient').mockReturnValue({
[7m  [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m50[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'undefined' is not assignable to parameter of type 'never'.

[7m50[0m       ).mockResolvedValue(undefined)
[7m  [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m49[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"verifyCernerEndpoints"' is not assignable to parameter of type 'never'.

[7m49[0m         'verifyCernerEndpoints',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m43[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m43[0m         true,
[7m  [0m [91m        ~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m42[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m42[0m       vi.spyOn(cernerProvider as unknown, 'validateEndpoint').mockResolvedValue(
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/cerner.test.ts[0m:[93m15[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m15[0m     clientId: testId || 'example-client-id',
[7m  [0m [91m              ~~~~~~[0m

[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m219[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'false' is not assignable to parameter of type 'never'.

[7m219[0m         false,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m218[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m218[0m       vi.spyOn(epicProvider as unknown, 'validateEndpoint').mockResolvedValue(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m201[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ searchResources: Mock<Procedure>; read: Mock<Procedure>; create: Mock<Procedure>; update: Mock<Procedure>; delete: Mock<...>; }' is not assignable to parameter of type 'never'.

[7m201[0m         mockFhirClient,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m200[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"getClient"' is not assignable to parameter of type 'never'.

[7m200[0m       vi.spyOn(epicProvider as unknown, 'getClient').mockReturnValue(
[7m   [0m [91m                                        ~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m137[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'true' is not assignable to parameter of type 'never'.

[7m137[0m         true,
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m136[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"validateEndpoint"' is not assignable to parameter of type 'never'.

[7m136[0m       vi.spyOn(epicProvider as unknown, 'validateEndpoint').mockResolvedValue(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m109[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m109[0m     clientId: testId || 'example-client-id',
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m87[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is not assignable to parameter of type 'EHRProvider'.
  Type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is missing the following properties from type 'EHRProvider': initialize, cleanup

[7m87[0m       await ehrService.configureProvider(mockProvider)
[7m  [0m [91m                                         ~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m78[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is not assignable to parameter of type 'EHRProvider'.
  Type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is missing the following properties from type 'EHRProvider': initialize, cleanup

[7m78[0m       await ehrService.configureProvider(mockProvider)
[7m  [0m [91m                                         ~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m67[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is not assignable to parameter of type 'EHRProvider'.
  Type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is missing the following properties from type 'EHRProvider': initialize, cleanup

[7m67[0m       await ehrService.configureProvider(mockProvider)
[7m  [0m [91m                                         ~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m53[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is not assignable to parameter of type 'EHRProvider'.
  Type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is missing the following properties from type 'EHRProvider': initialize, cleanup

[7m53[0m       await ehrService.configureProvider(mockProvider)
[7m  [0m [91m                                         ~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m46[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ vendor: string; id: string; name: string; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is not assignable to parameter of type 'EHRProvider'.
  Type '{ vendor: string; id: string; name: string; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is missing the following properties from type 'EHRProvider': initialize, cleanup

[7m46[0m         ehrService.configureProvider(invalidProvider),
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m36[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is not assignable to parameter of type 'EHRProvider'.
  Type '{ id: string; name: string; vendor: "epic"; baseUrl: string; clientId: any; clientSecret: string; scopes: string[]; }' is missing the following properties from type 'EHRProvider': initialize, cleanup

[7m36[0m         ehrService.configureProvider(mockProvider),
[7m  [0m [91m                                     ~~~~~~~~~~~~[0m
[96msrc/lib/ehr/__tests__/ehr.test.ts[0m:[93m17[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m17[0m     clientId: testId || 'example-client-id',
[7m  [0m [91m              ~~~~~~[0m

[96msrc/lib/ehr/providers/allscripts.provider.ts[0m:[93m161[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m161[0m   async cleanup(): Promise<void> {
[7m   [0m [91m        ~~~~~~~[0m
[96msrc/lib/ehr/providers/allscripts.provider.ts[0m:[93m131[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'capabilityStatement' is of type 'unknown'.

[7m131[0m     const security = capabilityStatement.rest[0]?.security
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/providers/allscripts.provider.ts[0m:[93m123[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'capabilityStatement' is of type 'unknown'.

[7m123[0m       if (!capabilityStatement[feature]) {
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ehr/providers/allscripts.provider.ts[0m:[93m31[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m31[0m   async initialize(): Promise<void> {
[7m  [0m [91m        ~~~~~~~~~~[0m

[96msrc/lib/ehr/providers/athenahealth.provider.ts[0m:[93m186[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m186[0m   async cleanup(): Promise<void> {
[7m   [0m [91m        ~~~~~~~[0m
[96msrc/lib/ehr/providers/athenahealth.provider.ts[0m:[93m57[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m57[0m   async initialize(): Promise<void> {
[7m  [0m [91m        ~~~~~~~~~~[0m

[96msrc/lib/ehr/providers/cerner.provider.ts[0m:[93m111[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m111[0m   async cleanup(): Promise<void> {
[7m   [0m [91m        ~~~~~~~[0m
[96msrc/lib/ehr/providers/cerner.provider.ts[0m:[93m29[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m29[0m   async initialize(): Promise<void> {
[7m  [0m [91m        ~~~~~~~~~~[0m

[96msrc/lib/ehr/providers/epic.provider.ts[0m:[93m69[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m69[0m   async cleanup(): Promise<void> {
[7m  [0m [91m        ~~~~~~~[0m
[96msrc/lib/ehr/providers/epic.provider.ts[0m:[93m24[0m:[93m9[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BaseEHRProvider'.

[7m24[0m   async initialize(): Promise<void> {
[7m  [0m [91m        ~~~~~~~~~~[0m

[96msrc/lib/ehr/services/oauth2.service.ts[0m:[93m48[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'access_token' does not exist on type 'string'.

[7m48[0m     return newToken.access_token
[7m  [0m [91m                    ~~~~~~~~~~~~[0m

[96msrc/lib/ehr/services/redis.storage.ts[0m:[93m13[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m13[0m     this.client.on('error', (err) => {
[7m  [0m [93m                             ~~~[0m
[96msrc/lib/ehr/services/redis.storage.ts[0m:[93m5[0m:[93m11[0m - [93mwarning[0m[90m ts(7045): [0mMember 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m5[0m   private client
[7m [0m [93m          ~~~~~~[0m

[96msrc/lib/export/index.browser.ts[0m:[93m210[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'JSON_FORMAT' does not exist on type 'typeof ExportFormat'.

[7m210[0m       if (exportOptions.format === ExportFormat.JSON_FORMAT) {
[7m   [0m [91m                                                ~~~~~~~~~~~[0m

[96msrc/lib/export/index.node.ts[0m:[93m16[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'pdfkit' or its corresponding type declarations.

[7m16[0m import PDFDocument from 'pdfkit'
[7m  [0m [91m                        ~~~~~~~~[0m
[96msrc/lib/export/index.node.ts[0m:[93m17[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'archiver'. '/home/vivi/pixelated/node_modules/.pnpm/archiver@7.0.1/node_modules/archiver/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/archiver` if it exists or add a new declaration (.d.ts) file containing `declare module 'archiver';`

[7m17[0m import archiver from 'archiver'
[7m  [0m [93m                     ~~~~~~~~~~[0m

[96msrc/lib/fhe/enhanced-service.ts[0m:[93m128[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '(encryptedData: string, operation: FHEOperation | string, params?: Record<string, unknown>) => Promise<unknown>' is not assignable to type '(encryptedData: string, operation: string, params?: Record<string, unknown> | undefined) => Promise<FHEOperationResult<string>>'.
  Type 'Promise<unknown>' is not assignable to type 'Promise<FHEOperationResult<string>>'.

[7m128[0m     enhancedService.processEncrypted = async (
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/exports.ts[0m:[93m81[0m:[93m10[0m - [91merror[0m[90m ts(2614): [0mModule '"./index"' has no exported member 'FHEService'. Did you mean to use 'import FHEService from "./index"' instead?

[7m81[0m export { FHEService } from './index'
[7m  [0m [91m         ~~~~~~~~~~[0m
[96msrc/lib/fhe/exports.ts[0m:[93m69[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'fheService' does not exist on type 'typeof import("/home/vivi/pixelated/src/lib/fhe/index")'.

[7m69[0m   const { fheService } = await import('./index')
[7m  [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/fhe/exports.ts[0m:[93m28[0m:[93m10[0m - [91merror[0m[90m ts(2614): [0mModule '"./index"' has no exported member 'fheService'. Did you mean to use 'import fheService from "./index"' instead?

[7m28[0m export { fheService } from './index'
[7m  [0m [91m         ~~~~~~~~~~[0m

[96msrc/lib/fhe/fhe-factory.ts[0m:[93m331[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m331[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m325[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m325[0m       const result = await sealOperations.rotate(ciphertext, steps)
[7m   [0m [91m                                                 ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m305[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m305[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m299[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m299[0m       const result = await sealOperations.polynomial(ciphertext, coefficients)
[7m   [0m [91m                                                     ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m279[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m279[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m273[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m273[0m       const result = await sealOperations.negate(ciphertext)
[7m   [0m [91m                                                 ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m256[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m256[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m248[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m248[0m         aCiphertext as string,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m222[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m222[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m214[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m214[0m         aCiphertext as string,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m188[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m188[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m180[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m180[0m         aCiphertext as string,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m154[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m154[0m       return (await sealService.decrypt(ciphertext)) as T
[7m   [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m133[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'SealCipherText' is not assignable to parameter of type 'string'.

[7m133[0m       return createEncryptedData(encrypted, data as number[])
[7m   [0m [91m                                 ~~~~~~~~~[0m

[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1664[0m:[93m34[0m - [91merror[0m[90m ts(2551): [0mProperty 'MAX_KEY_AGE_DAYS' does not exist on type '{ readonly KEY_ROTATION_PERIOD_DAYS: 7; readonly MAX_KEY_AGE_MS: number; readonly KEY_DERIVATION_ITERATIONS: 100000; readonly SECURE_RANDOM_BYTES: 32; readonly LOCK_TIMEOUT_MS: number; ... 14 more ...; readonly REQUIRED_ENV_VARS: readonly [...]; }'. Did you mean 'MAX_KEY_AGE_MS'?

[7m1664[0m       if (!HIPAA_SECURITY_CONFIG.MAX_KEY_AGE_DAYS) {
[7m    [0m [91m                                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1420[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'actor' does not exist in type 'AuditEvent'.

[7m1420[0m           actor: 'system',
[7m    [0m [91m          ~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1248[0m:[93m11[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types '2555' and '0' have no overlap.

[7m1248[0m       if (auditRetentionDays === 0) {
[7m    [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1060[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'MAX_KEY_AGE_DAYS' does not exist on type '{ readonly KEY_ROTATION_PERIOD_DAYS: 7; readonly MAX_KEY_AGE_MS: number; readonly KEY_DERIVATION_ITERATIONS: 100000; readonly SECURE_RANDOM_BYTES: 32; readonly LOCK_TIMEOUT_MS: number; ... 14 more ...; readonly REQUIRED_ENV_VARS: readonly [...]; }'. Did you mean 'MAX_KEY_AGE_MS'?

[7m1060[0m       const maxKeyAge = HIPAA_SECURITY_CONFIG.MAX_KEY_AGE_DAYS || 90
[7m    [0m [91m                                              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1009[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'actor' does not exist in type 'AuditEvent'.

[7m1009[0m           actor: 'system',
[7m    [0m [91m          ~~~~~[0m

[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m436[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m436[0m           decodedData = parsed.data
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m435[0m:[93m35[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m435[0m         if (parsed.data && typeof parsed.data === 'string') {
[7m   [0m [91m                                  ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m435[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m435[0m         if (parsed.data && typeof parsed.data === 'string') {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m395[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m395[0m         rotResult = await this.sealOps.rotate(serializedCiphertext, steps)
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m387[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m387[0m           serializedCiphertext,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m380[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m380[0m         negResult = await this.sealOps.negate(serializedCiphertext)
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m373[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m373[0m           serializedCiphertext,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m364[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m364[0m           serializedCiphertext,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m357[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m357[0m         addResult = await this.sealOps.add(serializedCiphertext, addend)
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m417[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'tokens' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m417[0m     let tokens
[7m   [0m [93m        ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m351[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'rotResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m351[0m     let rotResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m350[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'steps' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m350[0m     let steps
[7m   [0m [93m        ~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m349[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'polyResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m349[0m     let polyResult
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m348[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'coefficients' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m348[0m     let coefficients
[7m   [0m [93m        ~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m347[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'negResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m347[0m     let negResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m346[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'multResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m346[0m     let multResult
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m345[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'multiplier' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m345[0m     let multiplier
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m344[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'subResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m344[0m     let subResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m343[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'subtrahend' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m343[0m     let subtrahend
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m342[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'addResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m342[0m     let addResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m341[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'addend' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m341[0m     let addend
[7m   [0m [93m        ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m221[0m:[93m13[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'parsedData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m221[0m         let parsedData
[7m   [0m [93m            ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m213[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'opResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m213[0m       let opResult
[7m   [0m [93m          ~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m212[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'categoryResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m212[0m       let categoryResult
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m211[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'sentimentResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m211[0m       let sentimentResult
[7m   [0m [93m          ~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/index.ts[0m:[93m68[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m68[0m       data: string,
[7m  [0m [93m      ~~~~[0m

[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m788[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'determineSecurityLevel' is declared but its value is never read.

[7m788[0m   private determineSecurityLevel(complexity: number): SecurityLevel {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m548[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'basePreset' is declared but its value is never read.

[7m548[0m     basePreset: string,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m474[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'basePreset' is declared but its value is never read.

[7m474[0m     basePreset: string,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m442[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'basePreset' is declared but its value is never read.

[7m442[0m     basePreset: string,
[7m   [0m [93m    ~~~~~~~~~~[0m

[96msrc/lib/fhe/pattern-recognition-factory.ts[0m:[93m107[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'severityScore' is missing in type '{ id: string; riskFactor: string; correlatedFactors: { factor: string; strength: number; }[]; confidence: number; significance: string; }' but required in type 'RiskCorrelation'.

[7m107[0m       {
[7m   [0m [91m      ~[0m
[7m108[0m         id: nanoid(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m112[0m         significance: 'Strong correlation detected',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m113[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe/pattern-recognition-factory.ts[0m:[93m83[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'number'.

[7m83[0m         significance: 'Medium significance',
[7m  [0m [91m        ~~~~~~~~~~~~[0m

[96msrc/lib/fhe/seal-context.ts[0m:[93m197[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'schemeType' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m197[0m     let schemeType
[7m   [0m [93m        ~~~~~~~~~~[0m

[96msrc/lib/fhe/test-seal-integration.ts[0m:[93m94[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'SealCipherText'.

[7m94[0m       const decryptedMult = await service.decrypt(multResult.result)
[7m  [0m [91m                                                  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/test-seal-integration.ts[0m:[93m78[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'SealCipherText'.

[7m78[0m       const decryptedAdd = await service.decrypt(addResult.result)
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/__tests__/key-rotation.test.ts[0m:[93m20[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m20[0m     ;(KeyRotationService as unknown).instance = undefined
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m15[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../tenant-manager' or its corresponding type declarations.

[7m15[0m import { tenantManager } from '../tenant-manager'
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m14[0m:[93m10[0m - [91merror[0m[90m ts(2614): [0mModule '"../index"' has no exported member 'fheService'. Did you mean to use 'import fheService from "../index"' instead?

[7m14[0m import { fheService } from '../index'
[7m  [0m [91m         ~~~~~~~~~~[0m

[96msrc/lib/hooks/useMultidimensionalEmotions.ts[0m:[93m3[0m:[93m46[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/ai/temporal/types' or its corresponding type declarations.

[7m3[0m import type { MultidimensionalPattern } from '@/lib/ai/temporal/types'
[7m [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/hooks/useMultidimensionalEmotions.ts[0m:[93m2[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"@/lib/ai/emotions/dimensionalTypes"' has no exported member named 'DimensionalEmotionMap'. Did you mean 'DimensionalEmotion'?

[7m2[0m import type { DimensionalEmotionMap } from '@/lib/ai/emotions/dimensionalTypes'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/jobs/queue.ts[0m:[93m280[0m:[93m58[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m280[0m           .map((jobStr: string) => JSON.parse(jobStr) as unknown.id)
[7m   [0m [91m                                                         ~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m278[0m:[93m38[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m278[0m               (JSON.parse(jobStr) as unknown.status) === JobStatus.CANCELLED,
[7m   [0m [91m                                     ~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m247[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown[]' is not assignable to type 'Job<unknown>[]'.
  Type 'unknown' is not assignable to type 'Job<unknown>'.

[7m247[0m     return jobStrings.map((jobString) => JSON.parse(jobString) as unknown)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m241[0m:[93m36[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m241[0m             (JSON.parse(jobStr) as unknown.status) === JobStatus.CANCELLED,
[7m   [0m [91m                                   ~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m202[0m:[93m25[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'Job<unknown> | null'.

[7m202[0m     return jobString ? (JSON.parse(jobString) as unknown) : null
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m145[0m:[93m9[0m - [91merror[0m[90m ts(2698): [0mSpread types may only be created from object types.

[7m145[0m         ...(JSON.parse(currentJobString) as unknown),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m117[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'Job<unknown>'.

[7m117[0m     const job: Job = JSON.parse(jobString[0].value) as unknown
[7m   [0m [91m          ~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m258[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'jobStr' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m258[0m         jobIds = pendingJobs.map((jobStr) => {
[7m   [0m [93m                                  ~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m219[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m219[0m         jobStrings = pendingJobsWithScores.map((item) => {
[7m   [0m [93m                                                ~~~~[0m

[96msrc/lib/jobs/worker.ts[0m:[93m180[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ format: "json" | "csv" | "pdf" | undefined; includeDetails: boolean; groupBy?: string; filters?: Record<string, unknown>; }' is not assignable to parameter of type '{ format?: "json" | "csv" | undefined; }'.
  Types of property 'format' are incompatible.

[7m180[0m             safeOptions,
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/lib/jobs/worker.ts[0m:[93m174[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }' is not assignable to type 'BiasReport | undefined'.
  Type '{ summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }' is missing the following properties from type 'BiasReport': reportId, title, description, createdAt, data

[7m174[0m           report = await biasDetectionEngine.generateBiasReport(
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/jobs/worker.ts[0m:[93m142[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeSessionsBatch' does not exist on type 'BiasDetectionEngine'. Did you mean 'analyzeSession'?

[7m142[0m           results = await biasDetectionEngine.analyzeSessionsBatch(
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/logging/performance-logger.ts[0m:[93m127[0m:[93m45[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m127[0m   public async cleanup(retentionDays = 30): void {
[7m   [0m [91m                                            ~~~~[0m
[96msrc/lib/logging/performance-logger.ts[0m:[93m116[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PerformanceMetrics'.

[7m116[0m           metrics.push(...fileMetrics)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/logging/performance-logger.ts[0m:[93m41[0m:[93m55[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m41[0m   public async logMetric(metric: PerformanceMetrics): void {
[7m  [0m [91m                                                      ~~~~[0m

[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m667[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'to' does not exist on type '{}'.

[7m667[0m     expect(result.contextDetectionResult.metadata.transition?.to).toBe(
[7m   [0m [91m                                                              ~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m664[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'from' does not exist on type '{}'.

[7m664[0m     expect(result.contextDetectionResult.metadata.transition?.from).toBe(
[7m   [0m [91m                                                              ~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m518[0m:[93m25[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m518[0m           expect(typeof (result as unknown).explanation).toBe('string')
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m517[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m517[0m           expect((result as unknown).explanation).toBeTruthy()
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m516[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m516[0m           expect((result as unknown).confidence).toBeLessThanOrEqual(1)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m515[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m515[0m           expect((result as unknown).confidence).toBeGreaterThanOrEqual(0)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m514[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m514[0m           expect((result as unknown).score).toBeLessThanOrEqual(1)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m513[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m513[0m           expect((result as unknown).score).toBeGreaterThanOrEqual(0)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m512[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m512[0m           expect((result as unknown).objectiveId).toBe(objectiveId)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m408[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m408[0m         aiService: failingAIService,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m267[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/home/vivi/pixelated/src/lib/ai/models/types").AIService' is not assignable to parameter of type 'import("/home/vivi/pixelated/src/lib/ai/models/ai-types").AIService'.
  Type 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m267[0m         baseAIService,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m261[0m:[93m14[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m261[0m       expect((response as unknown).choices?.[0]?.message?.content).toBeDefined()
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m260[0m:[93m14[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m260[0m       expect((response as unknown).content).toBeDefined()
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m238[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/home/vivi/pixelated/src/lib/ai/models/types").AIService' is not assignable to parameter of type 'import("/home/vivi/pixelated/src/lib/ai/models/ai-types").AIService'.
  Type 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m238[0m         baseAIService,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m72[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m72[0m       aiService: mockAIService,
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m50[0m:[93m5[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'createStreamingChatCompletion' does not exist in type 'Partial<AIService>'. Did you mean to write 'createChatCompletion'?

[7m50[0m     createStreamingChatCompletion: vi.fn(),
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m17[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m17[0m // @ts-expect-error: Type declarations may be missing for test context
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m15[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m15[0m // @ts-expect-error: Type declarations may be missing for test context
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m6[0m:[93m37[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/models/types"' has no exported member 'AICompletion'.

[7m6[0m import type { AIMessage, AIService, AICompletion } from '../../ai/models/types'
[7m [0m [91m                                    ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m6[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/models/types"' has no exported member 'AIMessage'.

[7m6[0m import type { AIMessage, AIService, AICompletion } from '../../ai/models/types'
[7m [0m [91m              ~~~~~~~~~[0m

[96msrc/lib/metaaligner/api/unified-api.ts[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../core/objective-interfaces"' has no exported member 'AlignmentMetrics'.

[7m10[0m   AlignmentMetrics,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/batch/batch-processor.ts[0m:[93m77[0m:[93m30[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m77[0m     if (this.queue.length >= this.config.batchSize) {
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/batch/batch-processor.ts[0m:[93m52[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'api' is declared but its value is never read.

[7m52[0m   private api: IUnifiedMetaAlignerAPI
[7m  [0m [93m          ~~~[0m

[96msrc/lib/metaaligner/context/context-injector.ts[0m:[93m47[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'detectedContext' does not exist in type 'UnifiedContext'.

[7m47[0m         detectedContext,
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/context/context-injector.ts[0m:[93m52[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m52[0m   private validateContext(context: ContextType): boolean {
[7m  [0m [93m                          ~~~~~~~[0m

[96msrc/lib/metaaligner/core/objective-metrics.test.ts[0m:[93m305[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: Date; objectiveResults: { correctness: { score: number; objectiveId: string; criteriaScores: Record<string, number>; confidence: number; explanation?: string; metadata: EvaluationMetadata; }; }; ... 4 more ...; evaluationContext: AlignmentContext; }' is not assignable to parameter of type 'never'.

[7m305[0m         evaluations.push(evaluation)
[7m   [0m [91m                         ~~~~~~~~~~[0m

[96msrc/lib/metaaligner/core/objective-weighting.ts[0m:[93m218[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'ContextualObjectiveWeights' to type 'Record<string, number>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Index signature for type 'string' is missing in type 'ContextualObjectiveWeights'.

[7m218[0m         (contextual as Record<string, number>)[objectiveId] ?? base
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/enhancement/enhancement-processor.ts[0m:[93m63[0m:[93m25[0m - [93mwarning[0m[90m ts(6133): [0m'content' is declared but its value is never read.

[7m63[0m   private scoreResponse(content: string): number {
[7m  [0m [93m                        ~~~~~~~[0m

[96msrc/lib/metaaligner/error-handling/circuit-breaker.ts[0m:[93m34[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'lastError' is declared but its value is never read.

[7m34[0m   private lastError: Error | null = null
[7m  [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/metaaligner/formats/conversion.ts[0m:[93m37[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ enhancedResponse: string; originalResponse: string; alignment: { evaluation: Record<string | number | symbol, unknown>; metrics: Record<string | number | symbol, unknown>; enhanced: boolean; enhancementAttempts: number; }; errors?: { ...; }[] | undefined; version?: string | undefined; }' is not assignable to type 'UnifiedProcessingResponse'.
  The types of 'alignment.evaluation' are incompatible between these types.

[7m37[0m   return validateData(UnifiedProcessingResponseSchema, data)
[7m  [0m [91m  ~~~~~~[0m

[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m44[0m:[93m16[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m44[0m     metrics: z.record(z.unknown()), // This could be more specific if AlignmentMetrics has a Zod schema
[7m  [0m [91m               ~~~~~~[0m
[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m43[0m:[93m19[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m43[0m     evaluation: z.record(z.unknown()), // This could be more specific if AlignmentEvaluationResult has a Zod schema
[7m  [0m [91m                  ~~~~~~[0m
[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m14[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m14[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m13[0m:[93m35[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m13[0m   content: z.union([z.string(), z.record(z.unknown())]),
[7m  [0m [91m                                  ~~~~~~[0m

[96msrc/lib/metaaligner/formats/validation.ts[0m:[93m24[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m24[0m         `Validation failed: ${error.errors.map((e) => e.message).join(', ')}`,
[7m  [0m [91m                                    ~~~~~~[0m
[96msrc/lib/metaaligner/formats/validation.ts[0m:[93m24[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m24[0m         `Validation failed: ${error.errors.map((e) => e.message).join(', ')}`,
[7m  [0m [93m                                                ~[0m

[96msrc/lib/metaaligner/objectives/objective-injector.ts[0m:[93m40[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'objectives' does not exist in type 'UnifiedContext'.

[7m40[0m         objectives: resolvedObjectives,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/objectives/objective-injector.ts[0m:[93m7[0m:[93m47[0m - [91merror[0m[90m ts(2307): [0mCannot find module './objectives' or its corresponding type declarations.

[7m7[0m import { CORE_MENTAL_HEALTH_OBJECTIVES } from './objectives'
[7m [0m [91m                                              ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/objectives/objective-injector.ts[0m:[93m52[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'request' is declared but its value is never read.

[7m52[0m     request: UnifiedProcessingRequest,
[7m  [0m [93m    ~~~~~~~[0m
[96msrc/lib/metaaligner/objectives/objective-injector.ts[0m:[93m45[0m:[93m30[0m - [93mwarning[0m[90m ts(6133): [0m'objectives' is declared but its value is never read.

[7m45[0m   private validateObjectives(objectives: ObjectiveDefinition[]): boolean {
[7m  [0m [93m                             ~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m286[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m286[0m             ? parsed.metadata.relatedTopics
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m285[0m:[93m40[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m285[0m           relatedTopics: Array.isArray(parsed.metadata?.relatedTopics)
[7m   [0m [91m                                       ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m283[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m283[0m             ? parsed.metadata.practicalApplications
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m281[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m281[0m             parsed.metadata?.practicalApplications,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m278[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m278[0m             Math.min(1, parsed.metadata?.conceptualDepth || 0.5),
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m273[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m273[0m           ? parsed.priorKnowledgeRequired
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m272[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m272[0m         priorKnowledgeRequired: Array.isArray(parsed.priorKnowledgeRequired)
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m270[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m270[0m           parsed.recommendedResources,
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m267[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m267[0m           ? parsed.learningObjectives
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m266[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m266[0m         learningObjectives: Array.isArray(parsed.learningObjectives)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m264[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m264[0m         complexity: this.validateComplexity(parsed.complexity),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m262[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m262[0m         confidence: Math.max(0, Math.min(1, parsed.confidence || 0.8)),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m261[0m:[93m32[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m261[0m         isEducational: Boolean(parsed.isEducational),
[7m   [0m [91m                               ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m246[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'createChatCompletion' does not exist on type '{}'.

[7m246[0m     const response = await this.config.aiService.createChatCompletion(
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m364[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'to' does not exist on type '{}'.

[7m364[0m     expect(result.contextDetectionResult.metadata.transition?.to).toBe(
[7m   [0m [91m                                                              ~~[0m
[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m361[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'from' does not exist on type '{}'.

[7m361[0m     expect(result.contextDetectionResult.metadata.transition?.from).toBe(
[7m   [0m [91m                                                              ~~~~[0m
[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m29[0m:[93m3[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'createStreamingChatCompletion' does not exist in type 'AIService'. Did you mean to write 'createChatCompletion'?

[7m29[0m   createStreamingChatCompletion: vi.fn(),
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/adaptive-selector.ts[0m:[93m120[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ objectives: Record<string, number>; contextualWeights: {}; globalSettings: { enableDynamicWeighting: boolean; enableContextualAdjustment: boolean; minObjectiveScore: number; maxObjectiveScore: number; normalizationMethod: number; aggregationMethod: number; }; }' is not assignable to parameter of type 'ObjectiveConfiguration'.
  The types of 'globalSettings.normalizationMethod' are incompatible between these types.

[7m120[0m       objectiveConfig,
[7m   [0m [91m      ~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m26[0m:[93m3[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'createStreamingChatCompletion' does not exist in type 'AIService'. Did you mean to write 'createChatCompletion'?

[7m26[0m   createStreamingChatCompletion: vi.fn(),
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m648[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m648[0m             parsed.metadata?.ageAppropriateness,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m645[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m645[0m             ? parsed.metadata.relatedTopics
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m644[0m:[93m40[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m644[0m           relatedTopics: Array.isArray(parsed.metadata?.relatedTopics)
[7m   [0m [91m                                       ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m642[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m642[0m             ? parsed.metadata.practicalApplications
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m640[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m640[0m             parsed.metadata?.practicalApplications,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m637[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m637[0m             Math.min(1, parsed.metadata?.conceptualDepth || 0.5),
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m632[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m632[0m           ? parsed.priorKnowledgeRequired
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m631[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m631[0m         priorKnowledgeRequired: Array.isArray(parsed.priorKnowledgeRequired)
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m627[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m627[0m           ? parsed.recommendedResources
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m626[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m626[0m         recommendedResources: Array.isArray(parsed.recommendedResources)
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m624[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m624[0m           ? parsed.learningObjectives
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m623[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m623[0m         learningObjectives: Array.isArray(parsed.learningObjectives)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m622[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m622[0m         topicArea: this.validateTopicArea(parsed.topicArea),
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m621[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m621[0m         complexity: this.validateComplexity(parsed.complexity),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m620[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m620[0m         educationalType: this.validateEducationalType(parsed.educationalType),
[7m   [0m [91m                                                      ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m619[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m619[0m         confidence: Math.max(0, Math.min(1, parsed.confidence || 0.5)),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m618[0m:[93m32[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m618[0m         isEducational: Boolean(parsed.isEducational),
[7m   [0m [91m                               ~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/objective-switcher.ts[0m:[93m6[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./context-objective-mapping"' has no exported member 'getContextObjectives'.

[7m6[0m   getContextObjectives,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/objective-switcher.ts[0m:[93m14[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'lastContext' is declared but its value is never read.

[7m14[0m   private lastContext?: ContextEvent
[7m  [0m [93m          ~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/objective-weighting-strategy.ts[0m:[93m48[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'params.customFactors' is possibly 'undefined'.

[7m48[0m       obj.key in params.customFactors
[7m  [0m [91m                 ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m349[0m:[93m87[0m - [91merror[0m[90m ts(18046): [0m'enhancedResult' is of type 'unknown'.

[7m349[0m             explanation: `Score improved from ${originalResult.score.toFixed(3)} to ${enhancedResult.score.toFixed(3)}`,
[7m   [0m [91m                                                                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m340[0m:[93m34[0m - [91merror[0m[90m ts(18046): [0m'enhancedResult' is of type 'unknown'.

[7m340[0m         const scoreImprovement = enhancedResult.score - originalResult.score
[7m   [0m [91m                                 ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m164[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m164[0m           finalEvaluation.overallScore - initialEvaluation.overallScore
[7m   [0m [91m                                                           ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m164[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m164[0m           finalEvaluation.overallScore - initialEvaluation.overallScore
[7m   [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m162[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m162[0m         enhancedScore: finalEvaluation.overallScore.toFixed(3),
[7m   [0m [91m                                       ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m161[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m161[0m         originalScore: initialEvaluation.overallScore.toFixed(3),
[7m   [0m [91m                                         ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m118[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m118[0m           score: initialEvaluation.overallScore,
[7m   [0m [91m                                   ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m113[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m113[0m         initialEvaluation.overallScore <
[7m   [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../core/objectives"' has no exported member 'AlignmentMetrics'.

[7m9[0m   AlignmentMetrics,
[7m [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m8[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../core/objectives"' has no exported member 'AlignmentEvaluationResult'.

[7m8[0m   AlignmentEvaluationResult,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/quality/quality-metrics.ts[0m:[93m23[0m:[93m26[0m - [93mwarning[0m[90m ts(6133): [0m'response' is declared but its value is never read.

[7m23[0m   public async calculate(response: string): Promise<Record<string, number>> {
[7m  [0m [93m                         ~~~~~~~~[0m

[96msrc/lib/metaaligner/streaming/streaming-handler.ts[0m:[93m42[0m:[93m16[0m - [91merror[0m[90m ts(2416): [0mProperty 'processStream' in type 'StreamingHandler' is not assignable to the same property in base type 'IStreamingHandler'.
  Type '(request: UnifiedProcessingRequest, onChunk: (chunk: UnifiedProcessingResponse) => void, onError: (error: Error) => void) => Promise<...>' is not assignable to type '(request: UnifiedProcessingRequest, onChunk: (chunk: UnifiedProcessingResponse) => void) => Promise<void>'.

[7m42[0m   public async processStream(
[7m  [0m [91m               ~~~~~~~~~~~~~[0m

[96msrc/lib/middleware/auth.middleware.ts[0m:[93m265[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'AuthUser'.

[7m265[0m         user.id,
[7m   [0m [91m             ~~[0m
[96msrc/lib/middleware/auth.middleware.ts[0m:[93m246[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '(request: Request, context: Record<string, unknown>) => Promise<Response | undefined>' is not assignable to type 'void'.

[7m246[0m   return async (
[7m   [0m [91m  ~~~~~~[0m
[96msrc/lib/middleware/auth.middleware.ts[0m:[93m81[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies | undefined' is not assignable to parameter of type 'CookiesLike'.
  Type 'undefined' is not assignable to type 'CookiesLike'.

[7m81[0m     const user = await getCurrentUser(context.cookies)
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/auth.middleware.ts[0m:[93m80[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '(context: APIContext) => Promise<Response | undefined>' is not assignable to type 'void'.

[7m80[0m   return async (context: APIContext): Promise<Response | undefined> => {
[7m  [0m [91m  ~~~~~~[0m
[96msrc/lib/middleware/auth.middleware.ts[0m:[93m31[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies | undefined' is not assignable to parameter of type 'CookiesLike'.
  Type 'undefined' is not assignable to type 'CookiesLike'.

[7m31[0m   const user = await getCurrentUser(context.cookies)
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/auth.middleware.ts[0m:[93m16[0m:[93m11[0m - [91merror[0m[90m ts(2430): [0mInterface 'APIContextWithUser' incorrectly extends interface 'APIContext'.
  Types of property 'locals' are incompatible.

[7m16[0m interface APIContextWithUser extends APIContext {
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/auth.middleware.ts[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../audit/log"' has no exported member 'createResourceAuditLog'.

[7m7[0m import { createResourceAuditLog } from '../audit/log'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/middleware/csrf.ts[0m:[93m154[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/home/vivi/pixelated/node_modules/.pnpm/astro@5.15.1_@azure+storage-blob@12.28.0_@types+node@24.7.2_@upstash+redis@1.35.5_@verc_689c0c127708268dd190515c64a92522/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to parameter of type 'import("astro").AstroCookies'.
  The types returned by 'get(...)' are incompatible between these types.

[7m154[0m         setCSRFCookie(cookies, csrfToken, config)
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/middleware/csrf.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '"strict" | "none" | "lax"' is not assignable to type 'boolean | "None" | "Lax" | "Strict" | undefined'.
  Type '"strict"' is not assignable to type 'boolean | "None" | "Lax" | "Strict" | undefined'. Did you mean '"Strict"'?

[7m79[0m     sameSite: config.cookieSameSite,
[7m  [0m [91m    ~~~~~~~~[0m

[96msrc/lib/middleware/index.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'contentTypeMiddleware'.

[7m15[0m   contentTypeMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'securityHeadersMiddleware'.

[7m14[0m   securityHeadersMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'csrfMiddleware'.

[7m13[0m   csrfMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'corsMiddleware'.

[7m12[0m   corsMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'loggingMiddleware'.

[7m11[0m   loggingMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m10[0m:[93m35[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'sequence'.

[7m10[0m export const middlewareSequence = sequence(
[7m  [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m1[0m:[93m46[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareNext'.

[7m1[0m import type { APIContext, MiddlewareHandler, MiddlewareNext } from 'astro'
[7m [0m [91m                                             ~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m1[0m:[93m27[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareHandler'.

[7m1[0m import type { APIContext, MiddlewareHandler, MiddlewareNext } from 'astro'
[7m [0m [91m                          ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/middleware/rate-limit.ts[0m:[93m58[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'userLimits' is declared but its value is never read.

[7m58[0m   private readonly userLimits: Record<string, number>
[7m  [0m [93m                   ~~~~~~~~~~[0m
[96msrc/lib/middleware/rate-limit.ts[0m:[93m57[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'windowMs' is declared but its value is never read.

[7m57[0m   private readonly windowMs: number
[7m  [0m [93m                   ~~~~~~~~[0m
[96msrc/lib/middleware/rate-limit.ts[0m:[93m56[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'defaultLimit' is declared but its value is never read.

[7m56[0m   private readonly defaultLimit: number
[7m  [0m [93m                   ~~~~~~~~~~~~[0m

[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m399[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m399[0m       notifications.push(this.sendWebhookNotification(alert))
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m395[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m395[0m       notifications.push(this.sendEmailNotification(alert))
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m391[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m391[0m       notifications.push(this.sendSlackNotification(alert))
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'openai' or its corresponding type declarations.

[7m2[0m import { OpenAI } from 'openai'
[7m [0m [91m                       ~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m238[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m238[0m       id: `pattern_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                              ~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m217[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m217[0m       id: `anomaly_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                              ~~~~~~[0m

[96msrc/lib/monitoring/azure-insights.ts[0m:[93m19[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../config/azure.config' or its corresponding type declarations.

[7m19[0m       const module = await import('../../config/azure.config')
[7m  [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/monitoring/performanceMonitor.ts[0m:[93m552[0m:[93m31[0m - [91merror[0m[90m ts(2683): [0m'this' implicitly has type 'any' because it does not have a type annotation.

[7m552[0m     trends: ReturnType<typeof this.getPerformanceTrends>
[7m   [0m [91m                              ~~~~[0m
[96msrc/lib/monitoring/performanceMonitor.ts[0m:[93m9[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/monitoring' or its corresponding type declarations.

[7m9[0m } from '@/types/monitoring'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/performanceMonitor.ts[0m:[93m359[0m:[93m61[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m359[0m       id: `alert_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,
[7m   [0m [93m                                                            ~~~~~~[0m

[96msrc/lib/monitoring/service.ts[0m:[93m214[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(resource: PerformanceResourceTiming) => void' is not assignable to parameter of type '(value: PerformanceEntry, index: number, array: PerformanceEntry[]) => void'.
  Types of parameters 'resource' and 'value' are incompatible.

[7m214[0m     metrics.resources.forEach((resource: PerformanceResourceTiming) => {
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m156[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m156[0m         entries.forEach((entry) => {
[7m   [0m [93m                         ~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m154[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m154[0m       new PerformanceObserver((entryList) => {
[7m   [0m [93m                               ~~~~~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m148[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m148[0m         entries.forEach((entry) => {
[7m   [0m [93m                         ~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m146[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m146[0m       new PerformanceObserver((entryList) => {
[7m   [0m [93m                               ~~~~~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m139[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m139[0m       new PerformanceObserver((entryList) => {
[7m   [0m [93m                               ~~~~~~~~~[0m

[96msrc/lib/monitoring/setup.ts[0m:[93m3[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/analytics/service' or its corresponding type declarations.

[7m3[0m import { AnalyticsService } from '@/lib/analytics/service'
[7m [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/setup.ts[0m:[93m78[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m78[0m         list.getEntries().forEach((entry) => {
[7m  [0m [93m                                   ~~~~~[0m
[96msrc/lib/monitoring/setup.ts[0m:[93m77[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'list' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m77[0m       const observer = new PerformanceObserver((list) => {
[7m  [0m [93m                                                ~~~~[0m
[96msrc/lib/monitoring/setup.ts[0m:[93m26[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'redis' is declared but its value is never read.

[7m26[0m   private redis: RedisService
[7m  [0m [93m          ~~~~~[0m

[96msrc/lib/patient/patientManager.ts[0m:[93m315[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'therapistId' does not exist in type 'PatientUpdateData'.

[7m315[0m         { therapistId: toTherapistId },
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m10[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/patient' or its corresponding type declarations.

[7m10[0m } from '@/types/patient'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m352[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m352[0m     const reportId = `report_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                        ~~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m178[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pDiag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m178[0m           patient.diagnosis.some((pDiag) =>
[7m   [0m [93m                                  ~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m111[0m:[93m56[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m111[0m     return `P${Date.now()}${Math.random().toString(36).substr(2, 5).toUpperCase()}`
[7m   [0m [93m                                                       ~~~~~~[0m

[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m347[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m347[0m       return true
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m344[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m344[0m         return false
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m324[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'void'.

[7m324[0m       return destination
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m320[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m320[0m       return true
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m311[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m311[0m       return true
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m300[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'void'.

[7m300[0m       return destination
[7m   [0m [91m      ~~~~~~[0m

[96msrc/lib/rate-limiting/analytics.ts[0m:[93m537[0m:[93m25[0m - [91merror[0m[90m ts(2556): [0mA spread argument must either have a tuple type or be passed to a rest parameter.

[7m537[0m         await redis.del(...keysToDelete)
[7m   [0m [91m                        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m425[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'defaultRuleSets'.

[7m425[0m     for (const ruleSet of defaultRuleSets) {
[7m   [0m [91m                          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m354[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'alert.details.errorRate' is of type 'unknown'.

[7m354[0m           alert.details.errorRate > thresholds.errorRate
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m349[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'alert.details.blockPercentage' is of type 'unknown'.

[7m349[0m           alert.details.blockPercentage > thresholds.blockedPercentage
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m343[0m:[93m35[0m - [91merror[0m[90m ts(18046): [0m'alert.details.blockedRate' is of type 'unknown'.

[7m343[0m         return !thresholds.rps || alert.details.blockedRate > thresholds.rps
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m145[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ hour: number; totalRequests: number; blockedRequests: number; attackDetections: number; errors: number; }' is not assignable to parameter of type 'never'.

[7m145[0m         hourlyData.push({
[7m   [0m [91m                        ~[0m
[7m146[0m           hour,
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m150[0m           errors: parseInt(data.error_total || '0'),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m151[0m         })
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m110[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'hourlyData' does not exist on type 'RateLimitAnalytics'.

[7m110[0m             analyticsEntry.hourlyData = hourlyData
[7m   [0m [91m                           ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m60[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m60[0m       pipeline.expire(hourlyKey, 86400 * 7)
[7m  [0m [91m               ~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m59[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m59[0m       pipeline.expire(analyticsKey, 86400 * 30)
[7m  [0m [91m               ~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m56[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'hset' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'hset' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m56[0m       pipeline.hset(hourlyKey, 'last_updated', timestamp)
[7m  [0m [91m               ~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m51[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'hset' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'hset' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m51[0m       pipeline.hset(analyticsKey, 'last_updated', timestamp)
[7m  [0m [91m               ~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m20[0m:[93m14[0m - [91merror[0m[90m ts(2395): [0mIndividual declarations in merged declaration 'RateLimitAnalytics' must be all exported or all local.

[7m20[0m export class RateLimitAnalytics {
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'RateLimitAnalytics'.

[7m9[0m   RateLimitAnalytics,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2395): [0mIndividual declarations in merged declaration 'RateLimitAnalytics' must be all exported or all local.

[7m9[0m   RateLimitAnalytics,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/rate-limiting/config.ts[0m:[93m309[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ enableAnalytics: boolean; enabled?: boolean | undefined; defaultWindowMs?: number | undefined; enableAttackDetection?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'enabled' are incompatible.

[7m309[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/config.ts[0m:[93m302[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ enableAttackDetection: boolean; enabled?: boolean | undefined; defaultWindowMs?: number | undefined; enableAnalytics?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'enabled' are incompatible.

[7m302[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/config.ts[0m:[93m295[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ defaultWindowMs: number; enabled?: boolean | undefined; enableAttackDetection?: boolean | undefined; enableAnalytics?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'enabled' are incompatible.

[7m295[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/config.ts[0m:[93m288[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ enabled: boolean; defaultWindowMs?: number | undefined; enableAttackDetection?: boolean | undefined; enableAnalytics?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'defaultWindowMs' are incompatible.

[7m288[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m

[96msrc/lib/rate-limiting/index.ts[0m:[93m200[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'getMergedConfig'. Either declare one or provide an initializer.

[7m200[0m   getMergedConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m199[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'getConfigFromEnv'. Either declare one or provide an initializer.

[7m199[0m   getConfigFromEnv,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m198[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'getEnvironmentConfig'. Either declare one or provide an initializer.

[7m198[0m   getEnvironmentConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m197[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultWebSocketConfig'. Either declare one or provide an initializer.

[7m197[0m   defaultWebSocketConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m196[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultBetterAuthConfig'. Either declare one or provide an initializer.

[7m196[0m   defaultBetterAuthConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m195[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultDDoSConfig'. Either declare one or provide an initializer.

[7m195[0m   defaultDDoSConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m194[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultBypassRules'. Either declare one or provide an initializer.

[7m194[0m   defaultBypassRules,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m193[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultRuleSets'. Either declare one or provide an initializer.

[7m193[0m   defaultRuleSets,
[7m   [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m192[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultRateLimitConfig'. Either declare one or provide an initializer.

[7m192[0m   defaultRateLimitConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m189[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'createComprehensiveRateLimitMiddleware'. Either declare one or provide an initializer.

[7m189[0m   createComprehensiveRateLimitMiddleware,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m188[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'createBetterAuthRateLimitMiddleware'. Either declare one or provide an initializer.

[7m188[0m   createBetterAuthRateLimitMiddleware,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m187[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'createRateLimitMiddleware'. Either declare one or provide an initializer.

[7m187[0m   createRateLimitMiddleware,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m185[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'rateLimitAnalytics'. Either declare one or provide an initializer.

[7m185[0m   rateLimitAnalytics,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m184[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'RateLimitAnalytics'. Either declare one or provide an initializer.

[7m184[0m   RateLimitAnalytics,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m183[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'DistributedRateLimiter'. Either declare one or provide an initializer.

[7m183[0m   DistributedRateLimiter,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m173[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m173[0m     recentAlerts: (await rateLimitAnalytics.getRecentAlerts(10)).length,
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m172[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m172[0m     monitors: (rateLimitAnalytics as unknown).monitors?.length || 0,
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m172[0m:[93m15[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m172[0m     monitors: (rateLimitAnalytics as unknown).monitors?.length || 0,
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m171[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'defaultRuleSets'.

[7m171[0m     rules: defaultRuleSets.reduce((total, set) => total + set.rules.length, 0),
[7m   [0m [91m           ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m170[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getMergedConfig'.

[7m170[0m     enabled: getMergedConfig().global.enabled,
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m165[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m165[0m     rateLimitAnalytics.getRealTimeMetrics(),
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m161[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m161[0m   analytics: Awaited<ReturnType<typeof rateLimitAnalytics.getRealTimeMetrics>>
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m122[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m122[0m     const recentAlerts = await rateLimitAnalytics.getRecentAlerts(10)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m119[0m:[93m8[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m119[0m       (rateLimitAnalytics as unknown as { monitors?: unknown[] }).monitors
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m116[0m:[93m30[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m116[0m     const analyticsHealthy = rateLimitAnalytics !== undefined
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m114[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'redis'.

[7m114[0m     const redisHealthy = (await redis.ping()) === 'PONG'
[7m   [0m [91m                                ~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m95[0m:[93m10[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createRateLimitMiddleware'.

[7m95[0m   return createRateLimitMiddleware({
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m92[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createBetterAuthRateLimitMiddleware'.

[7m92[0m     return createBetterAuthRateLimitMiddleware(betterAuthConfig)
[7m  [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m82[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createComprehensiveRateLimitMiddleware'.

[7m82[0m     return createComprehensiveRateLimitMiddleware({
[7m  [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m41[0m:[93m3[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'RateLimitAnalytics'.

[7m41[0m   RateLimitAnalytics,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m14[0m:[93m10[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'RateLimitAnalytics'.

[7m14[0m export { RateLimitAnalytics, rateLimitAnalytics } from './analytics'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m171[0m:[93m43[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'set' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m171[0m     rules: defaultRuleSets.reduce((total, set) => total + set.rules.length, 0),
[7m   [0m [93m                                          ~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m171[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'total' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m171[0m     rules: defaultRuleSets.reduce((total, set) => total + set.rules.length, 0),
[7m   [0m [93m                                   ~~~~~[0m

[96msrc/lib/rate-limiting/middleware.ts[0m:[93m424[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RateLimitBypassRule'.

[7m424[0m   const authBypassRules: RateLimitBypassRule[] = []
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/middleware.ts[0m:[93m25[0m:[93m3[0m - [91merror[0m[90m ts(2741): [0mProperty 'ruleSets' is missing in type '{}' but required in type 'RateLimitMiddlewareConfig'.

[7m25[0m   config: RateLimitMiddlewareConfig = {},
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/middleware.ts[0m:[93m431[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m431[0m         custom: async (context) => {
[7m   [0m [93m                       ~~~~~~~[0m

[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m254[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m254[0m     pipeline.expire(analyticsKey, 86400 * 30) // Keep for 30 days
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m253[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'hset' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'hset' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m253[0m     pipeline.hset(analyticsKey, 'last_request', Date.now())
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m149[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'never'.

[7m149[0m       intervals.push(timestamps[i] - timestamps[i - 1])
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m58[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'expire' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m58[0m       pipeline.expire(windowKey, Math.ceil(rule.windowMs / 1000))
[7m  [0m [91m               ~~~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m57[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'incr' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; } | ChainableCommander'.
  Property 'incr' does not exist on type '{ setex: (key: string, seconds: number, value: string) => { setex: (string | number)[]; }; hincrby: (key: string, field: string, increment: number) => { hincrby: (string | number)[]; }; exec: () => Promise<...>; }'.

[7m57[0m       pipeline.incr(windowKey)
[7m  [0m [91m               ~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m245[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'currentCount' is declared but its value is never read.

[7m245[0m     currentCount: number,
[7m   [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m243[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'identifier' is declared but its value is never read.

[7m243[0m     identifier: string,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m98[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'rule' is declared but its value is never read.

[7m98[0m     rule: RateLimitRule,
[7m  [0m [93m    ~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m25[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m25[0m   constructor(private config: RateLimitConfig) {}
[7m  [0m [93m                      ~~~~~~[0m

[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m204[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../redis' or its corresponding type declarations.

[7m204[0m     const { redis } = await import('../redis')
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m201[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'never'.

[7m201[0m       timestamps.push(Date.now() + i * 100) // 100ms intervals
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m169[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../redis' or its corresponding type declarations.

[7m169[0m       const { redis } = await import('../redis')
[7m   [0m [91m                                     ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m159[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../redis' or its corresponding type declarations.

[7m159[0m       const { redis } = await import('../redis')
[7m   [0m [91m                                     ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m146[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../redis' or its corresponding type declarations.

[7m146[0m       const { redis } = await import('../redis')
[7m   [0m [91m                                     ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m112[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../redis' or its corresponding type declarations.

[7m112[0m       const { redis } = await import('../redis')
[7m   [0m [91m                                     ~~~~~~~~~~[0m

[96msrc/lib/repositories/emotionsRepository.ts[0m:[93m1[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../ai/emotions/dimensionalTypes"' has no exported member named 'DimensionalEmotionMap'. Did you mean 'DimensionalEmotion'?

[7m1[0m import type { DimensionalEmotionMap } from '../ai/emotions/dimensionalTypes'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/research/services/AnonymizationPipelineService.ts[0m:[93m148[0m:[93m48[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m148[0m       throw new Error(`Anonymization failed: ${error.message}`)
[7m   [0m [91m                                               ~~~~~[0m
[96msrc/lib/research/services/AnonymizationPipelineService.ts[0m:[93m473[0m:[93m29[0m - [93mwarning[0m[90m ts(6133): [0m'originalValue' is declared but its value is never read.

[7m473[0m   private getRandomCategory(originalValue: string): string {
[7m   [0m [93m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/AnonymizationPipelineService.ts[0m:[93m453[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'quasiIdentifiers' is declared but its value is never read.

[7m453[0m     quasiIdentifiers: string[]
[7m   [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/AnonymizationPipelineService.ts[0m:[93m429[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'k' is declared but its value is never read.

[7m429[0m     k: number,
[7m   [0m [93m    ~[0m

[96msrc/lib/research/services/ConsentManagementService.ts[0m:[93m1[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/logging/logger' or its corresponding type declarations.

[7m1[0m import { getLogger } from '@/lib/logging/logger'
[7m [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/research/services/EvidenceGenerationService.ts[0m:[93m40[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'queryEngine' is declared but its value is never read.

[7m40[0m   private queryEngine: ResearchQueryEngine
[7m  [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/research/services/EvidenceGenerationService.ts[0m:[93m39[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'patternService' is declared but its value is never read.

[7m39[0m   private patternService: PatternDiscoveryService
[7m  [0m [93m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m473[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m473[0m       results.errors.push(`Key rotation failed: ${error.message}`)
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m417[0m:[93m57[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m417[0m       results.errors.push(`Policy application failed: ${error.message}`)
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m403[0m:[93m69[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m403[0m             results.errors.push(`Deletion failed for ${dataType}: ${error.message}`)
[7m   [0m [91m                                                                    ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m392[0m:[93m74[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m392[0m             results.errors.push(`Anonymization failed for ${dataType}: ${error.message}`)
[7m   [0m [91m                                                                         ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m201[0m:[93m9[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'clientId' does not exist in type 'AuditLog'. Did you mean to write 'clientIds'?

[7m201[0m         clientId,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m186[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'createDecipher' does not exist on type 'typeof import("crypto")'. Did you mean 'createDecipheriv'?

[7m186[0m       const decipher = crypto.createDecipher(metadataObj.algorithm, key)
[7m   [0m [91m                              ~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m160[0m:[93m9[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'clientId' does not exist in type 'AuditLog'. Did you mean to write 'clientIds'?

[7m160[0m         clientId,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m141[0m:[93m29[0m - [91merror[0m[90m ts(2551): [0mProperty 'createCipher' does not exist on type 'typeof import("crypto")'. Did you mean 'createCipheriv'?

[7m141[0m       const cipher = crypto.createCipher(this.config.encryptionAlgorithm, key)
[7m   [0m [91m                            ~~~~~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m1[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/logging/logger' or its corresponding type declarations.

[7m1[0m import { getLogger } from '@/lib/logging/logger'
[7m [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m184[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_iv' is declared but its value is never read.

[7m184[0m       const _iv = Buffer.from(metadataObj.iv, 'hex')
[7m   [0m [93m            ~~~[0m

[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m521[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ clusterId: string; centroid: { [k: string]: number; }; members: string[]; size: number; characteristics: Record<string, { mean: number; stdDev: number; min: number; max: number; }>; }[]' is not assignable to type 'ClusterPattern[]'.
  Type '{ clusterId: string; centroid: { [k: string]: number; }; members: string[]; size: number; characteristics: Record<string, { mean: number; stdDev: number; min: number; max: number; }>; }' is not assignable to type 'ClusterPattern'.

[7m521[0m     return clusters.map((cluster, index) => ({
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m220[0m:[93m35[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type '{}' is missing the following properties from type 'Record<string, unknown>[]': length, pop, push, concat, and 35 more.

[7m220[0m     return this.performClustering(result.data, features)
[7m   [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m192[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type '{}' is missing the following properties from type 'Record<string, unknown>[]': length, pop, push, concat, and 35 more.

[7m192[0m         const metricAnomalies = this.detectAnomalies(result.data, metric)
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m162[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type '{}' is missing the following properties from type 'Record<string, unknown>[]': length, pop, push, concat, and 35 more.

[7m162[0m         const trend = this.calculateTrend(result.data, metric)
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m161[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m161[0m       if (result.data && result.data.length > 0) {
[7m   [0m [91m                                     ~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m133[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'map' does not exist on type '{}'.

[7m133[0m     return result.data.map((row: Record<string, unknown>) => ({
[7m   [0m [91m                       ~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m86[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: CorrelationPattern | TrendPattern | AnomalyPattern | ClusterPattern; }[]' is not assignable to type '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: Record<string, unknown>; visualization?: { type: "line" | "bar" | "scatter" | "heatmap" | "boxplot"; data: Record<...>[]; config: Record<...>; } | undefined; }[]'.
  Type '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: CorrelationPattern | TrendPattern | AnomalyPattern | ClusterPattern; }' is not assignable to type '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: Record<string, unknown>; visualization?: { type: "line" | "bar" | "scatter" | "heatmap" | "boxplot"; data: Record<...>[]; config: Record<...>; } | undefined; }'.

[7m86[0m         patterns: sortedPatterns.map((p, index) => ({
[7m  [0m [91m        ~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m543[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m543[0m       let index
[7m   [0m [93m          ~~~~~[0m

[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m633[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'AnonymizationAuditLog[]' is missing the following properties from type '{ kAnonymity: number; differentialPrivacyEpsilon: number; noiseLevel: number; suppressionRate: number; }': kAnonymity, differentialPrivacyEpsilon, noiseLevel, suppressionRate

[7m633[0m         anonymizationAudit: anonymizedData.auditLog
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m623[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'ResearchDataPoint[]'.
  Type '{}' is missing the following properties from type 'ResearchDataPoint[]': length, pop, push, concat, and 35 more.

[7m623[0m       result.data,
[7m   [0m [91m      ~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m120[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m120[0m         resultSize: anonymizedResult.data?.length || 0,
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m453[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m453[0m     userId: string,
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m35[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'hipaaService' is declared but its value is never read.

[7m35[0m   private hipaaService: HIPAADataService
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m569[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Break down complex queries into smaller, more focused analyses"' is not assignable to parameter of type 'never'.

[7m569[0m       suggestions.push('Break down complex queries into smaller, more focused analyses')
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m564[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Similar queries detected. Consider reusing previous results when appropriate"' is not assignable to parameter of type 'never'.

[7m564[0m       suggestions.push('Similar queries detected. Consider reusing previous results when appropriate')
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m560[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Consider adding more specific filters to reduce query execution time"' is not assignable to parameter of type 'never'.

[7m560[0m       suggestions.push('Consider adding more specific filters to reduce query execution time')
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m550[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"High information loss due to anonymization. Results may be less precise."' is not assignable to parameter of type 'never'.

[7m550[0m       warnings.push('High information loss due to anonymization. Results may be less precise.')
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m545[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Query may take longer than expected to execute."' is not assignable to parameter of type 'never'.

[7m545[0m       warnings.push('Query may take longer than expected to execute.')
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m541[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"No results found for query. Consider broadening search criteria."' is not assignable to parameter of type 'never'.

[7m541[0m       warnings.push('No results found for query. Consider broadening search criteria.')
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m507[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"outcome_data_access"' is not assignable to parameter of type 'never'.

[7m507[0m     if (sql.includes('outcome')) permissions.push('outcome_data_access')
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m506[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"user_data_access"' is not assignable to parameter of type 'never'.

[7m506[0m     if (sql.includes('user_')) permissions.push('user_data_access')
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m505[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"session_data_access"' is not assignable to parameter of type 'never'.

[7m505[0m     if (sql.includes('session_')) permissions.push('session_data_access')
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m504[0m:[93m61[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"emotional_data_access"' is not assignable to parameter of type 'never'.

[7m504[0m     if (sql.includes('emotional_metrics')) permissions.push('emotional_data_access')
[7m   [0m [91m                                                            ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m460[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'anonymizeSessionData' does not exist on type 'AnonymizationPipelineService'.

[7m460[0m       const result = await anonymizationPipelineService.anonymizeSessionData(
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m398[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m398[0m       conditions.push(`session_date BETWEEN '${researchContext.timeRange.start}' AND '${researchContext.timeRange.end}'`)
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m392[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m392[0m         conditions.push(`primary_condition = '${entity.value}'`)
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m361[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; value: string; }' is not assignable to parameter of type 'never'.

[7m361[0m     if (query.includes('session')) entities.push({ type: 'data_type', value: 'therapeutic_session' })
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m360[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; value: string; }' is not assignable to parameter of type 'never'.

[7m360[0m     if (query.includes('depression')) entities.push({ type: 'condition', value: 'depression' })
[7m   [0m [91m                                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m359[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; value: string; }' is not assignable to parameter of type 'never'.

[7m359[0m     if (query.includes('anxiety')) entities.push({ type: 'condition', value: 'anxiety' })
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m12[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./ConsentManagementService"' has no exported member named 'consentManagementService'. Did you mean 'ConsentManagementService'?

[7m12[0m import { consentManagementService } from './ConsentManagementService'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m512[0m:[93m54[0m - [93mwarning[0m[90m ts(6133): [0m'dataScope' is declared but its value is never read.

[7m512[0m   private async classifyDataSensitivity(sql: string, dataScope: string[]): Promise<'public' | 'internal' | 'confidential' | 'restricted'> {
[7m   [0m [93m                                                     ~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m501[0m:[93m57[0m - [93mwarning[0m[90m ts(6133): [0m'dataScope' is declared but its value is never read.

[7m501[0m   private async analyzeRequiredPermissions(sql: string, dataScope: string[]): Promise<string[]> {
[7m   [0m [93m                                                        ~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m496[0m:[93m57[0m - [93mwarning[0m[90m ts(6133): [0m'requiredPermissions' is declared but its value is never read.

[7m496[0m   private async validateUserPermissions(userId: string, requiredPermissions: string[]): Promise<boolean> {
[7m   [0m [93m                                                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m496[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m496[0m   private async validateUserPermissions(userId: string, requiredPermissions: string[]): Promise<boolean> {
[7m   [0m [93m                                        ~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m436[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m436[0m     userId: string
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m413[0m:[93m46[0m - [93mwarning[0m[90m ts(6133): [0m'parameters' is declared but its value is never read.

[7m413[0m   private async executeSQLQuery(sql: string, parameters: Record<string, any>): Promise<any[]> {
[7m   [0m [93m                                             ~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m413[0m:[93m33[0m - [93mwarning[0m[90m ts(6133): [0m'sql' is declared but its value is never read.

[7m413[0m   private async executeSQLQuery(sql: string, parameters: Record<string, any>): Promise<any[]> {
[7m   [0m [93m                                ~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m390[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entity' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m390[0m     entities.forEach(entity => {
[7m   [0m [93m                     ~~~~~~[0m

[96msrc/lib/security/breach-notification.ts[0m:[93m481[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 4.

[7m481[0m       'EX',
[7m   [0m [91m      ~~~~~[0m
[7m482[0m       DOCUMENTATION_RETENTION,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/breach-notification.ts[0m:[93m417[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m417[0m     await redis.hset(monthKey, {
[7m   [0m [91m                ~~~~[0m
[96msrc/lib/security/breach-notification.ts[0m:[93m396[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 4.

[7m396[0m     'EX',
[7m   [0m [91m    ~~~~~[0m
[7m397[0m     DOCUMENTATION_RETENTION,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/breach-notification.ts[0m:[93m104[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 4.

[7m104[0m       'EX',
[7m   [0m [91m      ~~~~~[0m
[7m105[0m       60 * 60 * 24 * 30, // 30 days retention
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/dlp-integration.ts[0m:[93m150[0m:[93m35[0m - [91merror[0m[90m ts(18048): [0m'ctx.request' is possibly 'undefined'.

[7m150[0m               action: `download ${ctx.request.url}`,
[7m   [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/security/dlp-integration.ts[0m:[93m130[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'ctx.request' is possibly 'undefined'.

[7m130[0m         ctx.request.headers.get('content-disposition')?.includes('attachment')
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/security/dlp-integration.ts[0m:[93m129[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'ctx.request' is possibly 'undefined'.

[7m129[0m         ctx.request.url.includes('/export/') ||
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/security/dlp-integration.ts[0m:[93m125[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m125[0m       const userId = ctx.locals?.user?.id || 'unknown'
[7m   [0m [91m                                       ~~[0m

[96msrc/lib/security/encryptionManager.ts[0m:[93m289[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Uint8Array<ArrayBuffer>' is not assignable to parameter of type 'ArrayBuffer'.
  Type 'Uint8Array<ArrayBuffer>' is missing the following properties from type 'ArrayBuffer': maxByteLength, resizable, resize, detached, and 2 more.

[7m289[0m     return this.arrayBufferToBase64(tag)
[7m   [0m [91m                                    ~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m243[0m:[93m65[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ArrayBuffer | Uint8Array<ArrayBuffer>' is not assignable to parameter of type 'ArrayBuffer'.
  Type 'Uint8Array<ArrayBuffer>' is missing the following properties from type 'ArrayBuffer': maxByteLength, resizable, resize, detached, and 2 more.

[7m243[0m       const combined = this.combineCiphertextAndTag(ciphertext, tag)
[7m   [0m [91m                                                                ~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m200[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Uint8Array<ArrayBuffer>' is not assignable to parameter of type 'ArrayBuffer'.
  Type 'Uint8Array<ArrayBuffer>' is missing the following properties from type 'ArrayBuffer': maxByteLength, resizable, resize, detached, and 2 more.

[7m200[0m       iv: this.arrayBufferToBase64(iv),
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m50[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'keyRotationDays' is specified more than once, so this usage will be overwritten.

[7m50[0m       keyRotationDays: 90,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m6[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/crypto' or its corresponding type declarations.

[7m6[0m import type { CryptoKeyPair } from '@/types/crypto'
[7m [0m [91m                                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m109[0m:[93m67[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m109[0m     const keyId = `key_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                  ~~~~~~[0m

[96msrc/lib/security/phiDetection.ts[0m:[93m469[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PHIEntity[]'.

[7m469[0m     return detector['fallbackRedaction'](text, entities)
[7m   [0m [91m                                               ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m465[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'entities' is of type 'unknown'.

[7m465[0m     if (entities.length === 0) {
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m313[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(text: string) => PHIEntity[]' is not assignable to parameter of type '(...args: unknown[]) => unknown'.
  Types of parameters 'text' and 'args' are incompatible.

[7m313[0m   private fallbackDetection = memoize((text: string): PHIEntity[] => {
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m265[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'PHIEntity[]'.

[7m265[0m         entities,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m252[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PHIEntity[]'.

[7m252[0m           redactedText = await this.redactText(text, entities)
[7m   [0m [91m                                                     ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m247[0m:[93m30[0m - [91merror[0m[90m ts(18046): [0m'entities' is of type 'unknown'.

[7m247[0m       const hasDetectedPHI = entities.length > 0
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m213[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'PHIEntity[]'.

[7m213[0m         entities = this.fallbackDetection(text)
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m388[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'match' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m388[0m       let match
[7m   [0m [93m          ~~~~~[0m

[96msrc/lib/security/secrets-manager.ts[0m:[93m11[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"secrets-manager"' has no properties in common with type 'LoggerOptions'.

[7m11[0m const logger = getLogger('secrets-manager')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/token.encryption.ts[0m:[93m105[0m:[93m46[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedData.slice' is deprecated.

[7m105[0m       const encryptedContent = encryptedData.slice(0, -16)
[7m   [0m [93m                                             ~~~~~[0m
[96msrc/lib/security/token.encryption.ts[0m:[93m104[0m:[93m37[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedData.slice' is deprecated.

[7m104[0m       const authTag = encryptedData.slice(-16)
[7m   [0m [93m                                    ~~~~~[0m

[96msrc/lib/security/verification.ts[0m:[93m46[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m46[0m     const decoded = JSON.parse(atob(token) as unknown)
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/verification.ts[0m:[93m23[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m23[0m       ...JSON.parse(JSON.stringify(payload) as unknown),
[7m  [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m76[0m:[93m30[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m76[0m       const sanitizedEntry = (auditLoggingService as unknown).sanitizeEntry({
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m74[0m:[93m64[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"hashValue"' is not assignable to parameter of type 'never'.

[7m74[0m       const hashSpy = vi.spyOn(auditLoggingService as unknown, 'hashValue')
[7m  [0m [91m                                                               ~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m63[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"storeLogEntry"' is not assignable to parameter of type 'never'.

[7m63[0m         'storeLogEntry',
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m57[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedEntry' is of type 'unknown'.

[7m57[0m       expect(loggedEntry.details.password).toBe('[REDACTED]')
[7m  [0m [91m             ~~~~~~~~~~~[0m

[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m305[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m305[0m       ;(redis.get as unknown)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m301[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m301[0m       ;(redis.keys as unknown).mockResolvedValue([
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m288[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m288[0m       ;(redis.keys as unknown).mockRejectedValue(new Error('Redis error'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m276[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m276[0m       ;(redis.get as unknown)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m272[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m272[0m       ;(redis.keys as unknown).mockResolvedValue([
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m242[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m242[0m       ;(redis.get as unknown).mockRejectedValue(new Error('Redis error'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m233[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m233[0m       ;(redis.get as unknown).mockResolvedValue(null)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m221[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m221[0m       ;(redis.get as unknown).mockResolvedValue(
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m154[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ affectedUsers: unknown[]; type: "unauthorized_access"; severity: "high"; description: string; affectedData: string[]; detectionMethod: string; remediation: string; }' is not assignable to parameter of type 'Omit<BreachDetails, "id" | "timestamp" | "notificationStatus">'.
  Types of property 'affectedUsers' are incompatible.

[7m154[0m       await BreachNotificationSystem.reportBreach(largeBreachDetails)
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m136[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m136[0m       ;(sendEmail as unknown).mockRejectedValue(new Error('Email error'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m128[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m128[0m       ;(auth['getUserById'] as unknown).mockResolvedValue({ id: 'user1' }) // User without email
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m97[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m97[0m       ;(redis['set'] as unknown).mockRejectedValue(new Error('Redis error'))
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m67[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m67[0m     ;(sendEmail as unknown).mockResolvedValue(undefined)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m66[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m66[0m     ;(FHE['encrypt'] as unknown).mockResolvedValue('encrypted_data')
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m65[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m65[0m     ;(auth['getUserById'] as unknown).mockResolvedValue(mockUser)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m64[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m64[0m     ;(redis['keys'] as unknown).mockResolvedValue([])
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m63[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m63[0m     ;(redis['get'] as unknown).mockResolvedValue(null)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m62[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m62[0m     ;(redis['set'] as unknown).mockResolvedValue('OK')
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"@/lib/fhe"' has no exported member 'FHE'.

[7m3[0m import { FHE } from '@/lib/fhe'
[7m [0m [91m         ~~~[0m

[96msrc/lib/security/__tests__/security-scanning.test.ts[0m:[93m34[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'baseline' is of type 'unknown'.

[7m34[0m       expect(baseline.baseline.security_policies).toBeDefined()
[7m  [0m [91m             ~~~~~~~~[0m
[96msrc/lib/security/__tests__/security-scanning.test.ts[0m:[93m33[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'baseline' is of type 'unknown'.

[7m33[0m       expect(baseline.baseline).toBeDefined()
[7m  [0m [91m             ~~~~~~~~[0m
[96msrc/lib/security/__tests__/security-scanning.test.ts[0m:[93m32[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'baseline' is of type 'unknown'.

[7m32[0m       expect(baseline.version).toBeDefined()
[7m  [0m [91m             ~~~~~~~~[0m

[96msrc/lib/security/baa/BaaDocumentGenerator.ts[0m:[93m30[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'BaaStatus'.

[7m30[0m       status: BaaStatus.DRAFT,
[7m  [0m [91m              ~~~~~~~~~[0m

[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m57[0m - [91merror[0m[90m ts(2322): [0mType '"TELEMEDICINE"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m39[0m - [91merror[0m[90m ts(2322): [0mType '"DATA_ANALYTICS"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m22[0m - [91merror[0m[90m ts(2322): [0mType '"CLOUD_SERVICE"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '"EHR_VENDOR"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m       ~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m503[0m:[93m28[0m - [91merror[0m[90m ts(18048): [0m'template.tags' is possibly 'undefined'.

[7m503[0m       if (criteria.tag && !template.tags.includes(criteria.tag)) {
[7m   [0m [91m                           ~~~~~~~~~~~~~[0m

[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m562[0m:[93m30[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ SELF_ATTESTATION: number; DOCUMENTATION_REVIEW: number; THIRD_PARTY_AUDIT: number; ONSITE_ASSESSMENT: number; }' to type 'Record<VerificationMethod, number>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ SELF_ATTESTATION: number; DOCUMENTATION_REVIEW: number; THIRD_PARTY_AUDIT: number; ONSITE_ASSESSMENT: number; }' is missing the following properties from type 'Record<VerificationMethod, number>': self_assessment, documentation_review, third_party_audit, certification_validation, and 2 more.

[7m562[0m       verificationsByMethod: {
[7m   [0m [91m                             ~[0m
[7m563[0m         SELF_ATTESTATION: 0,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m566[0m         ONSITE_ASSESSMENT: 0,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m567[0m       } as Record<VerificationMethod, number>,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m557[0m:[93m29[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ low: number; medium: number; high: number; }' to type 'Record<ComplianceLevel, number>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ low: number; medium: number; high: number; }' is missing the following properties from type 'Record<ComplianceLevel, number>': not_verified, self_attested, third_party_verified, hipaa_certified, non_compliant

[7m557[0m       verificationsByLevel: {
[7m   [0m [91m                            ~[0m
[7m558[0m         low: 0,
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m560[0m         high: 0,
[7m   [0m [91m~~~~~~~~~~~~~~~~[0m
[7m561[0m       } as Record<ComplianceLevel, number>,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m524[0m:[93m57[0m - [91merror[0m[90m ts(2322): [0mType '"TELEMEDICINE"' is not assignable to type 'BusinessAssociateType'.

[7m524[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m524[0m:[93m39[0m - [91merror[0m[90m ts(2322): [0mType '"DATA_ANALYTICS"' is not assignable to type 'BusinessAssociateType'.

[7m524[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m524[0m:[93m22[0m - [91merror[0m[90m ts(2322): [0mType '"CLOUD_SERVICE"' is not assignable to type 'BusinessAssociateType'.

[7m524[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m524[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '"EHR_VENDOR"' is not assignable to type 'BusinessAssociateType'.

[7m524[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m       ~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m512[0m:[93m57[0m - [91merror[0m[90m ts(2322): [0mType '"TELEMEDICINE"' is not assignable to type 'BusinessAssociateType'.

[7m512[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m512[0m:[93m39[0m - [91merror[0m[90m ts(2322): [0mType '"DATA_ANALYTICS"' is not assignable to type 'BusinessAssociateType'.

[7m512[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m512[0m:[93m22[0m - [91merror[0m[90m ts(2322): [0mType '"CLOUD_SERVICE"' is not assignable to type 'BusinessAssociateType'.

[7m512[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m512[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '"EHR_VENDOR"' is not assignable to type 'BusinessAssociateType'.

[7m512[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m       ~~~~~~~~~~~~[0m

[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m81[0m:[93m10[0m - [91merror[0m[90m ts(2551): [0mProperty 'backupProvider' does not exist on type 'AutomatedRecoverySystem'. Did you mean '_backupProvider'?

[7m81[0m     this.backupProvider = backupProvider
[7m  [0m [91m         ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m80[0m:[93m10[0m - [91merror[0m[90m ts(2551): [0mProperty 'recoveryManager' does not exist on type 'AutomatedRecoverySystem'. Did you mean '_recoveryManager'?

[7m80[0m     this.recoveryManager = recoveryManager
[7m  [0m [91m         ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m79[0m:[93m10[0m - [91merror[0m[90m ts(2551): [0mProperty 'config' does not exist on type 'AutomatedRecoverySystem'. Did you mean '_config'?

[7m79[0m     this.config = config
[7m  [0m [91m         ~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m63[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty '_backupProvider' has no initializer and is not definitely assigned in the constructor.

[7m63[0m   private _backupProvider: () => Promise<BackupMetadata[]>
[7m  [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m61[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty '_recoveryManager' has no initializer and is not definitely assigned in the constructor.

[7m61[0m   private _recoveryManager: RecoveryTestingManager
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m60[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty '_config' has no initializer and is not definitely assigned in the constructor.

[7m60[0m   private _config: AutomatedRecoveryConfig
[7m  [0m [91m          ~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m65[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_currentEnvironmentIndex' is declared but its value is never read.

[7m65[0m   private _currentEnvironmentIndex = 0
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m64[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_isInitialized' is declared but its value is never read.

[7m64[0m   private _isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m63[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_backupProvider' is declared but its value is never read.

[7m63[0m   private _backupProvider: () => Promise<BackupMetadata[]>
[7m  [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m62[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_scheduledJobs' is declared but its value is never read.

[7m62[0m   private _scheduledJobs: Map<string, cron.ScheduledTask> = new Map()
[7m  [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m61[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_recoveryManager' is declared but its value is never read.

[7m61[0m   private _recoveryManager: RecoveryTestingManager
[7m  [0m [93m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/automated-recovery.ts[0m:[93m60[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_config' is declared but its value is never read.

[7m60[0m   private _config: AutomatedRecoveryConfig
[7m  [0m [93m          ~~~~~~~[0m

[96msrc/lib/security/backup/index.ts[0m:[93m106[0m:[93m30[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.
  Overload 2 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.

[7m106[0m           { name: 'AES-GCM', iv: toCryptoBufferSource(iv) },
[7m   [0m [91m                             ~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m93[0m:[93m11[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.

[7m93[0m           toCryptoBufferSource(key),
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m74[0m:[93m30[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.
  Overload 2 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.

[7m74[0m           { name: 'AES-GCM', iv: toCryptoBufferSource(iv) },
[7m  [0m [91m                             ~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m68[0m:[93m11[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.

[7m68[0m           toCryptoBufferSource(key),
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m921[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m921[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m922[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m928[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m929[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m907[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m907[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m908[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m915[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m916[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m789[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m789[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m790[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m796[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m797[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m770[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m770[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m771[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m779[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m780[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m674[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m674[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m675[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m683[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m684[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m634[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'iv' is declared but its value is never read.

[7m634[0m     iv: Uint8Array,
[7m   [0m [93m    ~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m564[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m564[0m       : await this.getRandomBytes(16)
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m519[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m519[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m520[0m         AuditEventType.CREATE,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m529[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m530[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m472[0m:[93m11[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m472[0m         ? await dlpService.scanContent(new TextDecoder().decode(data), {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m473[0m             userId: 'system',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m475[0m             metadata: { mode: 'backup' },
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m476[0m           })
[7m   [0m [93m~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m230[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'recoveryTestingManager' is declared but its value is never read.

[7m230[0m   private recoveryTestingManager!: RecoveryTestingManager
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/backup/recovery-testing.ts[0m:[93m462[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m462[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m463[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m471[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m472[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/recovery-testing.ts[0m:[93m429[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m429[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m430[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m442[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m443[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/recovery-testing.ts[0m:[93m357[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m357[0m       await logAuditEvent(
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~[0m
[7m358[0m         AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m365[0m         },
[7m   [0m [93m~~~~~~~~~~[0m
[7m366[0m       )
[7m   [0m [93m~~~~~~~[0m
[96msrc/lib/security/backup/recovery-testing.ts[0m:[93m332[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m332[0m     await logAuditEvent(
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~[0m
[7m333[0m       AuditEventType.SECURITY,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m341[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m342[0m     )
[7m   [0m [93m~~~~~[0m

[96msrc/lib/security/backup/storage-providers-wrapper.ts[0m:[93m101[0m:[93m18[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getLogger'.

[7m101[0m   const logger = getLogger(prefix)
[7m   [0m [91m                 ~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers-wrapper.ts[0m:[93m25[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'providerModule' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m   let providerModule
[7m  [0m [93m      ~~~~~~~~~~~~~~[0m

[96msrc/lib/security/backup/storage-providers.ts[0m:[93m1014[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'StorageSharedKeyCredential' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1014[0m       let StorageSharedKeyCredential
[7m    [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers.ts[0m:[93m1013[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'BlobServiceClient' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1013[0m       let BlobServiceClient
[7m    [0m [93m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers.ts[0m:[93m678[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'DeleteObjectCommand' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m678[0m       let DeleteObjectCommand
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers.ts[0m:[93m612[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'ListObjectsV2Command' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m612[0m       let ListObjectsV2Command
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers.ts[0m:[93m571[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'GetObjectCommand' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m571[0m       let GetObjectCommand
[7m   [0m [93m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers.ts[0m:[93m530[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'PutObjectCommand' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m530[0m       let PutObjectCommand
[7m   [0m [93m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers.ts[0m:[93m482[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'S3Client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m482[0m       let S3Client
[7m   [0m [93m          ~~~~~~~~[0m

[96msrc/lib/security/backup/storage-providers/aws-s3.ts[0m:[93m92[0m:[93m22[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ [key: string]: string; } | undefined' to type 'S3Credentials' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ [key: string]: string; }' is missing the following properties from type 'S3Credentials': accessKeyId, secretAccessKey

[7m92[0m         credentials: this.config.credentials as S3Credentials,
[7m  [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/aws-s3.ts[0m:[93m8[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../backup-types"' has no exported member 'StorageProvider'.

[7m8[0m import type { StorageProvider, StorageProviderConfig } from '../backup-types'
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m217[0m:[93m20[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m217[0m       const file = this.bucket.file(key)
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m188[0m:[93m20[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m188[0m       const file = this.bucket.file(key)
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m150[0m:[93m20[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m150[0m       const file = this.bucket.file(key)
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m122[0m:[93m29[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m122[0m       const [files] = await this.bucket.getFiles(options)
[7m   [0m [91m                            ~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m87[0m:[93m21[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m87[0m       this.bucket = this.storage.bucket(this.bucketName)
[7m  [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Storage' is not assignable to type 'GoogleCloudStorage'.
  The types returned by 'bucket(...).file(...).delete(...)' are incompatible between these types.

[7m80[0m       this.storage = new Storage({
[7m  [0m [91m      ~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/google-cloud.ts[0m:[93m8[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../backup-types"' has no exported member 'StorageProvider'.

[7m8[0m import type { StorageProvider, StorageProviderConfig } from '../backup-types'
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m178[0m:[93m13[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m178[0m       await this.fs.unlink(fullPath)
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m171[0m:[93m15[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m171[0m         await this.fs.access(fullPath)
[7m   [0m [91m              ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m167[0m:[93m24[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m167[0m       const fullPath = this.path.join(this.basePath, key)
[7m   [0m [91m                       ~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m150[0m:[93m26[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m150[0m       const data = await this.fs.readFile(fullPath)
[7m   [0m [91m                         ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m147[0m:[93m13[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m147[0m       await this.fs.access(fullPath)
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m144[0m:[93m24[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m144[0m       const fullPath = this.path.join(this.basePath, key)
[7m   [0m [91m                       ~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m129[0m:[93m13[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m129[0m       await this.fs.writeFile(fullPath, data)
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m126[0m:[93m13[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m126[0m       await this.fs.mkdir(dir, { recursive: true })
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m125[0m:[93m19[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m125[0m       const dir = this.path.dirname(fullPath)
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m122[0m:[93m24[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m122[0m       const fullPath = this.path.join(this.basePath, key)
[7m   [0m [91m                       ~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m93[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m93[0m         this.path.relative(this.basePath, file),
[7m  [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m66[0m:[93m13[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m66[0m       await this.fs.mkdir(this.basePath, { recursive: true })
[7m  [0m [91m            ~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m51[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ (path: PathLike, options: MakeDirectoryOptions & { recursive: true; }): Promise<string | undefined>; (path: PathLike, options?: Mode | ... 2 more ... | undefined): Promise<...>; (path: PathLike, options?: MakeDirectoryOptions | ... 2 more ... | undefined): Promise<...>; }' is not assignable to type '(path: string, options?: { recursive?: boolean | undefined; } | undefined) => Promise<void>'.
  Types of parameters 'options' and 'options' are incompatible.

[7m51[0m         mkdir: fsModule.mkdir,
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/security/backup/storage-providers/local-fs.ts[0m:[93m37[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m37[0m   constructor(private config: StorageProviderConfig) {
[7m  [0m [93m                      ~~~~~~[0m

[96msrc/lib/security/backup/storage-providers/memory.ts[0m:[93m8[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../backup-types"' has no exported member 'StorageProvider'.

[7m8[0m import type { StorageProvider, StorageProviderConfig } from '../backup-types'
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/backup/storage-providers/memory.ts[0m:[93m14[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m14[0m   constructor(private config: StorageProviderConfig) {}
[7m  [0m [93m                      ~~~~~~[0m

[96msrc/lib/security/consent/ConsentService.ts[0m:[93m109[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(option: Record<string, unknown>) => { id: string; consentTypeId: string; optionName: string; description: string; isRequired: boolean; defaultValue: unknown; displayOrder: number; createdAt: string; updatedAt: string; }' is not assignable to parameter of type '(value: unknown, index: number, array: unknown[]) => { id: string; consentTypeId: string; optionName: string; description: string; isRequired: boolean; defaultValue: unknown; displayOrder: number; createdAt: string; updatedAt: string; }'.
  Types of parameters 'option' and 'value' are incompatible.

[7m109[0m       return data.map((option: Record<string, unknown>) => ({
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m         id: option['id'] as string,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m118[0m         updatedAt: option['updated_at'] as string,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m119[0m       }))
[7m   [0m [91m~~~~~~~~[0m
[96msrc/lib/security/consent/ConsentService.ts[0m:[93m109[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ id: string; consentTypeId: string; optionName: string; description: string; isRequired: boolean; defaultValue: unknown; displayOrder: number; createdAt: string; updatedAt: string; }[]' is not assignable to type 'ConsentOption[]'.
  Type '{ id: string; consentTypeId: string; optionName: string; description: string; isRequired: boolean; defaultValue: unknown; displayOrder: number; createdAt: string; updatedAt: string; }' is not assignable to type 'ConsentOption'.

[7m109[0m       return data.map((option: Record<string, unknown>) => ({
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/security/consent/ConsentService.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ id: string; name: string; description: string; scope: string; isActive: boolean; createdAt: string; updatedAt: string; }[]' is not assignable to type 'ConsentType[]'.
  Type '{ id: string; name: string; description: string; scope: string; isActive: boolean; createdAt: string; updatedAt: string; }' is not assignable to type 'ConsentType'.

[7m33[0m       return data.map((type: unknown) => {
[7m  [0m [91m      ~~~~~~[0m

[96msrc/lib/security/pii/index.ts[0m:[93m583[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'never'.

[7m583[0m             processedArray.push(await processValue(item))
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/pii/index.ts[0m:[93m537[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m537[0m     const result = JSON.parse(JSON.stringify(data) as unknown) as T
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/pii/index.ts[0m:[93m412[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'data' does not exist in type 'PIIDetectionResult'.

[7m412[0m         data: { hasPII: 'false', confidence: '0', types: '' },
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/security/pii/index.ts[0m:[93m392[0m:[93m31[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'RealFHEService' to type 'FHEService' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'isInitialized' is private in type 'RealFHEService' but not in type 'FHEService'.

[7m392[0m       const fheServiceTyped = fheService as FHEService
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/pii/index.ts[0m:[93m420[0m:[93m7[0m - [93mwarning[0m[90m ts(7027): [0mUnreachable code detected.

[7m420[0m       const hasPII = (result.data as { hasPII: string }).hasPII === 'true'
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m421[0m       const confidence =
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m448[0m 
[7m   [0m [93m[0m
[7m449[0m       return detectionResult
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/pii/middleware.ts[0m:[93m122[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: APIContext, next: MiddlewareNext) => Promise<Response>' is not assignable to parameter of type 'MiddlewareHandler'.
  Types of parameters 'context' and 'context' are incompatible.

[7m122[0m export const onRequest = defineMiddleware(async (context: APIContext, next) => {
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/pii/middleware.ts[0m:[93m122[0m:[93m50[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m122[0m export const onRequest = defineMiddleware(async (context: APIContext, next) => {
[7m   [0m [93m                                                 ~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1476[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1476[0m   get config(): ResponseOrchestratorConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1461[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1461[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1417[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1417[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1343[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1343[0m       logger.error('Failed to get active responses', { error: error.message })
[7m    [0m [91m                                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1326[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1326[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1308[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1308[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1279[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1279[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1193[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1193[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1163[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1163[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1125[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1125[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m625[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m625[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m504[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m504[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m491[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m491[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m451[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m451[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m400[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m400[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m293[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m293[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m261[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m261[0m       logger.error('Failed to setup Redis pub/sub', { error: error.message })
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m254[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m254[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m250[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m250[0m           const responseData = JSON.parse(message)
[7m   [0m [91m                                          ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m242[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m242[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m238[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m238[0m           const threatData = JSON.parse(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m221[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m221[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m195[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m195[0m         `Failed to initialize response orchestrator: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m192[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m192[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m147[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m147[0m   constructor(private config: ResponseOrchestratorConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m141[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m141[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m140[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'responsesCollection' has no initializer and is not definitely assigned in the constructor.

[7m140[0m   private responsesCollection: Collection<ThreatResponse>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m139[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m139[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m138[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m138[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1290[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'rollbackAction' is declared but its value is never read.

[7m1290[0m     rollbackAction: ResponseAction,
[7m    [0m [93m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1087[0m:[93m39[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m1087[0m   private async simulateCollectAction(action: ResponseAction): Promise<void> {
[7m    [0m [93m                                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1079[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m1079[0m   private async simulateRemediateAction(action: ResponseAction): Promise<void> {
[7m    [0m [93m                                        ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1071[0m:[93m40[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m1071[0m   private async simulateEscalateAction(action: ResponseAction): Promise<void> {
[7m    [0m [93m                                       ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1063[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m1063[0m   private async simulateNotifyAction(action: ResponseAction): Promise<void> {
[7m    [0m [93m                                     ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1055[0m:[93m39[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m1055[0m   private async simulateIsolateAction(action: ResponseAction): Promise<void> {
[7m    [0m [93m                                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1045[0m:[93m37[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m1045[0m   private async simulateBlockAction(action: ResponseAction): Promise<void> {
[7m    [0m [93m                                    ~~~~~~[0m

[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1289[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1289[0m   get config(): EdgeDetectionConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1272[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1272[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1259[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'shutdown' does not exist on type 'BiasDetectionEngine'.

[7m1259[0m       await this.biasDetector.shutdown()
[7m    [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1227[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'DetectionInput'.

[7m1227[0m       const bPriority = priorityOrder[b.metadata?.priority || 'medium']
[7m    [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1226[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'DetectionInput'.

[7m1226[0m       const aPriority = priorityOrder[a.metadata?.priority || 'medium']
[7m    [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1220[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'metadata' does not exist in type 'DetectionInput'.

[7m1220[0m       metadata: { ...input.context, priority, requestId },
[7m    [0m [91m      ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1153[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1153[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1114[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1114[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1104[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1104[0m             error: error.message,
[7m    [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1101[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ input: DetectionInput; }' is not assignable to parameter of type '{ id: string; input: DetectionInput; priority?: "low" | "medium" | "high" | undefined; }'.
  Property 'id' is missing in type '{ input: DetectionInput; }' but required in type '{ id: string; input: DetectionInput; priority?: "low" | "medium" | "high" | undefined; }'.

[7m1101[0m           return await this.processDetectionRequest({ input })
[7m    [0m [91m                                                    ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1055[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m1055[0m       this.cache.delete(firstKey)
[7m    [0m [91m                        ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m924[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m924[0m               value: input.data.process_id,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m914[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m914[0m               value: input.data.hash,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m904[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m904[0m               value: input.data.user_id,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m894[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m894[0m               value: input.data.ip_address,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m786[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m786[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m704[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m704[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m688[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyze' does not exist on type 'BiasDetectionEngine'.

[7m688[0m       const biasResult = await this.biasDetector.analyze({
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m614[0m:[93m5[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, ModelResult>' is missing the following properties from type '{ anomaly: ModelResult; classification: ModelResult; clustering: ModelResult; prediction: ModelResult; }': anomaly, classification, clustering, prediction

[7m614[0m     return results
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m608[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'startTime'.

[7m608[0m           processing_time: Date.now() - startTime,
[7m   [0m [91m                                        ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m595[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m595[0m           error: error.message,
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m534[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m534[0m     return features.slice(0, 10)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m516[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m516[0m     return features.slice(0, 10)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m498[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m498[0m     return features.slice(0, 10)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m480[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m480[0m     return features.slice(0, 10) // Ensure consistent length
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m457[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m457[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m420[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m420[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m312[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m312[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m301[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m301[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m297[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m297[0m           const update = JSON.parse(message)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m287[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m287[0m               error: error.message,
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m283[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m283[0m             const request = JSON.parse(message)
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m262[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m262[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m221[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m221[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m209[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m209[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m173[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m173[0m         `Failed to initialize edge threat detection: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m168[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m168[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m124[0m:[93m13[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m124[0m     private config: EdgeDetectionConfig,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m567[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m567[0m         const prediction = (await model.predict(inputTensor)) as tf.Tensor
[7m   [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1972[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isValidEmail' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1972[0m           return this.isValidEmail(value)
[7m    [0m [91m                      ~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1970[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isValidURL' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1970[0m           return this.isValidURL(value)
[7m    [0m [91m                      ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1968[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isValidHash' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1968[0m           return this.isValidHash(value)
[7m    [0m [91m                      ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1808[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ insertOne: { document: ThreatIndicator; }; }' is not assignable to parameter of type 'never'.

[7m1808[0m           operations.push({
[7m    [0m [91m                          ~[0m
[7m1809[0m             insertOne: {
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1811[0m             },
[7m    [0m [91m~~~~~~~~~~~~~~[0m
[7m1812[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1787[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ updateOne: { filter: { id: string; }; update: { $set: { confidence: number; severity: "low" | "medium" | "high" | "critical"; threat_type: string; description: string; last_seen: Date; tags: string[]; attributes: Record<...>; relationships: ThreatRelationship[]; raw_data: Record<...> | undefined; }; }; }; }' is not assignable to parameter of type 'never'.

[7m1787[0m           operations.push({
[7m    [0m [91m                          ~[0m
[7m1788[0m             updateOne: {
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1803[0m             },
[7m    [0m [91m~~~~~~~~~~~~~~[0m
[7m1804[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1593[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateIndicator' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1593[0m       return this.validateIndicator(indicator, transformation.parameters)
[7m    [0m [91m                  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1577[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'getIPGeolocation' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1577[0m         indicator.attributes.geolocation = await this.getIPGeolocation(
[7m    [0m [91m                                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1554[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'normalizeIndicatorValue' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1554[0m         indicator.value = this.normalizeIndicatorValue(
[7m    [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1541[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'evaluateFilterCondition' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1541[0m       return this.evaluateFilterCondition(fieldValue, transformation.parameters)
[7m    [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1538[0m:[93m27[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'ThreatIndicator' to type 'Record<string, unknown>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Index signature for type 'string' is missing in type 'ThreatIndicator'.

[7m1538[0m       const fieldValue = (indicator as Record<string, unknown>)[
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1521[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapConfidence' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1521[0m         indicator.confidence = this.mapConfidence(
[7m    [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1516[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSeverity' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1516[0m         indicator.severity = this.mapSeverity(
[7m    [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1201[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapMISPToThreatType' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1201[0m         threat_type: this.mapMISPToThreatType(attribute),
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1200[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapMISPToSeverity' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1200[0m         severity: this.mapMISPToSeverity(attribute),
[7m    [0m [91m                       ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1199[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapMISPToConfidence' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1199[0m         confidence: this.mapMISPToConfidence(attribute),
[7m    [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1197[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"email" | "url" | "domain" | "file" | "hash" | "behavior" | "ip" | "vulnerability"'.

[7m1197[0m         type: indicatorType,
[7m    [0m [91m        ~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1092[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSTIXReliability' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1092[0m         source_reliability: this.mapSTIXReliability(
[7m    [0m [91m                                 ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1080[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractThreatTypeFromSTIX' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1080[0m         threat_type: this.extractThreatTypeFromSTIX(stixObject),
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1077[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSTIXSeverity' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1077[0m         severity: this.mapSTIXSeverity(
[7m    [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1074[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSTIXConfidence' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1074[0m         confidence: this.mapSTIXConfidence(
[7m    [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1072[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"email" | "url" | "domain" | "file" | "hash" | "behavior" | "ip" | "vulnerability"'.

[7m1072[0m         type: indicatorType,
[7m    [0m [91m        ~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m988[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m988[0m           indicators = await this.processXMLData(rawData, feed)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m985[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m985[0m           indicators = await this.processCSVData(rawData, feed)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m832[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m832[0m       await this.updateFeedStatus(feedId, 'error')
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m774[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedAfterSync' does not exist on type 'ExternalThreatFeedIntegration'.

[7m774[0m       await this.updateFeedAfterSync(feedId, result)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m735[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'meetsQualityThresholds' does not exist on type 'ExternalThreatFeedIntegration'.

[7m735[0m       if (!this.meetsQualityThresholds(qualityMetrics)) {
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m711[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m711[0m       await this.updateFeedStatus(feedId, 'active')
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m701[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'createSkippedResult' does not exist on type 'ExternalThreatFeedIntegration'.

[7m701[0m         return this.createSkippedResult(resultId, feedId, startTime)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m674[0m:[93m58[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m674[0m       logger.error('Failed to add threat feed', { error: error.message })
[7m   [0m [91m                                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m609[0m:[93m10[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m609[0m     this.updateFeedStatus(feedId, 'error').catch((err: unknown) => {
[7m   [0m [91m         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m510[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m510[0m     return token
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m507[0m:[93m56[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string | number | Buffer<ArrayBufferLike>'.
  Type 'null' is not assignable to type 'string | number | Buffer<ArrayBufferLike>'.

[7m507[0m       await this.redis.setex(tokenKey, expiresIn - 60, token) // Refresh 1 minute early
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m507[0m:[93m40[0m - [91merror[0m[90m ts(18048): [0m'expiresIn' is possibly 'undefined'.

[7m507[0m       await this.redis.setex(tokenKey, expiresIn - 60, token) // Refresh 1 minute early
[7m   [0m [91m                                       ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m450[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'string'.

[7m450[0m           password: auth.credentials.password,
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m449[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'string'.

[7m449[0m           username: auth.credentials.username,
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m441[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'AxiosHeaderValue | undefined'.

[7m441[0m         client.defaults.headers.common['X-API-Key'] = auth.credentials.api_key
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m362[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m362[0m           await this.updateFeedStatus(statusData.feed_id, statusData.status)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m361[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m361[0m           const statusData = JSON.parse(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m348[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m348[0m           const syncData = JSON.parse(message)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m272[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'startSyncProcessing' does not exist on type 'ExternalThreatFeedIntegration'.

[7m272[0m       this.startSyncProcessing()
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m224[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m224[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m223[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'syncResultsCollection' has no initializer and is not definitely assigned in the constructor.

[7m223[0m   private syncResultsCollection: Collection<FeedSyncResult>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m222[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'indicatorsCollection' has no initializer and is not definitely assigned in the constructor.

[7m222[0m   private indicatorsCollection: Collection<ThreatIndicator>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m221[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'feedsCollection' has no initializer and is not definitely assigned in the constructor.

[7m221[0m   private feedsCollection: Collection<ThreatFeed>
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m220[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m220[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m219[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m219[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1390[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m1390[0m     data: string,
[7m    [0m [93m    ~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m547[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_requestsThisDay' is declared but its value is never read.

[7m547[0m     let _requestsThisDay = 0
[7m   [0m [93m        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m546[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_requestsThisHour' is declared but its value is never read.

[7m546[0m     let _requestsThisHour = 0
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m545[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_requestsThisMinute' is declared but its value is never read.

[7m545[0m     let _requestsThisMinute = 0
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m229[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'activeSyncs' is declared but its value is never read.

[7m229[0m   private activeSyncs = new Map<string, Promise<void>>()
[7m   [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m228[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isProcessing' is declared but its value is never read.

[7m228[0m   private isProcessing = false
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m227[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'syncQueue' is declared but its value is never read.

[7m227[0m   private syncQueue: string[] = []
[7m   [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m807[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m807[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m772[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m772[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m753[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m753[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m713[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m713[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m701[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m701[0m       this.emit('health:error', { error: error.message, region: this.region })
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m698[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m698[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m650[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m650[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m609[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m609[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m574[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m574[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m549[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m549[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m501[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m501[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m482[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m482[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m416[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m416[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m407[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'created_at' does not exist in type 'OptionalId<ThreatIntelligence>'.

[7m407[0m           created_at: new Date(),
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m294[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m294[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m237[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m237[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m228[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m228[0m               this.handleIncomingThreat(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m219[0m:[93m35[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m219[0m         this.handleIncomingThreat(message)
[7m   [0m [91m                                  ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m202[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m202[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m164[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m164[0m         `Failed to initialize threat intelligence network: ${error.message}`,
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m160[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m160[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m122[0m:[93m24[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 8, '(path: string, options: RedisOptions): Redis', gave the following error.
  Overload 2 of 8, '(port: number, options: RedisOptions): Redis', gave the following error.
  Overload 3 of 8, '(port: number, host: string): Redis', gave the following error.

[7m122[0m       this.redis = new Redis(this.config.redis.url, {
[7m   [0m [91m                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m98[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'sharingCollection' has no initializer and is not definitely assigned in the constructor.

[7m98[0m   private sharingCollection: Collection<any>
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m97[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'threatsCollection' has no initializer and is not definitely assigned in the constructor.

[7m97[0m   private threatsCollection: Collection<ThreatIntelligence>
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m96[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m96[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m95[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m95[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m94[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m94[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m14[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m14[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m13[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../encryption' or its corresponding type declarations.

[7m13[0m import { encrypt, decrypt } from '../encryption'
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1504[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1504[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1479[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1479[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1422[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1422[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1376[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1376[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1356[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1356[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1350[0m:[93m17[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 3, '(filter: Filter<ThreatCorrelation>, options?: (FindOptions<Document> & Abortable) | undefined): FindCursor<WithId<ThreatCorrelation>>', gave the following error.
  Overload 2 of 3, '(filter: Filter<ThreatCorrelation>, options?: (FindOptions<Document> & Abortable) | undefined): FindCursor<Document>', gave the following error.

[7m1350[0m         .find({ correlation_type: type })
[7m    [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1334[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1334[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1308[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'created_at' does not exist in type 'OptionalId<ThreatCorrelation>'.

[7m1308[0m         created_at: new Date(),
[7m    [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1146[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1146[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1058[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1058[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1006[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1006[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m821[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m821[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m769[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m769[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m599[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m599[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m548[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m548[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m544[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'time_span'. Either declare one or provide an initializer.

[7m544[0m         time_span,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m421[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m421[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m372[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m372[0m       logger.error('Failed to analyze correlations', { error: error.message })
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m314[0m:[93m61[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m314[0m       logger.error('Failed to get threats by IDs', { error: error.message })
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m298[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m298[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m249[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m249[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m224[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m224[0m       logger.error('Failed to setup Redis pub/sub', { error: error.message })
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m217[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m217[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m213[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m213[0m           const threatData = JSON.parse(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m196[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m196[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m166[0m:[93m60[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m166[0m         `Failed to initialize threat correlation engine: ${error.message}`,
[7m   [0m [91m                                                           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m163[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m163[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m113[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m113[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m112[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'correlationsCollection' has no initializer and is not definitely assigned in the constructor.

[7m112[0m   private correlationsCollection: Collection<ThreatCorrelation>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m111[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'threatsCollection' has no initializer and is not definitely assigned in the constructor.

[7m111[0m   private threatsCollection: Collection<any>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m110[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m110[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m109[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m109[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1462[0m:[93m12[0m - [93mwarning[0m[90m ts(6385): [0m'(options?: CountOptions | undefined): Promise<number>' is deprecated.

[7m1462[0m           .count(),
[7m    [0m [93m           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1290[0m:[93m46[0m - [93mwarning[0m[90m ts(6133): [0m'correlation' is declared but its value is never read.

[7m1290[0m   private generateAttributionRecommendations(correlation: any): string[] {
[7m    [0m [93m                                             ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1281[0m:[93m45[0m - [93mwarning[0m[90m ts(6133): [0m'correlation' is declared but its value is never read.

[7m1281[0m   private generateBehavioralRecommendations(correlation: any): string[] {
[7m    [0m [93m                                            ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1272[0m:[93m42[0m - [93mwarning[0m[90m ts(6133): [0m'correlation' is declared but its value is never read.

[7m1272[0m   private generateSpatialRecommendations(correlation: any): string[] {
[7m    [0m [93m                                         ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1263[0m:[93m43[0m - [93mwarning[0m[90m ts(6133): [0m'correlation' is declared but its value is never read.

[7m1263[0m   private generateTemporalRecommendations(correlation: any): string[] {
[7m    [0m [93m                                          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1041[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 't' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1041[0m             threats: group.threats.map((t) => this.mapToCorrelatedThreat(t)),
[7m    [0m [93m                                        ~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m804[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 't' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m804[0m             threats: group.threats.map((t) => this.mapToCorrelatedThreat(t)),
[7m   [0m [93m                                        ~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m682[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'maxDistance' is declared but its value is never read.

[7m682[0m     maxDistance: number,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m583[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 't' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m583[0m             threats: group.threats.map((t) => this.mapToCorrelatedThreat(t)),
[7m   [0m [93m                                        ~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m405[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 't' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m405[0m             threats: group.threats.map((t) => this.mapToCorrelatedThreat(t)),
[7m   [0m [93m                                        ~[0m

[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1551[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1551[0m   get config(): ThreatHuntingSystemConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1536[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1536[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1493[0m:[93m65[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1493[0m       logger.error('Failed to get hunting statistics', { error: error.message })
[7m    [0m [91m                                                                ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1441[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1441[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1419[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1419[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1404[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1404[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1373[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1373[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1349[0m:[93m61[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1349[0m       logger.error('Failed to process hunt queue', { error: error.message })
[7m    [0m [91m                                                            ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1340[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1340[0m             error: error.message,
[7m    [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1298[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1298[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1261[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1261[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1234[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1234[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m825[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"file"' is not assignable to type '"process" | "file_hash" | "log_entry" | "network_connection" | "registry_key" | "user_activity"'.

[7m825[0m               type: 'file',
[7m   [0m [91m              ~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m552[0m:[93m48[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m552[0m             message: `Hunt execution failed: ${error.message}`,
[7m   [0m [91m                                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m537[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m537[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m406[0m:[93m61[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m406[0m       logger.error('Failed to create threat hunt', { error: error.message })
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m347[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m347[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m310[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m310[0m       logger.error('Failed to setup Redis pub/sub', { error: error.message })
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m303[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m303[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m299[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m299[0m           const dataInfo = JSON.parse(message)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m291[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m291[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m287[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m287[0m           const huntData = JSON.parse(message)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m270[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m270[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m235[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m235[0m         `Failed to initialize threat hunting system: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m232[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m232[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m184[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m184[0m   constructor(private config: ThreatHuntingSystemConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m178[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m178[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m177[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'falsePositivesCollection' has no initializer and is not definitely assigned in the constructor.

[7m177[0m   private falsePositivesCollection: Collection<FalsePositive>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m176[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'resultsCollection' has no initializer and is not definitely assigned in the constructor.

[7m176[0m   private resultsCollection: Collection<HuntResult>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m175[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'huntsCollection' has no initializer and is not definitely assigned in the constructor.

[7m175[0m   private huntsCollection: Collection<ThreatHunt>
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m174[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m174[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m173[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m173[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1165[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'executionLog' is declared but its value is never read.

[7m1165[0m     executionLog: ExecutionLogEntry[],
[7m    [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1119[0m:[93m36[0m - [93mwarning[0m[90m ts(6133): [0m'finding' is declared but its value is never read.

[7m1119[0m   private async simulateAIAnalysis(finding: HuntFinding): Promise<any> {
[7m    [0m [93m                                   ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1025[0m:[93m47[0m - [93mwarning[0m[90m ts(6133): [0m'query' is declared but its value is never read.

[7m1025[0m   private analyzeLateralMovement(data: any[], query: HuntQuery): any[] {
[7m    [0m [93m                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1020[0m:[93m49[0m - [93mwarning[0m[90m ts(6133): [0m'query' is declared but its value is never read.

[7m1020[0m   private analyzeMalwareIndicators(data: any[], query: HuntQuery): any[] {
[7m    [0m [93m                                                ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1015[0m:[93m44[0m - [93mwarning[0m[90m ts(6133): [0m'query' is declared but its value is never read.

[7m1015[0m   private analyzeUserBehavior(data: any[], query: HuntQuery): any[] {
[7m    [0m [93m                                           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1010[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'query' is declared but its value is never read.

[7m1010[0m   private analyzeProcesses(data: any[], query: HuntQuery): any[] {
[7m    [0m [93m                                        ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1005[0m:[93m50[0m - [93mwarning[0m[90m ts(6133): [0m'query' is declared but its value is never read.

[7m1005[0m   private analyzeNetworkConnections(data: any[], query: HuntQuery): any[] {
[7m    [0m [93m                                                 ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m989[0m:[93m43[0m - [93mwarning[0m[90m ts(6133): [0m'scope' is declared but its value is never read.

[7m989[0m   private async collectAuthenticationData(scope: HuntScope): Promise<any[]> {
[7m   [0m [93m                                          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m976[0m:[93m33[0m - [93mwarning[0m[90m ts(6133): [0m'scope' is declared but its value is never read.

[7m976[0m   private async collectFileData(scope: HuntScope): Promise<any[]> {
[7m   [0m [93m                                ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m963[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'scope' is declared but its value is never read.

[7m963[0m   private async collectUserActivityData(scope: HuntScope): Promise<any[]> {
[7m   [0m [93m                                        ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m949[0m:[93m37[0m - [93mwarning[0m[90m ts(6133): [0m'scope' is declared but its value is never read.

[7m949[0m   private async collectEndpointData(scope: HuntScope): Promise<any[]> {
[7m   [0m [93m                                    ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m935[0m:[93m36[0m - [93mwarning[0m[90m ts(6133): [0m'scope' is declared but its value is never read.

[7m935[0m   private async collectNetworkData(scope: HuntScope): Promise<any[]> {
[7m   [0m [93m                                   ~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1330[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1330[0m   get config(): ThreatIntelligenceDatabaseConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1315[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1315[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1291[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1291[0m       logger.error('Failed to import STIX objects', { error: error.message })
[7m    [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1250[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1250[0m       logger.error('Failed to export STIX objects', { error: error.message })
[7m    [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1193[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1193[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1143[0m:[93m59[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1143[0m       logger.error('Failed to perform indexing', { error: error.message })
[7m    [0m [91m                                                          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1117[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1117[0m               error: error.message,
[7m    [0m [91m                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1059[0m:[93m58[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1059[0m       logger.error('Failed to process malware', { error: error.message })
[7m    [0m [91m                                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1021[0m:[93m60[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1021[0m       logger.error('Failed to process indicator', { error: error.message })
[7m    [0m [91m                                                           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m979[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m979[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m881[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m881[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m811[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m811[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m802[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'collection_id' does not exist in type 'WithoutId<TAXIIManifestEntry>'.

[7m802[0m           collection_id: collectionId,
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m783[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m783[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m711[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m711[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m689[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m689[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m657[0m:[93m64[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m657[0m       logger.error('Failed to get TAXII collections', { error: error.message })
[7m   [0m [91m                                                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m629[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m629[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m557[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m557[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m428[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m428[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m309[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m309[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m267[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m267[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m224[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m224[0m         `Failed to initialize threat intelligence database: ${error.message}`,
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m221[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m221[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m172[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m172[0m   constructor(private config: ThreatIntelligenceDatabaseConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m168[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m168[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m167[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'manifestCollection' has no initializer and is not definitely assigned in the constructor.

[7m167[0m   private manifestCollection: Collection<TAXIIManifestEntry>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m166[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'collectionsCollection' has no initializer and is not definitely assigned in the constructor.

[7m166[0m   private collectionsCollection: Collection<DatabaseCollection>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m165[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'stixCollection' has no initializer and is not definitely assigned in the constructor.

[7m165[0m   private stixCollection: Collection<DatabaseThreatIntelligence>
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m164[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m164[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m163[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m163[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m14[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../encryption' or its corresponding type declarations.

[7m14[0m import { encrypt, decrypt } from '../encryption'
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m752[0m:[93m23[0m - [93mwarning[0m[90m ts(6133): [0m'total' is declared but its value is never read.

[7m752[0m       const [objects, total] = await Promise.all([
[7m   [0m [93m                      ~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1918[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1918[0m   get config(): ThreatValidationSystemConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m715[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m715[0m     if (validation.validation_types.includes('compliance')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m703[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m703[0m     if (validation.validation_types.includes('reliability')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m691[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m691[0m     if (validation.validation_types.includes('timeliness')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m679[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m679[0m     if (validation.validation_types.includes('completeness')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m667[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m667[0m     if (validation.validation_types.includes('accuracy')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m500[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"accuracy" | "completeness" | "timeliness" | "reliability" | "compliance"'.

[7m500[0m         validation_type: queueItem.validation_types[0] || 'accuracy',
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m308[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m308[0m           const completionData = JSON.parse(message)
[7m   [0m [91m                                            ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m293[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m293[0m           const validationData = JSON.parse(message)
[7m   [0m [91m                                            ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m184[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m184[0m   constructor(private config: ThreatValidationSystemConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m178[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m178[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m177[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'validationHistoryCollection' has no initializer and is not definitely assigned in the constructor.

[7m177[0m   private validationHistoryCollection: Collection<ValidationHistoryEntry>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m176[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'threatDataCollection' has no initializer and is not definitely assigned in the constructor.

[7m176[0m   private threatDataCollection: Collection<ThreatData>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m175[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'queueCollection' has no initializer and is not definitely assigned in the constructor.

[7m175[0m   private queueCollection: Collection<ValidationQueueItem>
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m174[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'validationsCollection' has no initializer and is not definitely assigned in the constructor.

[7m174[0m   private validationsCollection: Collection<ThreatValidation>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m173[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m173[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m172[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m172[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1577[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'gate' is declared but its value is never read.

[7m1577[0m     gate: QualityGate,
[7m    [0m [93m    ~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1404[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'standard' is declared but its value is never read.

[7m1404[0m     standard: string,
[7m    [0m [93m    ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1403[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1403[0m     threatData: ThreatData,
[7m    [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1391[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'source' is declared but its value is never read.

[7m1391[0m   private async checkHistoricalAccuracy(source: string): Promise<{
[7m    [0m [93m                                        ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1380[0m:[93m43[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1380[0m   private async checkCorroboratingSources(threatData: ThreatData): Promise<{
[7m    [0m [93m                                          ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1369[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'source' is declared but its value is never read.

[7m1369[0m   private async assessSourceReliability(source: string): Promise<{
[7m    [0m [93m                                        ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1358[0m:[93m36[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1358[0m   private async checkForRecentData(threatData: ThreatData): Promise<{
[7m    [0m [93m                                   ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1347[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1347[0m   private async validateAgainstPatterns(threatData: ThreatData): Promise<{
[7m    [0m [93m                                        ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1336[0m:[93m47[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1336[0m   private async crossReferenceExternalSources(threatData: ThreatData): Promise<{
[7m    [0m [93m                                              ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1325[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1325[0m   private async checkDataConsistency(threatData: ThreatData): Promise<{
[7m    [0m [93m                                     ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1298[0m:[93m36[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m1298[0m   private async simulateAIAnalysis(threatData: ThreatData): Promise<any> {
[7m    [0m [93m                                   ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1241[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'existingFindings' is declared but its value is never read.

[7m1241[0m     existingFindings: ValidationFinding[],
[7m    [0m [93m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1072[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'criteria' is declared but its value is never read.

[7m1072[0m     criteria: ValidationCriteria,
[7m    [0m [93m    ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m756[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'criteria' is declared but its value is never read.

[7m756[0m     criteria: ValidationCriteria,
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m628[0m:[93m33[0m - [93mwarning[0m[90m ts(6133): [0m'validationTypes' is declared but its value is never read.

[7m628[0m   private getValidationCriteria(validationTypes: string[]): ValidationCriteria {
[7m   [0m [93m                                ~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m635[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'stix_taxii' does not exist on type 'ThreatIntelligenceDatabaseConfig'.

[7m635[0m     !threatIntelDatabaseConfig.stix_taxii.taxii_username
[7m   [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m634[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'stix_taxii' does not exist on type 'ThreatIntelligenceDatabaseConfig'.

[7m634[0m     threatIntelDatabaseConfig.stix_taxii.enabled &&
[7m   [0m [91m                              ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m456[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'limit' does not exist in type 'FeedFilters'.

[7m456[0m           limit: 1000,
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m420[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'published' does not exist in type 'FeedFilters'.

[7m420[0m           published: true,
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m66[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'algorithm' does not exist in type '{ enabled: boolean; key: string; }'.

[7m66[0m     algorithm: 'aes-256-gcm',
[7m  [0m [91m    ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m10[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./AutomatedThreatResponseOrchestrator"' has no exported member named 'AutomatedThreatResponseOrchestratorConfig'. Did you mean 'AutomatedThreatResponseOrchestrator'?

[7m10[0m import { AutomatedThreatResponseOrchestratorConfig } from './AutomatedThreatResponseOrchestrator'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./ThreatCorrelationEngine"' has no exported member named 'ThreatCorrelationEngineConfig'. Did you mean 'CorrelationEngineConfig'?

[7m9[0m import { ThreatCorrelationEngineConfig } from './ThreatCorrelationEngine'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m8[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./EdgeThreatDetectionSystem"' has no exported member named 'EdgeThreatDetectionSystemConfig'. Did you mean 'EdgeThreatDetectionSystem'?

[7m8[0m import { EdgeThreatDetectionSystemConfig } from './EdgeThreatDetectionSystem'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./GlobalThreatIntelligenceNetwork"' has no exported member named 'GlobalThreatIntelligenceNetworkConfig'. Did you mean 'GlobalThreatIntelligenceNetwork'?

[7m7[0m import { GlobalThreatIntelligenceNetworkConfig } from './GlobalThreatIntelligenceNetwork'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m128[0m:[93m58[0m - [93mwarning[0m[90m ts(6133): [0m'location' is declared but its value is never read.

[7m128[0m   edge_locations: baseConfig.regions.edge_locations.map((location, index) => ({
[7m   [0m [93m                                                         ~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m941[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m941[0m export * from './ExternalThreatFeedIntegration'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m940[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m940[0m export * from './ThreatHuntingSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m940[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './AutomatedThreatResponseOrchestrator' has already exported a member named 'ExecutionLogEntry'. Consider explicitly re-exporting to resolve the ambiguity.

[7m940[0m export * from './ThreatHuntingSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m937[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m937[0m export * from './ThreatCorrelationEngine'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m936[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m936[0m export * from './EdgeThreatDetectionSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m198[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m198[0m       const edgeDetection = new EdgeThreatDetectionSystem(
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m199[0m         this.networkConfig.edge,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m200[0m       )
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m28[0m:[93m8[0m - [91merror[0m[90m ts(2613): [0mModule '"/home/vivi/pixelated/src/lib/security/threat-intelligence/ExternalThreatFeedIntegration"' has no default export. Did you mean to use 'import { ExternalThreatFeedIntegration } from "/home/vivi/pixelated/src/lib/security/threat-intelligence/ExternalThreatFeedIntegration"' instead?

[7m28[0m import ExternalThreatFeedIntegration, {
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m23[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./AutomatedThreatResponseOrchestrator"' has no exported member named 'AutomatedThreatResponseOrchestratorConfig'. Did you mean 'AutomatedThreatResponseOrchestrator'?

[7m23[0m   AutomatedThreatResponseOrchestratorConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./ThreatCorrelationEngine"' has no exported member named 'ThreatCorrelationEngineConfig'. Did you mean 'CorrelationEngineConfig'?

[7m17[0m   ThreatCorrelationEngineConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./EdgeThreatDetectionSystem"' has no exported member named 'EdgeThreatDetectionSystemConfig'. Did you mean 'EdgeThreatDetectionSystem'?

[7m14[0m   EdgeThreatDetectionSystemConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./GlobalThreatIntelligenceNetwork"' has no exported member named 'GlobalThreatIntelligenceNetworkConfig'. Did you mean 'GlobalThreatIntelligenceNetwork'?

[7m11[0m   GlobalThreatIntelligenceNetworkConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m376[0m:[93m58[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m376[0m     responseOrchestrator.on('response:triggered', async (event) => {
[7m   [0m [93m                                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m371[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m371[0m     huntingSystem.on('hunt:completed', async (event) => {
[7m   [0m [93m                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m366[0m:[93m56[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m366[0m     validationSystem.on('validation:completed', async (event) => {
[7m   [0m [93m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m361[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m361[0m     feedIntegration.on('feed:sync_completed', async (event) => {
[7m   [0m [93m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m356[0m:[93m48[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m356[0m     edgeDetection.on('threat:detected', async (event) => {
[7m   [0m [93m                                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m351[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m351[0m     globalNetwork.on('threat:correlated', async (event) => {
[7m   [0m [93m                                                 ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m347[0m:[93m48[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m347[0m     globalNetwork.on('threat:detected', async (event) => {
[7m   [0m [93m                                               ~~~~~[0m

[96msrc/lib/server-only/MentalLLaMAPythonBridge.ts[0m:[93m10[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'baseLogger'.

[7m10[0m const logger = baseLogger
[7m  [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/server-only/MentalLLaMAPythonBridge.ts[0m:[93m6[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../types/index.ts' or its corresponding type declarations.

[7m6[0m } from '../types/index.ts'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/ComponentIntegrationService.ts[0m:[93m31[0m:[93m47[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ type: "line" | "bar" | "pie" | "scatter"; category?: "progress" | "sessions" | "emotions" | "outcomes" | undefined; timeRange?: number | undefined; clientId?: string | undefined; sessionId?: string | undefined; dataPoints?: number | undefined; }' to type 'Record<string, string>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'timeRange' is incompatible with index signature.

[7m31[0m       const queryParams = new URLSearchParams(params as Record<string, string>)
[7m  [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/bias-detection-optimized.ts[0m:[93m481[0m:[93m9[0m - [91merror[0m[90m ts(2740): [0mType '{}' is missing the following properties from type '{ total_analyses: number; avg_bias_score: number; high_alerts: number; low_alerts: number; last_analysis: string | null; trend: "stable" | "improving" | "worsening"; }': total_analyses, avg_bias_score, high_alerts, low_alerts, and 2 more.

[7m481[0m         return cached
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/services/bias-detection-optimized.ts[0m:[93m12[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"bias-detection"' has no properties in common with type 'LoggerOptions'.

[7m12[0m const logger = getLogger('bias-detection')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/bias-detection-optimized.ts[0m:[93m563[0m:[93m52[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m563[0m       const batchPromises = batch.map(async (text, index) => {
[7m   [0m [93m                                                   ~~~~~[0m
[96msrc/lib/services/bias-detection-optimized.ts[0m:[93m537[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m537[0m     options: {
[7m   [0m [93m    ~~~~~~~[0m

[96msrc/lib/services/cdn-optimizer.ts[0m:[93m293[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: string | undefined; } | undefined' is not assignable to parameter of type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: "png" | "jpeg" | "webp" | "avif" | undefined; } | undefined'.
  Type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: string | undefined; }' is not assignable to type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: "png" | "jpeg" | "webp" | "avif" | undefined; }'.

[7m293[0m         this.optimizeImage(asset.path, asset.options),
[7m   [0m [91m                                       ~~~~~~~~~~~~~[0m
[96msrc/lib/services/cdn-optimizer.ts[0m:[93m9[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"cdn-optimizer"' has no properties in common with type 'LoggerOptions'.

[7m9[0m const logger = getLogger('cdn-optimizer')
[7m [0m [91m                         ~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/emotion-tracking-types.ts[0m:[93m41[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m41[0m   timestamp: z.string().datetime(),
[7m  [0m [93m                        ~~~~~~~~[0m
[96msrc/lib/services/emotion-tracking-types.ts[0m:[93m25[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m25[0m   timestamp: z.string().datetime(),
[7m  [0m [93m                        ~~~~~~~~[0m

[96msrc/lib/services/health-monitor.ts[0m:[93m224[0m:[93m52[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m224[0m         message: _error instanceof Error ? _String(error) : 'Disk check failed',
[7m   [0m [91m                                                   ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m224[0m:[93m44[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m224[0m         message: _error instanceof Error ? _String(error) : 'Disk check failed',
[7m   [0m [91m                                           ~~~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m189[0m:[93m45[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m189[0m           _error instanceof Error ? _String(error) : 'Memory check failed',
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m189[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m189[0m           _error instanceof Error ? _String(error) : 'Memory check failed',
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m149[0m:[93m45[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m149[0m           _error instanceof Error ? _String(error) : 'System check failed',
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m149[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m149[0m           _error instanceof Error ? _String(error) : 'System check failed',
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m77[0m:[93m56[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m77[0m             message: _error instanceof Error ? _String(error) : 'Unknown error',
[7m  [0m [91m                                                       ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m77[0m:[93m48[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m77[0m             message: _error instanceof Error ? _String(error) : 'Unknown error',
[7m  [0m [91m                                               ~~~~~~~[0m

[96msrc/lib/services/integration-test.ts[0m:[93m290[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'biasScore' does not exist on type 'AnalysisResult'.

[7m290[0m         biasResult?.biasScore !== undefined
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m265[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'messages' does not exist in type 'TherapeuticSession'.

[7m265[0m         messages: [{ content: sessionText, role: 'user' }],
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m242[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeText' does not exist on type 'MultidimensionalEmotionMapper'.

[7m242[0m       const emotionResult = await this.emotionMapper.analyzeText(sessionText)
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m216[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeText' does not exist on type 'MultidimensionalEmotionMapper'.

[7m216[0m       const result = await this.emotionMapper.analyzeText(testText, {
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m202[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'biasScore' does not exist on type 'AnalysisResult'.

[7m202[0m         typeof result.biasScore === 'number'
[7m   [0m [91m                      ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m200[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'biasScore' does not exist on type 'AnalysisResult'.

[7m200[0m         result.biasScore !== undefined &&
[7m   [0m [91m               ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m197[0m:[93m59[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ messages: { content: string; role: string; }[]; sessionId: string; timestamp: number; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ messages: { content: string; role: string; }[]; sessionId: string; timestamp: number; }' is missing the following properties from type 'TherapeuticSession': sessionDate, participantDemographics, scenario, content, and 5 more.

[7m197[0m       const result = await this.biasEngine.analyzeSession(sessionData)
[7m   [0m [91m                                                          ~~~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m164[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"medium"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m164[0m         securityLevel: 'medium',
[7m   [0m [91m        ~~~~~~~~~~~~~[0m

[96msrc/lib/services/phase3-integration-test.ts[0m:[93m474[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'EventType'.

[7m474[0m               type: 'concurrency_test' as unknown as string,
[7m   [0m [91m              ~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m317[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'emotionResult' is of type 'unknown'.

[7m317[0m         emotionResult['primary'] !== undefined &&
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m304[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"medium"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m304[0m         securityLevel: 'medium',
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m292[0m:[93m40[0m - [91merror[0m[90m ts(2551): [0mProperty 'sendNotification' does not exist on type 'NotificationService'. Did you mean 'getNotifications'?

[7m292[0m         await this.notificationService.sendNotification({
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m285[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'emotionResult' is of type 'unknown'.

[7m285[0m           emotionPrimary: emotionResult['primary'],
[7m   [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m280[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'event' does not exist in type '{ type: EventType; priority: EventPriority; timestamp: number; properties: Record<string | number | symbol, unknown>; metadata: Record<string | number | symbol, unknown>; userId?: string | undefined; sessionId?: string | undefined; }'.

[7m280[0m         event: 'cross_service_test',
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m259[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'messages' does not exist in type 'TherapeuticSession'.

[7m259[0m         messages: [{ content: sessionText, role: 'user' }],
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m200[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'EmailService'.

[7m200[0m         this.emailService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m199[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'ContactService'.

[7m199[0m         this.contactService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                            ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m198[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'NotificationService'.

[7m198[0m         this.notificationService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                                 ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m197[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'AnalyticsService'.

[7m197[0m         this.analyticsService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m195[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'MemoryService'.

[7m195[0m         this.memoryService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m62[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'retryAttempts' does not exist in type 'RedisServiceConfig'.

[7m62[0m       retryAttempts: 3,
[7m  [0m [91m      ~~~~~~~~~~~~~[0m

[96msrc/lib/services/analytics/AnalyticsService.mock.ts[0m:[93m13[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m13[0m   private options: AnalyticsServiceOptions
[7m  [0m [93m          ~~~~~~~[0m

[96msrc/lib/services/analytics/AnalyticsService.ts[0m:[93m232[0m:[93m50[0m - [91merror[0m[90m ts(2554): [0mExpected 6 arguments, but got 3.

[7m232[0m       const metricJsons = await this.redisClient.zrangebyscore(
[7m   [0m [91m                                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/services/analytics/AnalyticsService.ts[0m:[93m193[0m:[93m45[0m - [91merror[0m[90m ts(2554): [0mExpected 6 arguments, but got 3.

[7m193[0m         eventJsons = await this.redisClient.zrangebyscore(
[7m   [0m [91m                                            ~~~~~~~~~~~~~[0m
[96msrc/lib/services/analytics/AnalyticsService.ts[0m:[93m135[0m:[93m31[0m - [91merror[0m[90m ts(18046): [0m'events' is of type 'unknown'.

[7m135[0m       for (const eventJson of events) {
[7m   [0m [91m                              ~~~~~~[0m
[96msrc/lib/services/analytics/AnalyticsService.ts[0m:[93m130[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'events' is of type 'unknown'.

[7m130[0m       if (events.length === 0) {
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/services/analytics/AnalyticsService.ts[0m:[93m30[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m30[0m   return `event_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                           ~~~~~~[0m

[96msrc/lib/services/analytics/analytics-types.ts[0m:[93m47[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m47[0m   tags: z.record(z.string()).default({}),
[7m  [0m [91m          ~~~~~~[0m
[96msrc/lib/services/analytics/analytics-types.ts[0m:[93m30[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m30[0m   metadata: z.record(z.unknown()).default({}),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/services/analytics/analytics-types.ts[0m:[93m29[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m29[0m   properties: z.record(z.unknown()).default({}),
[7m  [0m [91m                ~~~~~~[0m
[96msrc/lib/services/analytics/analytics-types.ts[0m:[93m25[0m:[93m15[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(entries: typeof EventPriority, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>' of 'z.nativeEnum' is deprecated.

[7m25[0m   priority: z.nativeEnum(EventPriority).default(EventPriority.NORMAL),
[7m  [0m [93m              ~~~~~~~~~~[0m
[96msrc/lib/services/analytics/analytics-types.ts[0m:[93m24[0m:[93m11[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(entries: typeof EventType, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>' of 'z.nativeEnum' is deprecated.

[7m24[0m   type: z.nativeEnum(EventType),
[7m  [0m [93m          ~~~~~~~~~~[0m

[96msrc/lib/services/analytics/__tests__/AnalyticsService.test.ts[0m:[93m69[0m:[93m29[0m - [91merror[0m[90m ts(1093): [0mType annotation cannot appear on a constructor declaration.

[7m69[0m   constructor(url: string): void {
[7m  [0m [91m                            ~~~~[0m

[96msrc/lib/services/backup/index.ts[0m:[93m47[0m:[93m41[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m47[0m     emailRecipients: z.array(z.string().email()).optional(),
[7m  [0m [93m                                        ~~~~~[0m

[96msrc/lib/services/contact/ContactService.ts[0m:[93m193[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m193[0m         const validationError = error.errors[0]
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/lib/services/contact/ContactService.ts[0m:[93m19[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m19[0m     .email('Invalid email format')
[7m  [0m [93m     ~~~~~[0m

[96msrc/lib/services/contact/__tests__/ContactService.test.ts[0m:[93m33[0m:[93m55[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m33[0m const MockedEmailService = EmailService as unknown as vi.MockedClass<
[7m  [0m [91m                                                      ~~[0m

[96msrc/lib/services/email/EmailService.ts[0m:[93m38[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m38[0m   metadata: z.record(z.string()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m28[0m:[93m20[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m28[0m   templateModel: z.record(z.unknown()),
[7m  [0m [91m                   ~~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m26[0m:[93m18[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m26[0m   to: z.string().email(),
[7m  [0m [93m                 ~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m19[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m19[0m   replyTo: z.string().email().optional(),
[7m  [0m [93m                      ~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m18[0m:[93m20[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m18[0m   from: z.string().email(),
[7m  [0m [93m                   ~~~~~[0m

[96msrc/lib/services/notification/NotificationService.ts[0m:[93m544[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'subscriptionKey' does not exist on type 'NotificationService'.

[7m544[0m       this.subscriptionKey,
[7m   [0m [91m           ~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m543[0m:[93m53[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m543[0m     const subscription = await (redis as unknown as RedisCommands).hget(
[7m   [0m [91m                                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m533[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'subscriptionKey' does not exist on type 'NotificationService'.

[7m533[0m     await (redis as unknown as RedisCommands).hdel(this.subscriptionKey, userId)
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m533[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m533[0m     await (redis as unknown as RedisCommands).hdel(this.subscriptionKey, userId)
[7m   [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m522[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'subscriptionKey' does not exist on type 'NotificationService'.

[7m522[0m       this.subscriptionKey,
[7m   [0m [91m           ~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m521[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m521[0m     await (redis as unknown as RedisCommands).hset(
[7m   [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m481[0m:[93m54[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m481[0m     const notifications = await (redis as unknown as RedisCommands).hgetall(
[7m   [0m [91m                                                     ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m460[0m:[93m54[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m460[0m     const notifications = await (redis as unknown as RedisCommands).hgetall(
[7m   [0m [91m                                                     ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m431[0m:[93m53[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m431[0m     const notification = await (redis as unknown as RedisCommands).hget(
[7m   [0m [91m                                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m411[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'processingKey' does not exist on type 'NotificationService'.

[7m411[0m           this.processingKey,
[7m   [0m [91m               ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m410[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m410[0m         await (redis as unknown as RedisCommands).lrem(
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m403[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m403[0m         await (redis as unknown as RedisCommands).hset(
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m385[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'processingKey' does not exist on type 'NotificationService'.

[7m385[0m           this.processingKey,
[7m   [0m [91m               ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m384[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m384[0m         await (redis as unknown as RedisCommands).lrem(
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m377[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m377[0m         await (redis as unknown as RedisCommands).hset(
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m343[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'processingKey' does not exist on type 'NotificationService'.

[7m343[0m         this.processingKey,
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m342[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'queueKey' does not exist on type 'NotificationService'.

[7m342[0m         this.queueKey,
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m341[0m:[93m47[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m341[0m       const item = await (redis as unknown as RedisCommands).rpoplpush(
[7m   [0m [91m                                              ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m321[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'queueKey' does not exist on type 'NotificationService'.

[7m321[0m       this.queueKey,
[7m   [0m [91m           ~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m320[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RedisCommands'.

[7m320[0m     await (redis as unknown as RedisCommands).lpush(
[7m   [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m172[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m172[0m       fromEmail: config.email.from(),
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m100[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m100[0m   data: z.record(z.unknown()),
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m70[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m70[0m   data: z.record(z.unknown()),
[7m  [0m [91m          ~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m61[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m61[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/services/notification/NotificationService.ts[0m:[93m13[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m13[0m const logger = createBuildSafeLogger({ prefix: 'NotificationService' })
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/notification/SlackNotificationService.ts[0m:[93m120[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'elements' does not exist in type 'SlackBlock'.

[7m120[0m       elements: [
[7m   [0m [91m      ~~~~~~~~[0m

[96msrc/lib/services/notification/smsUtils.ts[0m:[93m34[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'Twilio'.

[7m34[0m export function getTwilioClient(): Twilio | null {
[7m  [0m [91m                                   ~~~~~~[0m

[96msrc/lib/services/notification/__tests__/WebSocketServer.test.ts[0m:[93m187[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'supabaseAdmin' does not exist on type 'typeof import("/home/vivi/pixelated/src/lib/supabase")'.

[7m187[0m       const { supabaseAdmin } = await import('@/lib/supabase')
[7m   [0m [91m              ~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/__tests__/WebSocketServer.test.ts[0m:[93m1[0m:[93m8[0m - [91merror[0m[90m ts(1192): [0mModule '"/home/vivi/pixelated/src/lib/utils/logger"' has no default export.

[7m1[0m import logger from '@/lib/utils/logger'
[7m [0m [91m       ~~~~~~[0m

[96msrc/lib/services/patient-rights/dataPortabilityService.ts[0m:[93m35[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ context: string; }' is not assignable to parameter of type 'string'.

[7m35[0m const logger = createBuildSafeLogger({ context: 'data-portability-service' })
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/types.ts[0m:[93m45[0m:[93m5[0m - [91merror[0m[90m ts(4115): [0mThis parameter property must have an 'override' modifier because it overrides a member in base class 'Error'.

[7m45[0m     public cause?: unknown,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__mocks__/redis.mock.ts[0m:[93m106[0m:[93m1[0m - [91merror[0m[90m ts(2322): [0mType '(received: any, expected: any) => { pass: any; message: () => string; }' is not assignable to type '<T = unknown>(expected: DeeplyAllowMatchers<T>[]) => any'.
  Target signature provides too few arguments. Expected 2 or more, but got 1.

[7m106[0m expect.arrayContaining = arrayContaining
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__mocks__/redis.mock.ts[0m:[93m97[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m   const pass = expected.every((item) => received.includes(item))
[7m  [0m [93m                               ~~~~[0m
[96msrc/lib/services/redis/__mocks__/redis.mock.ts[0m:[93m96[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'expected' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m96[0m const arrayContaining = (received, expected) => {
[7m  [0m [93m                                   ~~~~~~~~[0m
[96msrc/lib/services/redis/__mocks__/redis.mock.ts[0m:[93m96[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'received' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m96[0m const arrayContaining = (received, expected) => {
[7m  [0m [93m                         ~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/Analytics.integration.test.ts[0m:[93m201[0m:[93m27[0m - [91merror[0m[90m ts(2538): [0mType '{}' cannot be used as an index type.

[7m201[0m           acc[key] = (acc[key] || 0) + 1
[7m   [0m [91m                          ~~~[0m
[96msrc/lib/services/redis/__tests__/Analytics.integration.test.ts[0m:[93m201[0m:[93m15[0m - [91merror[0m[90m ts(2538): [0mType '{}' cannot be used as an index type.

[7m201[0m           acc[key] = (acc[key] || 0) + 1
[7m   [0m [91m              ~~~[0m

[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m96[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ description: string; expectedDuration?: number | undefined; minThroughput?: number | undefined; }'.

[7m96[0m       await runConcurrentOperations(operations, {
[7m  [0m [91m                                                ~[0m
[7m97[0m         description: 'Concurrent pattern invalidations',
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m98[0m         expectedDuration: 1000,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m99[0m       } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m61[0m:[93m15[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m61[0m         await (expect(key) as unknown)['toExistInRedis']()
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m36[0m:[93m49[0m - [91merror[0m[90m ts(2322): [0mType 'Redis | null' is not assignable to type 'RedisService | Redis'.
  Type 'null' is not assignable to type 'RedisService | Redis'.

[7m36[0m     cacheInvalidation = new CacheInvalidation({ redis: redis.getClient() })
[7m  [0m [91m                                                ~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m237[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m237[0m       await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m158[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m158[0m         await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m152[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m152[0m       await expect(key).toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m138[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m138[0m         await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m129[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m129[0m         await expect(key).toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m70[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m70[0m         await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m  [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m152[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'securityLevel' does not exist in type 'TherapySession'.

[7m152[0m           securityLevel: 'fhe',
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m148[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m148[0m           clientId: testId,
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m143[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'securityLevel' does not exist in type 'TherapySession'.

[7m143[0m           securityLevel: 'fhe',
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m139[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'testId'.

[7m139[0m           clientId: testId,
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m71[0m:[93m7[0m - [91merror[0m[90m ts(2740): [0mType '{ connect: () => Promise<void>; disconnect: () => Promise<void>; get: (_: string) => Promise<null>; set: (_key: string, _value: string, _ttlMs?: number | undefined) => Promise<...>; ... 9 more ...; keys: (_pattern: string) => Promise<...>; }' is missing the following properties from type 'IRedisService': deletePattern, hset, hget, hgetall, and 11 more.

[7m71[0m const mockRedisService: IRedisService = {
[7m  [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"@/lib/ai/AIService"' has no exported member 'EmotionAnalysis'.

[7m5[0m import type { EmotionAnalysis, TherapySession } from '@/lib/ai/AIService'
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m4[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/ai/services/PatternRecognitionService' or its corresponding type declarations.

[7m4[0m } from '@/lib/ai/services/PatternRecognitionService'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m491[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'toBeRedisError' does not exist on type 'Promisify<Assertion<Promise<string | null>>>'.

[7m491[0m         await expect(retryRedis.get(key)).rejects.toBeRedisError(
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m388[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'toBeRedisError' does not exist on type 'Promisify<Assertion<Promise<void>>>'.

[7m388[0m       await expect(unstableRedis.connect()).rejects.toBeRedisError(
[7m   [0m [91m                                                    ~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m273[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m273[0m           expect(parsed.confidence).toBeGreaterThanOrEqual(0.8)
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m225[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m225[0m           expect(parsed.type).toBe('success')
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m124[0m:[93m47[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m124[0m         expect(JSON.parse(updatedSession!) as unknown.roles).toContain('admin')
[7m   [0m [91m                                              ~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m10[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ message: () => string; pass: boolean; }' is not assignable to type 'void'.

[7m10[0m     return {
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m7[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '(this: MatcherState, received: unknown, code: RedisErrorCode) => void' is not assignable to type 'RawMatcherFn<MatcherState, any[]>'.
  Type 'void' is not assignable to type 'ExpectationResult'.

[7m7[0m   toBeRedisError(received: unknown, code: RedisErrorCode): void {
[7m [0m [91m  ~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/RedisService.perf.test.ts[0m:[93m164[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialStats' is declared but its value is never read.

[7m164[0m       const _initialStats = await redis.getPoolStats()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m268[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ message: () => string; pass: boolean; }' is not assignable to type 'void'.

[7m268[0m       return {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m256[0m:[93m54[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m256[0m   async toHaveTTL(key: string, expectedTTL: number): void {
[7m   [0m [91m                                                     ~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m242[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ message: () => string; pass: boolean; }' is not assignable to type 'void'.

[7m242[0m       return {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m230[0m:[93m38[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m230[0m   async toExistInRedis(key: string): void {
[7m   [0m [91m                                     ~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m216[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ message: () => string; pass: boolean; }' is not assignable to type 'void'.

[7m216[0m       return {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m204[0m:[93m59[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m204[0m   async toBeInRedis(key: string, expectedValue: unknown): void {
[7m   [0m [91m                                                          ~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m197[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ message: () => string; pass: boolean; }' is not assignable to type 'void'.

[7m197[0m     return {
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m161[0m:[93m3[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m161[0m   await redis.disconnect()
[7m   [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/vitest.global.setup.ts[0m:[93m1[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../logging/build-safe-logger' or its corresponding type declarations.

[7m1[0m import { createBuildSafeLogger } from '../../logging/build-safe-logger'
[7m [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/vitest.setup.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ toBeRedisError(received: unknown, expectedCode: RedisErrorCode): void; toBeInRedis(key: string, expectedValue: unknown): void; toExistInRedis(key: string): void; toHaveTTL(key: string, expectedTTL: number): void; }' is not assignable to parameter of type 'MatchersObject<MatcherState>'.
  Type '{ toBeRedisError(received: unknown, expectedCode: RedisErrorCode): void; toBeInRedis(key: string, expectedValue: unknown): void; toExistInRedis(key: string): void; toHaveTTL(key: string, expectedTTL: number): void; }' is not assignable to type 'Record<string, RawMatcherFn<MatcherState, any[]>>'.

[7m5[0m expect.extend(customMatchers)
[7m [0m [91m              ~~~~~~~~~~~~~~[0m

[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'AnalysisCompleteWebSocketEvent'.

[7m19[0m   AnalysisCompleteWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'SystemStatusWebSocketEvent'.

[7m18[0m   SystemStatusWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'DashboardUpdateWebSocketEvent'.

[7m17[0m   DashboardUpdateWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'BiasAlertWebSocketEvent'.

[7m16[0m   BiasAlertWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'WebSocketMessage'.

[7m15[0m   WebSocketMessage,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"../../ai/bias-detection/types"' has no exported member named 'BiasDashboardData'. Did you mean 'DashboardData'?

[7m14[0m   BiasDashboardData,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'BiasAlert'.

[7m12[0m   BiasAlert,
[7m  [0m [91m  ~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m839[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m839[0m     return `client_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                              ~~~~~~[0m

[96msrc/lib/state/jotai-persistence.ts[0m:[93m242[0m:[93m36[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 3, '(getStringStorage: () => AsyncStringStorage, options?: JsonStorageOptions | undefined): AsyncStorage<Value>', gave the following error.
  Overload 2 of 3, '(getStringStorage: () => SyncStringStorage, options?: JsonStorageOptions | undefined): SyncStorage<Value>', gave the following error.

[7m242[0m     createJSONStorage<Value>(() => storage as unknown),
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m132[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'StoredState<Value>'.

[7m132[0m       const storedState: StoredState<Value> = JSON.parse(decrypted) as unknown
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m122[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m122[0m           decrypted = await decrypt(serialized)
[7m   [0m [91m                            ~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m105[0m:[93m28[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m105[0m         serialized = await encrypt(serialized)
[7m   [0m [91m                           ~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.

[7m61[0m       ttl: options.ttl ?? undefined,
[7m  [0m [91m      ~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m296[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'syncSubscriptions' is declared but its value is never read.

[7m296[0m   private syncSubscriptions: Map<string, () => void> = new Map()
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m213[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m213[0m     key: string,
[7m   [0m [93m    ~~~[0m

[96msrc/lib/stores/fhe-store.ts[0m:[93m328[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'EncryptedData<unknown>'.

[7m328[0m                   encryptedData,
[7m   [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m316[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'EncryptedData<unknown>'.

[7m316[0m                   encryptedData,
[7m   [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m307[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m307[0m               : isEncryptedData(encryptedMessage)
[7m   [0m [91m                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m304[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m304[0m               ? isEncryptedData(JSON.parse(encryptedMessage) as unknown)
[7m   [0m [91m                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m294[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType 'FHEOperationResult<string>' is missing the following properties from type 'HomomorphicOperationResult': operationType, timestamp

[7m294[0m           result = await fheService.processEncrypted(
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m238[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'EncryptedData<unknown>'.

[7m238[0m         const decrypted = await fheService.decrypt(encryptedData)
[7m   [0m [91m                                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m233[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m233[0m             : isEncryptedData(encryptedMessage)
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m230[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m230[0m             ? isEncryptedData(JSON.parse(encryptedMessage) as unknown)
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m443[0m:[93m26[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m443[0m         const newKeyId = await keyRotationService.getActiveKeyId()
[7m   [0m [93m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m135[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m135[0m         const keyId = await keyRotationService.getActiveKeyId()
[7m   [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m503[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'optimizationHistory' does not exist on type 'TestSuiteManager'.

[7m503[0m       lastRun: this.optimizationHistory.length > 0 ? new Date() : undefined,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m62[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'enableCI' is specified more than once, so this usage will be overwritten.

[7m62[0m       enableCI: true,
[7m  [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'environments' is specified more than once, so this usage will be overwritten.

[7m61[0m       environments: ['development', 'staging', 'production'],
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m56[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'performance' is specified more than once, so this usage will be overwritten.

[7m 56[0m       performance: {
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[7m 57[0m         maxResponseTime: 100,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 59[0m         maxCpuUsage: 80, // %
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 60[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m50[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'coverage' is specified more than once, so this usage will be overwritten.

[7m 50[0m       coverage: {
[7m   [0m [91m      ~~~~~~~~~~~[0m
[7m 51[0m         statements: 90,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 54[0m         lines: 90,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m 55[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m49[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'layers' is specified more than once, so this usage will be overwritten.

[7m49[0m       layers: ['unit', 'integration', 'e2e', 'performance', 'security'],
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m6[0m:[93m27[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/testing"' has no exported member 'CoverageReport'.

[7m6[0m import type { TestResult, CoverageReport } from '@/types/testing'
[7m [0m [91m                          ~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m6[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/testing"' has no exported member 'TestResult'.

[7m6[0m import type { TestResult, CoverageReport } from '@/types/testing'
[7m [0m [91m              ~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m44[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'testResults' is declared but its value is never read.

[7m44[0m   private testResults = new Map<string, TestResult>()
[7m  [0m [93m          ~~~~~~~~~~~[0m

[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m200[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'responseTime' does not exist on type 'never'.

[7m200[0m             responseTimes.push(result.responseTime)
[7m   [0m [91m                                      ~~~~~~~~~~~~[0m
[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m198[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type 'never'.

[7m198[0m           if (result.success) {
[7m   [0m [91m                     ~~~~~~~[0m
[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m191[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<{ success: boolean; responseTime: number; }>' is not assignable to parameter of type 'never'.

[7m191[0m         batchPromises.push(requestPromise)
[7m   [0m [91m                           ~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m259[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'scenario' is declared but its value is never read.

[7m259[0m     scenario: any,
[7m   [0m [93m    ~~~~~~~~[0m

[96msrc/lib/testing/test-helpers.ts[0m:[93m319[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type 'never'.

[7m319[0m           error: result.error,
[7m   [0m [91m                        ~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m317[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type 'never'.

[7m317[0m           success: result.success,
[7m   [0m [91m                          ~~~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m298[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<{ result: { success: boolean; error?: undefined; } | { success: boolean; error: unknown; }; executionTime: number; }>' is not assignable to parameter of type 'never'.

[7m298[0m         this.measureExecutionTime(async () => {
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m299[0m           try {
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m304[0m           }
[7m   [0m [91m~~~~~~~~~~~[0m
[7m305[0m         }),
[7m   [0m [91m~~~~~~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m18[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'SecurityTestResults' is declared but never used.

[7m18[0m interface SecurityTestResults {
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m10[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'PerformanceResults' is declared but never used.

[7m10[0m interface PerformanceResults {
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m4[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'TestResult' is declared but never used.

[7m4[0m interface TestResult {
[7m [0m [93m          ~~~~~~~~~~[0m

[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m1162[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'AdvancedResponseOrchestrator'.

[7m1162[0m export { AdvancedResponseOrchestrator }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m1162[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AdvancedResponseOrchestrator'.

[7m1162[0m export { AdvancedResponseOrchestrator }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m988[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m988[0m     } else if (prediction.riskLevel >= 1) {
[7m   [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m986[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m986[0m     if (prediction.riskLevel >= 2) {
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m978[0m:[93m23[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m978[0m       patternMatches: threatData.patternMatches || [],
[7m   [0m [91m                      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m977[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m977[0m       anomalyTypes: threatData.anomalyTypes || [],
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m976[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m976[0m       ip: threatData.sourceIp,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m975[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m975[0m       userId: threatData.userId,
[7m   [0m [91m              ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m968[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'indexOf' does not exist on type 'TensorContainer'.
  Property 'indexOf' does not exist on type 'number'.

[7m968[0m       riskLevel: result.indexOf(Math.max(...result)),
[7m   [0m [91m                        ~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m967[0m:[93m31[0m - [91merror[0m[90m ts(2488): [0mType 'TensorContainer' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m967[0m       confidence: Math.max(...result),
[7m   [0m [91m                              ~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m959[0m:[93m26[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m959[0m       const prediction = this.model.predict(inputTensor) as tf.Tensor
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m957[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<number[]>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<number[]>' is not assignable to type 'ScopeFn<TensorContainer>'.

[7m957[0m     const result = await tf.tidy(async () => {
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m948[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m948[0m       threatData.patternNovelty || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m947[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m947[0m       threatData.geographicAnomaly || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m946[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m946[0m       threatData.temporalAnomaly || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m945[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m945[0m       threatData.behavioralDeviation || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m944[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m944[0m       threatData.ipRiskScore || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m943[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m943[0m       threatData.userRiskScore || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m942[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m942[0m       threatData.impact || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m941[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m941[0m       threatData.severity || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m940[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m940[0m       threatData.frequency || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m939[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m939[0m       threatData.anomalyScore || 0,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m899[0m:[93m19[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m899[0m       confidence: prediction.confidence,
[7m   [0m [91m                  ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m898[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m898[0m       riskScore: prediction.riskScore,
[7m   [0m [91m                 ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m690[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'mlAnalysis' is of type 'unknown'.

[7m690[0m     return mlAnalysis.riskScore * 100 // Scale to 0-100 range
[7m   [0m [91m           ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m679[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'mlAnalysis' is of type 'unknown'.

[7m679[0m     if (mlAnalysis.riskScore > 0.4) {
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m676[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'mlAnalysis' is of type 'unknown'.

[7m676[0m     if (mlAnalysis.riskScore > 0.6) {
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m673[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'mlAnalysis' is of type 'unknown'.

[7m673[0m     if (mlAnalysis.riskScore > 0.8) {
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m639[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document> | null' is not assignable to type 'ThreatResponse | null'.
  Type 'WithId<Document>' is not assignable to type 'ThreatResponse | null'.

[7m639[0m     return await collection.findOne({ responseId })
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m607[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyRateLimit' does not exist on type '{}'.

[7m607[0m         await this.rateLimitingService.applyRateLimit(
[7m   [0m [91m                                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m373[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'mlAnalysis' is of type 'unknown'.

[7m373[0m       recommendedActions: mlAnalysis.recommendedActions,
[7m   [0m [91m                          ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m372[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'mlAnalysis' is of type 'unknown'.

[7m372[0m       riskFactors: mlAnalysis.riskFactors,
[7m   [0m [91m                   ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m368[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'threatData' is of type 'unknown'.

[7m368[0m       threatId: threatData.threatId,
[7m   [0m [91m                ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m365[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'unknown'.

[7m365[0m     const { confidence } = mlAnalysis
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m308[0m:[93m42[0m - [91merror[0m[90m ts(2551): [0mProperty 'escalateThreatSeverity' does not exist on type 'AdvancedResponseOrchestrator'. Did you mean 'calculateThreatSeverity'?

[7m308[0m       const escalatedThreat = await this.escalateThreatSeverity(
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m302[0m:[93m15[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m302[0m         await this.threatIntelligenceService.getThreat(threatId)
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m161[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'estimatedImpact' does not exist on type 'ThreatAnalysis'.

[7m161[0m         estimatedImpact: threatAnalysis.estimatedImpact,
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m100[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'notificationManager' has no initializer and is not definitely assigned in the constructor.

[7m100[0m   private notificationManager: NotificationManager
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m99[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'integrationManager' has no initializer and is not definitely assigned in the constructor.

[7m99[0m   private integrationManager: IntegrationManager
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m98[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'decisionEngine' has no initializer and is not definitely assigned in the constructor.

[7m98[0m   private decisionEngine: DecisionEngine
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m97[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'responseExecutor' has no initializer and is not definitely assigned in the constructor.

[7m97[0m   private responseExecutor: ResponseExecutor
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m96[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m96[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m95[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m95[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m91[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AdvancedResponseOrchestrator'.

[7m91[0m export class AdvancedResponseOrchestrator
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m957[0m:[93m20[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m957[0m     const result = await tf.tidy(async () => {
[7m   [0m [93m                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m958[0m       const inputTensor = tf.tensor2d([features])
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m962[0m       return Array.from(data) as number[]
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m963[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m799[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m799[0m   constructor(private config: OrchestrationConfig) {
[7m   [0m [93m                      ~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m686[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m686[0m     threatData: unknown,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m669[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m669[0m     threatData: unknown,
[7m   [0m [93m    ~~~~~~~~~~[0m

[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m282[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'mockClear' does not exist on type '{ (input: URL | RequestInfo, init?: RequestInit | undefined): Promise<Response>; (input: URL | RequestInfo, init?: RequestInit | undefined): Promise<...>; (input: string | ... 1 more ... | URL, init?: RequestInit | undefined): Promise<...>; }'.

[7m282[0m       global.fetch.mockClear()
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m4[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../integrations"' has no exported member 'createCompleteThreatDetectionSystem'.

[7m4[0m import { createCompleteThreatDetectionSystem } from '../integrations'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m3[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'ioredis-mock' or its corresponding type declarations.

[7m3[0m import { Redis } from 'ioredis-mock'
[7m [0m [91m                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m2[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mongodb-memory-server' or its corresponding type declarations.

[7m2[0m import { MongoMemoryServer } from 'mongodb-memory-server'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m629[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m629[0m       expect(metrics.some((m) => m.name === 'recent_metric')).toBe(true)
[7m   [0m [93m                           ~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m628[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m628[0m       expect(metrics.some((m) => m.name === 'old_metric')).toBe(false)
[7m   [0m [93m                           ~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m352[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'inv' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m352[0m         (inv) => inv.threatId === threatData.threatId,
[7m   [0m [93m         ~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m346[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m346[0m       const threatMetric = metrics.find((m) => m.name === 'threats_detected')
[7m   [0m [93m                                         ~[0m

[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1655[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'AdvancedBehavioralAnalysisService'.

[7m1655[0m export { AdvancedBehavioralAnalysisService }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1655[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AdvancedBehavioralAnalysisService'.

[7m1655[0m export { AdvancedBehavioralAnalysisService }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m957[0m:[93m32[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m957[0m         const reconstruction = this.model.predict(inputTensor) as tf.Tensor
[7m   [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m925[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'IsolationForest'.

[7m925[0m     this.isolationForest = new IsolationForest(100, 256)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m854[0m:[93m28[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'IsolationForest'.

[7m854[0m   private isolationForest: IsolationForest | null = null
[7m   [0m [91m                           ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m485[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'removeDuplicateAnomalies' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m485[0m     const uniqueAnomalies = this.removeDuplicateAnomalies(anomalies)
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m420[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeNetworkCharacteristics' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m420[0m       networkCharacteristics: this.analyzeNetworkCharacteristics(events),
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m419[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateMobilityPattern' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m419[0m       mobilityPattern: this.calculateMobilityPattern(locations),
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m418[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateGeographicSpread' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m418[0m       geographicSpread: this.calculateGeographicSpread(locations),
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m417[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateIPDiversity' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m417[0m       ipDiversity: this.calculateIPDiversity(ipAddresses),
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m414[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'geolocateIPs' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m414[0m     const locations = await this.geolocateIPs(ipAddresses)
[7m   [0m [91m                                 ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m406[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateResponseTimePattern' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m406[0m       responseTimePattern: this.calculateResponseTimePattern(events),
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m405[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateSessionRegularity' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m405[0m       sessionRegularity: this.calculateSessionRegularity(intervals),
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m404[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateActivityFrequency' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m404[0m       activityFrequency: this.calculateActivityFrequency(events),
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m403[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateDayOfWeekPattern' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m403[0m       dayOfWeekPattern: this.calculateDayOfWeekPattern(events),
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m402[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTimeOfDayPreference' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m402[0m       timeOfDayPreference: this.calculateTimeOfDayPreference(events),
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m401[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateAverageSessionDuration' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m401[0m       avgSessionDuration: this.calculateAverageSessionDuration(events),
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m398[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTimeIntervals' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m398[0m     const intervals = this.calculateTimeIntervals(timestamps)
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m388[0m:[93m30[0m - [91merror[0m[90m ts(2551): [0mProperty 'extractContextualFeatures' does not exist on type 'AdvancedBehavioralAnalysisService'. Did you mean 'extractTemporalFeatures'?

[7m388[0m       contextual: await this.extractContextualFeatures(events),
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m387[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractFrequencyFeatures' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m387[0m       frequency: await this.extractFrequencyFeatures(events),
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m386[0m:[93m30[0m - [91merror[0m[90m ts(2551): [0mProperty 'extractSequentialFeatures' does not exist on type 'AdvancedBehavioralAnalysisService'. Did you mean 'extractSpatialFeatures'?

[7m386[0m       sequential: await this.extractSequentialFeatures(events),
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m305[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculatePatternStability' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m305[0m         await this.calculatePatternStability(classifiedPatterns)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m302[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'classifyPatterns' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m302[0m         await this.classifyPatterns(significantPatterns)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m267[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateRiskTrend' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m267[0m       const trend = await this.calculateRiskTrend(profile.userId, totalRisk)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m265[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateRiskConfidence' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m265[0m       const confidence = this.calculateRiskConfidence(riskFactors)
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m254[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateHistoricalRiskComponent' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m254[0m       const historicalRisk = await this.calculateHistoricalRiskComponent(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m253[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateContextualRiskComponent' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m253[0m       const contextualRisk = await this.calculateContextualRiskComponent(events)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m249[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateAnomalyRiskComponent' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m249[0m       const anomalyRisk = await this.calculateAnomalyRiskComponent(
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m245[0m:[93m41[0m - [91merror[0m[90m ts(2551): [0mProperty 'calculateBehavioralRiskComponent' does not exist on type 'AdvancedBehavioralAnalysisService'. Did you mean 'calculateBehavioralRisk'?

[7m245[0m       const behavioralRisk = await this.calculateBehavioralRiskComponent(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m243[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractRiskFactors' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m243[0m       const riskFactors = await this.extractRiskFactors(profile, events)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m210[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'detectFrequencyAnomalies' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m210[0m       const frequencyAnomalies = await this.detectFrequencyAnomalies(
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m204[0m:[93m46[0m - [91merror[0m[90m ts(2551): [0mProperty 'detectSequentialAnomalies' does not exist on type 'AdvancedBehavioralAnalysisService'. Did you mean 'detectSpatialAnomalies'?

[7m204[0m       const sequentialAnomalies = await this.detectSequentialAnomalies(
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m156[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateProfileConfidence' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m156[0m       const confidenceScore = this.calculateProfileConfidence(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m151[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'identifyRiskIndicators' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m151[0m       const riskIndicators = await this.identifyRiskIndicators(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m149[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateBaselineMetrics' does not exist on type 'AdvancedBehavioralAnalysisService'.

[7m149[0m       const baselineMetrics = await this.calculateBaselineMetrics(features)
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m103[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'graphAnalyzer' has no initializer and is not definitely assigned in the constructor.

[7m103[0m   private graphAnalyzer: GraphAnalyzer
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m102[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'privacyPreserver' has no initializer and is not definitely assigned in the constructor.

[7m102[0m   private privacyPreserver: PrivacyPreserver
[7m   [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m101[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'riskCalculator' has no initializer and is not definitely assigned in the constructor.

[7m101[0m   private riskCalculator: RiskCalculator
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m100[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'patternMiner' has no initializer and is not definitely assigned in the constructor.

[7m100[0m   private patternMiner: PatternMiner
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m99[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'anomalyDetector' has no initializer and is not definitely assigned in the constructor.

[7m99[0m   private anomalyDetector: AnomalyDetector
[7m  [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m98[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m98[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m97[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m97[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m93[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AdvancedBehavioralAnalysisService'.

[7m93[0m export class AdvancedBehavioralAnalysisService
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m33[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RiskIndicator'.

[7m33[0m   riskIndicators: RiskIndicator[]
[7m  [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1156[0m:[93m62[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m1156[0m     return `graph_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m    [0m [93m                                                             ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1155[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'generateGraphId' is declared but its value is never read.

[7m1155[0m   private generateGraphId(): string {
[7m    [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1152[0m:[93m65[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m1152[0m     return `analysis_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m    [0m [93m                                                                ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1151[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'generateAnalysisId' is declared but its value is never read.

[7m1151[0m   private generateAnalysisId(): string {
[7m    [0m [93m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1148[0m:[93m64[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m1148[0m     return `anomaly_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m    [0m [93m                                                               ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1143[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'generateProfileId' is declared but its value is never read.

[7m1143[0m   private generateProfileId(userId: string): string {
[7m    [0m [93m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m856[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'modelPath' is declared but its value is never read.

[7m856[0m   constructor(private modelPath: string) {
[7m   [0m [93m                      ~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m621[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'zScoreNormalize' is declared but its value is never read.

[7m621[0m   private zScoreNormalize(
[7m   [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m605[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'minMaxNormalize' is declared but its value is never read.

[7m605[0m   private minMaxNormalize(
[7m   [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m487[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'b' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m487[0m     const rankedAnomalies = uniqueAnomalies.sort((a, b) => {
[7m   [0m [93m                                                     ~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m487[0m:[93m51[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m487[0m     const rankedAnomalies = uniqueAnomalies.sort((a, b) => {
[7m   [0m [93m                                                  ~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m101[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'riskCalculator' is declared but its value is never read.

[7m101[0m   private riskCalculator: RiskCalculator
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m832[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeBatchBehavior' does not exist on type 'BehavioralAnalysisService'.

[7m832[0m       const analysis = await service.analyzeBatchBehavior(userId, largeDataset)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m808[0m:[93m17[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m808[0m         service.analyzeBehavior(userId, behaviorData),
[7m   [0m [91m                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m787[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m787[0m       const analysis = await service.analyzeBehavior(userId, behaviorData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m770[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m770[0m       const analysis = await service.analyzeBehavior(userId, invalidData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m756[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m756[0m       const analysis = await service.analyzeBehavior(userId, behaviorData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m737[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name '________'.

[7m737[0m         .slice(________)
[7m   [0m [91m               ~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m736[0m:[93m10[0m - [91merror[0m[90m ts(2339): [0mProperty 'performRealTimeAnalysis' does not exist on type 'BehavioralAnalysisService'.

[7m736[0m         .performRealTimeAnalysis(userId, realTimeData)
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m716[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'performRealTimeAnalysis' does not exist on type 'BehavioralAnalysisService'.

[7m716[0m       const result = await service.performRealTimeAnalysis(userId, realTimeData)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m358[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeBatchBehavior' does not exist on type 'BehavioralAnalysisService'.

[7m358[0m       const analysis = await service.analyzeBatchBehavior(userId, batchData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m322[0m:[93m17[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m322[0m         service.analyzeBehavior(userId, behaviorData),
[7m   [0m [91m                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m305[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m305[0m       const analysis = await service.analyzeBehavior(userId, suspiciousBehavior)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m265[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeBehavior' does not exist on type 'BehavioralAnalysisService'. Did you mean 'analyzeBehaviorGraph'?

[7m265[0m       const analysis = await service.analyzeBehavior(userId, behaviorData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m232[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'deleteProfile' does not exist on type 'BehavioralAnalysisService'.

[7m232[0m       await expect(service.deleteProfile(userId)).rejects.toThrow('Redis error')
[7m   [0m [91m                           ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m223[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'deleteProfile' does not exist on type 'BehavioralAnalysisService'.

[7m223[0m       await service.deleteProfile(userId)
[7m   [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m214[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getProfile' does not exist on type 'BehavioralAnalysisService'.

[7m214[0m       const result = await service.getProfile(userId)
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m204[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getProfile' does not exist on type 'BehavioralAnalysisService'.

[7m204[0m       const result = await service.getProfile(userId)
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m188[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'createOrUpdateProfile' does not exist on type 'BehavioralAnalysisService'.

[7m188[0m         service.createOrUpdateProfile(userId, initialData),
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m170[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'createOrUpdateProfile' does not exist on type 'BehavioralAnalysisService'.

[7m170[0m       const updatedProfile = await service.createOrUpdateProfile(
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m126[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'createOrUpdateProfile' does not exist on type 'BehavioralAnalysisService'.

[7m126[0m       const profile = await service.createOrUpdateProfile(userId, initialData)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m93[0m:[93m33[0m - [91merror[0m[90m ts(2693): [0m'BehavioralAnalysisService' only refers to a type, but is being used as a value here.

[7m93[0m       const customService = new BehavioralAnalysisService(
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m67[0m:[93m34[0m - [91merror[0m[90m ts(2693): [0m'BehavioralAnalysisService' only refers to a type, but is being used as a value here.

[7m67[0m       const defaultService = new BehavioralAnalysisService(
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m63[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'anomalyDetector' does not exist on type 'BehavioralAnalysisService'.

[7m63[0m       expect(service.anomalyDetector).toBeDefined()
[7m  [0m [91m                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m62[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'profiles' does not exist on type 'BehavioralAnalysisService'.

[7m62[0m       expect(service.profiles).toBeDefined()
[7m  [0m [91m                     ~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m61[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'orchestrator' does not exist on type 'BehavioralAnalysisService'.

[7m61[0m       expect(service.orchestrator).toBe(mockOrchestrator)
[7m  [0m [91m                     ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m60[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'BehavioralAnalysisService'.

[7m60[0m       expect(service.redis).toBe(mockRedis)
[7m  [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m59[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'config' does not exist on type 'BehavioralAnalysisService'.

[7m59[0m       expect(service.config).toBeDefined()
[7m  [0m [91m                     ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m49[0m:[93m19[0m - [91merror[0m[90m ts(2693): [0m'BehavioralAnalysisService' only refers to a type, but is being used as a value here.

[7m49[0m     service = new BehavioralAnalysisService(mockRedis, mockOrchestrator)
[7m  [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m17[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../behavioral-utils' or its corresponding type declarations.

[7m17[0m } from '../behavioral-utils'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m814[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'result' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m814[0m       results.forEach((result) => {
[7m   [0m [93m                       ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m440[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m440[0m       expect(anomalies.some((a) => a.type === 'high_concurrency')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m439[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m       expect(anomalies.some((a) => a.type === 'long_session')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m417[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m417[0m       expect(anomalies.some((a) => a.type === 'high_frequency')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m416[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m416[0m       expect(anomalies.some((a) => a.type === 'unusual_method')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m415[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m415[0m       expect(anomalies.some((a) => a.type === 'unusual_endpoint')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m391[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m391[0m       expect(anomalies.some((a) => a.type === 'unusual_time')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/lib/threat-detection/behavioral/__tests__/behavioral-analysis.test.ts[0m:[93m390[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m390[0m       expect(anomalies.some((a) => a.type === 'unusual_ip')).toBe(true)
[7m   [0m [93m                             ~[0m

[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m206[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'session' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m206[0m       context.sessionId = req.session.id
[7m   [0m [91m                              ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m205[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'session' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m205[0m     if (req.session) {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m201[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m201[0m       context.userRole = req.user.role
[7m   [0m [91m                             ~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m200[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m200[0m       context.userId = req.user.id
[7m   [0m [91m                           ~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m199[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m199[0m     if (req.user) {
[7m   [0m [91m            ~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m176[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'session' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m176[0m       return `session:${req.session.id}`
[7m   [0m [91m                            ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m175[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'session' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m175[0m     if (req.session?.id) {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m172[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m172[0m       return `user:${req.user.id}`
[7m   [0m [91m                         ~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m171[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m171[0m     if (req.user?.id) {
[7m   [0m [91m            ~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m132[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatDetection' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.

[7m132[0m         req.threatDetection = {
[7m   [0m [91m            ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m106[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ThreatDetectionContext' is not assignable to parameter of type '{ userId?: string | undefined; ip?: string | undefined; endpoint?: string | undefined; userAgent?: string | undefined; method?: string | undefined; headers?: Record<string, string> | undefined; }'.
  Types of property 'headers' are incompatible.

[7m106[0m             context,
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m89[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type 'void'.

[7m89[0m         return next().slice()
[7m  [0m [91m                      ~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m76[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'enabled' is specified more than once, so this usage will be overwritten.

[7m76[0m       enabled: true,
[7m  [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m62[0m:[93m16[0m - [91merror[0m[90m ts(2664): [0mInvalid module name in augmentation, module 'express-serve-static-core' cannot be found.

[7m62[0m declare module 'express-serve-static-core' {
[7m  [0m [91m               ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m240[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m240[0m     req: Request,
[7m   [0m [93m    ~~~[0m

[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m1301[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m1301[0m         await this.redis.quit()
[7m    [0m [91m                   ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m1300[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m1300[0m       if (this.redis) {
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m1211[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m1211[0m           await this.redis.del(key)
[7m    [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m1209[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m1209[0m         const ttl = await this.redis.ttl(key)
[7m    [0m [91m                               ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m1207[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m1207[0m       const keys = await this.redis.keys('threat_intel:*')
[7m    [0m [91m                              ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m1150[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Document[]' is not assignable to type '{ type: string; count: number; }[]'.
  Type 'Document' is missing the following properties from type '{ type: string; count: number; }': type, count

[7m1150[0m     return await db
[7m    [0m [91m    ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m843[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ intelligence: never[]; totalCount: number; sources: never[]; }' is missing the following properties from type 'ThreatIntelligenceResult': queryTime, cacheHit

[7m843[0m       return { intelligence: [], totalCount: 0, sources: [] }
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m837[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'ThreatIntelligence[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'ThreatIntelligence': intelligenceId, feedName, iocType, iocValue, and 8 more.

[7m837[0m         intelligence: intelligence as ThreatIntelligence[],
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m836[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ intelligence: ThreatIntelligence[]; totalCount: number; sources: any[]; }' is missing the following properties from type 'ThreatIntelligenceResult': queryTime, cacheHit

[7m836[0m       return {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m775[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ intelligence: never[]; totalCount: number; sources: never[]; }' is missing the following properties from type 'ThreatIntelligenceResult': queryTime, cacheHit

[7m775[0m       return { intelligence: [], totalCount: 0, sources: [] }
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m772[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ intelligence: never[]; totalCount: number; sources: never[]; }' is missing the following properties from type 'ThreatIntelligenceResult': queryTime, cacheHit

[7m772[0m       return { intelligence: [], totalCount: 0, sources: [] }
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m764[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ intelligence: ThreatIntelligence[]; totalCount: number; sources: string[]; }' is missing the following properties from type 'ThreatIntelligenceResult': queryTime, cacheHit

[7m764[0m           return {
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m757[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m757[0m       const cachedData = await this.redis.get(cacheKey)
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m753[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ intelligence: never[]; totalCount: number; sources: never[]; }' is missing the following properties from type 'ThreatIntelligenceResult': queryTime, cacheHit

[7m753[0m         return { intelligence: [], totalCount: 0, sources: [] }
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m684[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'redis' does not exist on type 'ExternalThreatIntelligenceService'.

[7m684[0m       await this.redis.setex(
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m555[0m:[93m28[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.

[7m555[0m         lastSeen: new Date(data.modified || Date.now()),
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m554[0m:[93m29[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.

[7m554[0m         firstSeen: new Date(data.created || Date.now()),
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m471[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m471[0m         source: data.source || feed.name,
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m467[0m:[93m28[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.

[7m467[0m         lastSeen: new Date(data.last_seen || data.updated || Date.now()),
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m466[0m:[93m29[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.

[7m466[0m         firstSeen: new Date(data.first_seen || data.created || Date.now()),
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m448[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m448[0m         data.severity || data.confidence || 'medium',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/external-threat-intelligence.ts[0m:[93m90[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m90[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m202[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m202[0m       Object.entries(req.headers).filter(
[7m   [0m [91m                     ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m200[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m200[0m     sessionId: req.session?.id,
[7m   [0m [91m               ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m199[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m199[0m     userRole: req.user?.role,
[7m   [0m [91m              ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m198[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m198[0m     userId: req.user?.id,
[7m   [0m [91m            ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m196[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m196[0m     userAgent: req.get('User-Agent'),
[7m   [0m [91m               ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m195[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m195[0m     path: req.path,
[7m   [0m [91m          ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m194[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m194[0m     method: req.method,
[7m   [0m [91m            ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m193[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m193[0m     ip: req.ip,
[7m   [0m [91m        ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m188[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m188[0m       return `ip:${req.ip}`
[7m   [0m [91m                   ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m187[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m187[0m     if (req.ip) {
[7m   [0m [91m        ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m185[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m185[0m       return `session:${req.session.id}`
[7m   [0m [91m                        ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m184[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m184[0m     if (req.session?.id) {
[7m   [0m [91m        ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m182[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m182[0m       return `user:${req.user.id}`
[7m   [0m [91m                     ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m181[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'req' is of type 'unknown'.

[7m181[0m     if (req.user?.id) {
[7m   [0m [91m        ~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m106[0m:[93m44[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatDetectionConfig'.

[7m106[0m export const defaultThreatDetectionConfig: ThreatDetectionConfig = {
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m80[0m:[93m34[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createThreatDetectionService'.

[7m80[0m   const threatDetectionService = createThreatDetectionService(
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m78[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatDetectionConfig'.

[7m78[0m   config?: Partial<ThreatDetectionConfig>,
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m69[0m:[93m3[0m - [91merror[0m[90m ts(2459): [0mModule '"../response-orchestration"' declares 'ThreatAnalysis' locally, but it is not exported.

[7m69[0m   ThreatAnalysis,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m68[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'RateLimitResult'.

[7m68[0m   RateLimitResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m67[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'RateLimitRule'.

[7m67[0m   RateLimitRule,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/index.ts[0m:[93m64[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'ThreatData'.

[7m64[0m   ThreatData,
[7m  [0m [91m  ~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m403[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m403[0m       const db = await mongoClient.db('threat_intelligence')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m403[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m403[0m       const db = await mongoClient.db('threat_intelligence')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m403[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m403[0m       const db = await mongoClient.db('threat_intelligence')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m403[0m:[93m24[0m - [91merror[0m[90m ts(2721): [0mCannot invoke an object which is possibly 'null'.

[7m403[0m       const db = await mongoClient.db('threat_intelligence')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m368[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m368[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m358[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m358[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m358[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m358[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m358[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m358[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m358[0m:[93m24[0m - [91merror[0m[90m ts(2721): [0mCannot invoke an object which is possibly 'null'.

[7m358[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m315[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; message: string; severity: string; timestamp: Date; }' is not assignable to parameter of type 'never'.

[7m315[0m       insights.push({
[7m   [0m [91m                    ~[0m
[7m316[0m         type: 'high_risk_activity',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m319[0m         timestamp: new Date(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m320[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m259[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m259[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m259[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m259[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m259[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m259[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m259[0m:[93m24[0m - [91merror[0m[90m ts(2721): [0mCannot invoke an object which is possibly 'null'.

[7m259[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m228[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m228[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m228[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m228[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m228[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m228[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m228[0m:[93m24[0m - [91merror[0m[90m ts(2721): [0mCannot invoke an object which is possibly 'null'.

[7m228[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m98[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m98[0m       const db = await mongoClient.db('threat_intelligence')
[7m  [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m98[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'db' is private and only accessible within class 'MongoDB'.

[7m98[0m       const db = await mongoClient.db('threat_intelligence')
[7m  [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m98[0m:[93m24[0m - [91merror[0m[90m ts(18047): [0m'mongoClient.db' is possibly 'null'.

[7m98[0m       const db = await mongoClient.db('threat_intelligence')
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m98[0m:[93m24[0m - [91merror[0m[90m ts(2721): [0mCannot invoke an object which is possibly 'null'.

[7m98[0m       const db = await mongoClient.db('threat_intelligence')
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m59[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m59[0m       return { success: false, error: error.message, riskScore: 0 }
[7m  [0m [91m                                      ~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m446[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'rateLimiter' is declared but its value is never read.

[7m446[0m   rateLimiter: unknown,
[7m   [0m [93m  ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m445[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'orchestrator' is declared but its value is never read.

[7m445[0m   orchestrator: unknown,
[7m   [0m [93m  ~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/rate-limiting-bridge.ts[0m:[93m326[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name '________'.

[7m326[0m         .slice(________)
[7m   [0m [91m               ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/rate-limiting-bridge.ts[0m:[93m326[0m:[93m10[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type 'boolean'.

[7m326[0m         .slice(________)
[7m   [0m [91m         ~~~~~[0m
[96msrc/lib/threat-detection/integrations/rate-limiting-bridge.ts[0m:[93m168[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m168[0m             action.parameters.userId,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/rate-limiting-bridge.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'RateLimitResult'.

[7m18[0m   RateLimitResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/rate-limiting-bridge.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'RateLimitRule'.

[7m17[0m   RateLimitRule,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m469[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'isHealthy' does not exist on type 'AdvancedResponseOrchestrator'.

[7m469[0m         this.orchestrator.isHealthy(),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m436[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'recommendations' does not exist in type 'ThreatResponse'.

[7m436[0m       recommendations: [],
[7m   [0m [91m      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m95[0m:[93m23[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createThreatDetectionMiddleware'.

[7m95[0m     this.middleware = createThreatDetectionMiddleware(this.rateLimitingBridge, {
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m88[0m:[93m31[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createRateLimitingBridge'.

[7m88[0m     this.rateLimitingBridge = createRateLimitingBridge(
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2459): [0mModule '"../response-orchestration"' declares 'ThreatAnalysis' locally, but it is not exported.

[7m18[0m   ThreatAnalysis,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'RateLimitResult'.

[7m17[0m   RateLimitResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'ThreatData'.

[7m15[0m   ThreatData,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m332[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m332[0m     threatData: ThreatData,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m321[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m321[0m     threatData: ThreatData,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m310[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m310[0m     threatData: ThreatData,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m299[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m299[0m     threatData: ThreatData,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m73[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'rateLimiter' is declared but its value is never read.

[7m73[0m   private rateLimiter: DistributedRateLimiter
[7m  [0m [93m          ~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m680[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'timestamp' does not exist in type 'ResponseAction'.

[7m680[0m     timestamp: new Date().toISOString(),
[7m   [0m [91m    ~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m441[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'recommendations' does not exist in type 'ThreatResponse'.

[7m441[0m     recommendations: [],
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m421[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'ResponseAction'.

[7m421[0m     message: rateLimitAction.metadata?.message,
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m420[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'ResponseAction'.

[7m420[0m     windowMs: rateLimitAction.metadata?.windowMs || 60000,
[7m   [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m419[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'ResponseAction'.

[7m419[0m     maxRequests: rateLimitAction.metadata?.maxRequests || 10,
[7m   [0m [91m                                 ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m373[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type 'ThreatResponse'.

[7m373[0m     recommendations: response.recommendations,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m371[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'ResponseAction'.

[7m371[0m       metadata: action.metadata,
[7m   [0m [91m                       ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m305[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'initialize' does not exist on type 'ExternalThreatIntelligenceService'.

[7m305[0m     await threatService.initialize()
[7m   [0m [91m                        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m300[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'mongoUrl' does not exist in type 'ThreatIntelligenceConfig'.

[7m300[0m       mongoUrl: config.mongoUrl || process.env.MONGODB_URL || 'mongodb://localhost:27017',
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m169[0m:[93m7[0m - [91merror[0m[90m ts(2801): [0mThis condition will always return true since this 'Promise<boolean>' is always defined.

[7m169[0m       isSuspiciousIP(threatData.riskFactors.ip)
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../response-orchestration"' has no exported member 'ThreatData'.

[7m11[0m   ThreatData,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m596[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'identifier' is declared but its value is never read.

[7m596[0m   identifier: string,
[7m   [0m [93m  ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m313[0m:[93m12[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(ip: string): boolean' of 'isSuspiciousIPSync' is deprecated.

[7m313[0m     return isSuspiciousIPSync(ip)
[7m   [0m [93m           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m295[0m:[93m12[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(ip: string): boolean' of 'isSuspiciousIPSync' is deprecated.

[7m295[0m     return isSuspiciousIPSync(ip)
[7m   [0m [93m           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m59[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m59[0m   return `${prefix}${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                              ~~~~~~[0m

[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m601[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: never[]; recommendations: never[]; metadata: {}; }' is not assignable to parameter of type 'ThreatResponse'.
  Type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: never[]; recommendations: never[]; metadata: {}; }' is missing the following properties from type 'ThreatResponse': responseType, estimatedImpact, executionTime, status

[7m601[0m       const params = extractRateLimitParams(response)
[7m   [0m [91m                                            ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m583[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; metadata: { maxRequests: number; windowMs: number; message: string; }; }[]; recommendations: never[]; metadata: {}; }' is not assignable to parameter of type 'ThreatResponse'.
  Type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; metadata: { maxRequests: number; windowMs: number; message: string; }; }[]; recommendations: never[]; metadata: {}; }' is missing the following properties from type 'ThreatResponse': responseType, estimatedImpact, executionTime, status

[7m583[0m       const params = extractRateLimitParams(response)
[7m   [0m [91m                                            ~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m558[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is not assignable to parameter of type 'ThreatResponse'.
  Type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is missing the following properties from type 'ThreatResponse': responseType, estimatedImpact, executionTime, status

[7m558[0m       expect(shouldRateLimitRequest(responseWithoutRateLimit)).toBe(false)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m557[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is not assignable to parameter of type 'ThreatResponse'.
  Type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is missing the following properties from type 'ThreatResponse': responseType, estimatedImpact, executionTime, status

[7m557[0m       expect(shouldRateLimitRequest(responseWithRateLimit)).toBe(true)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m521[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is not assignable to parameter of type 'ThreatResponse'.
  Type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is missing the following properties from type 'ThreatResponse': responseType, estimatedImpact, executionTime, status

[7m521[0m       expect(shouldBlockRequest(responseWithoutBlock)).toBe(false)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m520[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is not assignable to parameter of type 'ThreatResponse'.
  Type '{ responseId: string; threatId: string; severity: string; confidence: number; actions: { actionType: string; target: string; timestamp: string; }[]; recommendations: never[]; metadata: {}; }' is missing the following properties from type 'ThreatResponse': responseType, estimatedImpact, executionTime, status

[7m520[0m       expect(shouldBlockRequest(responseWithBlock)).toBe(true)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m407[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ ip: string; method: string; path: string; get: Mock<Procedure>; user: undefined; session: undefined; }' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type '{ ip: string; method: string; path: string; get: Mock<Procedure>; user: undefined; session: undefined; }' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': header, accepts, acceptsCharsets, acceptsEncodings, and 93 more.

[7m407[0m       await middleware.middleware()(mockReq, mockRes, mockNext)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m378[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 3.

[7m378[0m         mockRateLimiter,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[7m379[0m         config,
[7m   [0m [91m~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m364[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ ip: string; method: string; path: string; get: Mock<Procedure>; user: undefined; session: undefined; }' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type '{ ip: string; method: string; path: string; get: Mock<Procedure>; user: undefined; session: undefined; }' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': header, accepts, acceptsCharsets, acceptsEncodings, and 93 more.

[7m364[0m       await middleware.middleware()(mockReq, mockRes, mockNext)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m343[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 3.

[7m343[0m         mockRateLimiter,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[7m344[0m         config,
[7m   [0m [91m~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m328[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ ip: string; method: string; path: string; get: Mock<(_header: string) => string>; user: { id: string; role: string; }; session: { id: string; }; }' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type '{ ip: string; method: string; path: string; get: Mock<(_header: string) => string>; user: { id: string; role: string; }; session: { id: string; }; }' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': header, accepts, acceptsCharsets, acceptsEncodings, and 93 more.

[7m328[0m       await middleware.middleware()(mockReq, mockRes, mockNext)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m301[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 3.

[7m301[0m         mockRateLimiter,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[7m302[0m         config,
[7m   [0m [91m~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m289[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'rateLimiter' does not exist on type 'ThreatDetectionMiddleware'.

[7m289[0m       expect(middleware.rateLimiter).toBe(mockRateLimiter)
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m288[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'orchestrator' does not exist on type 'ThreatDetectionMiddleware'.

[7m288[0m       expect(middleware.orchestrator).toBe(mockOrchestrator)
[7m   [0m [91m                        ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m287[0m:[93m25[0m - [91merror[0m[90m ts(2341): [0mProperty 'config' is private and only accessible within class 'ThreatDetectionMiddleware'.

[7m287[0m       expect(middleware.config).toEqual(config)
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m282[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 3.

[7m282[0m         mockRateLimiter,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[7m283[0m         config,
[7m   [0m [91m~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m263[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'resetCounter' does not exist on type 'RateLimitingBridge'.

[7m263[0m       await bridge.resetCounter(identifier, context)
[7m   [0m [91m                   ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m262[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m262[0m       const bridge = new RateLimitingBridge(mockOrchestrator, mockRateLimiter)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m244[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRemainingRequests' does not exist on type 'RateLimitingBridge'.

[7m244[0m       const result = await bridge.getRemainingRequests(identifier, context)
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m243[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m243[0m       const bridge = new RateLimitingBridge(mockOrchestrator, mockRateLimiter)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m225[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'incrementCounter' does not exist on type 'RateLimitingBridge'.

[7m225[0m       await bridge.incrementCounter(identifier, context)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m224[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m224[0m       const bridge = new RateLimitingBridge(mockOrchestrator, mockRateLimiter)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m201[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m201[0m       const bridge = new RateLimitingBridge(mockOrchestrator, mockRateLimiter)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m64[0m:[93m37[0m - [91merror[0m[90m ts(2341): [0mProperty 'rateLimiter' is private and only accessible within class 'ThreatDetectionService'.

[7m64[0m       expect(threatDetectionService.rateLimiter).toBe(mockRateLimiter)
[7m  [0m [91m                                    ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m63[0m:[93m37[0m - [91merror[0m[90m ts(2341): [0mProperty 'orchestrator' is private and only accessible within class 'ThreatDetectionService'.

[7m63[0m       expect(threatDetectionService.orchestrator).toBe(mockOrchestrator)
[7m  [0m [91m                                    ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/__tests__/integration.test.ts[0m:[93m62[0m:[93m37[0m - [91merror[0m[90m ts(2341): [0mProperty 'config' is private and only accessible within class 'ThreatDetectionService'.

[7m62[0m       expect(threatDetectionService.config).toBeDefined()
[7m  [0m [91m                                    ~~~~~~[0m

[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m748[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ModelServingServer'.

[7m748[0m export { ModelServingServer }
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m748[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ModelServingServer'.

[7m748[0m export { ModelServingServer }
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m636[0m:[93m12[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'ModelConfig[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'ModelConfig': modelId, modelPath, modelType, inputShape, outputShape

[7m636[0m     return (await collection.find().toArray()) as ModelConfig[]
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m579[0m:[93m38[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type 'FeatureSet'.

[7m579[0m     return data ? JSON.parse(data) : null
[7m   [0m [91m                                     ~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m551[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'serverStatus' does not exist in type 'ModelHealthReport'.

[7m551[0m       serverStatus: 'healthy',
[7m   [0m [91m      ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m476[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'val' is of type 'unknown'.

[7m476[0m       outputs.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) /
[7m   [0m [91m                                                  ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m476[0m:[93m36[0m - [91merror[0m[90m ts(18046): [0m'sum' is of type 'unknown'.

[7m476[0m       outputs.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) /
[7m   [0m [91m                                   ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m476[0m:[93m7[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m476[0m       outputs.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) /
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m53[0m - [91merror[0m[90m ts(18046): [0m'val' is of type 'unknown'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0) / outputs.length
[7m   [0m [91m                                                    ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'sum' is of type 'unknown'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0) / outputs.length
[7m   [0m [91m                                              ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0) / outputs.length
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m446[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'b' is of type 'unknown'.

[7m446[0m       return outputs.reduce((a, b) => a + b, 0) / outputs.length
[7m   [0m [91m                                          ~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m446[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'a' is of type 'unknown'.

[7m446[0m       return outputs.reduce((a, b) => a + b, 0) / outputs.length
[7m   [0m [91m                                      ~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m446[0m:[93m14[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m446[0m       return outputs.reduce((a, b) => a + b, 0) / outputs.length
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m405[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m405[0m             config.parameters.bins,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m403[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'createBinnedFeatures' does not exist on type 'ModelServingServer'.

[7m403[0m           engineered = this.createBinnedFeatures(
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m400[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'createInteractionFeatures' does not exist on type 'ModelServingServer'.

[7m400[0m           engineered = this.createInteractionFeatures(engineered)
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m396[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m396[0m             config.parameters.degree,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m394[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'createPolynomialFeatures' does not exist on type 'ModelServingServer'.

[7m394[0m           engineered = this.createPolynomialFeatures(
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m391[0m:[93m29[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m391[0m     for (const technique of config.techniques) {
[7m   [0m [91m                            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m378[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m378[0m         return this.robustNormalize(data, config.parameters)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m378[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'robustNormalize' does not exist on type 'ModelServingServer'.

[7m378[0m         return this.robustNormalize(data, config.parameters)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m376[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m376[0m         return this.zScoreNormalize(data, config.parameters)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m376[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'zScoreNormalize' does not exist on type 'ModelServingServer'.

[7m376[0m         return this.zScoreNormalize(data, config.parameters)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m374[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m374[0m         return this.minMaxNormalize(data, config.parameters)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m374[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'minMaxNormalize' does not exist on type 'ModelServingServer'.

[7m374[0m         return this.minMaxNormalize(data, config.parameters)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m372[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m372[0m     switch (config.method) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m359[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyConfidenceCalibration' does not exist on type 'ModelServingServer'.

[7m359[0m       processed = await this.applyConfidenceCalibration(
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m351[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyEnsembleAggregation' does not exist on type 'ModelServingServer'.

[7m351[0m       processed = this.applyEnsembleAggregation(
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m346[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyThresholding' does not exist on type 'ModelServingServer'.

[7m346[0m       processed = this.applyThresholding(processed, config.thresholding)
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m320[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateData' does not exist on type 'ModelServingServer'.

[7m320[0m       const validation = await this.validateData(
[7m   [0m [91m                                    ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m216[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'TensorLike | WebGLData | WebGPUData'.

[7m216[0m         const inputTensor = tf.tensor(processedInput, [1, ...config.inputShape])
[7m   [0m [91m                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m215[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<unknown>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<unknown>' is not assignable to type 'ScopeFn<TensorContainer>'.

[7m215[0m       const output = await tf.tidy(async () => {
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m128[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'monitoring' has no initializer and is not definitely assigned in the constructor.

[7m128[0m   private monitoring: ModelMonitoring
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m127[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'modelRegistry' has no initializer and is not definitely assigned in the constructor.

[7m127[0m   private modelRegistry: ModelRegistry
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m126[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'featureStore' has no initializer and is not definitely assigned in the constructor.

[7m126[0m   private featureStore: FeatureStore
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m125[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m125[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m124[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m124[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m121[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ModelServingServer'.

[7m121[0m export class ModelServingServer extends EventEmitter {
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m664[0m:[93m13[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'redis' is declared but its value is never read.

[7m664[0m     private redis: Redis,
[7m   [0m [93m            ~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m600[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'featureSetId' is declared but its value is never read.

[7m600[0m     featureSetId: string,
[7m   [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m532[0m:[93m61[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m532[0m     return `pred_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m217[0m:[93m31[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m217[0m         const outputTensor = (await model.predict(inputTensor)) as tf.Tensor
[7m   [0m [93m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m215[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m215[0m       const output = await tf.tidy(async () => {
[7m   [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m216[0m         const inputTensor = tf.tensor(processedInput, [1, ...config.inputShape])
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m219[0m         return arr as unknown
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m220[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m179[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m179[0m       await model.predict(warmupInput)
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m126[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'featureStore' is declared but its value is never read.

[7m126[0m   private featureStore: FeatureStore
[7m   [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m1220[0m:[93m61[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'Alert'.

[7m1220[0m export type { MonitoringConfig, SecurityMetrics, AIInsight, Alert }
[7m    [0m [91m                                                            ~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m1220[0m:[93m50[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'AIInsight'.

[7m1220[0m export type { MonitoringConfig, SecurityMetrics, AIInsight, Alert }
[7m    [0m [91m                                                 ~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m1220[0m:[93m33[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'SecurityMetrics'.

[7m1220[0m export type { MonitoringConfig, SecurityMetrics, AIInsight, Alert }
[7m    [0m [91m                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m1220[0m:[93m15[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'MonitoringConfig'.

[7m1220[0m export type { MonitoringConfig, SecurityMetrics, AIInsight, Alert }
[7m    [0m [91m              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m1148[0m:[93m14[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'SecurityMetrics[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'SecurityMetrics': timestamp, threatCount, blockedRequests, anomalyScore, and 3 more.

[7m1148[0m       return metrics as SecurityMetrics[]
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m960[0m:[93m14[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'AIInsight[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'AIInsight': insightId, type, severity, title, and 5 more.

[7m960[0m       return insights as AIInsight[]
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m940[0m:[93m14[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'Alert[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'Alert': alertId, type, severity, title, and 7 more.

[7m940[0m       return alerts as Alert[]
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m442[0m:[93m31[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m442[0m         const result = (await this.anomalyDetectionModel.predict(
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m440[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<number>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<number>' is not assignable to type 'ScopeFn<TensorContainer>'.

[7m440[0m       return await tf.tidy(async () => {
[7m   [0m [91m                           ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m440[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'TensorContainer' is not assignable to type 'number'.
  Type 'string' is not assignable to type 'number'.

[7m440[0m       return await tf.tidy(async () => {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m270[0m:[93m47[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.

[7m270[0m       const _memory = await this.redis.memory('usage', '*')
[7m   [0m [91m                                              ~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m89[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m89[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m88[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m88[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m442[0m:[93m25[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m442[0m         const result = (await this.anomalyDetectionModel.predict(
[7m   [0m [93m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m443[0m           inputTensor,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m444[0m         )) as tf.Tensor
[7m   [0m [93m~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m440[0m:[93m14[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m440[0m       return await tf.tidy(async () => {
[7m   [0m [93m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m441[0m         const inputTensor = tf.tensor2d([features])
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m446[0m         return score[0]
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m447[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m270[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_memory' is declared but its value is never read.

[7m270[0m       const _memory = await this.redis.memory('usage', '*')
[7m   [0m [93m            ~~~~~~~[0m

[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m20[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../metrics-utils' or its corresponding type declarations.

[7m20[0m } from '../metrics-utils'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../alert-utils' or its corresponding type declarations.

[7m15[0m } from '../alert-utils'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m9[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../enhanced-monitoring-service' or its corresponding type declarations.

[7m9[0m import { EnhancedMonitoringService } from '../enhanced-monitoring-service'
[7m [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m826[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m826[0m       results.forEach((result, index) => {
[7m   [0m [93m                               ~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m826[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'result' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m826[0m       results.forEach((result, index) => {
[7m   [0m [93m                       ~~~~~~[0m

[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1556[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'AdvancedPredictiveThreatIntelligence'.

[7m1556[0m export { AdvancedPredictiveThreatIntelligence }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1556[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AdvancedPredictiveThreatIntelligence'.

[7m1556[0m export { AdvancedPredictiveThreatIntelligence }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1499[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'PropagationSimulation'.

[7m1499[0m   ): Promise<PropagationSimulation> {
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1463[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'TensorContainer' is not assignable to parameter of type 'number'.
  Type 'string' is not assignable to type 'number'.

[7m1463[0m           probability: Math.max(0, Math.min(1, value)),
[7m    [0m [91m                                               ~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1461[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'TensorContainer' is not assignable to parameter of type 'number'.
  Type 'string' is not assignable to type 'number'.

[7m1461[0m           value: Math.max(0, Math.min(1, value)), // Clamp between 0 and 1
[7m    [0m [91m                                         ~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1454[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<number>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<number>' is not assignable to type 'ScopeFn<TensorContainer>'.

[7m1454[0m         const value = await tf.tidy(async () => {
[7m    [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1312[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<ForecastingModel>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<ForecastingModel>' is not assignable to type 'ScopeFn<TensorContainer>'.

[7m1312[0m       return await tf.tidy(() => {
[7m    [0m [91m                           ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1312[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'TensorContainer' is not assignable to type 'ForecastingModel'.
  Type 'string' is not assignable to type 'ForecastingModel'.

[7m1312[0m       return await tf.tidy(() => {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1268[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'PropagationSimulation'.

[7m1268[0m   ): Promise<PropagationSimulation>
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m864[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'propagationGraph'.

[7m864[0m         propagationGraph,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m862[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateEdgeTransmissionProbability' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m862[0m       const edgeProb = await this.calculateEdgeTransmissionProbability(
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m861[0m:[93m24[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'propagationGraph'.

[7m861[0m     for (const edge of propagationGraph.edges) {
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m856[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'propagationGraph'.

[7m856[0m         propagationGraph,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m854[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateNodeInfectionProbability' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m854[0m       const nodeProb = await this.calculateNodeInfectionProbability(
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m853[0m:[93m24[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'propagationGraph'.

[7m853[0m     for (const node of propagationGraph.nodes) {
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m848[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'initialThreat'.

[7m848[0m       initialThreat,
[7m   [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m847[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'propagationGraph'.

[7m847[0m       propagationGraph,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m846[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateBasicReproductionNumber' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m846[0m     const r0 = await this.calculateBasicReproductionNumber(
[7m   [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m826[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTransmissionRate' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m826[0m         transmissionRate: this.calculateTransmissionRate(edge),
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m822[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTransmissionProbability' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m822[0m         transmissionProbability: this.calculateTransmissionProbability(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m820[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'network'.

[7m820[0m       edges: network.edges.map((edge) => ({
[7m   [0m [91m             ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m818[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateVulnerabilityScore' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m818[0m         vulnerabilityScore: this.calculateVulnerabilityScore(node),
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m817[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateRecoveryRate' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m817[0m         recoveryRate: this.calculateRecoveryRate(node),
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m813[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateInfectionProbability' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m813[0m         infectionProbability: this.calculateInfectionProbability(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m811[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'network'.

[7m811[0m       nodes: network.nodes.map((node) => ({
[7m   [0m [91m             ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m784[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateSimilarityToKnownThreats' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m784[0m       const similarity = await this.calculateSimilarityToKnownThreats(
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m768[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculatePredictionInterval' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m768[0m       const interval = await this.calculatePredictionInterval(prediction)
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m755[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTimeHorizon' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m755[0m         timeHorizon: this.calculateTimeHorizon(timeframe),
[7m   [0m [91m                          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m732[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'trainEnsembleModel' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m732[0m       const ensembleModel = await this.trainEnsembleModel(lstmModel, arimaModel)
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m729[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'trainARIMAModel' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m729[0m       const arimaModel = await this.trainARIMAModel(series, seasonalComponents)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m726[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'trainLSTMModel' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m726[0m       const lstmModel = await this.trainLSTMModel(series, seasonalComponents)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m700[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'threats' is of type 'unknown'.

[7m700[0m         dataPoints: threats.map((threat) => ({
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m691[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'groupByThreatType' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m691[0m     const groupedData = this.groupByThreatType(data)
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m686[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'normalizeThreatData' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m686[0m     return await this.normalizeThreatData(imputedData)
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m683[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'imputeMissingValues' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m683[0m     const imputedData = await this.imputeMissingValues(sortedData)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m675[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'removeDuplicateThreats' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m675[0m     const uniqueData = this.removeDuplicateThreats(data)
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m644[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateValidationMetrics' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m644[0m       const validationMetrics = await this.calculateValidationMetrics(
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m641[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractModelParameters' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m641[0m       const modelParameters = await this.extractModelParameters(model)
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m638[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTimeSeriesConfidenceBands' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m638[0m         await this.calculateTimeSeriesConfidenceBands(predictions)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m622[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'extractTimeSeriesFeatures' does not exist on type 'AdvancedPredictiveThreatIntelligence'. Did you mean 'extractTimeSeries'?

[7m622[0m       const features = await this.extractTimeSeriesFeatures(processedSeries)
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m619[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'preprocessTimeSeries' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m619[0m       const processedSeries = await this.preprocessTimeSeries(series)
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m579[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateRiskConfidence' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m579[0m       const confidenceLevel = this.calculateRiskConfidence(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m572[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'generateRiskRecommendations' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m572[0m       const recommendations = await this.generateRiskRecommendations(
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m559[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateRiskBreakdown' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m559[0m       const riskBreakdown = await this.calculateRiskBreakdown(
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m546[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateVulnerability' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m546[0m       const vulnerability = await this.calculateVulnerability(
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m545[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateThreatImpact' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m545[0m       const impact = await this.calculateThreatImpact(processedThreats, context)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m541[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateThreatLikelihood' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m541[0m       const likelihood = await this.calculateThreatLikelihood(
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m538[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractRiskFactors' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m538[0m       await this.extractRiskFactors(processedThreats, context)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m535[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'preprocessThreats' does not exist on type 'AdvancedPredictiveThreatIntelligence'. Did you mean 'preprocessThreatData'?

[7m535[0m       const processedThreats = await this.preprocessThreats(threats)
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m505[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeWeeklySeasonality' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m505[0m       const weeklyPattern = await this.analyzeWeeklySeasonality(
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m487[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeDailySeasonality' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m487[0m       const dailyPattern = await this.analyzeDailySeasonality(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m464[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateStatisticalSignificance' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m464[0m         await this.validateStatisticalSignificance(patterns)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m457[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'identifyYearlyPattern' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m457[0m       const yearlyPattern = await this.identifyYearlyPattern(seasonalComponents)
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m451[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'identifyMonthlyPattern' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m451[0m         await this.identifyMonthlyPattern(seasonalComponents)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m444[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'identifyWeeklyPattern' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m444[0m       const weeklyPattern = await this.identifyWeeklyPattern(seasonalComponents)
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m438[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'identifyDailyPattern' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m438[0m       const dailyPattern = await this.identifyDailyPattern(seasonalComponents)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m393[0m:[93m23[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'network'.

[7m393[0m         networkGraph: network,
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m385[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'generateContainmentStrategies' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m385[0m       const containmentStrategies = await this.generateContainmentStrategies(
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m382[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'calculateTimeToPropagation' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m382[0m         await this.calculateTimeToPropagation(simulation)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m378[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'identifyAffectedNodes' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m378[0m       const affectedNodes = await this.identifyAffectedNodes(simulation)
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m371[0m:[93m37[0m - [91merror[0m[90m ts(2551): [0mProperty 'simulateThreatPropagation' does not exist on type 'AdvancedPredictiveThreatIntelligence'. Did you mean 'modelThreatPropagation'?

[7m371[0m       const simulation = await this.simulateThreatPropagation(
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m360[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'network'.

[7m360[0m         network,
[7m   [0m [91m        ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m351[0m:[93m30[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'network'.

[7m351[0m       if (!initialThreat || !network) {
[7m   [0m [91m                             ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m329[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'generateNovelThreatRecommendations' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m329[0m         await this.generateNovelThreatRecommendations(significantNovelThreats)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m306[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractThreatFeatures' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m306[0m         await this.extractThreatFeatures(processedBaseline)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m304[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractThreatFeatures' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m304[0m       const currentFeatures = await this.extractThreatFeatures(processedCurrent)
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m266[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'timeframe'. Either declare one or provide an initializer.

[7m266[0m         timeframe,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m259[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'evaluateModelPerformance' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m259[0m       const modelPerformance = await this.evaluateModelPerformance(
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m252[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeTrends' does not exist on type 'AdvancedPredictiveThreatIntelligence'.

[7m252[0m       const trendAnalysis = await this.analyzeTrends(timeSeries, predictions)
[7m   [0m [91m                                       ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m245[0m:[93m66[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeframe'.

[7m245[0m       const predictions = await this.generatePredictions(models, timeframe)
[7m   [0m [91m                                                                 ~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m210[0m:[93m30[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatModelRegistry'.

[7m210[0m     this.modelRegistry = new ThreatModelRegistry(this.mongoClient)
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m196[0m:[93m34[0m - [91merror[0m[90m ts(2741): [0mProperty 'detectNovelThreats' is missing in type 'typeof MLNoveltyDetector' but required in type 'NoveltyDetector'.

[7m196[0m     this.noveltyDetector = class MLNoveltyDetector {
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m173[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ModelRegistry'.

[7m173[0m   private modelRegistry: ModelRegistry
[7m   [0m [91m                         ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m172[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'riskAssessor' has no initializer and is not definitely assigned in the constructor.

[7m172[0m   private riskAssessor: RiskAssessor
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m171[0m:[93m3[0m - [91merror[0m[90m ts(2564): [0mProperty 'seasonalAnalyzer' has no initializer and is not definitely assigned in the constructor.

[7m171[0m   seasonalAnalyzer: SeasonalAnalyzer
[7m   [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m170[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'propagationModeler' has no initializer and is not definitely assigned in the constructor.

[7m170[0m   private propagationModeler: PropagationModeler
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m169[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'noveltyDetector' has no initializer and is not definitely assigned in the constructor.

[7m169[0m   private noveltyDetector: NoveltyDetector
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m168[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'timeSeriesForecaster' has no initializer and is not definitely assigned in the constructor.

[7m168[0m   private timeSeriesForecaster: TimeSeriesForecaster
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m167[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m167[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m166[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m166[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m162[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AdvancedPredictiveThreatIntelligence'.

[7m162[0m export class AdvancedPredictiveThreatIntelligence
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m133[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TimeSeriesPrediction'.

[7m133[0m   predictions: TimeSeriesPrediction[]
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m96[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatCharacteristics'.

[7m96[0m   characteristics: ThreatCharacteristics
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m78[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ModelPerformanceMetrics'.

[7m78[0m   modelPerformance: ModelPerformanceMetrics
[7m  [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1479[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m1479[0m   constructor(private config: PropagationConfig) {
[7m    [0m [93m                      ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1454[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m1454[0m         const value = await tf.tidy(async () => {
[7m    [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1455[0m           const prediction = model.predict(dummyInput) as tf.Tensor
[7m    [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1457[0m           return data[0] as number
[7m    [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1458[0m         })
[7m    [0m [93m~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1312[0m:[93m28[0m - [93mwarning[0m[90m ts(80006): [0mThis may be converted to an async function.

[7m1312[0m       return await tf.tidy(() => {
[7m    [0m [93m                           ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1312[0m:[93m14[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m1312[0m       return await tf.tidy(() => {
[7m    [0m [93m             ~~~~~~~~~~~~~~~~~~~~~[0m
[7m1313[0m         // Create LSTM model architecture
[7m    [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1376[0m         })
[7m    [0m [93m~~~~~~~~~~[0m
[7m1377[0m       })
[7m    [0m [93m~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m888[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m888[0m     context: SecurityContext,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m887[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threats' is declared but its value is never read.

[7m887[0m     threats: Threat[],
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m820[0m:[93m33[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'edge' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m820[0m       edges: network.edges.map((edge) => ({
[7m   [0m [93m                                ~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m811[0m:[93m33[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'node' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m811[0m       nodes: network.nodes.map((node) => ({
[7m   [0m [93m                                ~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m777[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'currentFeatures' is declared but its value is never read.

[7m777[0m     currentFeatures: ThreatFeatures,
[7m   [0m [93m    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m700[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'threat' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m700[0m         dataPoints: threats.map((threat) => ({
[7m   [0m [93m                                 ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m679[0m:[93m11[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'b' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m679[0m       (a, b) => a.timestamp.getTime() - b.timestamp.getTime(),
[7m   [0m [93m          ~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m679[0m:[93m8[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m679[0m       (a, b) => a.timestamp.getTime() - b.timestamp.getTime(),
[7m   [0m [93m       ~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m480[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'extractSeasonalPatternsFromComponents' is declared but its value is never read.

[7m480[0m   private async extractSeasonalPatternsFromComponents(
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m173[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'modelRegistry' is declared but its value is never read.

[7m173[0m   private modelRegistry: ModelRegistry
[7m   [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m172[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'riskAssessor' is declared but its value is never read.

[7m172[0m   private riskAssessor: RiskAssessor
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m170[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'propagationModeler' is declared but its value is never read.

[7m170[0m   private propagationModeler: PropagationModeler
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m21[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m21[0m   return `${prefix}${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                              ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m3[0m:[93m10[0m - [93mwarning[0m[90m ts(6133): [0m'_secureId' is declared but its value is never read.

[7m3[0m function _secureId(prefix = ''): string {
[7m [0m [93m         ~~~~~~~~~[0m

[96msrc/lib/threat-detection/threat-hunting/investigation-utils.ts[0m:[93m6[0m:[93m71[0m - [91merror[0m[90m ts(2307): [0mCannot find module './types' or its corresponding type declarations.

[7m6[0m import type { ThreatHunt, InvestigationResult, ThreatIndicator } from './types'
[7m [0m [91m                                                                      ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/investigation-utils.ts[0m:[93m275[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'indicator' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m275[0m       result.indicators.forEach((indicator) => {
[7m   [0m [93m                                 ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/investigation-utils.ts[0m:[93m229[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'indicator' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m229[0m     return result.indicators.some((indicator) => {
[7m   [0m [93m                                   ~~~~~~~~~[0m

[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1440[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'InvestigationFinding'.

[7m1440[0m   InvestigationFinding,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1439[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'Investigation'.

[7m1439[0m   Investigation,
[7m    [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1438[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'HuntFinding'.

[7m1438[0m   HuntFinding,
[7m    [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1437[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'HuntResult'.

[7m1437[0m   HuntResult,
[7m    [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1436[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'InvestigationTemplate'.

[7m1436[0m   InvestigationTemplate,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1435[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'HuntingRule'.

[7m1435[0m   HuntingRule,
[7m    [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1434[0m:[93m3[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ThreatHuntingConfig'.

[7m1434[0m   ThreatHuntingConfig,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1349[0m:[93m22[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'HuntResult[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'HuntResult': huntId, ruleId, timestamp, findings, and 4 more.

[7m1349[0m         recentHunts: recentHunts as HuntResult[],
[7m    [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1272[0m:[93m14[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'Investigation[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'Investigation': investigationId, status, priority, steps, and 3 more.

[7m1272[0m       return investigations as Investigation[]
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1191[0m:[93m11[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types '"evidence" | "anomaly" | "indicator" | "conclusion"' and '"iocs"' have no overlap.

[7m1191[0m       if (finding.type === 'iocs') {
[7m    [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m847[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m847[0m           step.error = error.message
[7m   [0m [91m                       ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m822[0m:[93m13[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types '"running"' and '"cancelled"' have no overlap.

[7m822[0m         if (investigation.status === 'cancelled') {
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m622[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'indexOf' does not exist on type 'TensorContainer'.
  Property 'indexOf' does not exist on type 'number'.

[7m622[0m       const maxIndex = result.indexOf(Math.max(...result))
[7m   [0m [91m                              ~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m615[0m:[93m35[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m615[0m         const prediction = (await this.huntingModel.predict(
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m613[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<number[]>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<number[]>' is not assignable to type 'ScopeFn<TensorContainer>'.

[7m613[0m       const result = await tf.tidy(async () => {
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m254[0m:[93m15[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'ruleId' does not exist in type '{ huntId?: string | undefined; threatId?: string | undefined; templateId?: string | undefined; priority?: number | undefined; }'.

[7m254[0m               ruleId: rule.ruleId,
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m127[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m127[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m126[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m126[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1127[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'parameters' is declared but its value is never read.

[7m1127[0m     parameters: Record<string, unknown>,
[7m    [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m615[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m615[0m         const prediction = (await this.huntingModel.predict(
[7m   [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m616[0m           inputTensor,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m617[0m         )) as tf.Tensor
[7m   [0m [93m~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m613[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m613[0m       const result = await tf.tidy(async () => {
[7m   [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m614[0m         const inputTensor = tf.tensor2d([features])
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m619[0m         return Array.from(data) as number[]
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m620[0m       })
[7m   [0m [93m~~~~~~~~[0m

[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1326[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'findings' does not exist on type 'void'.

[7m1326[0m       expect(updatedInvestigation.findings[0].type).toBe('apt_tactics')
[7m    [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1325[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'findings' does not exist on type 'void'.

[7m1325[0m       expect(updatedInvestigation.findings).toHaveLength(1)
[7m    [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1324[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'progress' does not exist on type 'void'.

[7m1324[0m       expect(updatedInvestigation.progress).toBe(75)
[7m    [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1320[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m1320[0m         updateData,
[7m    [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1318[0m:[93m50[0m - [91merror[0m[90m ts(2341): [0mProperty 'updateInvestigation' is private and only accessible within class 'ThreatHuntingService'.

[7m1318[0m       const updatedInvestigation = await service.updateInvestigation(
[7m    [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1310[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzePatterns' does not exist on type 'ThreatHuntingService'.

[7m1310[0m       const patternAnalysis = await service.analyzePatterns(huntResults)
[7m    [0m [91m                                            ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1298[0m:[93m41[0m - [91merror[0m[90m ts(2341): [0mProperty 'executeHuntQuery' is private and only accessible within class 'ThreatHuntingService'.

[7m1298[0m       const huntResults = await service.executeHuntQuery(huntQuery.id)
[7m    [0m [91m                                        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1288[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'createHuntQuery' does not exist on type 'ThreatHuntingService'.

[7m1288[0m       const huntQuery = await service.createHuntQuery(queryData)
[7m    [0m [91m                                      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1278[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'createInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m1278[0m       const investigation = await service.createInvestigation(investigationData)
[7m    [0m [91m                                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1261[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeTimeline' does not exist on type 'ThreatHuntingService'.

[7m1261[0m       const analysis = await service.analyzeTimeline(timeline.id)
[7m    [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1248[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'addTimelineEvent' does not exist on type 'ThreatHuntingService'.

[7m1248[0m         await service.addTimelineEvent(timeline.id, event)
[7m    [0m [91m                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1233[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'createTimeline' does not exist on type 'ThreatHuntingService'.

[7m1233[0m       const timeline = await service.createTimeline('inv_1', timelineData)
[7m    [0m [91m                                     ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1218[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'createHuntQuery' does not exist on type 'ThreatHuntingService'.

[7m1218[0m       const huntQuery = await service.createHuntQuery(queryData)
[7m    [0m [91m                                      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1209[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'createInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m1209[0m       const investigation = await service.createInvestigation(investigationData)
[7m    [0m [91m                                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1192[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeline' does not exist on type 'string'.

[7m1192[0m       expect(report.timeline).toHaveLength(1000)
[7m    [0m [91m                    ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1185[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'includeTimeline' does not exist in type 'InvestigationResult[]'.

[7m1185[0m         includeTimeline: true,
[7m    [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1162[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchThreatData' does not exist on type 'ThreatHuntingService'.

[7m1162[0m       const results = await service.searchThreatData(searchData)
[7m    [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1125[0m:[93m17[0m - [91merror[0m[90m ts(2551): [0mProperty 'createInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m1125[0m         service.createInvestigation({
[7m    [0m [91m                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1105[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeTimeline' does not exist on type 'ThreatHuntingService'.

[7m1105[0m       const analysis = await service.analyzeTimeline(timelineId)
[7m    [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1098[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type 'HuntFinding[]'.

[7m1098[0m       expect(results.data).toHaveLength(0)
[7m    [0m [91m                     ~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1097[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'HuntFinding[]'.

[7m1097[0m       expect(results.errors).toContain('Query execution failed')
[7m    [0m [91m                     ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1094[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'Record<string, unknown>'.

[7m1094[0m       const results = await service.executeHuntQuery(queryId)
[7m    [0m [91m                                                     ~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1094[0m:[93m37[0m - [91merror[0m[90m ts(2341): [0mProperty 'executeHuntQuery' is private and only accessible within class 'ThreatHuntingService'.

[7m1094[0m       const results = await service.executeHuntQuery(queryId)
[7m    [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1084[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'createInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m1084[0m       const investigation = await service.createInvestigation(invalidData)
[7m    [0m [91m                                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1069[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'createInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m1069[0m       const investigation = await service.createInvestigation(investigationData)
[7m    [0m [91m                                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1051[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'performRealTimeHunting' does not exist on type 'ThreatHuntingService'.

[7m1051[0m       const results = await service.performRealTimeHunting(huntingData)
[7m    [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1034[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'detectRealTimeAnomalies' does not exist on type 'ThreatHuntingService'.

[7m1034[0m       const anomalies = await service.detectRealTimeAnomalies(realTimeData)
[7m    [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1008[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'performRealTimeHunting' does not exist on type 'ThreatHuntingService'.

[7m1008[0m       const results = await service.performRealTimeHunting(huntingData)
[7m    [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m967[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'predictFutureThreats' does not exist on type 'ThreatHuntingService'.

[7m967[0m       const predictions = await service.predictFutureThreats(historicalData)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m932[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'correlateThreatWithBehavior' does not exist on type 'ThreatHuntingService'.

[7m932[0m       const correlation = await service.correlateThreatWithBehavior(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m901[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzePatterns' does not exist on type 'ThreatHuntingService'.

[7m901[0m       const analysis = await service.analyzePatterns(threatData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m848[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchThreatData' does not exist on type 'ThreatHuntingService'.

[7m848[0m       const results = await service.searchThreatData(searchData)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m833[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchThreatData' does not exist on type 'ThreatHuntingService'.

[7m833[0m       const results = await service.searchThreatData(searchData)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m802[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchThreatData' does not exist on type 'ThreatHuntingService'.

[7m802[0m       const results = await service.searchThreatData(searchData)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m756[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'exportTimeline' does not exist on type 'ThreatHuntingService'.

[7m756[0m       const exported = await service.exportTimeline(timelineId, 'json')
[7m   [0m [91m                                     ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m738[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeTimeline' does not exist on type 'ThreatHuntingService'.

[7m738[0m       const analysis = await service.analyzeTimeline(timelineId)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m685[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'addTimelineEvent' does not exist on type 'ThreatHuntingService'.

[7m685[0m       const updatedTimeline = await service.addTimelineEvent(
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m648[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'createTimeline' does not exist on type 'ThreatHuntingService'.

[7m648[0m       const timeline = await service.createTimeline(
[7m   [0m [91m                                     ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m627[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleHunt' does not exist on type 'ThreatHuntingService'.

[7m627[0m       const scheduled = await service.scheduleHunt(queryId, scheduleData)
[7m   [0m [91m                                      ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m607[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'loadHuntTemplates' does not exist on type 'ThreatHuntingService'.

[7m607[0m       const loadedTemplates = await service.loadHuntTemplates()
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m584[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'saveHuntTemplate' does not exist on type 'ThreatHuntingService'.

[7m584[0m       const template = await service.saveHuntTemplate(templateData)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m559[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'maxResultsPerQuery' does not exist on type 'ThreatHuntingConfig'.

[7m559[0m         service.config.maxResultsPerQuery - 1,
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m559[0m:[93m17[0m - [91merror[0m[90m ts(2341): [0mProperty 'config' is private and only accessible within class 'ThreatHuntingService'.

[7m559[0m         service.config.maxResultsPerQuery - 1,
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m552[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'Record<string, unknown>'.

[7m552[0m       const results = await service.executeHuntQuery(queryId)
[7m   [0m [91m                                                     ~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m552[0m:[93m37[0m - [91merror[0m[90m ts(2341): [0mProperty 'executeHuntQuery' is private and only accessible within class 'ThreatHuntingService'.

[7m552[0m       const results = await service.executeHuntQuery(queryId)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m511[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'createHuntQuery' does not exist on type 'ThreatHuntingService'.

[7m511[0m       const huntQuery = await service.createHuntQuery(queryData)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m480[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'any' is not assignable to parameter of type 'never'.

[7m480[0m         exports.push(exported)
[7m   [0m [91m                     ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m463[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'format' does not exist on type 'string'.

[7m463[0m       expect(report.format).toBe('pdf')
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m462[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type 'string'.

[7m462[0m       expect(report.recommendations).toBeDefined()
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m461[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'evidence' does not exist on type 'string'.

[7m461[0m       expect(report.evidence).toBeDefined()
[7m   [0m [91m                    ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m460[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeline' does not exist on type 'string'.

[7m460[0m       expect(report.timeline).toBeDefined()
[7m   [0m [91m                    ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m459[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'investigation' does not exist on type 'string'.

[7m459[0m       expect(report.investigation).toEqual(investigation)
[7m   [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m458[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'string'.

[7m458[0m       expect(report.summary).toBeDefined()
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m451[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'includeTimeline' does not exist in type 'InvestigationResult[]'.

[7m451[0m         includeTimeline: true,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m331[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInvestigationsByPriority' does not exist on type 'ThreatHuntingService'.

[7m331[0m       const result = await service.getInvestigationsByPriority('high')
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m301[0m:[93m36[0m - [91merror[0m[90m ts(2551): [0mProperty 'getActiveInvestigations' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m301[0m       const result = await service.getActiveInvestigations()
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m235[0m:[93m49[0m - [91merror[0m[90m ts(2551): [0mProperty 'closeInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m235[0m       const closedInvestigation = await service.closeInvestigation(
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m210[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'updatedAt' does not exist on type 'void'.

[7m210[0m       expect(updatedInvestigation.updatedAt).toBeDefined()
[7m   [0m [91m                                  ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m209[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'notes' does not exist on type 'void'.

[7m209[0m       expect(updatedInvestigation.notes).toBe(updateData.notes)
[7m   [0m [91m                                  ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m208[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'progress' does not exist on type 'void'.

[7m208[0m       expect(updatedInvestigation.progress).toBe(45)
[7m   [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m207[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'void'.

[7m207[0m       expect(updatedInvestigation.status).toBe('in_progress')
[7m   [0m [91m                                  ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m204[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m204[0m         updateData,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m202[0m:[93m50[0m - [91merror[0m[90m ts(2341): [0mProperty 'updateInvestigation' is private and only accessible within class 'ThreatHuntingService'.

[7m202[0m       const updatedInvestigation = await service.updateInvestigation(
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m169[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'createInvestigation' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m169[0m       const investigation = await service.createInvestigation(investigationData)
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m146[0m:[93m28[0m - [91merror[0m[90m ts(2341): [0mProperty 'config' is private and only accessible within class 'ThreatHuntingService'.

[7m146[0m       expect(customService.config).toEqual(customConfig)
[7m   [0m [91m                           ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m140[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 6.

[7m140[0m         mockOrchestrator,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~[0m
[7m141[0m         mockAIService,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m143[0m         mockPredictiveService,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m144[0m         customConfig,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m112[0m:[93m29[0m - [91merror[0m[90m ts(2341): [0mProperty 'config' is private and only accessible within class 'ThreatHuntingService'.

[7m112[0m       expect(defaultService.config).toEqual({
[7m   [0m [91m                            ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m107[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 5.

[7m107[0m         mockOrchestrator,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~[0m
[7m108[0m         mockAIService,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m109[0m         mockBehavioralService,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m         mockPredictiveService,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m101[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntQueries' does not exist on type 'ThreatHuntingService'.

[7m101[0m       expect(service.huntQueries).toBeDefined()
[7m   [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m100[0m:[93m22[0m - [91merror[0m[90m ts(2551): [0mProperty 'investigations' does not exist on type 'ThreatHuntingService'. Did you mean 'getInvestigation'?

[7m100[0m       expect(service.investigations).toBeDefined()
[7m   [0m [91m                     ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m99[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'predictiveService' does not exist on type 'ThreatHuntingService'.

[7m99[0m       expect(service.predictiveService).toBe(mockPredictiveService)
[7m  [0m [91m                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m98[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'behavioralService' does not exist on type 'ThreatHuntingService'.

[7m98[0m       expect(service.behavioralService).toBe(mockBehavioralService)
[7m  [0m [91m                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m97[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'aiService' does not exist on type 'ThreatHuntingService'.

[7m97[0m       expect(service.aiService).toBe(mockAIService)
[7m  [0m [91m                     ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m96[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'orchestrator' does not exist on type 'ThreatHuntingService'.

[7m96[0m       expect(service.orchestrator).toBe(mockOrchestrator)
[7m  [0m [91m                     ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m95[0m:[93m22[0m - [91merror[0m[90m ts(2341): [0mProperty 'redis' is private and only accessible within class 'ThreatHuntingService'.

[7m95[0m       expect(service.redis).toBe(mockRedis)
[7m  [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m94[0m:[93m22[0m - [91merror[0m[90m ts(2341): [0mProperty 'config' is private and only accessible within class 'ThreatHuntingService'.

[7m94[0m       expect(service.config).toBeDefined()
[7m  [0m [91m                     ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 5.

[7m80[0m       mockOrchestrator,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[7m81[0m       mockAIService,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m82[0m       mockBehavioralService,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m83[0m       mockPredictiveService,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../investigation-utils"' has no exported member 'exportInvestigationData'.

[7m15[0m   exportInvestigationData,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../investigation-utils"' has no exported member 'closeInvestigation'.

[7m13[0m   closeInvestigation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../investigation-utils"' has no exported member 'updateInvestigation'.

[7m12[0m   updateInvestigation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../investigation-utils"' has no exported member 'createInvestigation'.

[7m11[0m   createInvestigation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1184[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m1184[0m       const report = await generateInvestigationReport(investigation, {
[7m    [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1185[0m         includeTimeline: true,
[7m    [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1187[0m         includeRecommendations: true,
[7m    [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1188[0m       })
[7m    [0m [93m~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1134[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1134[0m       results.forEach((result, index) => {
[7m    [0m [93m                               ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1134[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'result' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1134[0m       results.forEach((result, index) => {
[7m    [0m [93m                       ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m450[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m450[0m       const report = await generateInvestigationReport(investigation, {
[7m   [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m451[0m         includeTimeline: true,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m454[0m         format: 'pdf',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m455[0m       })
[7m   [0m [93m~~~~~~~~[0m

[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m104[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'items' is of type 'unknown'.

[7m104[0m       frequency: items.length,
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m87[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'items' is of type 'unknown'.

[7m87[0m     const sorted = items
[7m  [0m [91m                   ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m85[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'items' is of type 'unknown'.

[7m85[0m     if (items.length < 3) continue
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m11[0m:[93m58[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../types' or its corresponding type declarations.

[7m11[0m import { ThreatData, ThreatPattern, ThreatFinding } from '../types'
[7m  [0m [91m                                                         ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m109[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m109[0m       related_threats: sorted.map((s) => s.id),
[7m   [0m [93m                                   ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m97[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m       ...sorted.map((s) => new Date(s.timestamp).getTime()),
[7m  [0m [93m                     ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m94[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m94[0m       ...sorted.map((s) => new Date(s.timestamp).getTime()),
[7m  [0m [93m                     ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m90[0m:[93m13[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'b' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m         (a, b) =>
[7m  [0m [93m            ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m90[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m         (a, b) =>
[7m  [0m [93m         ~[0m

[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1527[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ThreatIntelligenceConfigManager'.

[7m1527[0m export { ThreatIntelligenceConfigManager }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1527[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatIntelligenceConfigManager'.

[7m1527[0m export { ThreatIntelligenceConfigManager }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1500[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1500[0m       issues.push('Environment validation error: ' + error.message)
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1491[0m:[93m53[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1491[0m         issues.push('MongoDB connection failed: ' + error.message)
[7m    [0m [91m                                                    ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1485[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1485[0m         issues.push('Redis connection failed: ' + error.message)
[7m    [0m [91m                                                  ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1115[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'Db'.

[7m1115[0m   private db: Db
[7m    [0m [91m              ~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1114[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m1114[0m   private mongoClient: MongoClient
[7m    [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1113[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m1113[0m   private redis: Redis
[7m    [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1111[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatIntelligenceConfigManager'.

[7m1111[0m export class ThreatIntelligenceConfigManager {
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1590[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ThreatCorrelationEngineCore'.

[7m1590[0m export { ThreatCorrelationEngineCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1590[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatCorrelationEngineCore'.

[7m1590[0m export { ThreatCorrelationEngineCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1326[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationPattern | null' is not assignable to parameter of type 'WithoutId<Document>'.
  Type 'null' is not assignable to type 'WithoutId<Document>'.

[7m1326[0m         .replaceOne({ patternId: pattern.patternId }, pattern, { upsert: true })
[7m    [0m [91m                                                      ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1326[0m:[93m34[0m - [91merror[0m[90m ts(18047): [0m'pattern' is possibly 'null'.

[7m1326[0m         .replaceOne({ patternId: pattern.patternId }, pattern, { upsert: true })
[7m    [0m [91m                                 ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1322[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationPattern | null' is not assignable to parameter of type 'CorrelationPattern'.
  Type 'null' is not assignable to type 'CorrelationPattern'.

[7m1322[0m       this.correlationPatterns.set(pattern.patternId, pattern)
[7m    [0m [91m                                                      ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1322[0m:[93m36[0m - [91merror[0m[90m ts(18047): [0m'pattern' is possibly 'null'.

[7m1322[0m       this.correlationPatterns.set(pattern.patternId, pattern)
[7m    [0m [91m                                   ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1319[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationPattern | null' is not assignable to parameter of type 'CorrelationPattern'.
  Type 'null' is not assignable to type 'CorrelationPattern'.

[7m1319[0m       pattern.trend = await this.analyzePatternTrend(pattern)
[7m    [0m [91m                                                     ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1319[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'pattern' is possibly 'null'.

[7m1319[0m       pattern.trend = await this.analyzePatternTrend(pattern)
[7m    [0m [91m      ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1306[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"behavioral" | "temporal" | "attribution" | "spatial"'.

[7m1306[0m           patternType: patternInfo.type,
[7m    [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1031[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m1031[0m       return similarThreatData
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1008[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'GlobalThreatIntelligence'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m1008[0m               targetThreat,
[7m    [0m [91m              ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m995[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'GlobalThreatIntelligence'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m995[0m           targetThreat,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m759[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m759[0m       return similarThreats
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m679[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | boolean | undefined' is not assignable to type 'boolean'.
  Type 'undefined' is not assignable to type 'boolean'.

[7m679[0m     return (
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m492[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'never'.

[7m492[0m           matrix[i][j] = Math.min(
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m484[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'never'.

[7m484[0m       matrix[0][j] = j
[7m   [0m [91m      ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m480[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number[]' is not assignable to type 'never'.

[7m480[0m       matrix[i] = [i]
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m199[0m:[93m57[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'CorrelationPattern'.
  Type 'WithId<Document>' is missing the following properties from type 'CorrelationPattern': patternId, patternType, description, confidence, and 6 more.

[7m199[0m         this.correlationPatterns.set(pattern.patternId, pattern)
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m75[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m75[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m74[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m74[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m73[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m69[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatCorrelationEngineCore'.

[7m69[0m export class ThreatCorrelationEngineCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m17[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m1220[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ThreatIntelligenceDatabaseCore'.

[7m1220[0m export { ThreatIntelligenceDatabaseCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m1220[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatIntelligenceDatabaseCore'.

[7m1220[0m export { ThreatIntelligenceDatabaseCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m930[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m930[0m         data: threats,
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m758[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m758[0m       return threats
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m649[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document> | null' is not assignable to type 'GlobalThreatIntelligence | null'.
  Type 'WithId<Document>' is not assignable to type 'GlobalThreatIntelligence | null'.

[7m649[0m       return threat
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m621[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document> | null' is not assignable to type 'GlobalThreatIntelligence | null'.
  Type 'WithId<Document>' is not assignable to type 'GlobalThreatIntelligence | null'.

[7m621[0m       return threat
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m101[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m101[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m100[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m100[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m99[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m99[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m95[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatIntelligenceDatabaseCore'.

[7m95[0m export class ThreatIntelligenceDatabaseCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m915[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'totalCount' is declared but its value is never read.

[7m915[0m       const totalCount = await threatsCollection.countDocuments(searchQuery)
[7m   [0m [93m            ~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m1177[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'EdgeThreatDetectionSystemCore'.

[7m1177[0m export { EdgeThreatDetectionSystemCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m1177[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'EdgeThreatDetectionSystemCore'.

[7m1177[0m export { EdgeThreatDetectionSystemCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m521[0m:[93m66[0m - [91merror[0m[90m ts(2551): [0mProperty 'threatData' does not exist on type 'RealTimeThreatData'. Did you mean 'threatId'?

[7m521[0m       this.emit('detection_error', { error, threatId: threatData.threatData })
[7m   [0m [91m                                                                 ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m492[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'number'.
  Type 'string' is not assignable to type 'number'.

[7m492[0m         severity: finalResult.severity,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m399[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'regions' does not exist on type 'EdgeDetectionConfig'.

[7m399[0m       for (const region of this.config.regions || []) {
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m66[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m66[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m62[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'EdgeThreatDetectionSystemCore'.

[7m62[0m export class EdgeThreatDetectionSystemCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m16[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m1168[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'RegionStatus' is declared but never used.

[7m1168[0m interface RegionStatus {
[7m    [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m797[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'classificationResult' is declared but its value is never read.

[7m797[0m     classificationResult: ClassificationResult,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m730[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'features' is declared but its value is never read.

[7m730[0m     features: number[],
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m706[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m706[0m       const prediction = (await predictionModel.predict(input)) as tf.Tensor
[7m   [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m642[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m642[0m       const prediction = (await classificationModel.predict(input)) as tf.Tensor
[7m   [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m602[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m602[0m       const prediction = (await anomalyModel.predict(input)) as tf.Tensor
[7m   [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m344[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'modelConfig' is declared but its value is never read.

[7m344[0m     modelConfig: AIModelConfig,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m309[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'modelConfig' is declared but its value is never read.

[7m309[0m     modelConfig: AIModelConfig,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m270[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'modelConfig' is declared but its value is never read.

[7m270[0m     modelConfig: AIModelConfig,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m206[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'modelConfig' is declared but its value is never read.

[7m206[0m     modelConfig: AIModelConfig,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m69[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'detectionThresholds' is declared but its value is never read.

[7m69[0m   private detectionThresholds: DetectionThresholds
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1935[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ExternalThreatFeedIntegrationCore'.

[7m1935[0m export { ExternalThreatFeedIntegrationCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1935[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ExternalThreatFeedIntegrationCore'.

[7m1935[0m export { ExternalThreatFeedIntegrationCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1900[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1900[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1889[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1889[0m           {
[7m    [0m [91m          ~[0m
[7m1890[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1894[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1895[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1796[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1796[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1785[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1785[0m           {
[7m    [0m [91m          ~[0m
[7m1786[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1790[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1791[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1669[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1669[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1658[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1658[0m           {
[7m    [0m [91m          ~[0m
[7m1659[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1663[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1664[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1541[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1541[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1530[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1530[0m           {
[7m    [0m [91m          ~[0m
[7m1531[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1535[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1536[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1413[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1413[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1402[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1402[0m           {
[7m    [0m [91m          ~[0m
[7m1403[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1407[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1408[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1285[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1285[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1274[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1274[0m           {
[7m    [0m [91m          ~[0m
[7m1275[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m 
[7m1279[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1280[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m78[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'httpClient' has no initializer and is not definitely assigned in the constructor.

[7m78[0m   private httpClient: AxiosInstance
[7m  [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m77[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m77[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m76[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m76[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m75[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m75[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m71[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ExternalThreatFeedIntegrationCore'.

[7m71[0m export class ExternalThreatFeedIntegrationCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedProcessingResult'.

[7m16[0m   FeedProcessingResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedSubscription'.

[7m15[0m   FeedSubscription,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedItem'.

[7m14[0m   FeedItem,
[7m  [0m [91m  ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedConfig'.

[7m13[0m   FeedConfig,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m83[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m83[0m   constructor(private config: FeedConfig) {
[7m  [0m [93m                      ~~~~~~[0m

[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m970[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'GlobalThreatIntelligenceNetworkCore'.

[7m970[0m export { GlobalThreatIntelligenceNetworkCore }
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m970[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'GlobalThreatIntelligenceNetworkCore'.

[7m970[0m export { GlobalThreatIntelligenceNetworkCore }
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m688[0m:[93m52[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m688[0m         this.validationSystem.getValidationMetrics(region),
[7m   [0m [91m                                                   ~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m655[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateIntelligence' does not exist on type 'ThreatValidationSystem'.

[7m655[0m         await this.validationSystem.validateIntelligence(intelligence)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m274[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateIntelligence' does not exist on type 'ThreatValidationSystem'.

[7m274[0m         await this.validationSystem.validateIntelligence(globalThreat)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m266[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationData' is not assignable to parameter of type 'CorrelationData[]'.
  Type 'CorrelationData' is missing the following properties from type 'CorrelationData[]': length, pop, push, concat, and 35 more.

[7m266[0m         correlationData,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m199[0m:[93m35[0m - [91merror[0m[90m ts(2693): [0m'ThreatValidationSystem' only refers to a type, but is being used as a value here.

[7m199[0m       this.validationSystem = new ThreatValidationSystem(this.config.validation)
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m191[0m:[93m32[0m - [91merror[0m[90m ts(2693): [0m'ThreatHuntingSystem' only refers to a type, but is being used as a value here.

[7m191[0m       this.huntingSystem = new ThreatHuntingSystem()
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m185[0m:[93m39[0m - [91merror[0m[90m ts(2693): [0m'AutomatedThreatResponseOrchestrator' only refers to a type, but is being used as a value here.

[7m185[0m       this.responseOrchestrator = new AutomatedThreatResponseOrchestrator(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m179[0m:[93m39[0m - [91merror[0m[90m ts(2693): [0m'ThreatIntelligenceDatabase' only refers to a type, but is being used as a value here.

[7m179[0m       this.intelligenceDatabase = new ThreatIntelligenceDatabase(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m173[0m:[93m36[0m - [91merror[0m[90m ts(2693): [0m'ThreatCorrelationEngine' only refers to a type, but is being used as a value here.

[7m173[0m       this.correlationEngine = new ThreatCorrelationEngine(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m167[0m:[93m38[0m - [91merror[0m[90m ts(2693): [0m'EdgeThreatDetectionSystem' only refers to a type, but is being used as a value here.

[7m167[0m       this.edgeDetectionSystem = new EdgeThreatDetectionSystem(
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m82[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'validationSystem' has no initializer and is not definitely assigned in the constructor.

[7m82[0m   private validationSystem: ThreatValidationSystem
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m80[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'huntingSystem' has no initializer and is not definitely assigned in the constructor.

[7m80[0m   private huntingSystem: ThreatHuntingSystem
[7m  [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m79[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'responseOrchestrator' has no initializer and is not definitely assigned in the constructor.

[7m79[0m   private responseOrchestrator: AutomatedThreatResponseOrchestrator
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m78[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'intelligenceDatabase' has no initializer and is not definitely assigned in the constructor.

[7m78[0m   private intelligenceDatabase: ThreatIntelligenceDatabase
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m77[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'correlationEngine' has no initializer and is not definitely assigned in the constructor.

[7m77[0m   private correlationEngine: ThreatCorrelationEngine
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m76[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'edgeDetectionSystem' has no initializer and is not definitely assigned in the constructor.

[7m76[0m   private edgeDetectionSystem: EdgeThreatDetectionSystem
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m74[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m74[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m73[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m72[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m72[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m68[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'GlobalThreatIntelligenceNetworkCore'.

[7m68[0m export class GlobalThreatIntelligenceNetworkCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m28[0m:[93m47[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../integration/ExternalThreatFeedIntegration' or its corresponding type declarations.

[7m28[0m import { ExternalThreatFeedIntegration } from '../integration/ExternalThreatFeedIntegration'
[7m  [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m496[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threatData' is declared but its value is never read.

[7m496[0m     threatData: RealTimeThreatData,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m430[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'edgeDetectionResult' is declared but its value is never read.

[7m430[0m     edgeDetectionResult: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m88[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m88[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m86[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'existingPredictiveService' is declared but its value is never read.

[7m86[0m   private existingPredictiveService: AdvancedPredictiveThreatIntelligence
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m85[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'existingIntelligenceService' is declared but its value is never read.

[7m85[0m   private existingIntelligenceService: ExternalThreatIntelligenceService
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m74[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'db' is declared but its value is never read.

[7m74[0m   private db: Db
[7m  [0m [93m          ~~[0m

[96msrc/lib/threat-intelligence/global/types.ts[0m:[93m413[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatIndicator'.

[7m413[0m   indicators: ThreatIndicator[]
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/types.ts[0m:[93m386[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatContext'.

[7m386[0m   context: ThreatContext
[7m   [0m [91m           ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/types.ts[0m:[93m385[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatIndicator'.

[7m385[0m   indicators: ThreatIndicator[]
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2757[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ThreatHuntingSystemCore'.

[7m2757[0m export { ThreatHuntingSystemCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2757[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatHuntingSystemCore'.

[7m2757[0m export { ThreatHuntingSystemCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2629[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastExecution' does not exist on type 'HuntSchedule'.

[7m2629[0m         ? new Date(schedule.lastExecution)
[7m    [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2628[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastExecution' does not exist on type 'HuntSchedule'.

[7m2628[0m       const lastExecution = schedule.lastExecution
[7m    [0m [91m                                     ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2615[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'HuntSchedule'.
  Type 'WithId<Document>' is missing the following properties from type 'HuntSchedule': frequency, cronExpression, timezone, enabled

[7m2615[0m           await this.executeScheduledHunt(schedule)
[7m    [0m [91m                                          ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2613[0m:[93m69[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'HuntSchedule'.
  Type 'WithId<Document>' is missing the following properties from type 'HuntSchedule': frequency, cronExpression, timezone, enabled

[7m2613[0m         const shouldExecute = await this.shouldExecuteScheduledHunt(schedule)
[7m    [0m [91m                                                                    ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2404[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'HuntResult[]'.
  Type 'WithId<Document>' is missing the following properties from type 'HuntResult': resultId, huntId, timestamp, findings, metadata

[7m2404[0m       return results
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2347[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2347[0m         scheduleId: schedule.scheduleId,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2339[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'parameters' does not exist on type 'HuntSchedule'.

[7m2339[0m         parameters: schedule.parameters,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2338[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'regions' does not exist on type 'HuntSchedule'.

[7m2338[0m         regions: schedule.regions,
[7m    [0m [91m                          ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2337[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntSchedule'.

[7m2337[0m         scope: schedule.scope,
[7m    [0m [91m                        ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2336[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntSchedule'.

[7m2336[0m         patternId: schedule.patternId,
[7m    [0m [91m                            ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2335[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2335[0m         huntId: `scheduled_${schedule.scheduleId}_${Date.now()}`,
[7m    [0m [91m                                      ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2335[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'huntId' does not exist in type 'HuntQuery'.

[7m2335[0m         huntId: `scheduled_${schedule.scheduleId}_${Date.now()}`,
[7m    [0m [91m        ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2331[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2331[0m         scheduleId: schedule.scheduleId,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2318[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2318[0m         { scheduleId: schedule.scheduleId },
[7m    [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2289[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntSchedule'.

[7m2289[0m     if (!schedule.patternId) {
[7m    [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2285[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2285[0m     if (!schedule.scheduleId) {
[7m    [0m [91m                  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2277[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2277[0m       return schedule.scheduleId
[7m    [0m [91m                      ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2275[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2275[0m       this.emit('hunt_scheduled', { scheduleId: schedule.scheduleId })
[7m    [0m [91m                                                         ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2273[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2273[0m       this.scheduledHunts.set(schedule.scheduleId, timeout)
[7m    [0m [91m                                       ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2268[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2268[0m             scheduleId: schedule.scheduleId,
[7m    [0m [91m                                 ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2250[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntSchedule'.

[7m2250[0m         patternId: schedule.patternId,
[7m    [0m [91m                            ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2249[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2249[0m         scheduleId: schedule.scheduleId,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2097[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m2097[0m     return `${threat.threatType}:${indicatorKeys}`
[7m    [0m [91m                     ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m1957[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'execution'.

[7m1957[0m           huntId: execution.huntId,
[7m    [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m1950[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1950[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m1949[0m:[93m18[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'execution'.

[7m1949[0m         regions: execution.regions || ['global'],
[7m    [0m [91m                 ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m411[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataSources' does not exist on type 'HuntQuery'.

[7m411[0m       dataSources.push(...query.dataSources)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m410[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataSources' does not exist on type 'HuntQuery'.

[7m410[0m     if (query.dataSources) {
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m353[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'regions' does not exist on type 'HuntQuery'.

[7m353[0m         regions: query.regions || ['all'],
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m351[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m351[0m         scope: query.scope || ['global'],
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m347[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m347[0m         huntId: query.huntId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m326[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'customQuery' does not exist on type 'HuntQuery'.

[7m326[0m       query: query.customQuery!,
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m310[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m310[0m         throw new Error(`Hunt pattern not found: ${query.patternId}`)
[7m   [0m [91m                                                         ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m308[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m308[0m       const pattern = this.huntPatterns.get(query.patternId!)
[7m   [0m [91m                                                  ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m302[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'customQuery' does not exist on type 'HuntQuery'.

[7m302[0m       if (query.customQuery) {
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m290[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'maxResults' does not exist on type 'HuntQuery'.

[7m290[0m         maxResults: query.maxResults || 1000,
[7m   [0m [91m                          ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m289[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeout' does not exist on type 'HuntQuery'.

[7m289[0m         timeout: query.timeout || 300000, // 5 minutes default
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m288[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'HuntQuery'.

[7m288[0m         priority: query.priority || 'medium',
[7m   [0m [91m                        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m288[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'HuntQuery'.

[7m288[0m         priority: query.priority || 'medium',
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m271[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'HuntQuery'.

[7m271[0m         const endTime = new Date(query.timeRange.endTime)
[7m   [0m [91m                                       ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m270[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'HuntQuery'.

[7m270[0m         const startTime = new Date(query.timeRange.startTime)
[7m   [0m [91m                                         ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m269[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'HuntQuery'.

[7m269[0m       if (query.timeRange) {
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m264[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m264[0m       if (query.scope && query.scope.length === 0) {
[7m   [0m [91m                               ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m264[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m264[0m       if (query.scope && query.scope.length === 0) {
[7m   [0m [91m                ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m259[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'customQuery' does not exist on type 'HuntQuery'.

[7m259[0m       if (!query.patternId && !query.customQuery) {
[7m   [0m [91m                                     ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m259[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m259[0m       if (!query.patternId && !query.customQuery) {
[7m   [0m [91m                 ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m255[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m255[0m       if (!query.huntId) {
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m247[0m:[93m64[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m247[0m       this.emit('hunt_execution_error', { error, huntId: query.huntId })
[7m   [0m [91m                                                               ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m245[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m245[0m         huntId: query.huntId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m238[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'HuntResult'.

[7m238[0m         confidence: huntResult.confidence,
[7m   [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m237[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatsDiscovered' does not exist on type 'HuntResult'.

[7m237[0m         threatsDiscovered: huntResult.threatsDiscovered,
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m236[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'executionId' does not exist on type 'HuntResult'.

[7m236[0m         executionId: huntResult.executionId,
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m229[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'dataSources' does not exist in type 'HuntMetadata'.

[7m229[0m           dataSources: execution.dataSources,
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m173[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m173[0m         scope: query.scope,
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m172[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m172[0m         patternId: query.patternId,
[7m   [0m [91m                         ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m171[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m171[0m         huntId: query.huntId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m62[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m62[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m61[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m61[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m60[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m60[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m56[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatHuntingSystemCore'.

[7m56[0m export class ThreatHuntingSystemCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m19[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'HuntExecution'.

[7m17[0m   HuntExecution,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'HuntPattern'.

[7m15[0m   HuntPattern,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'HuntingConfig'.

[7m12[0m   HuntingConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m655[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'pattern' is declared but its value is never read.

[7m655[0m     pattern: HuntPattern,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m602[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'pattern' is declared but its value is never read.

[7m602[0m     pattern: HuntPattern,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m567[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'pattern' is declared but its value is never read.

[7m567[0m     pattern: HuntPattern,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m533[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'pattern' is declared but its value is never read.

[7m533[0m     pattern: HuntPattern,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m499[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'pattern' is declared but its value is never read.

[7m499[0m     pattern: HuntPattern,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m465[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'pattern' is declared but its value is never read.

[7m465[0m     pattern: HuntPattern,
[7m   [0m [93m    ~~~~~~~[0m

[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1632[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'AutomatedThreatResponseOrchestratorCore'.

[7m1632[0m export { AutomatedThreatResponseOrchestratorCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1632[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AutomatedThreatResponseOrchestratorCore'.

[7m1632[0m export { AutomatedThreatResponseOrchestratorCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1359[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m1359[0m     if (strategy.priority < 0 || strategy.priority > 100) {
[7m    [0m [91m                                          ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1359[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m1359[0m     if (strategy.priority < 0 || strategy.priority > 100) {
[7m    [0m [91m                 ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1089[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'enabled' does not exist on type 'IntegrationEndpoint'.

[7m1089[0m         if (endpoint.enabled !== false) {
[7m    [0m [91m                     ~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m671[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m671[0m       if (action.priority < 0 || action.priority > 10) {
[7m   [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m671[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m671[0m       if (action.priority < 0 || action.priority > 10) {
[7m   [0m [91m                 ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m599[0m:[93m14[0m - [91merror[0m[90m ts(2678): [0mType '"rate_limit"' is not comparable to type '"alert" | "block" | "isolate" | "investigate" | "mitigate"'.

[7m599[0m         case 'rate_limit':
[7m   [0m [91m             ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m574[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m574[0m       return actions.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                                   ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m574[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m574[0m       return actions.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                      ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m548[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m548[0m             priority: 3,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m531[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m531[0m             priority: 5,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m523[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m523[0m             priority: 6,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m506[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m506[0m             priority: 7,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m494[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '"rate_limit"' is not assignable to type '"alert" | "block" | "isolate" | "investigate" | "mitigate"'.

[7m494[0m             actionType: 'rate_limit',
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m480[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m480[0m             priority: 9,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m471[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m471[0m             priority: 10,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m376[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'condition.value' is of type 'unknown'.

[7m376[0m         return value < condition.value
[7m   [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m374[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'condition.value' is of type 'unknown'.

[7m374[0m         return value > condition.value
[7m   [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m285[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m285[0m       matchingStrategies.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                                       ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m285[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m285[0m       matchingStrategies.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                          ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m223[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'primaryType' does not exist on type 'ResponseStrategy'.

[7m223[0m         responseType: strategy.primaryType,
[7m   [0m [91m                               ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m161[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'ResponseStrategy'.
  Type 'WithId<Document>' is missing the following properties from type 'ResponseStrategy': strategyId, threatTypes, severityLevels, responseActions, conditions

[7m161[0m         this.responseStrategies.set(strategy.strategyId, strategy)
[7m   [0m [91m                                                         ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m74[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m74[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m73[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m72[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m72[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m68[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'AutomatedThreatResponseOrchestratorCore'.

[7m68[0m export class AutomatedThreatResponseOrchestratorCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatResponse'.

[7m18[0m   ThreatResponse,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1100[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'response' is declared but its value is never read.

[7m1100[0m     response: ThreatResponse,
[7m    [0m [93m    ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m404[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threat' is declared but its value is never read.

[7m404[0m     threat: GlobalThreatIntelligence,
[7m   [0m [93m    ~~~~~~[0m

[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m525[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m525[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m517[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'synchronizeThreat' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m517[0m       await network.synchronizeThreat(threatData)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m485[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m485[0m       await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                              ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m458[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m458[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m449[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'getThreatById' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m449[0m       const result2 = await network.getThreatById(threatId)
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m446[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'getThreatById' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m446[0m       const result1 = await network.getThreatById(threatId)
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m438[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'GlobalThreatIntelligence'.

[7m438[0m       const successfulResults = results.filter((r) => r.status === 'processed')
[7m   [0m [91m                                                        ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m429[0m:[93m67[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m429[0m         threats.map((threat) => network.processThreatIntelligence(threat)),
[7m   [0m [91m                                                                  ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m402[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m402[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m394[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: null; threatType: string; severity?: undefined; confidence?: undefined; indicators?: undefined; } | { threatId: string; threatType: string; severity?: undefined; confidence?: undefined; indicators?: undefined; } | { ...; } | { ...; } | { ...; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: null; threatType: string; severity?: undefined; confidence?: undefined; indicators?: undefined; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m394[0m           network.processThreatIntelligence(invalidThreat),
[7m   [0m [91m                                            ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m379[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m379[0m         await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                                ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m348[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m348[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m337[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'getThreatMetrics' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m337[0m       const metrics = await network.getThreatMetrics()
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m333[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'activeRegions' does not exist on type 'HealthStatus'.

[7m333[0m       expect(healthStatus.activeRegions).toBeGreaterThan(0)
[7m   [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m332[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'message' does not exist on type 'HealthStatus'.

[7m332[0m       expect(healthStatus.message).toContain('healthy')
[7m   [0m [91m                          ~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m331[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthy' does not exist on type 'HealthStatus'.

[7m331[0m       expect(healthStatus.healthy).toBe(true)
[7m   [0m [91m                          ~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m324[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m324[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m315[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'correlateThreats' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m315[0m       const correlations = await network.correlateThreats([])
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m307[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'correlateThreats' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m307[0m       const correlations = await network.correlateThreats(threats)
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m263[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m263[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m257[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'synchronizeThreat' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m257[0m       await expect(network.synchronizeThreat(threatData)).rejects.toThrow()
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m229[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'synchronizeThreat' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m229[0m       const result = await network.synchronizeThreat(threatData)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m205[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m205[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m199[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'GlobalThreatIntelligence'.

[7m199[0m       expect(result.status).toBe('duplicate')
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m197[0m:[93m62[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m197[0m       const result = await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m194[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m194[0m       await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                              ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m169[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: never[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: never[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m169[0m         network.processThreatIntelligence(invalidThreat),
[7m   [0m [91m                                          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m156[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'GlobalThreatIntelligence'.

[7m156[0m       expect(result.status).toBe('processed')
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m152[0m:[93m62[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m152[0m       const result = await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m119[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m119[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m109[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m109[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m89[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m89[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m  [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1581[0m:[93m10[0m - [91merror[0m[90m ts(2484): [0mExport declaration conflicts with exported declaration of 'ThreatValidationSystemCore'.

[7m1581[0m export { ThreatValidationSystemCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1581[0m:[93m10[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatValidationSystemCore'.

[7m1581[0m export { ThreatValidationSystemCore }
[7m    [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1279[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'ValidationRule'.

[7m1279[0m       !['low', 'medium', 'high', 'critical'].includes(rule.severity)
[7m    [0m [91m                                                           ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1278[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'ValidationRule'.

[7m1278[0m       rule.severity &&
[7m    [0m [91m           ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1273[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m1273[0m     if (!rule.ruleId || !rule.name || !rule.ruleType) {
[7m    [0m [91m                              ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1073[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m1073[0m           'threatType': threat.threatType,
[7m    [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1028[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m1028[0m         threatType: threat.threatType,
[7m    [0m [91m                           ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m999[0m:[93m57[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m999[0m         issues: ['Cross-reference validation error: ' + error.message],
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m926[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m926[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m910[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m910[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m879[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m879[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m855[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m855[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m826[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m826[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m811[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m811[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m802[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m802[0m         message: 'Condition evaluation error: ' + error.message,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m772[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m772[0m         issues: ['Rule application error: ' + error.message],
[7m   [0m [91m                                              ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m769[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m769[0m         ruleName: rule.name,
[7m   [0m [91m                       ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m759[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'ValidationRule'.

[7m759[0m           severity: rule.severity,
[7m   [0m [91m                         ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m758[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'conditions' does not exist on type 'ValidationRule'. Did you mean 'condition'?

[7m758[0m           conditionsApplied: rule.conditions.length,
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m752[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m752[0m         ruleName: rule.name,
[7m   [0m [91m                       ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m739[0m:[93m36[0m - [91merror[0m[90m ts(2551): [0mProperty 'conditions' does not exist on type 'ValidationRule'. Did you mean 'condition'?

[7m739[0m       for (const condition of rule.conditions) {
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m721[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m721[0m           issues: ['Rule execution error: ' + error.message],
[7m   [0m [91m                                              ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m718[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m718[0m           ruleName: rule.name,
[7m   [0m [91m                         ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m696[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m696[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m629[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m629[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m461[0m:[93m46[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m461[0m         error: 'Format validation error: ' + error.message,
[7m   [0m [91m                                             ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m431[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m431[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m353[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m353[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m342[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'GlobalThreatIntelligence'.

[7m342[0m           hasMetadata: !!threat.metadata,
[7m   [0m [91m                                ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m296[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m296[0m       if (!threat.threatType) {
[7m   [0m [91m                  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m268[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m268[0m       threatType: threat.threatType,
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m223[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'validationThreshold' does not exist on type 'ValidationConfig'.

[7m223[0m       validation.isValid = overallScore >= this.config.validationThreshold
[7m   [0m [91m                                                       ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m205[0m:[93m71[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'GlobalThreatIntelligence'.

[7m205[0m         const metadataValidation = await this.validateMetadata(threat.metadata)
[7m   [0m [91m                                                                      ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m204[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'GlobalThreatIntelligence'.

[7m204[0m       if (threat.metadata) {
[7m   [0m [91m                 ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m141[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'ValidationRule'.
  Type 'WithId<Document>' is missing the following properties from type 'ValidationRule': ruleId, ruleType, condition, threshold, action

[7m141[0m         this.validationRules.set(rule.ruleId, rule)
[7m   [0m [91m                                              ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m64[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m64[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m63[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m63[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m62[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m62[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m58[0m:[93m14[0m - [91merror[0m[90m ts(2323): [0mCannot redeclare exported variable 'ThreatValidationSystemCore'.

[7m58[0m export class ThreatValidationSystemCore
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ValidationMetrics'.

[7m18[0m   ValidationMetrics,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m17[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatValidation'.

[7m15[0m   ThreatValidation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"../global/types"' has no exported member named 'ValidationResult'. Did you mean 'ValidationRule'?

[7m14[0m   ValidationResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1211[0m:[93m17[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'r' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1211[0m           .map((r) => r.issues)
[7m    [0m [93m                ~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1210[0m:[93m20[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'r' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1210[0m           .filter((r) => !r.passed)
[7m    [0m [93m                   ~[0m

[96msrc/lib/utils/demo-helpers.integration.test.ts[0m:[93m124[0m:[93m53[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ ok: true; text: () => Promise<string>; headers: Map<string, string>; }' to type 'Response' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ ok: true; text: () => Promise<string>; headers: Map<string, string>; }' is missing the following properties from type 'Response': redirected, status, statusText, type, and 9 more.

[7m124[0m       vi.mocked(global.fetch).mockResolvedValueOnce({
[7m   [0m [91m                                                    ~[0m
[7m125[0m         ok: true,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m127[0m         headers: new Map([['content-type', 'application/json']]),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m128[0m       } as Response)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m351[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m351[0m         {
[7m   [0m [91m        ~[0m
[7m352[0m           overall: 0.5,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m360[0m           evaluation: 0.4,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m         },
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m189[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m189[0m         biasFactors,
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m167[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m167[0m         biasFactors,
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m136[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m136[0m         biasFactors,
[7m   [0m [91m        ~~~~~~~~~~~[0m

[96msrc/lib/utils/env.ts[0m:[93m59[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'void'.

[7m59[0m       return getEnv(prop) ?? ''
[7m  [0m [91m      ~~~~~~[0m

[96msrc/lib/utils/image-optimizer.ts[0m:[93m11[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"image-optimizer"' has no properties in common with type 'LoggerOptions'.

[7m11[0m const logger = getLogger('image-optimizer')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/utils/image-optimizer.ts[0m:[93m217[0m:[93m14[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'buffer.slice' is deprecated.

[7m217[0m       buffer.slice(8, 12).toString('hex') === '41564946'
[7m   [0m [93m             ~~~~~[0m
[96msrc/lib/utils/image-optimizer.ts[0m:[93m212[0m:[93m14[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'buffer.slice' is deprecated.

[7m212[0m       buffer.slice(8, 12).toString('hex') === '57454250'
[7m   [0m [93m             ~~~~~[0m
[96msrc/lib/utils/image-optimizer.ts[0m:[93m206[0m:[93m26[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'buffer.slice' is deprecated.

[7m206[0m     const magic = buffer.slice(0, 12).toString('hex')
[7m   [0m [93m                         ~~~~~[0m

[96msrc/lib/utils/safe-fetch.ts[0m:[93m90[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'controller' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m       transform(chunk, controller) {
[7m  [0m [93m                       ~~~~~~~~~~[0m
[96msrc/lib/utils/safe-fetch.ts[0m:[93m90[0m:[93m17[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'chunk' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m       transform(chunk, controller) {
[7m  [0m [93m                ~~~~~[0m

[96msrc/lib/validation/index.ts[0m:[93m116[0m:[93m4[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m116[0m   .uuid()
[7m   [0m [93m   ~~~~[0m
[96msrc/lib/validation/index.ts[0m:[93m95[0m:[93m34[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFormattedError<output<T>, string>' of 'result.error.format' is deprecated.

[7m95[0m           details: result?.error.format(),
[7m  [0m [93m                                 ~~~~~~[0m
[96msrc/lib/validation/index.ts[0m:[93m51[0m:[93m34[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFormattedError<output<T>, string>' of 'result.error.format' is deprecated.

[7m51[0m           details: result?.error.format(),
[7m  [0m [93m                                 ~~~~~~[0m

[96msrc/lib/websocket/server.ts[0m:[93m47[0m:[93m13[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m47[0m             await this.handleStatusUpdate(clientId, message)
[7m  [0m [93m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m316[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m316[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m285[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m285[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m260[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m260[0m       ;(wss as unknown).broadcastToSession(sessionId, {
[7m   [0m [91m       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m257[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m257[0m       ;(wss as unknown).sessions.set(sessionId, new Set([clientId]))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m231[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m231[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m213[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m213[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m190[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m190[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m154[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m154[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m114[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m114[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m100[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ConnectionHandler'.

[7m100[0m       )?.[1] as ConnectionHandler
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m99[0m:[93m25[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ConnectionHandler'.

[7m99[0m         (call: [string, ConnectionHandler]) => call[0] === 'connection',
[7m  [0m [91m                        ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m99[0m:[93m9[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => value is any[], thisArg?: any): any[] | undefined', gave the following error.
  Overload 2 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => unknown, thisArg?: any): any[] | undefined', gave the following error.

[7m99[0m         (call: [string, ConnectionHandler]) => call[0] === 'connection',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m83[0m:[93m19[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m83[0m     mockClients = (wss as unknown).clients
[7m  [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m72[0m:[93m25[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MockWebSocket'.

[7m72[0m     mockWebSocket = new MockWebSocket() as WebSocket & {
[7m  [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m333[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m333[0m       await messageHandler(JSON.stringify(message))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m309[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m309[0m       await messageHandler(JSON.stringify(encryptedMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m243[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m243[0m       await messageHandler('invalid json')
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m208[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m208[0m       await messageHandler(JSON.stringify(statusMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m179[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m179[0m       await messageHandler(JSON.stringify(encryptedMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m149[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m149[0m       await messageHandler(JSON.stringify(chatMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/load-tests/breach-notification.load.ts[0m:[93m192[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'notificationStatus' does not exist on type 'void'.

[7m192[0m     if (statusResponse.notificationStatus === 'completed') {
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m7[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/http' or its corresponding type declarations.

[7m7[0m import type { RefinedResponse } from 'k6/http'
[7m [0m [91m                                     ~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m6[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/metrics' or its corresponding type declarations.

[7m6[0m import { Counter, Rate, Trend } from 'k6/metrics'
[7m [0m [91m                                     ~~~~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m5[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/http' or its corresponding type declarations.

[7m5[0m import http from 'k6/http'
[7m [0m [91m                 ~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m4[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/data' or its corresponding type declarations.

[7m4[0m import { randomString } from 'k6/data'
[7m [0m [91m                             ~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m3[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6' or its corresponding type declarations.

[7m3[0m import { check, sleep } from 'k6'
[7m [0m [91m                             ~~~~[0m

[96msrc/middleware/monitoring.ts[0m:[93m51[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m51[0m       const session = JSON.parse(decodeURIComponent(sessionCookie) as unknown)
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/middleware/security.ts[0m:[93m318[0m:[93m57[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CORS_CONFIG'.

[7m318[0m export { SECURITY_HEADERS, RATE_LIMITS, REQUEST_LIMITS, CORS_CONFIG }
[7m   [0m [91m                                                        ~~~~~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m318[0m:[93m41[0m - [91merror[0m[90m ts(2552): [0mCannot find name 'REQUEST_LIMITS'. Did you mean 'RequestInit'?

[7m318[0m export { SECURITY_HEADERS, RATE_LIMITS, REQUEST_LIMITS, CORS_CONFIG }
[7m   [0m [91m                                        ~~~~~~~~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m318[0m:[93m28[0m - [91merror[0m[90m ts(2552): [0mCannot find name 'RATE_LIMITS'. Did you mean 'RateLimiter'?

[7m318[0m export { SECURITY_HEADERS, RATE_LIMITS, REQUEST_LIMITS, CORS_CONFIG }
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m218[0m:[93m45[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RATE_LIMITS'.

[7m218[0m   responseHeaders.set('X-Rate-Limit-Limit', RATE_LIMITS.maxRequests.toString())
[7m   [0m [91m                                            ~~~~~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m179[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RATE_LIMITS'.

[7m179[0m   const clientIP = RATE_LIMITS.keyGenerator(request)
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m125[0m:[93m39[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RATE_LIMITS'.

[7m125[0m     const { windowMs, maxRequests } = RATE_LIMITS
[7m   [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m177[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_method' is declared but its value is never read.

[7m177[0m   const _method = request.method
[7m   [0m [93m        ~~~~~~~[0m
[96msrc/middleware/security.ts[0m:[93m176[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_url' is declared but its value is never read.

[7m176[0m   const _url = new URL(request.url)
[7m   [0m [93m        ~~~~[0m

[96msrc/pages/ai/mental-health/analyze.ts[0m:[93m19[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'chat' does not exist on type 'Promise<{ adapter: MentalLLaMAAdapter; modelProvider: MentalLLaMAModelProvider; }>'.

[7m19[0m     const result = await model.chat(messages)
[7m  [0m [91m                               ~~~~[0m

[96msrc/pages/api/evaluation.ts[0m:[93m131[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies | undefined' is not assignable to parameter of type 'CookiesLike'.
  Type 'undefined' is not assignable to type 'CookiesLike'.

[7m131[0m   const user = await getCurrentUser(cookies)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/pages/api/evaluation.ts[0m:[93m28[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies | undefined' is not assignable to parameter of type 'CookiesLike'.
  Type 'undefined' is not assignable to type 'CookiesLike'.

[7m28[0m     const user = await getCurrentUser(cookies)
[7m  [0m [91m                                      ~~~~~~~[0m
[96msrc/pages/api/evaluation.ts[0m:[93m169[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'(): ZodObject<{}, $loose>' is deprecated.

[7m169[0m         .passthrough()
[7m   [0m [93m         ~~~~~~~~~~~[0m
[96msrc/pages/api/evaluation.ts[0m:[93m100[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m100[0m       const evaluations = result.rows.map((row) => ({
[7m   [0m [93m                                           ~~~[0m
[96msrc/pages/api/evaluation.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/techniques.ts[0m:[93m125[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m125[0m     const recommendations = await recommend(recommendationRequest)
[7m   [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/techniques.ts[0m:[93m55[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'technique' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m     const responseData = filteredTechniques.map((technique) => ({
[7m  [0m [93m                                                 ~~~~~~~~~[0m
[96msrc/pages/api/techniques.ts[0m:[93m50[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'technique' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m50[0m         (technique) => technique.data.evidenceLevel === evidenceFilter,
[7m  [0m [93m         ~~~~~~~~~[0m
[96msrc/pages/api/techniques.ts[0m:[93m44[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'technique' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m44[0m         (technique) => technique.data.category === categoryFilter,
[7m  [0m [93m         ~~~~~~~~~[0m

[96msrc/pages/api/admin/sessions.ts[0m:[93m109[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m109[0m     const adminService = AdminService.getInstance()
[7m   [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m83[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'MANAGE_SESSIONS' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m83[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SESSIONS)(
[7m  [0m [91m                                                              ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m83[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m83[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SESSIONS)(
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m36[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m36[0m     const adminService = AdminService.getInstance()
[7m  [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m15[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'MANAGE_SESSIONS' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m15[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SESSIONS)(
[7m  [0m [91m                                                              ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m15[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m15[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SESSIONS)(
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m112[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'result' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m112[0m     let result
[7m   [0m [93m        ~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m81[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m export const POST = async (context) => {
[7m  [0m [93m                           ~~~~~~~[0m
[96msrc/pages/api/admin/sessions.ts[0m:[93m13[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m13[0m export const GET = async (context) => {
[7m  [0m [93m                          ~~~~~~~[0m

[96msrc/pages/api/admin/test-security-alert.ts[0m:[93m22[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies | undefined' is not assignable to parameter of type 'CookiesLike'.
  Type 'undefined' is not assignable to type 'CookiesLike'.

[7m22[0m     const user = await getCurrentUser(cookies)
[7m  [0m [91m                                      ~~~~~~~[0m

[96msrc/pages/api/admin/users.ts[0m:[93m107[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m107[0m     const adminService = AdminService.getInstance()
[7m   [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m81[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'UPDATE_USER' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m81[0m   const middlewareResponse = await adminGuard(AdminPermission.UPDATE_USER)(
[7m  [0m [91m                                                              ~~~~~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m81[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m81[0m   const middlewareResponse = await adminGuard(AdminPermission.UPDATE_USER)(
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m34[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m34[0m     const adminService = AdminService.getInstance()
[7m  [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m16[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'VIEW_USERS' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m16[0m   const middlewareResponse = await adminGuard(AdminPermission.VIEW_USERS)(
[7m  [0m [91m                                                              ~~~~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m16[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m16[0m   const middlewareResponse = await adminGuard(AdminPermission.VIEW_USERS)(
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m79[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m79[0m export const PATCH = async (context) => {
[7m  [0m [93m                            ~~~~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m39[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'user' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m39[0m       ? usersResult.filter((user) => user.role === role)
[7m  [0m [93m                            ~~~~[0m
[96msrc/pages/api/admin/users.ts[0m:[93m14[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m export const GET = async (context) => {
[7m  [0m [93m                          ~~~~~~~[0m

[96msrc/pages/api/admin/backup/recovery-test.ts[0m:[93m166[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'AdminPermission | undefined'.

[7m166[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SECURITY)({
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin/backup/recovery-test.ts[0m:[93m166[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m166[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SECURITY)({
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/admin/patient-rights/delete-request.ts[0m:[93m38[0m:[93m15[0m - [91merror[0m[90m ts(2551): [0mProperty 'roles' does not exist on type '{ id: string; role: string; }'. Did you mean 'role'?

[7m38[0m     if (!user.roles?.includes('admin')) {
[7m  [0m [91m              ~~~~~[0m

[96msrc/pages/api/ai/completion.ts[0m:[93m205[0m:[93m34[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m205[0m         async start(controller): void {
[7m   [0m [91m                                 ~~~~[0m

[96msrc/pages/api/ai/high-risk-detections.ts[0m:[93m7[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m7[0m   let session
[7m [0m [93m      ~~~~~~~[0m

[96msrc/pages/api/ai/intervention-analysis.ts[0m:[93m12[0m:[93m4[0m - [93mwarning[0m[90m ts(80009): [0mJSDoc typedef may be converted to TypeScript type.

[7m12[0m  * @typedef {import('astro').APIContext} APIContext
[7m  [0m [93m   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/ai/performance-metrics.ts[0m:[93m4[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m4[0m export const GET = async ({ request }: APIContext) => {
[7m [0m [91m                                       ~~~~~~~~~~[0m

[96msrc/pages/api/ai/response.ts[0m:[93m304[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticResponse'.

[7m304[0m     let result: TherapeuticResponse
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m280[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ResponseGenerationService'.

[7m280[0m     const responseService = new ResponseGenerationService({
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m216[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIServiceOptions'.

[7m216[0m         options?: AIServiceOptions,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m215[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIMessage'.

[7m215[0m         messages: AIMessage[],
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m201[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIStreamChunk'.

[7m201[0m           } as AIStreamChunk
[7m   [0m [91m               ~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m192[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIStreamChunk'.

[7m192[0m       ): Promise<AsyncGenerator<AIStreamChunk, void, void>> => {
[7m   [0m [91m                                ~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m191[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIServiceOptions'.

[7m191[0m         options?: AIServiceOptions,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m190[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIMessage'.

[7m190[0m         _messages: AIMessage[],
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m132[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIServiceOptions'.

[7m132[0m         options?: AIServiceOptions,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m131[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIMessage'.

[7m131[0m         messages: AIMessage[],
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m129[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIService'.

[7m129[0m     const serviceAdapter: AIService = {
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m118[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createTogetherAIService'.

[7m118[0m     const togetherService = createTogetherAIService({
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m13[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m13[0m export const GET: APIRoute = async ({ request }) => {
[7m  [0m [91m                  ~~~~~~~~[0m

[96msrc/pages/api/ai/usage-stats.ts[0m:[93m91[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m91[0m     await createAuditLog({
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m75[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'AIUsageStats'.

[7m75[0m         statsCount: stats.length,
[7m  [0m [91m                          ~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m67[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m67[0m     await createAuditLog({
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m48[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m48[0m     await createAuditLog({
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m44[0m:[93m22[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m44[0m     const allUsers = url.searchParams.get('allUsers') === 'true'
[7m  [0m [91m                     ~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m43[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m43[0m     const period = url.searchParams.get('period') || 'daily'
[7m  [0m [91m                   ~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m29[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'AstroCookies | undefined' is not assignable to type 'AstroCookies'.
  Type 'undefined' is not assignable to type 'AstroCookies'.

[7m29[0m       cookies,
[7m  [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m12[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m12[0m   let session
[7m  [0m [93m      ~~~~~~~[0m

[96msrc/pages/api/ai/usage.ts[0m:[93m23[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m23[0m   let session
[7m  [0m [93m      ~~~~~~~[0m

[96msrc/pages/api/ai/recommendations/enhanced.ts[0m:[93m152[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m152[0m export const GET: APIRoute = (_ctx: APIContext) => {
[7m   [0m [91m                                    ~~~~~~~~~~[0m
[96msrc/pages/api/ai/recommendations/enhanced.ts[0m:[93m42[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m42[0m   clientId: z.string().uuid({ message: 'Valid client ID is required' }),
[7m  [0m [93m                       ~~~~[0m

[96msrc/pages/api/ai/validation/results.ts[0m:[93m110[0m:[93m76[0m - [91merror[0m[90m ts(2339): [0mProperty 'runCount' does not exist on type 'ValidationStats'.

[7m110[0m         'ETag': `"validation-${validationResults.length}-${validationStats.runCount}"`,
[7m   [0m [91m                                                                           ~~~~~~~~[0m
[96msrc/pages/api/ai/validation/results.ts[0m:[93m50[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'SECURITY_EVENT' does not exist on type 'typeof AuditEventType'.

[7m50[0m         AuditEventType.SECURITY_EVENT,
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/validation/results.ts[0m:[93m21[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'CookiesLike'.
  Property 'get' is missing in type 'Request' but required in type 'CookiesLike'.

[7m21[0m     const authResult = await isAuthenticated(request)
[7m  [0m [91m                                             ~~~~~~~[0m

[96msrc/pages/api/ai/validation/run.ts[0m:[93m16[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'CookiesLike'.
  Property 'get' is missing in type 'Request' but required in type 'CookiesLike'.

[7m16[0m     const authResult = await isAuthenticated(request)
[7m  [0m [91m                                             ~~~~~~~[0m

[96msrc/pages/api/ai/validation/schedule.ts[0m:[93m15[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'CookiesLike'.
  Property 'get' is missing in type 'Request' but required in type 'CookiesLike'.

[7m15[0m     const authResult = await isAuthenticated(request)
[7m  [0m [91m                                             ~~~~~~~[0m

[96msrc/pages/api/ai/validation/start.ts[0m:[93m78[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type '{ id: string; role: string; }'.

[7m78[0m         username: user.name || user.email,
[7m  [0m [91m                                    ~~~~~[0m
[96msrc/pages/api/ai/validation/start.ts[0m:[93m78[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type '{ id: string; role: string; }'.

[7m78[0m         username: user.name || user.email,
[7m  [0m [91m                       ~~~~[0m
[96msrc/pages/api/ai/validation/start.ts[0m:[93m41[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type '{ id: string; role: string; }'.

[7m41[0m           email: user.email,
[7m  [0m [91m                      ~~~~~[0m

[96msrc/pages/api/ai/validation/stop.ts[0m:[93m73[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type '{ id: string; role: string; }'.

[7m73[0m         username: user.name || user.email,
[7m  [0m [91m                                    ~~~~~[0m
[96msrc/pages/api/ai/validation/stop.ts[0m:[93m73[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type '{ id: string; role: string; }'.

[7m73[0m         username: user.name || user.email,
[7m  [0m [91m                       ~~~~[0m
[96msrc/pages/api/ai/validation/stop.ts[0m:[93m41[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type '{ id: string; role: string; }'.

[7m41[0m           email: user.email,
[7m  [0m [91m                      ~~~~~[0m

[96msrc/pages/api/analytics/comparative-progress.ts[0m:[93m68[0m:[93m43[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFormattedError<{ anonymizedUserId: string; metricName: string; cohortId: string; dateRange: { startDate: string; endDate: string; }; }, string>' of 'validationResult.error.format' is deprecated.

[7m68[0m           details: validationResult.error.format(),
[7m  [0m [93m                                          ~~~~~~[0m
[96msrc/pages/api/analytics/comparative-progress.ts[0m:[93m60[0m:[93m40[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFormattedError<{ anonymizedUserId: string; metricName: string; cohortId: string; dateRange: { startDate: string; endDate: string; }; }, string>' of 'validationResult.error.format' is deprecated.

[7m60[0m         errors: validationResult.error.format(),
[7m  [0m [93m                                       ~~~~~~[0m

[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m261[0m:[93m9[0m - [91merror[0m[90m ts(2783): [0m'page' is specified more than once, so this usage will be overwritten.

[7m261[0m         page: event.page,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m260[0m:[93m9[0m - [91merror[0m[90m ts(2783): [0m'ab_variant' is specified more than once, so this usage will be overwritten.

[7m260[0m         ab_variant: event.ab_variant,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m174[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'message' does not exist in type 'AnalyticsProcessingError'.

[7m174[0m       message: 'Failed to retrieve analytics data',
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m116[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'message' does not exist in type 'AnalyticsProcessingError'.

[7m116[0m       message: 'Failed to process analytics event',
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m98[0m:[93m30[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m98[0m       analyticsPromises.push(sendToCustomAnalytics(enrichedEvent))
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m95[0m:[93m30[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m95[0m       analyticsPromises.push(sendToMixpanel(enrichedEvent))
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m92[0m:[93m30[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m92[0m       analyticsPromises.push(sendToGoogleAnalytics(enrichedEvent))
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m43[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'message' does not exist in type 'AnalyticsValidationError'.

[7m43[0m         message: 'Invalid analytics event data',
[7m  [0m [91m        ~~~~~~~[0m

[96msrc/pages/api/analytics/engagement.ts[0m:[93m130[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'message' does not exist in type 'AnalyticsProcessingError'.

[7m130[0m       message: 'Failed to fetch engagement metrics',
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/analytics/engagement.ts[0m:[93m17[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ request: any; cookies: any; }' is not assignable to parameter of type 'ServerAuthOptions'.
  Property 'requestIp' is missing in type '{ request: any; cookies: any; }' but required in type 'ServerAuthOptions'.

[7m17[0m     await requirePageAuth({ request, cookies })
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m59[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ [x: string]: unknown; } | undefined' is not assignable to type 'MentalHealthAnalysis | undefined'.
  Type '{ [x: string]: unknown; }' is missing the following properties from type 'MentalHealthAnalysis': primaryConcerns, riskLevel

[7m59[0m       mentalHealthAnalysis,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m56[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ [x: string]: unknown; } | null' is not assignable to type 'EmotionState'.
  Type 'null' is not assignable to type 'EmotionState'.

[7m56[0m       recentEmotionState,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m55[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'messages' is missing in type '{ [x: string]: unknown; }' but required in type 'ChatSession'.

[7m55[0m       chatSession,
[7m  [0m [91m      ~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m54[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ sessionId: string; clientId: string; therapistId: string; startTime: string; status: string; securityLevel: string; emotionAnalysisEnabled: boolean; endTime?: string | undefined; }' is not assignable to type 'TherapySession'.
  Types of property 'status' are incompatible.

[7m54[0m       session,
[7m  [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m36[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ session: { sessionId: string; clientId: string; therapistId: string; startTime: string; status: string; securityLevel: string; emotionAnalysisEnabled: boolean; endTime?: string | undefined; }; ... 6 more ...; maxResults?: number | undefined; }>'.

[7m36[0m           details: parsed.error.errors,
[7m  [0m [91m                                ~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m21[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m21[0m   userPreferences: z.record(z.unknown()).optional(),
[7m  [0m [91m                     ~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m22[0m:[93m38[0m - [93mwarning[0m[90m ts(6385): [0m'(): ZodObject<{}, $loose>' is deprecated.

[7m22[0m   mentalHealthAnalysis: z.object({}).passthrough().optional(),
[7m  [0m [93m                                     ~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m19[0m:[93m36[0m - [93mwarning[0m[90m ts(6385): [0m'(): ZodObject<{}, $loose>' is deprecated.

[7m19[0m   recentEmotionState: z.object({}).passthrough().nullable(),
[7m  [0m [93m                                   ~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m18[0m:[93m29[0m - [93mwarning[0m[90m ts(6385): [0m'(): ZodObject<{}, $loose>' is deprecated.

[7m18[0m   chatSession: z.object({}).passthrough(), // Accept any chat session structure
[7m  [0m [93m                            ~~~~~~~~~~~[0m

[96msrc/pages/api/analytics/types.ts[0m:[93m1[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/types/api' or its corresponding type declarations.

[7m1[0m import type { APIError } from '@/lib/types/api'
[7m [0m [91m                              ~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/callback.ts[0m:[93m70[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type '{}'.

[7m70[0m           provider: user.metadata?.provider || 'oauth',
[7m  [0m [91m                         ~~~~~~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m69[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type '{}'.

[7m69[0m           email: user.email,
[7m  [0m [91m                      ~~~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m66[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty '_id' does not exist on type '{}'.

[7m66[0m         user._id.toString(),
[7m  [0m [91m             ~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m56[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m56[0m           role: user.role,
[7m  [0m [91m                     ~~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m55[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type '{}'.

[7m55[0m           avatarUrl: user.metadata?.avatarUrl || null,
[7m  [0m [91m                          ~~~~~~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m54[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type '{}'.

[7m54[0m           fullName: user.metadata?.fullName || null,
[7m  [0m [91m                         ~~~~~~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m53[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty '_id' does not exist on type '{}'.

[7m53[0m           userId: user._id,
[7m  [0m [91m                       ~~~[0m
[96msrc/pages/api/auth/callback.ts[0m:[93m47[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty '_id' does not exist on type '{}'.

[7m47[0m         userId: user._id,
[7m  [0m [91m                     ~~~[0m

[96msrc/pages/api/auth/login.ts[0m:[93m130[0m:[93m7[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'clientInfo'. Either declare one or provide an initializer.

[7m130[0m       clientInfo,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m129[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m129[0m       error: error.message,
[7m   [0m [91m             ~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m128[0m:[93m54[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m128[0m     await logSecurityEvent('USER_LOGIN_ERROR', null, {
[7m   [0m [91m                                                     ~[0m
[7m129[0m       error: error.message,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m131[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m132[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m114[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m114[0m           details: error.details || {},
[7m   [0m [91m                   ~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m113[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m113[0m           error: error.message,
[7m   [0m [91m                 ~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m107[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'clientInfo'. Either declare one or provide an initializer.

[7m107[0m         clientInfo,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m106[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m106[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m105[0m:[93m57[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m105[0m       await logSecurityEvent('USER_LOGIN_FAILED', null, {
[7m   [0m [91m                                                        ~[0m
[7m106[0m         error: error.message,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m108[0m         timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m109[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m104[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m104[0m     if (error.name === 'AuthenticationError') {
[7m   [0m [91m        ~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m92[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'tokenPair' does not exist on type 'AuthenticationResult'.

[7m92[0m         tokenPair: result.tokenPair,
[7m  [0m [91m                          ~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m90[0m:[93m24[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m90[0m           lastLoginAt: result.user.lastLoginAt,
[7m  [0m [91m                       ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m89[0m:[93m17[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m89[0m           role: result.user.role,
[7m  [0m [91m                ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m88[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastName' does not exist on type 'UserAuthentication'.

[7m88[0m           lastName: result.user.lastName,
[7m  [0m [91m                                ~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m88[0m:[93m21[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m88[0m           lastName: result.user.lastName,
[7m  [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m87[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'firstName' does not exist on type 'UserAuthentication'.

[7m87[0m           firstName: result.user.firstName,
[7m  [0m [91m                                 ~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m87[0m:[93m22[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m87[0m           firstName: result.user.firstName,
[7m  [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m86[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m86[0m           email: result.user.email,
[7m  [0m [91m                 ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m85[0m:[93m15[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m85[0m           id: result.user.id,
[7m  [0m [91m              ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m76[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m76[0m       role: result.user.role,
[7m  [0m [91m            ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m75[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m75[0m       email: result.user.email,
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m74[0m:[93m66[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m 74[0m     await logSecurityEvent('USER_LOGIN_SUCCESS', result.user.id, {
[7m   [0m [91m                                                                 ~[0m
[7m 75[0m       email: result.user.email,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 78[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 79[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m74[0m:[93m50[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m74[0m     await logSecurityEvent('USER_LOGIN_SUCCESS', result.user.id, {
[7m  [0m [91m                                                 ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m34[0m       request,
[7m  [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m27[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m27[0m     const csrfResult = await csrfProtection(request)
[7m  [0m [91m                                            ~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m128[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m128[0m     await logSecurityEvent('USER_LOGIN_ERROR', null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m129[0m       error: error.message,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m131[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m132[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m105[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m105[0m       await logSecurityEvent('USER_LOGIN_FAILED', null, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m106[0m         error: error.message,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m108[0m         timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m109[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/pages/api/auth/login.ts[0m:[93m74[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m 74[0m     await logSecurityEvent('USER_LOGIN_SUCCESS', result.user.id, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 75[0m       email: result.user.email,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 78[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 79[0m     })
[7m   [0m [93m~~~~~~[0m

[96msrc/pages/api/auth/logout.ts[0m:[93m87[0m:[93m7[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'clientInfo'. Either declare one or provide an initializer.

[7m87[0m       clientInfo,
[7m  [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/logout.ts[0m:[93m86[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m86[0m       error: error.message,
[7m  [0m [91m             ~~~~~[0m
[96msrc/pages/api/auth/logout.ts[0m:[93m85[0m:[93m55[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m 85[0m     await logSecurityEvent('USER_LOGOUT_ERROR', null, {
[7m   [0m [91m                                                      ~[0m
[7m 86[0m       error: error.message,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 88[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 89[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/logout.ts[0m:[93m60[0m:[93m51[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m 60[0m     await logSecurityEvent('USER_LOGOUT', userId, {
[7m   [0m [91m                                                  ~[0m
[7m 61[0m       sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 63[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 64[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/logout.ts[0m:[93m24[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m24[0m     const authResult = await authenticateRequest(request)
[7m  [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/auth/logout.ts[0m:[93m85[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m 85[0m     await logSecurityEvent('USER_LOGOUT_ERROR', null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 86[0m       error: error.message,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 88[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 89[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/pages/api/auth/logout.ts[0m:[93m60[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m 60[0m     await logSecurityEvent('USER_LOGOUT', userId, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 61[0m       sessionId,
[7m   [0m [93m~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 63[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 64[0m     })
[7m   [0m [93m~~~~~~[0m

[96msrc/pages/api/auth/profile.ts[0m:[93m54[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m54[0m     const user = (await adapter.getUserById(userId)) as unknown as {
[7m  [0m [91m                                            ~~~~~~[0m

[96msrc/pages/api/auth/refresh.ts[0m:[93m95[0m:[93m57[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m 95[0m     await logSecurityEvent('TOKEN_REFRESH_ERROR', null, {
[7m   [0m [91m                                                        ~[0m
[7m 96[0m       error: error.message || String(err),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 98[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 99[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m77[0m:[93m60[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m 77[0m       await logSecurityEvent('TOKEN_REFRESH_FAILED', null, {
[7m   [0m [91m                                                           ~[0m
[7m 78[0m         error: error.message,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 80[0m         timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 81[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m56[0m:[93m53[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m56[0m     await logSecurityEvent('TOKEN_REFRESHED', null, {
[7m  [0m [91m                                                    ~[0m
[7m57[0m       clientInfo,
[7m  [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m58[0m       timestamp: Date.now(),
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m59[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m24[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m24[0m       request,
[7m  [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m95[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m 95[0m     await logSecurityEvent('TOKEN_REFRESH_ERROR', null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 96[0m       error: error.message || String(err),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 98[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 99[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m77[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m 77[0m       await logSecurityEvent('TOKEN_REFRESH_FAILED', null, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 78[0m         error: error.message,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 80[0m         timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 81[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m56[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m56[0m     await logSecurityEvent('TOKEN_REFRESHED', null, {
[7m  [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m57[0m       clientInfo,
[7m  [0m [93m~~~~~~~~~~~~~~~~~[0m
[7m58[0m       timestamp: Date.now(),
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m59[0m     })
[7m  [0m [93m~~~~~~[0m

[96msrc/pages/api/auth/register.ts[0m:[93m131[0m:[93m7[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'clientInfo'. Either declare one or provide an initializer.

[7m131[0m       clientInfo,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m130[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m130[0m       error: error.message,
[7m   [0m [91m             ~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m129[0m:[93m61[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m129[0m     await logSecurityEvent('USER_REGISTRATION_ERROR', null, {
[7m   [0m [91m                                                            ~[0m
[7m130[0m       error: error.message,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m132[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m133[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m115[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m115[0m           details: error.details || {},
[7m   [0m [91m                   ~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m114[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m114[0m           error: error.message,
[7m   [0m [91m                 ~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m108[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'clientInfo'. Either declare one or provide an initializer.

[7m108[0m         clientInfo,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m107[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m107[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m106[0m:[93m64[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m106[0m       await logSecurityEvent('USER_REGISTRATION_FAILED', null, {
[7m   [0m [91m                                                               ~[0m
[7m107[0m         error: error.message,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m109[0m         timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m105[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m105[0m     if (error.name === 'AuthenticationError') {
[7m   [0m [91m        ~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m93[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'tokenPair' does not exist on type 'AuthenticationResult'.

[7m93[0m         tokenPair: result.tokenPair,
[7m  [0m [91m                          ~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m91[0m:[93m22[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m91[0m           createdAt: result.user.createdAt,
[7m  [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m90[0m:[93m17[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m90[0m           role: result.user.role,
[7m  [0m [91m                ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m89[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastName' does not exist on type 'UserAuthentication'.

[7m89[0m           lastName: result.user.lastName,
[7m  [0m [91m                                ~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m89[0m:[93m21[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m89[0m           lastName: result.user.lastName,
[7m  [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m88[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'firstName' does not exist on type 'UserAuthentication'.

[7m88[0m           firstName: result.user.firstName,
[7m  [0m [91m                                 ~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m88[0m:[93m22[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m88[0m           firstName: result.user.firstName,
[7m  [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m87[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m87[0m           email: result.user.email,
[7m  [0m [91m                 ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m86[0m:[93m15[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m86[0m           id: result.user.id,
[7m  [0m [91m              ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m80[0m:[93m46[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m80[0m     await updatePhase6AuthenticationProgress(result.user.id, 'user_registered')
[7m  [0m [91m                                             ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m74[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m74[0m       role: result.user.role,
[7m  [0m [91m            ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m73[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m73[0m       email: result.user.email,
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m72[0m:[93m63[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 3.

[7m 72[0m     await logSecurityEvent('USER_REGISTERED', result.user.id, {
[7m   [0m [91m                                                              ~[0m
[7m 73[0m       email: result.user.email,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 76[0m       timestamp: Date.now(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 77[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m72[0m:[93m47[0m - [91merror[0m[90m ts(18048): [0m'result.user' is possibly 'undefined'.

[7m72[0m     await logSecurityEvent('USER_REGISTERED', result.user.id, {
[7m  [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m69[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ email: string; password: any; firstName: string; lastName: string; role: string; phone: string | undefined; dateOfBirth: string | undefined; }' is not assignable to parameter of type 'RegisterCredentials'.
  Types of property 'role' are incompatible.

[7m69[0m     const result = await registerWithBetterAuth(sanitizedData, clientInfo)
[7m  [0m [91m                                                ~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m26[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m26[0m       request,
[7m  [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m129[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m129[0m     await logSecurityEvent('USER_REGISTRATION_ERROR', null, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m130[0m       error: error.message,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m132[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m133[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m106[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m106[0m       await logSecurityEvent('USER_REGISTRATION_FAILED', null, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m107[0m         error: error.message,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m109[0m         timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/pages/api/auth/register.ts[0m:[93m72[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m 72[0m     await logSecurityEvent('USER_REGISTERED', result.user.id, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 73[0m       email: result.user.email,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 76[0m       timestamp: Date.now(),
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 77[0m     })
[7m   [0m [93m~~~~~~[0m

[96msrc/pages/api/auth/reset-password.ts[0m:[93m11[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m11[0m export const POST = async ({ request }: APIContext) => {
[7m  [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/reset-password.ts[0m:[93m8[0m:[93m21[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m8[0m   email: z.string().email(),
[7m [0m [93m                    ~~~~~[0m

[96msrc/pages/api/auth/signin.ts[0m:[93m35[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'user' is of type 'unknown'.

[7m35[0m           emailVerified: user.emailVerified,
[7m  [0m [91m                         ~~~~[0m
[96msrc/pages/api/auth/signin.ts[0m:[93m34[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'user' is of type 'unknown'.

[7m34[0m           profile: user.profile,
[7m  [0m [91m                   ~~~~[0m
[96msrc/pages/api/auth/signin.ts[0m:[93m33[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'user' is of type 'unknown'.

[7m33[0m           role: user.role,
[7m  [0m [91m                ~~~~[0m
[96msrc/pages/api/auth/signin.ts[0m:[93m32[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'user' is of type 'unknown'.

[7m32[0m           email: user.email,
[7m  [0m [91m                 ~~~~[0m
[96msrc/pages/api/auth/signin.ts[0m:[93m31[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'user' is of type 'unknown'.

[7m31[0m           id: user._id?.toString() || user.id,
[7m  [0m [91m                                      ~~~~[0m
[96msrc/pages/api/auth/signin.ts[0m:[93m31[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'user' is of type 'unknown'.

[7m31[0m           id: user._id?.toString() || user.id,
[7m  [0m [91m              ~~~~[0m

[96msrc/pages/api/auth/update-password.ts[0m:[93m32[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 1.

[7m32[0m     await updatePassword(password)
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/verify.ts[0m:[93m61[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'never'.

[7m61[0m         resourceId: result.data.user.id,
[7m  [0m [91m                                     ~~[0m
[96msrc/pages/api/auth/verify.ts[0m:[93m59[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'AUTH_VERIFY' does not exist on type 'typeof AuditEventType'.

[7m59[0m         action: AuditEventType.AUTH_VERIFY,
[7m  [0m [91m                               ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/verify.ts[0m:[93m58[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'never'.

[7m58[0m         userId: result.data.user.id,
[7m  [0m [91m                                 ~~[0m
[96msrc/pages/api/auth/verify.ts[0m:[93m57[0m:[93m13[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m57[0m       await createAuditLog({
[7m  [0m [91m            ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/verify.ts[0m:[93m6[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m6[0m export const GET = async ({ request }: APIContext) => {
[7m [0m [91m                                       ~~~~~~~~~~[0m

[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m454[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m454[0m               details: error.errors.map((e) => ({
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m156[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m156[0m               details: error.errors.map((e) => ({
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"bias-analysis-api"' has no properties in common with type 'LoggerOptions'.

[7m13[0m const logger = getLogger('bias-analysis-api')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m454[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m454[0m               details: error.errors.map((e) => ({
[7m   [0m [93m                                         ~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m422[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'securityStart' is declared but its value is never read.

[7m422[0m     const securityStart = Date.now()
[7m   [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m156[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m156[0m               details: error.errors.map((e) => ({
[7m   [0m [93m                                         ~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m30[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m30[0m   clientId: z.string().uuid().optional(),
[7m  [0m [93m                       ~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m29[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m29[0m   therapistId: z.string().uuid().optional(),
[7m  [0m [93m                          ~~~~[0m

[96msrc/pages/api/bias-analysis/analyze.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/bias-detection/analyze.ts[0m:[93m36[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'body' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m36[0m     let body
[7m  [0m [93m        ~~~~[0m

[96msrc/pages/api/bias-detection/dashboard.ts[0m:[93m5[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'request' is declared but its value is never read.

[7m5[0m export const GET = async ({
[7m [0m [93m                          ~[0m
[7m6[0m   request,
[7m [0m [93m~~~~~~~~~~[0m
[7m7[0m }: {
[7m [0m [93m~[0m

[96msrc/pages/api/bias-detection/metrics.ts[0m:[93m37[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ format: "json" | "prometheus"; aggregation: "summary" | "raw"; timeRange?: number | undefined; metrics?: string | undefined; }>'.

[7m37[0m           details: queryResult.error.errors,
[7m  [0m [91m                                     ~~~~~~[0m
[96msrc/pages/api/bias-detection/metrics.ts[0m:[93m29[0m:[93m44[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m29[0m     const queryParams = Object.fromEntries(url.searchParams.entries())
[7m  [0m [91m                                           ~~~[0m

[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m8[0m:[93m3[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m  8[0m   async (sessions, update) => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m  9[0m     // Use batchAnalyzeSessions with progress callback
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 14[0m     })
[7m   [0m [91m~~~~~~[0m
[7m 15[0m   },
[7m   [0m [91m~~~[0m
[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m4[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../../../lib/ai/bias-detection/types"' has no exported member named 'BatchAnalysisResult'. Did you mean 'BiasAnalysisResult'?

[7m4[0m import type { BatchAnalysisResult } from '../../../lib/ai/bias-detection/types'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m8[0m:[93m20[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'update' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m8[0m   async (sessions, update) => {
[7m [0m [93m                   ~~~~~~[0m
[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m8[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sessions' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m8[0m   async (sessions, update) => {
[7m [0m [93m         ~~~~~~~~[0m

[96msrc/pages/api/bias-detection/test-notification.ts[0m:[93m68[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'sendTestNotification' does not exist on type 'BiasDetectionEngine'.

[7m68[0m     const result = await biasDetectionEngine.sendTestNotification(
[7m  [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-detection/test-notification.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m144[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'issues' does not exist on type 'never'.

[7m144[0m           (report) => report.issues && report.issues.length > 0,
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m144[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'issues' does not exist on type 'never'.

[7m144[0m           (report) => report.issues && report.issues.length > 0,
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m142[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'never'.

[7m142[0m         latest: reports.length > 0 ? reports[0].timestamp : null,
[7m   [0m [91m                                                ~~~~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m133[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m133[0m         screenshots: report.screenshots || [],
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m132[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m132[0m         tests: report.tests || [],
[7m   [0m [91m               ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m131[0m:[93m19[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m131[0m         browsers: report.browsers || {},
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m130[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m130[0m         issues: report.issues || [],
[7m   [0m [91m                ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m129[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m129[0m         summary: report.summary,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m128[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m128[0m         timestamp: report.timestamp,
[7m   [0m [91m                   ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m127[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: any; summary: any; issues: any; browsers: any; tests: any; screenshots: any; }' is not assignable to parameter of type 'never'.

[7m127[0m       reports.push({
[7m   [0m [91m                   ~[0m
[7m128[0m         timestamp: report.timestamp,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m133[0m         screenshots: report.screenshots || [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m134[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m116[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m116[0m         report.issues = report.issues.filter(
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m116[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m116[0m         report.issues = report.issues.filter(
[7m   [0m [91m        ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m115[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m115[0m       if (sinceDate && report.issues) {
[7m   [0m [91m                       ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m108[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m108[0m           report.tests = report.tests.filter((test: { browser: string }) =>
[7m   [0m [91m                         ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m108[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m108[0m           report.tests = report.tests.filter((test: { browser: string }) =>
[7m   [0m [91m          ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m107[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m107[0m         if (report.tests) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m102[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m102[0m           report.issues = report.issues.filter((issue: { browser: string }) =>
[7m   [0m [91m                          ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m102[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m102[0m           report.issues = report.issues.filter((issue: { browser: string }) =>
[7m   [0m [91m          ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m101[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m101[0m         if (report.issues) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m99[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m99[0m         report.browsers = filteredBrowsers
[7m  [0m [91m        ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m94[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m94[0m           Object.entries(report.browsers || {}).filter(([key]) =>
[7m  [0m [91m                         ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m85[0m:[93m35[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m85[0m       const reportDate = new Date(report.timestamp)
[7m  [0m [91m                                  ~~~~~~[0m

[96msrc/pages/api/components/analytics/charts.ts[0m:[93m283[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ x: number; y: number; }[]' is not assignable to type 'number[]'.
  Type '{ x: number; y: number; }' is not assignable to type 'number'.

[7m283[0m             data: scatterData,
[7m   [0m [91m            ~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m46[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m46[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m46[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m46[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m348[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'type' is declared but its value is never read.

[7m348[0m   const { type, dataPoints } = params
[7m   [0m [93m          ~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m308[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'type' is declared but its value is never read.

[7m308[0m   const { type } = params
[7m   [0m [93m        ~~~~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m174[0m:[93m39[0m - [93mwarning[0m[90m ts(6133): [0m'sessionId' is declared but its value is never read.

[7m174[0m   const { type, repository, clientId, sessionId, startDate, endDate, dataPoints } = params
[7m   [0m [93m                                      ~~~~~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m174[0m:[93m29[0m - [93mwarning[0m[90m ts(6133): [0m'clientId' is declared but its value is never read.

[7m174[0m   const { type, repository, clientId, sessionId, startDate, endDate, dataPoints } = params
[7m   [0m [93m                            ~~~~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m174[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'repository' is declared but its value is never read.

[7m174[0m   const { type, repository, clientId, sessionId, startDate, endDate, dataPoints } = params
[7m   [0m [93m                ~~~~~~~~~~[0m

[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m221[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m221[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m221[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m221[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m137[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'never'.

[7m137[0m         confidence: emotion.confidence || 0.7,
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m136[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m136[0m         sessionId: emotion.sessionId,
[7m   [0m [91m                           ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m135[0m:[93m67[0m - [91merror[0m[90m ts(2339): [0mProperty 'intensity' does not exist on type 'never'.

[7m135[0m         intensity: normalizeToRange(emotion.confidence || emotion.intensity || 0.5, 0, 1),
[7m   [0m [91m                                                                  ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m135[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'never'.

[7m135[0m         intensity: normalizeToRange(emotion.confidence || emotion.intensity || 0.5, 0, 1),
[7m   [0m [91m                                            ~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m134[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'never'.

[7m134[0m         timestamp: emotion.timestamp || new Date().toISOString(),
[7m   [0m [91m                           ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m133[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'emotion' does not exist on type 'never'.

[7m133[0m         emotion: emotion.primaryEmotion || emotion.emotion || 'neutral',
[7m   [0m [91m                                                   ~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m133[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'primaryEmotion' does not exist on type 'never'.

[7m133[0m         emotion: emotion.primaryEmotion || emotion.emotion || 'neutral',
[7m   [0m [91m                         ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m132[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominance' does not exist on type 'DimensionalMap'.

[7m132[0m         dominance: normalizeToRange(dimensions.dominance || 0, -1, 1),
[7m   [0m [91m                                               ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m131[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'arousal' does not exist on type 'DimensionalMap'.

[7m131[0m         arousal: normalizeToRange(dimensions.arousal || 0, -1, 1),
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m130[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'valence' does not exist on type 'DimensionalMap'.

[7m130[0m         valence: normalizeToRange(dimensions.valence || 0, -1, 1),
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m129[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'never'.

[7m129[0m         id: `emotion-${emotion.id || index}`,
[7m   [0m [91m                               ~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m111[0m:[93m84[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m111[0m           emotionData.push(...sessionEmotions.map(e => ({ ...e, sessionId: session.sessionId })))
[7m   [0m [91m                                                                                   ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m111[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: any; id: string; timestamp: string; emotions: EmotionVector; dimensions: EmotionDimensions; confidence: number; metadata?: EmotionMetadata; }' is not assignable to parameter of type 'never'.

[7m111[0m           emotionData.push(...sessionEmotions.map(e => ({ ...e, sessionId: session.sessionId })))
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m110[0m:[93m82[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m110[0m           const sessionEmotions = await repository.getEmotionsForSession(session.sessionId)
[7m   [0m [91m                                                                                 ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m109[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m109[0m         if (session.sessionId) {
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m102[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'TherapySession[]' is not assignable to type 'never[]'.
  Type 'TherapySession' is not assignable to type 'never'.

[7m102[0m       sessions = await repository.getSessions({
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m99[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ sessionId: string; }' is not assignable to type 'never'.

[7m99[0m       sessions = [{ sessionId }]
[7m  [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m98[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionAnalysis[]' is not assignable to type 'never[]'.
  Type 'EmotionAnalysis' is not assignable to type 'never'.

[7m98[0m       emotionData = await repository.getEmotionsForSession(sessionId)
[7m  [0m [91m      ~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m51[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m51[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m51[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m51[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m391[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'percentage' is of type 'unknown'.

[7m391[0m       cumulative += percentage
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m179[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m179[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m179[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m179[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m122[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

[7m122[0m       sessionId,
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m72[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m72[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m72[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m72[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m465[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m465[0m export const PATCH: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m465[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m465[0m export const PATCH: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m387[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ clientName: string; therapistName: string; clientId: string; therapistId: string; duration: number; status: "draft" | "active" | "completed" | "paused"; goals: { id: string; title: string; ... 7 more ...; metrics?: { ...; } | undefined; }[]; ... 4 more ...; metadata?: { ...; } | undefined; }>'.

[7m387[0m           details: validationResult.error.errors,
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m364[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m364[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m364[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m364[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m122[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m122[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m122[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m122[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m58[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m58[0m       date: z.string().datetime(),
[7m  [0m [93m                       ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m55[0m:[93m33[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m55[0m     nextSessionDate: z.string().datetime().optional(),
[7m  [0m [93m                                ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m46[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m46[0m   lastModified: z.string().datetime().optional(),
[7m  [0m [93m                           ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m45[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m45[0m   createdDate: z.string().datetime().optional(),
[7m  [0m [93m                          ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m35[0m:[93m34[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m35[0m     lastActivityDate: z.string().datetime().optional(),
[7m  [0m [93m                                 ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m25[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m25[0m   targetDate: z.string().datetime(),
[7m  [0m [93m                         ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m18[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m18[0m   dueDate: z.string().datetime().optional(),
[7m  [0m [93m                      ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m16[0m:[93m29[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m16[0m   completedDate: z.string().datetime().optional(),
[7m  [0m [93m                            ~~~~~~~~[0m

[96msrc/pages/api/components/ui/carousel-content.ts[0m:[93m139[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m139[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/ui/carousel-content.ts[0m:[93m139[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m139[0m export const POST: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/ui/carousel-content.ts[0m:[93m58[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m58[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/ui/carousel-content.ts[0m:[93m58[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m58[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/crisis/session-flags.ts[0m:[93m226[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'user_metadata' does not exist on type 'User'.

[7m226[0m     const userRole = sessionData.user.user_metadata?.['role']
[7m   [0m [91m                                      ~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m214[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m214[0m export const PUT = async ({ request }: APIContext) => {
[7m   [0m [91m                                       ~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m118[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'user_metadata' does not exist on type 'User'.

[7m118[0m     const userRole = sessionData.user.user_metadata?.['role']
[7m   [0m [91m                                      ~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m106[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m106[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m80[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserSessionStatus' does not exist on type 'CrisisSessionFlaggingService'.

[7m80[0m     const status = await flaggingService.getUserSessionStatus(
[7m  [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m67[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserSessionStatus' does not exist on type 'CrisisSessionFlaggingService'.

[7m67[0m       const status = await flaggingService.getUserSessionStatus(userId)
[7m  [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m39[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPendingCrisisFlags' does not exist on type 'CrisisSessionFlaggingService'.

[7m39[0m       const flags = await flaggingService.getPendingCrisisFlags()
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m8[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const GET = async ({ request }: APIContext) => {
[7m [0m [91m                                       ~~~~~~~~~~[0m

[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m10[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchParams' does not exist on type 'URL | undefined'.

[7m10[0m     const { searchParams } = url
[7m  [0m [91m            ~~~~~~~~~~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m173[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m173[0m       patterns: patternsResult.rows.map((row) => ({
[7m   [0m [93m                                         ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m169[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m169[0m       distribution: distributionResult.rows.map((row) => ({
[7m   [0m [93m                                                 ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m162[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m162[0m       demographics: demographicResult.rows.map((row) => ({
[7m   [0m [93m                                                ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m154[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m154[0m       historical: historicalResult.rows.map((row) => ({
[7m   [0m [93m                                             ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m130[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m130[0m       patterns: patternsResult.rows.map((row) => ({
[7m   [0m [93m                                         ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m126[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m126[0m       distribution: distributionResult.rows.map((row) => ({
[7m   [0m [93m                                                 ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m119[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m119[0m       demographics: demographicResult.rows.map((row) => ({
[7m   [0m [93m                                                ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m111[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m111[0m       historical: historicalResult.rows.map((row) => ({
[7m   [0m [93m                                             ~~~[0m

[96msrc/pages/api/dashboard/bias-detection/summary.ts[0m:[93m82[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m82[0m       activeAlerts: alertsResult.rows.map((row) => ({
[7m  [0m [93m                                           ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/summary.ts[0m:[93m75[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m75[0m       recentAnalyses: recentAnalysesResult.rows.map((row) => ({
[7m  [0m [93m                                                     ~~~[0m

[96msrc/pages/api/demos/bias-detection/analyze.ts[0m:[93m198[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m198[0m export const GET: APIRoute = async () => {
[7m   [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/analyze.ts[0m:[93m81[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m81[0m       biasFactors,
[7m  [0m [91m      ~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/analyze.ts[0m:[93m16[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m16[0m export const POST: APIRoute = async ({ request }) => {
[7m  [0m [91m                   ~~~~~~~~[0m

[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m281[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m281[0m export const GET: APIRoute = async () => {
[7m   [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m261[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'scenario.expectedBiasReduction' is of type 'unknown'.

[7m261[0m       content += `   Expected Reduction: ${(scenario.expectedBiasReduction * 100).toFixed(1)}%\n`
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m256[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'CounterfactualScenario[]' to type 'Record<string, unknown>[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'CounterfactualScenario' is not comparable to type 'Record<string, unknown>'.

[7m256[0m     const scenarios = exportData.counterfactualScenarios as Array<
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m257[0m       Record<string, unknown>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m258[0m     >
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m215[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m215[0m     csvRows.push(`Historical,7-Day Trend,${historical.sevenDayTrend},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m214[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m214[0m     csvRows.push(`Historical,Percentile Rank,${historical.percentileRank},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m213[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m213[0m     csvRows.push(`Historical,30-Day Average,${historical.thirtyDayAverage},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m205[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m205[0m         `Counterfactual,Likelihood ${index + 1},${scenario.likelihood},${scenario.description}`,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m202[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m202[0m         `Counterfactual,Scenario ${index + 1},${scenario.expectedBiasReduction},${scenario.change}`,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m197[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'CounterfactualScenario[]' to type 'Record<string, unknown>[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'CounterfactualScenario' is not comparable to type 'Record<string, unknown>'.

[7m197[0m     const scenarios = exportData.counterfactualScenarios as Array<
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m198[0m       Record<string, unknown>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m199[0m     >
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m191[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m191[0m       `Interactive,Consistency Score,${layers.interactive.counterfactualAnalysis.consistencyScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m188[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m188[0m       `Interactive,Bias Detected,${layers.interactive.counterfactualAnalysis.biasDetected},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m185[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m185[0m       `Interactive,Scenarios Analyzed,${layers.interactive.counterfactualAnalysis.scenariosAnalyzed},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m181[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m181[0m       `Model,Calibration,${layers.modelLevel.fairnessMetrics.calibration},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m178[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m178[0m       `Model,Equalized Odds,${layers.modelLevel.fairnessMetrics.equalizedOdds},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m175[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m175[0m       `Model,Demographic Parity,${layers.modelLevel.fairnessMetrics.demographicParity},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m171[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m171[0m       `Preprocessing,Cultural Bias,${layers.preprocessing.linguisticBias.culturalBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m168[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m168[0m       `Preprocessing,Age Bias,${layers.preprocessing.linguisticBias.ageBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m165[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m165[0m       `Preprocessing,Racial Bias,${layers.preprocessing.linguisticBias.racialBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m162[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m162[0m       `Preprocessing,Gender Bias,${layers.preprocessing.linguisticBias.genderBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m157[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m157[0m     csvRows.push(`Analysis,Session ID,${analysis.sessionId},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m156[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m156[0m     csvRows.push(`Analysis,Confidence,${analysis.confidence},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m154[0m       `Analysis,Overall Bias Score,${analysis.overallBiasScore},${analysis.alertLevel}`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m148[0m:[93m16[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Category,Metric,Value,Details"' is not assignable to parameter of type 'never'.

[7m148[0m   csvRows.push('Category,Metric,Value,Details')
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m105[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ analysis: BiasAnalysisResults | undefined; counterfactualScenarios: CounterfactualScenario[] | undefined; historicalComparison: HistoricalComparison | undefined; metadata: { ...; }; timestamp: string; sessionId: string; }' is not assignable to parameter of type 'ExportData'.
  Types of property 'analysis' are incompatible.

[7m105[0m         const txtData = convertToText(filteredExportData)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m94[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ analysis: BiasAnalysisResults | undefined; counterfactualScenarios: CounterfactualScenario[] | undefined; historicalComparison: HistoricalComparison | undefined; metadata: { ...; }; timestamp: string; sessionId: string; }' is not assignable to parameter of type 'ExportData'.
  Types of property 'analysis' are incompatible.

[7m94[0m         const csvData = convertToCSV(filteredExportData)
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'HistoricalComparison | null' is not assignable to parameter of type 'HistoricalComparison'.
  Type 'null' is not assignable to type 'HistoricalComparison'.

[7m61[0m       historicalComparison as HistoricalComparison | null,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/demos/bias-detection/websocket.ts[0m:[93m135[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m135[0m export const POST: APIRoute = async ({ request }) => {
[7m   [0m [91m                   ~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/websocket.ts[0m:[93m148[0m:[93m76[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m148[0m               connectionId: `ws_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                                           ~~~~~~[0m

[96msrc/pages/api/documentation/generate.ts[0m:[93m131[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'generateDocumentation' does not exist on type 'DocumentationService'.

[7m131[0m     const result = await documentationService.generateDocumentation(
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/documentation/generate.ts[0m:[93m66[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m66[0m export const POST = async ({ request }: APIContext) => {
[7m  [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/documentation/generate.ts[0m:[93m64[0m:[93m55[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 2.

[7m64[0m const documentationService = new DocumentationService(repository, aiService)
[7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/emotions/dimensional.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../../../lib/ai/emotions/dimensionalTypes"' has no exported member named 'DimensionalEmotionMap'. Did you mean 'DimensionalEmotion'?

[7m5[0m import type { DimensionalEmotionMap } from '../../../lib/ai/emotions/dimensionalTypes'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/emotions/multidimensional-map.ts[0m:[93m25[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: AuthAPIContext) => Promise<Response>' is not assignable to parameter of type '(context: { params: Record<string, string | undefined>; request: Request; locals: { user: AuthUser; }; }) => Response | Promise<Response>'.
  Types of parameters 'context' and 'context' are incompatible.

[7m25[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/emotions/multidimensional-map.ts[0m:[93m25[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m25[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/emotions/real-time-analysis.ts[0m:[93m76[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeText' does not exist on type 'MultidimensionalEmotionMapper'.

[7m76[0m     const emotionResult = await emotionMapper.analyzeText(text, {
[7m  [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/pages/api/emotions/real-time-analysis.ts[0m:[93m39[0m:[93m27[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m39[0m     const sessionCookie = cookies.get('session')
[7m  [0m [91m                          ~~~~~~~[0m

[96msrc/pages/api/emotions/session-analysis.ts[0m:[93m21[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: { params: Record<string, string | undefined>; request: Request; locals: Record<string, unknown>; }) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.

[7m21[0m export const GET: APIRoute = protectRoute()(async ({ locals, request }) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/examples/profiling-demo.ts[0m:[93m20[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m20[0m export const GET = async (_) => {
[7m  [0m [93m                          ~[0m

[96msrc/pages/api/export/conversation.ts[0m:[93m238[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'JSON' does not exist on type 'typeof ExportFormat | typeof ExportFormat'.
  Property 'JSON' does not exist on type 'typeof ExportFormat'.

[7m238[0m       return ExportFormat.JSON
[7m   [0m [91m                          ~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m229[0m:[93m43[0m - [91merror[0m[90m ts(2749): [0m'ExportFormat' refers to a value, but is being used as a type here. Did you mean 'typeof ExportFormat'?

[7m229[0m function mapExportFormat(format: string): ExportFormat {
[7m   [0m [91m                                          ~~~~~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m218[0m:[93m11[0m - [91merror[0m[90m ts(2749): [0m'ExportFormat' refers to a value, but is being used as a type here. Did you mean 'typeof ExportFormat'?

[7m218[0m   format: ExportFormat,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m114[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'RealFHEService' is not assignable to parameter of type 'FHEServiceInterface'.
  Property 'encryptData' is missing in type 'RealFHEService' but required in type 'FHEServiceInterface'.

[7m114[0m     const exportService = ExportService.getInstance(fheService)
[7m   [0m [91m                                                    ~~~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m70[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m70[0m export const POST: APIRoute = async ({ request }) => {
[7m  [0m [91m                   ~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m14[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m14[0m export const GET: APIRoute = async ({ request }) => {
[7m  [0m [91m                  ~~~~~~~~[0m

[96msrc/pages/api/fhe/process.ts[0m:[93m66[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"high"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m66[0m         securityLevel: 'high',
[7m  [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/process.ts[0m:[93m63[0m:[93m21[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Boolean' has no call signatures.

[7m63[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/process.ts[0m:[93m63[0m:[93m21[0m - [91merror[0m[90m ts(2341): [0mProperty 'isInitialized' is private and only accessible within class 'RealFHEService'.

[7m63[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/process.ts[0m:[93m17[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m17[0m     const rateLimitResult = await rateLimit.check(clientIp, 'anonymous')
[7m  [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m58[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"high"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m58[0m         securityLevel: 'high',
[7m  [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m55[0m:[93m21[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Boolean' has no call signatures.

[7m55[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m55[0m:[93m21[0m - [91merror[0m[90m ts(2341): [0mProperty 'isInitialized' is private and only accessible within class 'RealFHEService'.

[7m55[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m43[0m:[93m26[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m43[0m     const sessionToken = cookies.get('session')
[7m  [0m [91m                         ~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m17[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m17[0m     const rateLimitResult = await rateLimit.check(
[7m  [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~[0m
[7m18[0m       request.headers.get('x-forwarded-for') || 'anonymous',
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m19[0m       'key-rotation',
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m20[0m     )
[7m  [0m [93m~~~~~[0m

[96msrc/pages/api/goals/[id].ts[0m:[93m49[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title: string; description: string; category: GoalCategory; status: GoalStatus; progress: number; checkpoints: { id: string; description: string; isCompleted: boolean; completedAt?: number | undefined; notes?: string | undefined; }[]; ... 4 more ...; notes?: string | undefined; }>'.

[7m49[0m           details: parsed.error.errors,
[7m  [0m [91m                                ~~~~~~[0m

[96msrc/pages/api/goals/index.ts[0m:[93m59[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title: string; description: string; category: GoalCategory; status: GoalStatus; progress: number; checkpoints: { id: string; description: string; isCompleted: boolean; completedAt?: number | undefined; notes?: string | undefined; }[]; ... 4 more ...; notes?: string | undefined; }>'.

[7m59[0m           details: parsed.error.errors,
[7m  [0m [91m                                ~~~~~~[0m
[96msrc/pages/api/goals/index.ts[0m:[93m33[0m:[93m13[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(entries: typeof GoalStatus, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>' of 'z.nativeEnum' is deprecated.

[7m33[0m   status: z.nativeEnum(GoalStatus),
[7m  [0m [93m            ~~~~~~~~~~[0m
[96msrc/pages/api/goals/index.ts[0m:[93m32[0m:[93m15[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(entries: typeof GoalCategory, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>' of 'z.nativeEnum' is deprecated.

[7m32[0m   category: z.nativeEnum(GoalCategory),
[7m  [0m [93m              ~~~~~~~~~~[0m

[96msrc/pages/api/memory/list.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'keyof Memory | undefined'.

[7m33[0m       sortBy: sortBy as string,
[7m  [0m [91m      ~~~~~~[0m
[96msrc/pages/api/memory/list.ts[0m:[93m20[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'unknown'.

[7m20[0m     const {userId} = session
[7m  [0m [91m           ~~~~~~[0m

[96msrc/pages/api/mental-health/chat.ts[0m:[93m555[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m555[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/mental-health/crisis-detection.ts[0m:[93m599[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m599[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/preferences.ts[0m:[93m119[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m119[0m     const result = await service.updatePreferences?.(userId, preferences)
[7m   [0m [91m                                                     ~~~~~~[0m
[96msrc/pages/api/notifications/preferences.ts[0m:[93m61[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'CookiesLike'.
  Property 'get' is missing in type 'Request' but required in type 'CookiesLike'.

[7m61[0m     const authResult = await isAuthenticated(request)
[7m  [0m [91m                                             ~~~~~~~[0m
[96msrc/pages/api/notifications/preferences.ts[0m:[93m28[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPreferences' does not exist on type 'NotificationService'.

[7m28[0m     const preferences = await notificationService.getPreferences(
[7m  [0m [91m                                                  ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/preferences.ts[0m:[93m8[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const GET = async ({ request }: APIContext) => {
[7m [0m [91m                                       ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/register.ts[0m:[93m48[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'boolean'.

[7m48[0m       authResult.user?.id,
[7m  [0m [91m                 ~~~~[0m
[96msrc/pages/api/notifications/register.ts[0m:[93m12[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'authenticated' does not exist on type 'boolean'.

[7m12[0m     if (!authResult?.authenticated) {
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/register.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/send-test.ts[0m:[93m28[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'boolean'.

[7m28[0m     if (!authResult.user?.isAdmin) {
[7m  [0m [91m                    ~~~~[0m
[96msrc/pages/api/notifications/send-test.ts[0m:[93m12[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'authenticated' does not exist on type 'boolean'.

[7m12[0m     if (!authResult?.authenticated) {
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/send-test.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/unregister.ts[0m:[93m28[0m:[93m65[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'boolean'.

[7m28[0m     await notificationService.removePushSubscription(authResult.user?.id)
[7m  [0m [91m                                                                ~~~~[0m
[96msrc/pages/api/notifications/unregister.ts[0m:[93m12[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'authenticated' does not exist on type 'boolean'.

[7m12[0m     if (!authResult?.authenticated) {
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/unregister.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/patient-rights/cancel-export.ts[0m:[93m24[0m:[93m39[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ exportId: string; reason?: string | undefined; }, string>' of 'validation.error.flatten' is deprecated.

[7m24[0m       const errors = validation.error.flatten()
[7m  [0m [93m                                      ~~~~~~~[0m

[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m60[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormat: "json" | "csv" | "fhir" | "ccd" | "hl7"; dataSections: string[]; recipientType: "patient" | "provider" | "research"; recipientName: string; recipientEmail: string; includeEncryptionKey: boolean; notes?: string | undefined; }>'.

[7m60[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m52[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormat: "json" | "csv" | "fhir" | "ccd" | "hl7"; dataSections: string[]; recipientType: "patient" | "provider" | "research"; recipientName: string; recipientEmail: string; includeEncryptionKey: boolean; notes?: string | undefined; }>'.

[7m52[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m36[0m:[93m31[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthUser'.

[7m36[0m       !(session as unknown as AuthUser).permissions?.includes(
[7m  [0m [91m                              ~~~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m26[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'verifySession' does not exist on type '{ isAuthenticated: (cookies: CookiesLike) => Promise<boolean>; getCurrentUser: (cookies: CookiesLike) => Promise<{ id: string; role: string; } | null>; hasRole: (cookies: CookiesLike, role: Role) => Promise<...>; }'.

[7m26[0m     const session = await auth.verifySession(request)
[7m  [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m18[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m18[0m   recipientEmail: z.string().email('Valid email address is required'),
[7m  [0m [93m                             ~~~~~[0m

[96msrc/pages/api/patient-rights/download-export.ts[0m:[93m37[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; token: string; }>'.

[7m37[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/download-export.ts[0m:[93m30[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; token: string; }>'.

[7m30[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m

[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m57[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; format: "json" | "csv" | "pdf" | "xml"; includeCategories?: string[] | undefined; dateRange?: { start?: string | undefined; end?: string | undefined; } | undefined; }>'.

[7m57[0m       const errorMessage = validationResult.error.errors
[7m  [0m [91m                                                  ~~~~~~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m12[0m:[93m13[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(values: readonly ["json", "csv", "xml", "pdf"], params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>', gave the following error.
  Overload 2 of 2, '(entries: Readonly<Record<string, EnumValue>>, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>', gave the following error.

[7m12[0m   format: z.enum(['json', 'csv', 'xml', 'pdf'], {
[7m  [0m [91m            ~~~~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m58[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m58[0m         .map((e) => e.message)
[7m  [0m [93m              ~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m27[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m27[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m11[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m11[0m   patientId: z.string().uuid({ message: 'Patient ID must be a valid UUID' }),
[7m  [0m [93m                        ~~~~[0m

[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m63[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m63[0m         permissions: user.permissions,
[7m  [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m57[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m57[0m       user.permissions?.includes('admin:patient-rights')
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m56[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m56[0m       user.permissions?.includes('data:export:read') ||
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m38[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; }>'.

[7m38[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m31[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; }>'.

[7m31[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m52[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'downloadUrl' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m                                                   ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m27[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'estimatedCompletionTime' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m17[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'progress' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m                ~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'status' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m        ~~~~~~[0m

[96msrc/pages/api/patient-rights/get-export-status.ts[0m:[93m38[0m:[93m39[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ exportId: string; }, string>' of 'validation.error.flatten' is deprecated.

[7m38[0m       const errors = validation.error.flatten()
[7m  [0m [93m                                      ~~~~~~~[0m

[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m83[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormats: ("json" | "csv" | "pdf" | "xml")[]; dataSections: string[]; recipientType: "patient" | "provider" | "third-party"; recipientDetails: { name: string; email: string; organization?: string | undefined; phone?: string | undefined; }; encryptionRequested: boolean; urgencyLevel: ...'.

[7m83[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m76[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormats: ("json" | "csv" | "pdf" | "xml")[]; dataSections: string[]; recipientType: "patient" | "provider" | "third-party"; recipientDetails: { name: string; email: string; organization?: string | undefined; phone?: string | undefined; }; encryptionRequested: boolean; urgencyLevel: ...'.

[7m76[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m56[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m56[0m         permissions: user.permissions,
[7m  [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m51[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m51[0m       user.permissions?.includes('admin:patient-rights')
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m50[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m50[0m       user.permissions?.includes('data:export:create') ||
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m27[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m27[0m     email: z.string().email('Valid email is required'),
[7m  [0m [93m                      ~~~~~[0m

[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m49[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; formats: ("json" | "csv" | "pdf")[]; dataTypes: string[]; reason: string; priority: "high" | "normal"; }>'.

[7m49[0m       const { errors } = parseResult.error
[7m  [0m [91m              ~~~~~~[0m
[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m25[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m10[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m10[0m   patientId: z.string().uuid('Patient ID must be a valid UUID'),
[7m  [0m [93m                        ~~~~[0m

[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m66[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; status: "completed" | "cancelled" | "failed" | "pending" | "processing" | "delivered"; notes?: string | undefined; completionDetails?: { downloadUrl?: string | undefined; expiresAt?: string | undefined; encryptionKeyUrl?: string | undefined; fileSize?: number | undefined; fileChecksum?: ...'.

[7m66[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m58[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; status: "completed" | "cancelled" | "failed" | "pending" | "processing" | "delivered"; notes?: string | undefined; completionDetails?: { downloadUrl?: string | undefined; expiresAt?: string | undefined; encryptionKeyUrl?: string | undefined; fileSize?: number | undefined; fileChecksum?: ...'.

[7m58[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m45[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'app_metadata' does not exist on type 'User'.

[7m45[0m     if (!user.app_metadata?.permissions?.includes('update:data_exports')) {
[7m  [0m [91m              ~~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m24[0m:[93m36[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m24[0m       encryptionKeyUrl: z.string().url().optional(),
[7m  [0m [93m                                   ~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m22[0m:[93m31[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { pattern?: RegExp | undefined; abort?: boolean | undefined; normalize?: boolean | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m22[0m       downloadUrl: z.string().url().optional(),
[7m  [0m [93m                              ~~~[0m

[96msrc/pages/api/pattern-analysis/cross-session.ts[0m:[93m35[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m35[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/api/pattern-analysis/risk-correlations.ts[0m:[93m30[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m30[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/api/psychology/analyze.ts[0m:[93m551[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m551[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/psychology/frameworks.ts[0m:[93m741[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m741[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m479[0m:[93m209[0m - [91merror[0m[90m ts(2339): [0mProperty 'challenges' does not exist on type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.

[7m479[0m         currentSituation: `Client presents for session ${sessionContext.sessionNumber} with ongoing concerns about ${body.context}. ${clientProfile.challenges ? 'Current challenges include: ' + clientProfile.challenges.join(', ') + '.' : ''}`,
[7m   [0m [91m                                                                                                                                                                                                                ~~~~~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m479[0m:[93m149[0m - [91merror[0m[90m ts(2339): [0mProperty 'challenges' does not exist on type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.

[7m479[0m         currentSituation: `Client presents for session ${sessionContext.sessionNumber} with ongoing concerns about ${body.context}. ${clientProfile.challenges ? 'Current challenges include: ' + clientProfile.challenges.join(', ') + '.' : ''}`,
[7m   [0m [91m                                                                                                                                                    ~~~~~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m425[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m425[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m263[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ age: number; gender: string; background: string; presenting_concern?: string | undefined; name: string; presentingConcern: string; history: string; challenges: string[]; } | { age: number; gender: string; ... 5 more ...; challenges: string[]; } | { ...; }' is not assignable to type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.
  Property 'currentSituation' is missing in type '{ age: number; gender: string; background: string; presenting_concern?: string; name: string; presentingConcern: string; history: string; challenges: string[]; }' but required in type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.

[7m263[0m   return {
[7m   [0m [91m  ~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m251[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m251[0m   return `scenario_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                              ~~~~~~[0m

[96msrc/pages/api/psychology/parse.ts[0m:[93m309[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m309[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/session/analytics.ts[0m:[93m215[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m215[0m       result.rows.forEach((row) => {
[7m   [0m [93m                           ~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/comparison.ts[0m:[93m153[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m153[0m       const comparisons = result.rows.map((row) => ({
[7m   [0m [93m                                           ~~~[0m
[96msrc/pages/api/session/comparison.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/progress.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/skills.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/snapshots.ts[0m:[93m48[0m:[93m28[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'client' used before its declaration.

[7m48[0m       const result = await client.query(query, [
[7m  [0m [91m                           ~~~~~~[0m
[96msrc/pages/api/session/snapshots.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/sessions/index.ts[0m:[93m153[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/ai/models/ai-types").TherapySession[]' is not assignable to type 'import("/home/vivi/pixelated/src/lib/ai/interfaces/therapy").TherapySession[]'.
  Type 'TherapySession' is missing the following properties from type 'TherapySession': securityLevel, emotionAnalysisEnabled

[7m153[0m     const sessions: TherapySession[] = await repository.getSessions(filter)
[7m   [0m [91m          ~~~~~~~~[0m

[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m328[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m328[0m     await threatDetectionSystem.intelligenceService.updateConfiguration({
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m273[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type '{ success: boolean; request?: AuthenticatedRequest | undefined; response?: Response | undefined; error?: string | undefined; }'.

[7m273[0m     if (!authResult.success || !authResult.user?.isAdmin) {
[7m   [0m [91m                                           ~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m272[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m272[0m     const authResult = await authenticateRequest(request)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m218[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m218[0m             await threatDetectionSystem.intelligenceService.lookupIOC(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m130[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m130[0m     const authResult = await authenticateRequest(request)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m93[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m93[0m     const results = await threatDetectionSystem.intelligenceService.lookupIOC(
[7m  [0m [91m                                                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m33[0m:[93m21[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m33[0m     const refresh = url.searchParams.get('refresh') === 'true'
[7m  [0m [91m                    ~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m28[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m28[0m     const type = url.searchParams.get('type') as
[7m  [0m [91m                 ~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m27[0m:[93m23[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m27[0m     const indicator = url.searchParams.get('indicator')
[7m  [0m [91m                      ~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m18[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m18[0m     const authResult = await authenticateRequest(request)
[7m  [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m301[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m301[0m     const _redisClient = redis
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m300[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m300[0m     const _mongoClient = mongoClient
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m183[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m183[0m     const _redisClient = redis
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m182[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m182[0m     const _mongoClient = mongoClient
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m68[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m68[0m     const _redisClient = redis
[7m  [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m67[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m67[0m     const _mongoClient = mongoClient
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m162[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntingService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m162[0m       await threatDetectionSystem.huntingService.getInvestigationResult(
[7m   [0m [91m                                  ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m123[0m:[93m29[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m123[0m     const investigationId = url.searchParams.get('id')
[7m   [0m [91m                            ~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m115[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m115[0m     const authResult = await authenticateRequest(request)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m70[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntingService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m70[0m       await threatDetectionSystem.huntingService.startInvestigation({
[7m  [0m [91m                                  ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m11[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m11[0m     const authResult = await authenticateRequest(request)
[7m  [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m138[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m138[0m     const _redisClient = redis
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m137[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m137[0m     const _mongoClient = mongoClient
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m46[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m46[0m     const _redisClient = redis
[7m  [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m45[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m45[0m     const _mongoClient = mongoClient
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m47[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m47[0m         threatDetectionSystem.intelligenceService.getStatus(),
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m46[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntingService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m46[0m         threatDetectionSystem.huntingService.getStatus(),
[7m  [0m [91m                              ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m45[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'monitoringService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m45[0m         threatDetectionSystem.monitoringService.getStatus(),
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m10[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m10[0m     const authResult = await authenticateRequest(request)
[7m  [0m [91m                                                 ~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m20[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m20[0m     const _redisClient = redis
[7m  [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m19[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m19[0m     const _mongoClient = mongoClient
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m156[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ [x: string]: unknown; id?: string | undefined; description?: string | undefined; targetDate?: string | null | undefined; status?: "Not Started" | "In Progress" | "Achieved" | "Partially Achieved" | "Not Achieved" | undefined; objectives?: { ...; }[] | undefined; }[]' is not assignable to type 'TreatmentGoal[]'.
  Type '{ [x: string]: unknown; id?: string | undefined; description?: string | undefined; targetDate?: string | null | undefined; status?: "Not Started" | "In Progress" | "Achieved" | "Partially Achieved" | "Not Achieved" | undefined; objectives?: { ...; }[] | undefined; }' is missing the following properties from type 'TreatmentGoal': treatmentPlanId, createdAt, updatedAt

[7m156[0m       goals: updates.goals || [],
[7m   [0m [91m      ~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m132[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title?: string | undefined; diagnosis?: string | null | undefined; startDate?: string | undefined; endDate?: string | null | undefined; status?: "Completed" | "Draft" | "Active" | "Discontinued" | "Archived" | undefined; goals?: { ...; }[] | undefined; generalNotes?: string | ... 1 more ... | undefined; }>'.

[7m132[0m           details: validationResult.error.errors,
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m107[0m:[93m4[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m107[0m }: APIContext) => {
[7m   [0m [91m   ~~~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m103[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m103[0m export const PUT: APIRoute = async ({
[7m   [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m77[0m:[93m7[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'client_id' does not exist in type 'TreatmentPlan'. Did you mean to write 'clientId'?

[7m77[0m       client_id: user.id,
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m54[0m:[93m57[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m54[0m export const GET: APIRoute = async ({ params, locals }: APIContext) => {
[7m  [0m [91m                                                        ~~~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m54[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m54[0m export const GET: APIRoute = async ({ params, locals }: APIContext) => {
[7m  [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m46[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m46[0m   endDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                      ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m45[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m45[0m   startDate: z.string().datetime().optional(),
[7m  [0m [93m                        ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m40[0m:[93m4[0m - [93mwarning[0m[90m ts(6385): [0m'(): ZodObject<{ id: ZodOptional<ZodString>; description: ZodOptional<ZodString>; targetDate: ZodNullable<ZodOptional<ZodString>>; status: ZodOptional<...>; objectives: ZodOptional<...>; }, $loose>' is deprecated.

[7m40[0m   .passthrough()
[7m  [0m [93m   ~~~~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m28[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m28[0m     targetDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                           ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m26[0m:[93m20[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m26[0m     id: z.string().uuid().optional(),
[7m  [0m [93m                   ~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m22[0m:[93m4[0m - [93mwarning[0m[90m ts(6385): [0m'(): ZodObject<{ id: ZodOptional<ZodString>; description: ZodOptional<ZodString>; targetDate: ZodNullable<ZodOptional<ZodString>>; status: ZodOptional<...>; interventions: ZodOptional<...>; progressNotes: ZodNullable<...>; }, $loose>' is deprecated.

[7m22[0m   .passthrough()
[7m  [0m [93m   ~~~~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m15[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m15[0m     targetDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                           ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m13[0m:[93m20[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m13[0m     id: z.string().uuid().optional(),
[7m  [0m [93m                   ~~~~[0m

[96msrc/pages/api/treatment-plans/index.ts[0m:[93m93[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title: string; status: "Completed" | "Draft" | "Active" | "Discontinued" | "Archived"; goals: { description: string; status: "Not Started" | "In Progress" | "Achieved" | "Partially Achieved" | "Not Achieved"; objectives: { ...; }[]; targetDate?: string | ... 1 more ... | undefined; }[]; diagnosis?: string...'.

[7m93[0m           details: validationResult.error.errors,
[7m  [0m [91m                                          ~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m38[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m38[0m   endDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                      ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m37[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m37[0m   startDate: z.string().datetime().optional(),
[7m  [0m [93m                        ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m21[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m21[0m   targetDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                         ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m11[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m11[0m   targetDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                         ~~~~~~~~[0m

[96msrc/plugins/index.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'AstroIntegration'.

[7m5[0m import type { AstroIntegration } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~~~~[0m

[96msrc/plugins/remark-directive-sugar.ts[0m:[93m83[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"paragraph"' is not assignable to type '"textDirective" | "leafDirective" | "containerDirective"'.

[7m83[0m               directiveNode.type = 'paragraph'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/plugins/remark-directive-sugar.ts[0m:[93m70[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"paragraph"' is not assignable to type '"textDirective" | "leafDirective" | "containerDirective"'.

[7m70[0m               directiveNode.type = 'paragraph'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/plugins/remark-directive-sugar.ts[0m:[93m57[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"paragraph"' is not assignable to type '"textDirective" | "leafDirective" | "containerDirective"'.

[7m57[0m               directiveNode.type = 'paragraph'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/plugins/remark-directive-sugar.ts[0m:[93m47[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m47[0m     visit(tree, (node: any) => {
[7m  [0m [91m    ~~~~~[0m

[96msrc/plugins/remark-image-container.ts[0m:[93m34[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'ImageNode' is declared but never used.

[7m34[0m interface ImageNode extends Node {
[7m  [0m [93m          ~~~~~~~~~[0m
[96msrc/plugins/remark-image-container.ts[0m:[93m11[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'Paragraph' is declared but never used.

[7m11[0m interface Paragraph {
[7m  [0m [93m          ~~~~~~~~~[0m

[96msrc/services/crisisEventDb.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/simulator/components/index.ts[0m:[93m11[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"./ScenarioSelector"' has no exported member 'default'.

[7m11[0m export { default as ScenarioSelector } from './ScenarioSelector'
[7m  [0m [91m         ~~~~~~~[0m
[96msrc/simulator/components/index.ts[0m:[93m6[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"./SimulationContainer"' has no exported member 'default'.

[7m6[0m export { default as SimulationContainer } from './SimulationContainer'
[7m [0m [91m         ~~~~~~~[0m

[96msrc/simulator/hooks/useAnonymizedMetrics.ts[0m:[93m44[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'SetStateAction<Omit<SimpleMetrics, "updateMetrics">>'.

[7m44[0m         setMetrics(parsedMetrics)
[7m  [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m113[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m113[0m             }, 0) / analysis.emotions.length
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m97[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'reduce' does not exist on type 'EmotionVector'.

[7m97[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m93[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m93[0m             }, 0) / analysis.emotions.length
[7m  [0m [91m                                      ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m76[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'reduce' does not exist on type 'EmotionVector'.

[7m76[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m72[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m72[0m             }, 0) / analysis.emotions.length
[7m  [0m [91m                                      ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m55[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'reduce' does not exist on type 'EmotionVector'.

[7m55[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m52[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m52[0m         if (analysis.emotions.length > 0) {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m31[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'RealFHEService' is not assignable to parameter of type 'FHESystem'.
  Property 'verifySender' is missing in type 'RealFHEService' but required in type 'FHESystem'.

[7m31[0m           fheService,
[7m  [0m [91m          ~~~~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m12[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateEmotionState' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m12[0m   const { updateEmotionState } = useSimulatorContext()
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m97[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                           ~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m97[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                      ~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m76[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m76[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                           ~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m76[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m76[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                      ~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m55[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                           ~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m55[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                      ~~~[0m

[96msrc/simulator/hooks/useSimulator.ts[0m:[93m322[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'response' is declared but its value is never read.

[7m322[0m   response: string,
[7m   [0m [93m  ~~~~~~~~[0m
[96msrc/simulator/hooks/useSimulator.ts[0m:[93m41[0m:[93m26[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m41[0m         const scenario = await getScenarioById(scenarioId)
[7m  [0m [93m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'startListening' is used before being assigned.

[7m237[0m     startListening,
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'startListening' used before its declaration.

[7m237[0m     startListening,
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m221[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type '() => void'.

[7m221[0m         recognitionRef.current.onend = null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m220[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type '(event: SpeechRecognitionErrorEvent) => void'.

[7m220[0m         recognitionRef.current.onerror = null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m219[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type '(event: SpeechRecognitionEvent) => void'.

[7m219[0m         recognitionRef.current.onresult = null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m205[0m:[93m9[0m - [91merror[0m[90m ts(18047): [0m'recognitionRef.current' is possibly 'null'.

[7m205[0m         recognitionRef.current.start()
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m139[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{ [index: number]: { [index: number]: { transcript: string; }; isFinal: boolean; }; }'.

[7m139[0m       for (let i = event.resultIndex; i < event.results.length; i++) {
[7m   [0m [91m                                                        ~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m127[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'SpeechRecognitionInterface | null' is not assignable to type 'SpeechRecognition | null'.
  Type 'SpeechRecognitionInterface' is missing the following properties from type 'SpeechRecognition': onresult, onerror, onend

[7m127[0m     recognitionRef.current = createSpeechRecognition(enhancedConfig)
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/services/FeedbackService.ts[0m:[93m722[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m722[0m       prediction.dispose()
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m718[0m:[93m36[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m718[0m       const predictionData = await prediction.data()
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m717[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'predict' does not exist on type '{}'.

[7m717[0m       const prediction = this.techniqueModel.predict(features) as unknown // tf.Tensor
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m342[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'null'.
  Type 'string' is not assignable to type 'null'.

[7m342[0m         therapeuticSuggestions = response.choices?.[0]?.message?.content || null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m13[0m:[93m41[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../lib/ai/mental-llama/MentalLLaMAAdapter' or its corresponding type declarations.

[7m13[0m import type { MentalLLaMAAdapter } from '../../lib/ai/mental-llama/MentalLLaMAAdapter'
[7m  [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/services/WebRTCService.ts[0m:[93m477[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'handleReceivedIceCandidate' is declared but its value is never read.

[7m477[0m   private async handleReceivedIceCandidate(
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/services/WebRTCService.ts[0m:[93m21[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'lastIceCandidate' is declared but its value is never read.

[7m21[0m   private lastIceCandidate: RTCIceCandidate | null = null
[7m  [0m [93m          ~~~~~~~~~~~~~~~~[0m

[96msrc/test/utils/astro.ts[0m:[93m47[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ props: Record<string, unknown>; request: Request; url: URL; redirect: Mock<Procedure>; response: Response; slots: {}; site: URL; generator: string; }' is not assignable to type 'void'.

[7m47[0m   return {
[7m  [0m [91m  ~~~~~~[0m

[96msrc/tests/performance.test.ts[0m:[93m442[0m:[93m60[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m442[0m export async function simulateUserInteraction(page: Page): void {
[7m   [0m [91m                                                           ~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m4[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'playwright' or its corresponding type declarations.

[7m4[0m import { chromium } from 'playwright'
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m1[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'playwright' or its corresponding type declarations.

[7m1[0m import type { Browser, Page } from 'playwright'
[7m [0m [91m                                   ~~~~~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m345[0m:[93m11[0m - [93mwarning[0m[90m ts(80006): [0mThis may be converted to an async function.

[7m345[0m           ({ url, data }) => {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m334[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'response' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m334[0m       let response
[7m   [0m [93m          ~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m327[0m:[93m51[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_request' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m327[0m       await page.route(`**${path}`, async (route, _request) => {
[7m   [0m [93m                                                  ~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m327[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'route' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m327[0m       await page.route(`**${path}`, async (route, _request) => {
[7m   [0m [93m                                           ~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m239[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'fn' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m239[0m             functions.reduce((sum, fn) => sum + (fn.ranges[0]?.count || 0), 0)
[7m   [0m [93m                                   ~~[0m
[96msrc/tests/performance.test.ts[0m:[93m239[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m239[0m             functions.reduce((sum, fn) => sum + (fn.ranges[0]?.count || 0), 0)
[7m   [0m [93m                              ~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m235[0m:[93m59[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m235[0m         const jsExecutionTime = jsCoverage.reduce((total, entry) => {
[7m   [0m [93m                                                          ~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m235[0m:[93m52[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'total' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m235[0m         const jsExecutionTime = jsCoverage.reduce((total, entry) => {
[7m   [0m [93m                                                   ~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m232[0m:[93m19[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m232[0m           (total, entry) => total + (entry.source?.length || 0),
[7m   [0m [93m                  ~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m232[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'total' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m232[0m           (total, entry) => total + (entry.source?.length || 0),
[7m   [0m [93m           ~~~~~[0m

[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m110[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m110[0m     expect(featuresJson.css.flexbox).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m109[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m109[0m     expect(featuresJson.arrayMethods).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m108[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m108[0m     expect(featuresJson.promise).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m107[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m107[0m     expect(featuresJson.fetch).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m103[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m103[0m     const featuresJson = JSON.parse(content) as unknown
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m5[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'directory' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m5[0m function ensureDirectoryExists(directory): void {
[7m [0m [93m                               ~~~~~~~~~[0m

[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m180[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m180[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m181[0m         content: JSON.stringify({
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m192[0m         choices: []
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m193[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m132[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m132[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m133[0m         content: 'invalid json response',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m138[0m         choices: []
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m139[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m84[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m 84[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m 85[0m         content: JSON.stringify({
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 96[0m         choices: []
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m 97[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m50[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m 50[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m 51[0m         content: JSON.stringify({
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 62[0m         choices: []
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m 63[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/tests/api/session/progress-api.test.ts[0m:[93m2[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../progress' or its corresponding type declarations.

[7m2[0m import { POST, GET } from '../progress'
[7m [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/tests/api/session/progress-api.test.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/tests/api/session/skills-api.test.ts[0m:[93m2[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../skills' or its corresponding type declarations.

[7m2[0m import { POST, GET } from '../skills'
[7m [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/tests/api/session/skills-api.test.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/home/vivi/pixelated/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/tests/api/v1/health.test.ts[0m:[93m2[0m:[93m21[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../health' or its corresponding type declarations.

[7m2[0m import { GET } from '../health'
[7m [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/tests/api/v1/health.test.ts[0m:[93m167[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'c' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m167[0m     expect(data.checks.some((c) => c.status === 'unhealthy')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/tests/api/v1/health.test.ts[0m:[93m116[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'c' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m116[0m     expect(data.checks.some((c) => c.status === 'degraded')).toBe(true)
[7m   [0m [93m                             ~[0m

[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m395[0m:[93m21[0m - [91merror[0m[90m ts(2551): [0mProperty 'valid' does not exist on type '{ isValid: boolean; issues: string[]; recommendations: string[]; }'. Did you mean 'isValid'?

[7m395[0m       expect(result.valid).toBe(false)
[7m   [0m [91m                    ~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m393[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }[]' is not assignable to parameter of type 'ResearchDataPoint[]'.
  Type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }' is missing the following properties from type 'ResearchDataPoint': id, sessionId, timestamp, techniqueEffectiveness, sessionDuration

[7m393[0m       const result = await service.validateAnonymization(testData)
[7m   [0m [91m                                                         ~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m381[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }[]' is not assignable to parameter of type 'ResearchDataPoint[]'.
  Type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }' is missing the following properties from type 'ResearchDataPoint': id, sessionId, timestamp, techniqueEffectiveness, sessionDuration

[7m381[0m       const result = await service.anonymizeResearchData(testData, 'full')
[7m   [0m [91m                                                         ~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m361[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'audit.data' is of type 'unknown'.

[7m361[0m       expect(audit.data.length).toBeGreaterThan(0)
[7m   [0m [91m             ~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m84[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m84[0m       expect(result.data.services.hipaa).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m83[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m83[0m       expect(result.data.services.consent).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m82[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m82[0m       expect(result.data.services.anonymization).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m81[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m81[0m       expect(result.data.healthy).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m

[96msrc/utils/auth.ts[0m:[93m238[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/services/mongodb.types").User' is not assignable to type 'import("/home/vivi/pixelated/src/utils/auth").User'.
  Types of property '_id' are incompatible.

[7m238[0m     return { user, session }
[7m   [0m [91m             ~~~~[0m
[96msrc/utils/auth.ts[0m:[93m232[0m:[93m7[0m - [91merror[0m[90m ts(2740): [0mType 'ObjectId' is missing the following properties from type 'ObjectId': _bsontype, id, toJSON, equals, and 2 more.

[7m232[0m       userId: user._id,
[7m   [0m [91m      ~~~~~~[0m
[96msrc/utils/auth.ts[0m:[93m8[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'MongoDB' is not assignable to parameter of type 'Db'.
  Type 'MongoDB' is missing the following properties from type 'Db': databaseName, options, secondaryOk, readConcern, and 23 more.

[7m8[0m   adapter: mongodbAdapter(client),
[7m [0m [91m                          ~~~~~~[0m

[96msrc/utils/performance-optimization.ts[0m:[93m153[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m153[0m     const observer = new PerformanceObserver((entryList) => {
[7m   [0m [93m                                              ~~~~~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m127[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m127[0m     const observer = new PerformanceObserver((entryList) => {
[7m   [0m [93m                                              ~~~~~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m101[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m101[0m       entries.forEach((entry) => {
[7m   [0m [93m                       ~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m98[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m98[0m     const observer = new PerformanceObserver((entryList) => {
[7m  [0m [93m                                              ~~~~~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m64[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m64[0m     const observer = new PerformanceObserver((entryList) => {
[7m  [0m [93m                                              ~~~~~~~~~[0m

[96msrc/utils/offline/offlineManager.ts[0m:[93m156[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'handleOffline' is declared but its value is never read.

[7m156[0m   private handleOffline(): void {
[7m   [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/utils/offline/offlineManager.ts[0m:[93m144[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'handleOnline' is declared but its value is never read.

[7m144[0m   private handleOnline(): void {
[7m   [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/utils/offline/requestQueue.ts[0m:[93m52[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m52[0m     return `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                           ~~~~~~[0m

[96msrc/utils/sync/tabSyncManager.ts[0m:[93m92[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m92[0m     return `tab_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                           ~~~~~~[0m
[96msrc/utils/sync/tabSyncManager.ts[0m:[93m82[0m:[93m25[0m - [93mwarning[0m[90m ts(6133): [0m'local' is declared but its value is never read.

[7m82[0m       onConflict: (key, local, remote) => remote, // Default to remote value
[7m  [0m [93m                        ~~~~~[0m
[96msrc/utils/sync/tabSyncManager.ts[0m:[93m82[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m82[0m       onConflict: (key, local, remote) => remote, // Default to remote value
[7m  [0m [93m                   ~~~[0m

[96msrc/workers/analytics-worker.ts[0m:[93m179[0m:[93m7[0m - [93mwarning[0m[90m ts(7027): [0mUnreachable code detected.

[7m179[0m       return
[7m   [0m [93m      ~~~~~~[0m

[96msrc/workers/email-worker.ts[0m:[93m3[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m3[0m const logger = createBuildSafeLogger({ prefix: 'email-worker' })
[7m [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m220[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m220[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m204[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m204[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m143[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m143[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).info,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m128[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m128[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).info,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m111[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m111[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m90[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m90[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m65[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m65[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).info,
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/SentryInit.tsx[0m:[93m3[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'launchdarkly-js-client-sdk' or its corresponding type declarations.

[7m3[0m import * as LaunchDarkly from 'launchdarkly-js-client-sdk'
[7m [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/admin/AdminDashboard.tsx[0m:[93m279[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m279[0m                   : timeRange}
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m277[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m277[0m                 : timeRange === 'month'
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m275[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m275[0m               {timeRange === 'week'
[7m   [0m [91m               ~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m48[0m:[93m34[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m48[0m   >('admin_selected_therapists', [])
[7m  [0m [91m                                 ~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m45[0m:[93m34[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m45[0m   >('admin_dashboard_timerange', 'month')
[7m  [0m [91m                                 ~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m42[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m42[0m   >('admin_dashboard_view', 'overview')
[7m  [0m [91m                            ~~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m626[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'metrics' is declared but its value is never read.

[7m626[0m }> = ({ metrics }) => {
[7m   [0m [93m      ~~~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/admin/bias-detection/BiasCharts.tsx[0m:[93m64[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '({ name, percent }: { name: string; percent?: number; }) => string' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.

[7m64[0m               label={({ name, percent }: { name: string; percent?: number }) =>
[7m  [0m [91m              ~~~~~[0m

[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m950[0m:[93m60[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'BiasDashboardSummary'.

[7m950[0m                       ...(metricsObj as unknown as Partial<BiasDashboardSummary>),
[7m   [0m [91m                                                           ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m882[0m:[93m57[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'BiasAlert'.

[7m882[0m                 const newAlert = alertObj as unknown as BiasAlert // rely on structural typing
[7m   [0m [91m                                                        ~~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m142[0m:[93m6[0m - [93mwarning[0m[90m ts(6196): [0m'WebSocketMessage' is declared but never used.

[7m142[0m type WebSocketMessage =
[7m   [0m [93m     ~~~~~~~~~~~~~~~~[0m

[96msrc/components/analytics/ChartComponent.tsx[0m:[93m150[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m150[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m

[96msrc/components/analytics/EnhancedChartComponent.tsx[0m:[93m190[0m:[93m31[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m190[0m           afterBody: function(context: any) {
[7m   [0m [93m                              ~~~~~~~[0m

[96msrc/components/analytics/__tests__/PatternVisualization.test.tsx[0m:[93m124[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m124[0m         riskCorrelations={mockRiskCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualization.test.tsx[0m:[93m106[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m106[0m         crossSessionPatterns={mockCrossSessionPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m231[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m231[0m         riskCorrelations={mockCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m230[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m230[0m         crossSessionPatterns={mockPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m204[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m204[0m         riskCorrelations={mockCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m203[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m203[0m         crossSessionPatterns={mockPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m173[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m173[0m         riskCorrelations={mockCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m172[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m172[0m         crossSessionPatterns={mockPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m144[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m144[0m         riskCorrelations={mockCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m143[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m143[0m         crossSessionPatterns={mockPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m124[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m124[0m         riskCorrelations={mockCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m123[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m123[0m         crossSessionPatterns={mockPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m110[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation[]'.
  Property 'strength' is missing in type 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").RiskCorrelation' but required in type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").RiskCorrelation'.

[7m110[0m         riskCorrelations={mockCorrelations}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/analytics/__tests__/PatternVisualizationReact.test.tsx[0m:[93m109[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/fhe/pattern-recognition").CrossSessionPattern[]' is not assignable to type 'import("/home/vivi/pixelated/src/components/analytics/PatternVisualizationReact").CrossSessionPattern[]'.
  Type 'CrossSessionPattern' is missing the following properties from type 'CrossSessionPattern': sessionIds, timeSpanDays

[7m109[0m         crossSessionPatterns={mockPatterns}
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/auth/__tests__/RegisterForm.test.tsx[0m:[93m18[0m:[93m18[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m18[0m     ;(useAuth as vi.Mock).mockImplementation(() => ({
[7m  [0m [91m                 ~~[0m

[96msrc/components/chat/AnalyticsDashboardReact.tsx[0m:[93m179[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: "user" | "assistant" | "system"; content: string; name: string; encrypted?: boolean | undefined; verified?: boolean | undefined; isError?: boolean | undefined; memoryStored?: boolean | undefined; analyzed?: boolean | undefined; timestamp?: string | undefined; id: string; }[]' is not assignable to parameter of type 'ChatMessage[]'.
  Type '{ role: "user" | "assistant" | "system"; content: string; name: string; encrypted?: boolean; verified?: boolean; isError?: boolean; memoryStored?: boolean; analyzed?: boolean; timestamp?: string; id: string; }' is not assignable to type 'ChatMessage'.

[7m179[0m         messages.map((msg) => ({
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m180[0m           id: generateId(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m181[0m           ...msg,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m182[0m         })),
[7m   [0m [91m~~~~~~~~~~~[0m

[96msrc/components/chat/TherapyChatSystem.tsx[0m:[93m385[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: string; content: string; }[]' is not assignable to parameter of type '{ role: "therapist" | "patient"; content: string; }[]'.
  Type '{ role: string; content: string; }' is not assignable to type '{ role: "therapist" | "patient"; content: string; }'.

[7m385[0m         conversationMessages,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/chat/TherapyStyleSelector.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/chat/__tests__/contract-propagation.test.tsx[0m:[93m64[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType '{ role: string; content: string; name: string; }[]' is not assignable to type 'Message[]'.
  Type '{ role: string; content: string; name: string; }' is not assignable to type 'Message'.

[7m64[0m         <ChatContainer messages={mapped} onSendMessage={vi.fn()} />
[7m  [0m [91m                       ~~~~~~~~[0m
[96msrc/components/chat/__tests__/contract-propagation.test.tsx[0m:[93m28[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType '({ role: string; content: string; name: string; type?: undefined; } | { role: string; content: string; name: string; type: string; })[]' is not assignable to type 'Message[]'.
  Type '{ role: string; content: string; name: string; type?: undefined; } | { role: string; content: string; name: string; type: string; }' is not assignable to type 'Message'.

[7m28[0m         <ChatContainer messages={messages} onSendMessage={vi.fn()} />
[7m  [0m [91m                       ~~~~~~~~[0m

[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m273[0m:[93m20[0m - [91merror[0m[90m ts(2322): [0mType '"destructive"' is not assignable to type '"default" | "error" | "warning" | "success" | "info" | undefined'.

[7m273[0m             <Alert variant="destructive">
[7m   [0m [91m                   ~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m112[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m112[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m611[0m:[93m29[0m - [93mwarning[0m[90m ts(6133): [0m'therapistId' is declared but its value is never read.

[7m611[0m async function fetchMetrics(therapistId: string): Promise<DashboardMetrics> {
[7m   [0m [93m                            ~~~~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m597[0m:[93m28[0m - [93mwarning[0m[90m ts(6133): [0m'therapistId' is declared but its value is never read.

[7m597[0m async function fetchAlerts(therapistId: string): Promise<AlertItem[]> {
[7m   [0m [93m                           ~~~~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m28[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'EscalationEvent' is declared but its value is never read.

[7m28[0m import type { EscalationEvent } from '@/lib/ai/services/AutomatedEscalationService'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m25[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'Settings' is declared but its value is never read.

[7m25[0m   Settings
[7m  [0m [93m  ~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m24[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'MessageSquare' is declared but its value is never read.

[7m24[0m   MessageSquare,
[7m  [0m [93m  ~~~~~~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m23[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'Calendar' is declared but its value is never read.

[7m23[0m   Calendar,
[7m  [0m [93m  ~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m20[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'AlertCircle' is declared but its value is never read.

[7m20[0m   AlertCircle,
[7m  [0m [93m  ~~~~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m18[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'XCircle' is declared but its value is never read.

[7m18[0m   XCircle,
[7m  [0m [93m  ~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m13[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'TrendingDown' is declared but its value is never read.

[7m13[0m   TrendingDown,
[7m  [0m [93m  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m10[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'Shield' is declared but its value is never read.

[7m10[0m   Shield,
[7m  [0m [93m  ~~~~~~[0m

[96msrc/components/dashboard/SessionControls.tsx[0m:[93m2[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React, { useState, useEffect, useRef } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/dashboard/SessionMetrics.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/dashboard/TherapistDashboard.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useEffect, useMemo } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/dashboard/TherapistProgressTracker.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m145[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m145[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m135[0m:[93m44[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m135[0m       render(<TherapistDashboard sessions={mockSessions} />)
[7m   [0m [91m                                           ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m124[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m124[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m111[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m111[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m101[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m101[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m91[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m91[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m75[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m75[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m64[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m64[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m52[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m52[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m

[96msrc/components/demo/ChatDemo.tsx[0m:[93m52[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/src/lib/ai/types").AIMessage[]' is not assignable to type 'import("/home/vivi/pixelated/src/lib/ai/models/ai-types").AIMessage[]'.
  Type 'import("/home/vivi/pixelated/src/lib/ai/types").AIMessage' is not assignable to type 'import("/home/vivi/pixelated/src/lib/ai/models/ai-types").AIMessage'.

[7m52[0m       initialMessages,
[7m  [0m [91m      ~~~~~~~~~~~~~~~[0m

[96msrc/components/demo/CrisisDetectionDemo.tsx[0m:[93m94[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sensitivityLevel' does not exist in type '{ model?: "fast" | "accurate" | undefined; level?: "low" | "medium" | "high" | undefined; }'.

[7m94[0m             sensitivityLevel: 'high',
[7m  [0m [91m            ~~~~~~~~~~~~~~~~[0m
[96msrc/components/demo/CrisisDetectionDemo.tsx[0m:[93m80[0m:[93m15[0m - [91merror[0m[90m ts(2740): [0mType 'CrisisDetectionResponse' is missing the following properties from type 'CrisisDetectionResponse': assessment, riskFactors, protectiveFactors, recommendations, and 2 more.

[7m80[0m         const result: CrisisDetectionResponse = await apiClient.detectCrisis({
[7m  [0m [91m              ~~~~~~[0m

[96msrc/components/demo/FHEDemo.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useCallback, useMemo, useState, type FC } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/demo/OfflineDemo.tsx[0m:[93m134[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'connection' does not exist on type 'Navigator'.

[7m134[0m                   <div>RTT: {navigator.connection?.rtt || 0} ms</div>
[7m   [0m [91m                                       ~~~~~~~~~~[0m
[96msrc/components/demo/OfflineDemo.tsx[0m:[93m132[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'connection' does not exist on type 'Navigator'.

[7m132[0m                     Downlink: {navigator.connection?.downlink || 0} Mbps
[7m   [0m [91m                                         ~~~~~~~~~~[0m
[96msrc/components/demo/OfflineDemo.tsx[0m:[93m129[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'connection' does not exist on type 'Navigator'.

[7m129[0m                     {navigator.connection?.effectiveType || 'Unknown'}
[7m   [0m [91m                               ~~~~~~~~~~[0m

[96msrc/components/demo/PersistentStateDemo.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/demo/PresentingProblemVisualization.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { FC } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/demo/TabSyncDemo.tsx[0m:[93m12[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'SyncedCounter' is declared but never used.

[7m12[0m interface SyncedCounter {
[7m  [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m684[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType '{ data: BiasAnalysisResults; counterfactual: CounterfactualScenario[]; historical: HistoricalComparison | null; onExport: () => void; }' is not assignable to type 'IntrinsicAttributes & ExportControlsProps'.
  Property 'data' does not exist on type 'IntrinsicAttributes & ExportControlsProps'.

[7m684[0m                     data={analysisResults}
[7m   [0m [91m                    ~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m672[0m:[93m20[0m - [91merror[0m[90m ts(2741): [0mProperty 'currentScore' is missing in type '{ comparison: HistoricalComparison; }' but required in type 'HistoricalProgressTrackerProps'.

[7m672[0m                   <HistoricalProgressTracker comparison={historicalComparison} />
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m480[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '(data: SessionData) => Promise<void>' is not assignable to type '(data: Omit<SessionData, "timestamp" | "sessionId">) => void'.
  Types of parameters 'data' and 'data' are incompatible.

[7m480[0m                 onSubmit={handleAnalyze}
[7m   [0m [91m                ~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m470[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ presets: PresetScenario[]; onSelectPreset: (preset: PresetScenario) => void; className: string; }' is not assignable to type 'IntrinsicAttributes & PresetScenarioSelectorProps'.
  Property 'presets' does not exist on type 'IntrinsicAttributes & PresetScenarioSelectorProps'.

[7m470[0m                 presets={filteredPresets}
[7m   [0m [91m                ~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m199[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'HistoricalComparison | null' is not assignable to parameter of type 'HistoricalComparison'.
  Type 'null' is not assignable to type 'HistoricalComparison'.

[7m199[0m         historicalComparison,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m153[0m:[93m26[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m153[0m         recommendations: generateRecommendations(adjustedFactors),
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m61[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m61[0m   useEffect(() => {
[7m  [0m [91m            ~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m490[0m:[93m60[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m490[0m                   {savedSessions.slice(0, 5).map((session, index) => (
[7m   [0m [93m                                                           ~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m9[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'AccessibleLoadingState' is declared but its value is never read.

[7m9[0m import { AccessibleLoadingState } from './AccessibleLoadingState'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m256[0m:[93m72[0m - [91merror[0m[90m ts(2551): [0mProperty 'overallScore' does not exist on type 'BiasAnalysisResults'. Did you mean 'overallBiasScore'?

[7m256[0m                   <p>• Overall bias score: {Math.round(analysisResults.overallScore)}/100</p>
[7m   [0m [91m                                                                       ~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m255[0m:[93m65[0m - [91merror[0m[90m ts(2339): [0mProperty 'detectedPatterns' does not exist on type 'BiasAnalysisResults'.

[7m255[0m                   <p>• Analysis completed with {analysisResults.detectedPatterns.length} bias patterns identified</p>
[7m   [0m [91m                                                                ~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m112[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'Date'.

[7m112[0m       timestamp: new Date().toISOString(),
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m104[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ priority: string; category: string; description: string; example: string; impact: string; }' is not assignable to type 'string'.

[7m104[0m         {
[7m   [0m [91m        ~[0m
[7m105[0m           priority: 'medium',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m109[0m           impact: 'Promotes individual-centered care',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m         }
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m97[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ priority: string; category: string; description: string; example: string; impact: string; }' is not assignable to type 'string'.

[7m 97[0m         {
[7m   [0m [91m        ~[0m
[7m 98[0m           priority: 'high',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m102[0m           impact: 'Reduces age-based assumptions',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m103[0m         },
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m50[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'Date'.

[7m50[0m       timestamp: new Date().toISOString(),
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m134[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'handleBiasUpdate' is declared but its value is never read.

[7m134[0m   const handleBiasUpdate = useCallback((indicators: any[]) => {
[7m   [0m [93m        ~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m46[0m:[93m75[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m46[0m     const sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                                          ~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m7[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'RealTimeBiasIndicator' is declared but its value is never read.

[7m7[0m import { RealTimeBiasIndicator } from './RealTimeBiasIndicator'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m2[0m:[93m40[0m - [93mwarning[0m[90m ts(6133): [0m'useEffect' is declared but its value is never read.

[7m2[0m import React, { useState, useCallback, useEffect } from 'react'
[7m [0m [93m                                       ~~~~~~~~~[0m

[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m193[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ReactNode'.

[7m193[0m                     {typeof exportResult === 'object' &&
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m194[0m                       'documentUrl' in exportResult &&
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m205[0m                         </div>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m206[0m                       )}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m186[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ReactNode'.

[7m186[0m                     {typeof exportResult === 'object' &&
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m187[0m                       'documentId' in exportResult &&
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m191[0m                         </p>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m192[0m                       )}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m177[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'error' does not exist on type 'EHRExportResult'. Did you mean 'errors'?

[7m177[0m                     {exportResult.error}
[7m   [0m [91m                                  ~~~~~[0m
[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m175[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'error' does not exist on type 'EHRExportResult'. Did you mean 'errors'?

[7m175[0m                 {exportResult.error && (
[7m   [0m [91m                              ~~~~~[0m

[96msrc/components/layout/AdvancedAnimations.tsx[0m:[93m122[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'scale' is declared but its value is never read.

[7m122[0m   scale = 0.98,
[7m   [0m [93m  ~~~~~[0m

[96msrc/components/layout/SidebarReact.tsx[0m:[93m7[0m:[93m13[0m - [91merror[0m[90m ts(2694): [0mNamespace 'global.JSX' has no exported member 'Element'.

[7m7[0m   icon: JSX.Element
[7m [0m [91m            ~~~~~~~[0m

[96msrc/components/others/background-paths.tsx[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/ui/button' or its corresponding type declarations.

[7m2[0m import { Button } from '~/components/ui/button'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/others/cube-paths.tsx[0m:[93m6[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/ui/button' or its corresponding type declarations.

[7m6[0m import { Button } from '~/components/ui/button'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/pages/EmotionProgressDemo.tsx[0m:[93m31[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ progressData: EmotionProgressData; timeRange: "week" | "month" | "quarter" | "year"; onTimeRangeChange: Dispatch<SetStateAction<"week" | "month" | "quarter" | "year">>; isLoading: boolean; className: string; }' is not assignable to type 'IntrinsicAttributes & EmotionProgressDashboardProps'.
  Property 'progressData' does not exist on type 'IntrinsicAttributes & EmotionProgressDashboardProps'.

[7m31[0m           progressData={data}
[7m  [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/components/pages/EmotionProgressDemo.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/pages/EmotionVisualizationDemo.tsx[0m:[93m160[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionData[]' is not assignable to type 'EmotionDataPoint[]'.
  Property 'id' is missing in type 'EmotionData' but required in type 'EmotionDataPoint'.

[7m160[0m                 emotionData={data}
[7m   [0m [91m                ~~~~~~~~~~~[0m

[96msrc/components/pages/EmotionVisualizationPage.tsx[0m:[93m73[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionData[]' is not assignable to type 'EmotionDataPoint[]'.
  Property 'id' is missing in type 'EmotionData' but required in type 'EmotionDataPoint'.

[7m73[0m             emotionData={emotionData}
[7m  [0m [91m            ~~~~~~~~~~~[0m

[96msrc/components/patient/PatientFileViewer.tsx[0m:[93m1[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/ai/types/CognitiveModel' or its corresponding type declarations.

[7m1[0m import type { CognitiveModel } from '~/lib/ai/types/CognitiveModel'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/patient/PatientFileViewer.tsx[0m:[93m3[0m:[93m35[0m - [93mwarning[0m[90m ts(6133): [0m'_patientModel' is declared but its value is never read.

[7m3[0m export function PatientFileViewer({
[7m [0m [93m                                  ~[0m
[7m4[0m   _patientModel,
[7m [0m [93m~~~~~~~~~~~~~~~~[0m
[7m5[0m }: {
[7m [0m [93m~[0m

[96msrc/components/pipeline/WebSocketProgressBar.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useMemo, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m426[0m:[93m18[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'renderComponent'.

[7m426[0m     expect(() => renderComponent()).not.toThrow()
[7m   [0m [91m                 ~~~~~~~~~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m421[0m:[93m28[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m421[0m         sendStatusRequest: jest.fn(),
[7m   [0m [91m                           ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m420[0m:[93m30[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m420[0m         sendProgressRequest: jest.fn(),
[7m   [0m [91m                             ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m419[0m:[93m22[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m419[0m         sendMessage: jest.fn(),
[7m   [0m [91m                     ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m418[0m:[93m21[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m418[0m         disconnect: jest.fn(),
[7m   [0m [91m                    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m417[0m:[93m18[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m417[0m         connect: jest.fn(),
[7m   [0m [91m                 ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m411[0m:[93m29[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m411[0m       usePipelineWebSocket: jest.fn(() => ({
[7m   [0m [91m                            ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m410[0m:[93m5[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m410[0m     jest.mock('@/hooks/usePipelineWebSocket', () => ({
[7m   [0m [91m    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m406[0m:[93m28[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m406[0m       removeEventListener: jest.fn(),
[7m   [0m [91m                           ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m400[0m:[93m25[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m400[0m       addEventListener: jest.fn((event, handler) => {
[7m   [0m [91m                        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m399[0m:[93m14[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m399[0m       close: jest.fn(),
[7m   [0m [91m             ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m398[0m:[93m13[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m398[0m       send: jest.fn(),
[7m   [0m [91m            ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m391[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'renderComponent'.

[7m391[0m     renderComponent()
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m385[0m:[93m22[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m385[0m         healthCheck: jest.fn(() =>
[7m   [0m [91m                     ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m382[0m:[93m31[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m382[0m         getAvailableDatasets: jest.fn(() =>
[7m   [0m [91m                              ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m381[0m:[93m29[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m381[0m         getExecutionStatus: jest.fn(),
[7m   [0m [91m                            ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m380[0m:[93m25[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m380[0m         startExecution: jest.fn(),
[7m   [0m [91m                        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m377[0m:[93m23[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m377[0m       usePipelineAPI: jest.fn(() => ({
[7m   [0m [91m                      ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m376[0m:[93m5[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m376[0m     jest.mock('@/hooks/usePipelineAPI', () => ({
[7m   [0m [91m    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m370[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'renderComponent'.

[7m370[0m     renderComponent()
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m366[0m:[93m28[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m366[0m         sendStatusRequest: jest.fn(),
[7m   [0m [91m                           ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m365[0m:[93m30[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m365[0m         sendProgressRequest: jest.fn(),
[7m   [0m [91m                             ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m364[0m:[93m22[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m364[0m         sendMessage: jest.fn(),
[7m   [0m [91m                     ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m363[0m:[93m21[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m363[0m         disconnect: jest.fn(),
[7m   [0m [91m                    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m362[0m:[93m18[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m362[0m         connect: jest.fn(),
[7m   [0m [91m                 ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m356[0m:[93m29[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m356[0m       usePipelineWebSocket: jest.fn(() => ({
[7m   [0m [91m                            ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m355[0m:[93m5[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m355[0m     jest.mock('@/hooks/usePipelineWebSocket', () => ({
[7m   [0m [91m    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m286[0m:[93m34[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m286[0m       const initialRenderCount = jest.fn()
[7m   [0m [91m                                 ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m214[0m:[93m24[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m214[0m           healthCheck: jest.fn(() =>
[7m   [0m [91m                       ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m213[0m:[93m33[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m213[0m           getAvailableDatasets: jest.fn(() => Promise.resolve([])),
[7m   [0m [91m                                ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m212[0m:[93m31[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m212[0m           getExecutionStatus: jest.fn(),
[7m   [0m [91m                              ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m211[0m:[93m27[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m211[0m           startExecution: jest.fn(),
[7m   [0m [91m                          ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m208[0m:[93m25[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m208[0m         usePipelineAPI: jest.fn(() => ({
[7m   [0m [91m                        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m207[0m:[93m7[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m207[0m       jest.mock('@/hooks/usePipelineAPI', () => ({
[7m   [0m [91m      ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m205[0m:[93m27[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m205[0m       const mockOnError = jest.fn()
[7m   [0m [91m                          ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m190[0m:[93m24[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m190[0m           healthCheck: jest.fn(() =>
[7m   [0m [91m                       ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m189[0m:[93m33[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m189[0m           getAvailableDatasets: jest.fn(() => Promise.resolve([])),
[7m   [0m [91m                                ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m188[0m:[93m31[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m188[0m           getExecutionStatus: jest.fn(),
[7m   [0m [91m                              ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m187[0m:[93m27[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m187[0m           startExecution: jest.fn(),
[7m   [0m [91m                          ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m184[0m:[93m25[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m184[0m         usePipelineAPI: jest.fn(() => ({
[7m   [0m [91m                        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m183[0m:[93m7[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m183[0m       jest.mock('@/hooks/usePipelineAPI', () => ({
[7m   [0m [91m      ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m171[0m:[93m30[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m171[0m           sendStatusRequest: jest.fn(),
[7m   [0m [91m                             ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m170[0m:[93m32[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m170[0m           sendProgressRequest: jest.fn(),
[7m   [0m [91m                               ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m169[0m:[93m24[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m169[0m           sendMessage: jest.fn(),
[7m   [0m [91m                       ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m168[0m:[93m23[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m168[0m           disconnect: jest.fn(),
[7m   [0m [91m                      ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m167[0m:[93m20[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m167[0m           connect: jest.fn(),
[7m   [0m [91m                   ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m161[0m:[93m31[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m161[0m         usePipelineWebSocket: jest.fn(() => ({
[7m   [0m [91m                              ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m160[0m:[93m7[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m160[0m       jest.mock('@/hooks/usePipelineWebSocket', () => ({
[7m   [0m [91m      ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m68[0m:[93m5[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m68[0m     jest.clearAllMocks()
[7m  [0m [91m    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m54[0m:[93m14[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m54[0m     onError: jest.fn(),
[7m  [0m [91m             ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m53[0m:[93m26[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m53[0m     onExecutionComplete: jest.fn(),
[7m  [0m [91m                         ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m52[0m:[93m23[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m52[0m     onExecutionStart: jest.fn(),
[7m  [0m [91m                      ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m45[0m:[93m24[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m45[0m   removeEventListener: jest.fn(),
[7m  [0m [91m                       ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m44[0m:[93m21[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m44[0m   addEventListener: jest.fn(),
[7m  [0m [91m                    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m43[0m:[93m10[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m43[0m   close: jest.fn(),
[7m  [0m [91m         ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m42[0m:[93m9[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m42[0m   send: jest.fn(),
[7m  [0m [91m        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m41[0m:[93m20[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m41[0m global.WebSocket = jest.fn(() => ({
[7m  [0m [91m                   ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m31[0m:[93m18[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m31[0m     healthCheck: jest.fn(() =>
[7m  [0m [91m                 ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m30[0m:[93m27[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m30[0m     getAvailableDatasets: jest.fn(() => Promise.resolve([])),
[7m  [0m [91m                          ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m29[0m:[93m25[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m29[0m     getExecutionStatus: jest.fn(),
[7m  [0m [91m                        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m28[0m:[93m21[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m28[0m     startExecution: jest.fn(),
[7m  [0m [91m                    ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m25[0m:[93m19[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m25[0m   usePipelineAPI: jest.fn(() => ({
[7m  [0m [91m                  ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m24[0m:[93m1[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m24[0m jest.mock('@/hooks/usePipelineAPI', () => ({
[7m  [0m [91m~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m20[0m:[93m24[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m20[0m     sendStatusRequest: jest.fn(),
[7m  [0m [91m                       ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m19[0m:[93m26[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m19[0m     sendProgressRequest: jest.fn(),
[7m  [0m [91m                         ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m18[0m:[93m18[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m18[0m     sendMessage: jest.fn(),
[7m  [0m [91m                 ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m17[0m:[93m17[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m17[0m     disconnect: jest.fn(),
[7m  [0m [91m                ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m16[0m:[93m14[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m16[0m     connect: jest.fn(),
[7m  [0m [91m             ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m10[0m:[93m25[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m10[0m   usePipelineWebSocket: jest.fn(() => ({
[7m  [0m [91m                        ~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m9[0m:[93m1[0m - [91merror[0m[90m ts(2708): [0mCannot use namespace 'jest' as a value.

[7m9[0m jest.mock('@/hooks/usePipelineWebSocket', () => ({
[7m [0m [91m~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m6[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/contexts/PipelineAPIContext' or its corresponding type declarations.

[7m6[0m import { PipelineAPIProvider } from '@/contexts/PipelineAPIContext'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m5[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/contexts/WebSocketContext' or its corresponding type declarations.

[7m5[0m import { WebSocketProvider } from '@/contexts/WebSocketContext'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m4[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../PipelineDashboard' or its corresponding type declarations.

[7m4[0m import { PipelineDashboard } from '../PipelineDashboard'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m400[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'handler' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m400[0m       addEventListener: jest.fn((event, handler) => {
[7m   [0m [93m                                        ~~~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m400[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m400[0m       addEventListener: jest.fn((event, handler) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/components/pipeline/__tests__/PipelineDashboard.test.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/pipeline/__tests__/WebSocketProgressBar.test.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m418[0m:[93m58[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getProgressColor'.

[7m418[0m                           className={`h-2 rounded-full ${getProgressColor(patient.progress)}`}
[7m   [0m [91m                                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m240[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m240[0m                   : timeRange}
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m238[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m238[0m                 : timeRange === 'month'
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m236[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m236[0m               {timeRange === 'week'
[7m   [0m [91m               ~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m39[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m39[0m     [],
[7m  [0m [91m    ~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m36[0m:[93m38[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m36[0m   >('therapist_dashboard_timerange', 'month')
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m33[0m:[93m33[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m33[0m   >('therapist_dashboard_view', 'overview')
[7m  [0m [91m                                ~~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m80[0m:[93m48[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m80[0m   const analyticsData = patients.map((patient, index) => ({
[7m  [0m [93m                                               ~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/research/ResearchDashboard.tsx[0m:[93m53[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m53[0m     [],
[7m  [0m [91m    ~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m50[0m:[93m37[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m50[0m   >('research_dashboard_timerange', 'year')
[7m  [0m [91m                                    ~~~~~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m47[0m:[93m32[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m47[0m   >('research_dashboard_view', 'overview')
[7m  [0m [91m                               ~~~~~~~~~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m130[0m:[93m45[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m130[0m   const analyticsData = studies.map((study, index) => ({
[7m   [0m [93m                                            ~~~~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/security/FHEDemo.tsx[0m:[93m142[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'plaintextResult' is declared but its value is never read.

[7m142[0m     let plaintextResult: number
[7m   [0m [93m        ~~~~~~~~~~~~~~~[0m

[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m234[0m:[93m12[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TemporalEmotionAnalysis' to type '{ transitions: unknown[]; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'transitions' is missing in type 'TemporalEmotionAnalysis' but required in type '{ transitions: unknown[]; }'.

[7m234[0m         ? (data as { transitions: unknown[] }).transitions.length
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m231[0m:[93m12[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TemporalEmotionAnalysis' to type '{ criticalPoints: unknown[]; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'criticalPoints' is missing in type 'TemporalEmotionAnalysis' but required in type '{ criticalPoints: unknown[]; }'.

[7m231[0m         ? (data as { criticalPoints: unknown[] }).criticalPoints.length
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m181[0m:[93m11[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TemporalEmotionAnalysis' to type '{ dimensionalRelationships: unknown[]; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'dimensionalRelationships' is missing in type 'TemporalEmotionAnalysis' but required in type '{ dimensionalRelationships: unknown[]; }'.

[7m181[0m           data as { dimensionalRelationships: unknown[] }
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m153[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m153[0m           (progression?.['negativeEmotionChange'] || 0) >= 0
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m145[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m145[0m           (progression?.['positiveEmotionChange'] || 0) >= 0
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m139[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m139[0m           (progression?.['stabilityChange'] || 0) >= 0 ? '#3b82f6' : '#f97316',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m131[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m131[0m           (progression?.['overallImprovement'] || 0) >= 0
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m346[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m346[0m           {prepareCriticalPointsData().map((point) => (
[7m   [0m [93m                                            ~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m163[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'transition' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m163[0m     return data?.['transitions']?.slice(0, 10)?.map((transition) => ({
[7m   [0m [93m                                                     ~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m109[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m109[0m       data?.['criticalPoints']?.map((point) => ({
[7m   [0m [93m                                     ~~~~~[0m

[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m193[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'label' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m193[0m             labelFormatter={(label) => new Date(label).toLocaleTimeString()}
[7m   [0m [93m                             ~~~~~[0m
[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m185[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'name' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m185[0m             formatter={(value, name) => {
[7m   [0m [93m                               ~~~~[0m
[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m185[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m185[0m             formatter={(value, name) => {
[7m   [0m [93m                        ~~~~~[0m
[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m175[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tick' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m175[0m             tickFormatter={(tick) =>
[7m   [0m [93m                            ~~~~[0m

[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m602[0m:[93m31[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m602[0m               mat.forEach((m: THREE.Material) => m.dispose())
[7m   [0m [91m                              ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m597[0m:[93m44[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m597[0m         sceneRef.current.traverse((object: THREE.Object3D) => {
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m525[0m:[93m29[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m525[0m                   sphere as THREE.Sphere,
[7m   [0m [91m                            ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m520[0m:[93m35[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m520[0m           scene.traverse((object: THREE.Object3D) => {
[7m   [0m [91m                                  ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m333[0m:[93m14[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m333[0m         ) as THREE.Object3D[]
[7m   [0m [91m             ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m267[0m:[93m21[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m267[0m           position: THREE.Vector3,
[7m   [0m [91m                    ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m151[0m:[93m40[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m151[0m   const getOrCreateObject = <T extends THREE.Object3D>(
[7m   [0m [91m                                       ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m127[0m:[93m30[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m127[0m   const frustrumRef = useRef<THREE.Frustum | null>(null)
[7m   [0m [91m                             ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m124[0m:[93m44[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m124[0m   const objectPoolRef = useRef<Map<string, THREE.Object3D[]>>(new Map())
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m123[0m:[93m28[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m123[0m   const labelsRef = useRef<THREE.Object3D[]>([])
[7m   [0m [91m                           ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m122[0m:[93m28[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m122[0m   const pointsRef = useRef<THREE.Points | null>(null)
[7m   [0m [91m                           ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m121[0m:[93m30[0m - [91merror[0m[90m ts(2749): [0m'OrbitControls' refers to a value, but is being used as a type here. Did you mean 'typeof OrbitControls'?

[7m121[0m   const controlsRef = useRef<OrbitControls | null>(null)
[7m   [0m [91m                             ~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m120[0m:[93m28[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m120[0m   const cameraRef = useRef<THREE.PerspectiveCamera | null>(null)
[7m   [0m [91m                           ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m119[0m:[93m27[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m119[0m   const sceneRef = useRef<THREE.Scene | null>(null)
[7m   [0m [91m                          ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m118[0m:[93m30[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m118[0m   const rendererRef = useRef<THREE.WebGLRenderer | null>(null)
[7m   [0m [91m                             ~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m183[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialObjectPool' is declared but its value is never read.

[7m183[0m       const _initialObjectPool = objectPoolRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m182[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialScene' is declared but its value is never read.

[7m182[0m       const _initialScene = sceneRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m181[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialControls' is declared but its value is never read.

[7m181[0m       const _initialControls = controlsRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m180[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialRenderer' is declared but its value is never read.

[7m180[0m       const _initialRenderer = rendererRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'OrbitControls' is declared but its value is never read.

[7m4[0m import type { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/session/SessionAnalysis.tsx[0m:[93m92[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominantEmotion' does not exist on type 'EmotionApiItem'.

[7m92[0m                 ? { ...baseData, label: `${item.dominantEmotion}` }
[7m  [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m91[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominantEmotion' does not exist on type 'EmotionApiItem'.

[7m91[0m               return item.dominantEmotion
[7m  [0m [91m                          ~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m26[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useEffect'.

[7m26[0m   useEffect(() => {
[7m  [0m [91m  ~~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m24[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useState'.

[7m24[0m   const [emotionData, setEmotionData] = useState<EmotionDataPoint[]>([])
[7m  [0m [91m                                        ~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m23[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useState'.

[7m23[0m   const [error, setError] = useState<string | null>(null)
[7m  [0m [91m                            ~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m22[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useState'.

[7m22[0m   const [isLoading, setIsLoading] = useState(true)
[7m  [0m [91m                                    ~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m1[0m:[93m10[0m - [91merror[0m[90m ts(2459): [0mModule '"../../hooks/useSessionAnalytics"' declares 'EmotionDataPoint' locally, but it is not exported.

[7m1[0m import { EmotionDataPoint } from '../../hooks/useSessionAnalytics'
[7m [0m [91m         ~~~~~~~~~~~~~~~~[0m

[96msrc/components/session/SessionDocumentation.tsx[0m:[93m926[0m:[93m24[0m - [91merror[0m[90m ts(2488): [0mType 'readonly EmotionalPattern[] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m926[0m                     ...editableDocumentation.emotionalPatterns,
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionDocumentation.tsx[0m:[93m611[0m:[93m24[0m - [91merror[0m[90m ts(2488): [0mType 'readonly TherapeuticTechnique[] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m611[0m                     ...editableDocumentation.therapeuticTechniques,
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionDocumentation.tsx[0m:[93m165[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'readonly string[]'.

[7m165[0m       recommendedFollowUp:
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/testing/BrowserCompatibilityTester.tsx[0m:[93m29[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'vendor' is deprecated.

[7m29[0m       vendor: navigator.vendor,
[7m  [0m [93m                        ~~~~~~[0m
[96msrc/components/testing/BrowserCompatibilityTester.tsx[0m:[93m26[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'platform' is deprecated.

[7m26[0m       platform: navigator.platform,
[7m  [0m [93m                          ~~~~~~~~[0m

[96msrc/components/theme/ThemeProvider.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { createContext, useContext, useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/therapy/TherapeuticGoalsTracker.tsx[0m:[93m927[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m927[0m     interventions.push(commonInterventions[randomIndex])
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/therapy/TherapeuticGoalsTracker.tsx[0m:[93m892[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: number; progressPercent: number; notes: string; }' is not assignable to parameter of type 'never'.

[7m892[0m     history.push({
[7m   [0m [91m                 ~[0m
[7m893[0m       timestamp: now - weeksAgo * 604800000,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m898[0m           : `Continued progress on goal implementation, session ${i}`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m899[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/components/therapy/TherapeuticGoalsTracker.tsx[0m:[93m867[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ notes?: string | undefined; completedAt?: number | undefined; id: string; description: string; isCompleted: boolean; }' is not assignable to parameter of type 'never'.

[7m867[0m     checkpoints.push({
[7m   [0m [91m                     ~[0m
[7m868[0m       id: `cp-${i + 1}`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m872[0m       ...(isCompleted ? { notes: 'Good progress on this checkpoint' } : {}),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m873[0m     })
[7m   [0m [91m~~~~~[0m

[96msrc/components/therapy/TreatmentPlanManager.tsx[0m:[93m508[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m508[0m     setNewPlanData(JSON.parse(JSON.stringify(initialNewPlanData) as unknown)) // Reset with deep copy
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/therapy/TreatmentPlanManager.tsx[0m:[93m405[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m405[0m       setNewPlanData(JSON.parse(JSON.stringify(initialNewPlanData) as unknown))
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/therapy/TreatmentPlanManager.tsx[0m:[93m115[0m:[93m16[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m115[0m     JSON.parse(JSON.stringify(initialNewPlanData) as unknown),
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/therapy/__tests__/TherapeuticGoalsTracker.test.tsx[0m:[93m6[0m:[93m13[0m - [91merror[0m[90m ts(2739): [0mType '{}' is missing the following properties from type 'TherapeuticGoalsTrackerProps': patientModel, currentSession, therapistInterventions

[7m6[0m     render(<TherapeuticGoalsTracker />)
[7m [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/three/MultidimensionalEmotionChart.tsx[0m:[93m27[0m:[93m26[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m27[0m   const meshRef = useRef<THREE.Mesh>(null!)
[7m  [0m [91m                         ~~~~~[0m
[96msrc/components/three/MultidimensionalEmotionChart.tsx[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(objects: ConstructorRepresentation<any>): ExoticComponent<Mutable<Overwrite<Partial<Overwrite<any, MathProps<any> & (ReactProps<any> | (ReactProps<any> & Partial<...>))>>, Omit<...>>>>', gave the following error.
  Overload 2 of 2, '(objects: Catalogue): void', gave the following error.

[7m7[0m extend({ OrbitControls })
[7m [0m [91m         ~~~~~~~~~~~~~[0m
[96msrc/components/three/MultidimensionalEmotionChart.tsx[0m:[93m3[0m:[93m31[0m - [93mwarning[0m[90m ts(6133): [0m'Sphere' is declared but its value is never read.

[7m3[0m import { OrbitControls, Text, Sphere, Line } from '@react-three/drei'
[7m [0m [93m                              ~~~~~~[0m

[96msrc/components/three/Particle.tsx[0m:[93m136[0m:[93m19[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m136[0m         (child as THREE.Mesh).position.clone()
[7m   [0m [91m                  ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m43[0m:[93m29[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m43[0m       const mesh = child as THREE.Mesh
[7m  [0m [91m                            ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m36[0m:[93m50[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m36[0m   const [trailPoints, setTrailPoints] = useState<THREE.Vector3[]>([])
[7m  [0m [91m                                                 ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m35[0m:[93m35[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m35[0m   const trailGeometryRef = useRef<THREE.BufferGeometry>(null!)
[7m  [0m [91m                                  ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m34[0m:[93m27[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m34[0m   const groupRef = useRef<THREE.Group>(null!)
[7m  [0m [91m                          ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m30[0m:[93m18[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m30[0m   mousePosition: THREE.Vector3
[7m  [0m [91m                 ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(objects: ConstructorRepresentation<any>): ExoticComponent<Mutable<Overwrite<Partial<Overwrite<any, MathProps<any> & (ReactProps<any> | (ReactProps<any> & Partial<...>))>>, Omit<...>>>>', gave the following error.
  Overload 2 of 2, '(objects: Catalogue): void', gave the following error.

[7m7[0m extend({ OrbitControls })
[7m [0m [91m         ~~~~~~~~~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m175[0m:[93m52[0m - [93mwarning[0m[90m ts(6133): [0m'time' is declared but its value is never read.

[7m175[0m const getEmotionMovementFactor = (emotion: string, time: number) => {
[7m   [0m [93m                                                   ~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m135[0m:[93m72[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'child' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m135[0m       const newTrailPoints = groupRef.current.children.slice(0, 5).map(child =>
[7m   [0m [93m                                                                       ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m42[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m42[0m     groupRef.current.children.forEach((child, index) => {
[7m  [0m [93m                                              ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m42[0m:[93m40[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'child' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m42[0m     groupRef.current.children.forEach((child, index) => {
[7m  [0m [93m                                       ~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m1[0m:[93m34[0m - [93mwarning[0m[90m ts(6133): [0m'useEffect' is declared but its value is never read.

[7m1[0m import React, { useRef, useMemo, useEffect, useState } from 'react'
[7m [0m [93m                                 ~~~~~~~~~[0m

[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m364[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Variant' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.
  Type 'TargetResolver' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.

[7m364[0m       initial={masterSequence?.['initial'] || {}}
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m319[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Variant' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.
  Type 'TargetResolver' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.

[7m319[0m       initial={currentVariants['initial'] || {}}
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m289[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ transition: { duration: number; ease: number[] | readonly [0.25, 0.1, 0.25, 1] | readonly [0.4, 0, 1, 1] | readonly [0, 0, 0.2, 1] | readonly [0.4, 0, 0.2, 1] | readonly [0.34, 1.56, 0.64, 1] | readonly [0.22, 1, 0.36, 1] | readonly [0.68, -0.55, 0.265, 1.55] | undefined; delay: number; }; ... 701 more ...; transi...' is not assignable to parameter of type 'AnimationDefinition'.
  Types of property 'transition' are incompatible.

[7m289[0m       await controls.start({
[7m   [0m [91m                           ~[0m
[7m290[0m         ...step.variants['animate'],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m295[0m         },
[7m   [0m [91m~~~~~~~~~~[0m
[7m296[0m       })
[7m   [0m [91m~~~~~~~[0m

[96msrc/components/treatment/TreatmentPlanManager.tsx[0m:[93m53[0m:[93m23[0m - [93mwarning[0m[90m ts(6133): [0m'setEditingGoal' is declared but its value is never read.

[7m53[0m   const [editingGoal, setEditingGoal] = useState<string | null>(null)
[7m  [0m [93m                      ~~~~~~~~~~~~~~[0m
[96msrc/components/treatment/TreatmentPlanManager.tsx[0m:[93m53[0m:[93m10[0m - [93mwarning[0m[90m ts(6133): [0m'editingGoal' is declared but its value is never read.

[7m53[0m   const [editingGoal, setEditingGoal] = useState<string | null>(null)
[7m  [0m [93m         ~~~~~~~~~~~[0m

[96msrc/components/ui/AccessibilityAnnouncer.tsx[0m:[93m27[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m27[0m   useEffect(() => {
[7m  [0m [91m            ~~~~~~~[0m
[96msrc/components/ui/AccessibilityAnnouncer.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/BiasAnalysisResults.tsx[0m:[93m385[0m:[93m43[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m385[0m                 {layerResults.map((layer, index) => (
[7m   [0m [93m                                          ~~~~~[0m

[96msrc/components/ui/BiasDetectionForm.tsx[0m:[93m440[0m:[93m16[0m - [91merror[0m[90m ts(2528): [0mA module cannot have multiple default exports.

[7m440[0m export default BiasDetectionForm
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/BiasDetectionForm.tsx[0m:[93m439[0m:[93m16[0m - [91merror[0m[90m ts(2528): [0mA module cannot have multiple default exports.

[7m439[0m export default BiasDetectionForm
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/BrainVisualization.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useRef, useMemo, useCallback } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/EnhancedMentalHealthChat.tsx[0m:[93m358[0m:[93m17[0m - [93mwarning[0m[90m ts(6385): [0m'onKeyPress' is deprecated.

[7m358[0m                 onKeyPress={handleKeyPress}
[7m   [0m [93m                ~~~~~~~~~~[0m

[96msrc/components/ui/KonamiTrigger.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/LazyChart.tsx[0m:[93m228[0m:[93m8[0m - [91merror[0m[90m ts(2741): [0mProperty 'dataKey' is missing in type '{}' but required in type 'AreaProps'.

[7m228[0m       <LazyArea {...props} />
[7m   [0m [91m       ~~~~~~~~[0m
[96msrc/components/ui/LazyChart.tsx[0m:[93m101[0m:[93m43[0m - [91merror[0m[90m ts(2322): [0mType 'ReactNode' is not assignable to type 'ReactElement<unknown, string | JSXElementConstructor<any>>'.
  Type 'undefined' is not assignable to type 'ReactElement<unknown, string | JSXElementConstructor<any>>'.

[7m101[0m       <LazyResponsiveContainer {...props}>{children}</LazyResponsiveContainer>
[7m   [0m [91m                                          ~~~~~~~~~~[0m
[96msrc/components/ui/LazyChart.tsx[0m:[93m100[0m:[93m39[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'number | undefined'.

[7m100[0m     <Suspense fallback={<ChartLoading height={props['height']} />}>
[7m   [0m [91m                                      ~~~~~~[0m

[96msrc/components/ui/MindMirrorDashboard.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useMemo } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/OfflineIndicator.tsx[0m:[93m22[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'connectionInfo' does not exist on type 'void'.

[7m22[0m   const { isOffline, connectionInfo } = useOffline({
[7m  [0m [91m                     ~~~~~~~~~~~~~~[0m
[96msrc/components/ui/OfflineIndicator.tsx[0m:[93m22[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'isOffline' does not exist on type 'void'.

[7m22[0m   const { isOffline, connectionInfo } = useOffline({
[7m  [0m [91m          ~~~~~~~~~[0m
[96msrc/components/ui/OfflineIndicator.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/ServiceWorkerUpdater.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/SwiperCarousel.tsx[0m:[93m222[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '{ children: Element[]; className: string; fadeEffect?: { crossFade: boolean; } | undefined; coverflowEffect?: { rotate: number; stretch: number; depth: number; modifier: number; slideShadows: boolean; } | undefined; ... 14 more ...; onSlideChange: ((swiper: Swiper) => void) | undefined; }' is not assignable to type 'SwiperOptions'.
  Types of property 'breakpoints' are incompatible.

[7m222[0m       <Swiper {...swiperProps} className="w-full h-full">
[7m   [0m [91m       ~~~~~~[0m
[96msrc/components/ui/SwiperCarousel.tsx[0m:[93m66[0m:[93m21[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m66[0m   const swiperRef = useRef<SwiperType>()
[7m  [0m [91m                    ~~~~~~[0m

[96msrc/components/ui/ToastProvider.tsx[0m:[93m23[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'success' does not exist in type 'Partial<Partial<Pick<Toast, "duration" | "style" | "className" | "id" | "icon" | "position" | "ariaProps" | "iconTheme" | "toasterId" | "removeDelay">>>'.

[7m23[0m         success: {
[7m  [0m [91m        ~~~~~~~[0m

[96msrc/components/ui/UserMenu.tsx[0m:[93m58[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user_metadata' does not exist on type 'AuthUser'.

[7m58[0m               {user.user_metadata?.full_name || user.email}
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m47[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user_metadata' does not exist on type 'AuthUser'.

[7m47[0m           src={user.user_metadata?.avatar_url}
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m3[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module './avatar' or its corresponding type declarations.

[7m3[0m import { Avatar } from './avatar'
[7m [0m [91m                       ~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useRef, useEffect } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/alert-dialog.tsx[0m:[93m3[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/ui/button' or its corresponding type declarations.

[7m3[0m import { buttonVariants } from '~/components/ui/button'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/alert-dialog.tsx[0m:[93m2[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m2[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/dialog.tsx[0m:[93m305[0m:[93m31[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'KeyboardEvent<HTMLDivElement>' to type 'MouseEvent<HTMLDivElement, MouseEvent>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'KeyboardEvent<HTMLDivElement>' is missing the following properties from type 'MouseEvent<HTMLDivElement, MouseEvent>': button, buttons, clientX, clientY, and 7 more.

[7m305[0m           handleBackdropClick(e as React.MouseEvent<HTMLDivElement>)
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/rubiks-cube.tsx[0m:[93m156[0m:[93m36[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m156[0m const RubiksCubeModel = forwardRef<THREE.Group, RubiksCubeModelProps>(
[7m   [0m [91m                                   ~~~~~[0m
[96msrc/components/ui/rubiks-cube.tsx[0m:[93m109[0m:[93m24[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'THREE'.

[7m109[0m   const light = useRef<THREE.SpotLight>(null!)
[7m   [0m [91m                       ~~~~~[0m
[96msrc/components/ui/rubiks-cube.tsx[0m:[93m15[0m:[93m28[0m - [91merror[0m[90m ts(2305): [0mModule '"three"' has no exported member 'Object3D'.

[7m15[0m import { Vector3, Matrix4, Object3D } from 'three'
[7m  [0m [91m                           ~~~~~~~~[0m
[96msrc/components/ui/rubiks-cube.tsx[0m:[93m15[0m:[93m19[0m - [91merror[0m[90m ts(2305): [0mModule '"three"' has no exported member 'Matrix4'.

[7m15[0m import { Vector3, Matrix4, Object3D } from 'three'
[7m  [0m [91m                  ~~~~~~~[0m
[96msrc/components/ui/rubiks-cube.tsx[0m:[93m15[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"three"' has no exported member 'Vector3'.

[7m15[0m import { Vector3, Matrix4, Object3D } from 'three'
[7m  [0m [91m         ~~~~~~~[0m
[96msrc/components/ui/rubiks-cube.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'THREE' is declared but its value is never read.

[7m2[0m import * as THREE from 'three'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/skeleton.tsx[0m:[93m103[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'never'.

[7m103[0m       <Skeleton
[7m   [0m [91m      ~~~~~~~~~[0m
[7m104[0m         key={`text-line-${i}`}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m111[0m         {...props}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m112[0m       />,
[7m   [0m [91m~~~~~~~~[0m
[96msrc/components/ui/skeleton.tsx[0m:[93m71[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'never'.

[7m71[0m       items.push(<br key={`br-${i}`} />)
[7m  [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/skeleton.tsx[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'never'.

[7m 61[0m       <span
[7m   [0m [91m      ~~~~~[0m
[7m 62[0m         key={`skeleton-${i}`}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 65[0m         {...props}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m 66[0m       />,
[7m   [0m [91m~~~~~~~~[0m

[96msrc/components/ui/table.tsx[0m:[93m453[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'never'.

[7m453[0m       pages.push(i)
[7m   [0m [91m                 ~[0m

[96msrc/components/ui/tabs.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, {
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/textarea.tsx[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/button/button.tsx[0m:[93m75[0m:[93m7[0m - [91merror[0m[90m ts(2698): [0mSpread types may only be created from object types.

[7m75[0m       ...getAriaProps({ loading, disabled, ...props }),
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/button/button.tsx[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/form/MobileFormValidation.tsx[0m:[93m336[0m:[93m19[0m - [91merror[0m[90m ts(2352): [0mConversion of type '(e: Event) => void' to type 'FocusEventHandler<Element>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'e' and 'event' are incompatible.

[7m336[0m         'onBlur': handleBlur as React.FocusEventHandler,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/form/MobileFormValidation.tsx[0m:[93m335[0m:[93m21[0m - [91merror[0m[90m ts(2352): [0mConversion of type '(e: Event) => void' to type 'ChangeEventHandler<Element>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'e' and 'event' are incompatible.

[7m335[0m         'onChange': handleChange as React.ChangeEventHandler,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/advancedVisualization.tsx[0m:[93m66[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '((insight: AnalyticsInsight) => void) | undefined' is not assignable to parameter of type '(value: AnalyticsInsight, index: number, array: AnalyticsInsight[]) => void'.
  Type 'undefined' is not assignable to type '(value: AnalyticsInsight, index: number, array: AnalyticsInsight[]) => void'.

[7m66[0m     generatedInsights.forEach(onInsightGenerated)
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m45[0m:[93m10[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m45[0m   public render() {
[7m  [0m [91m         ~~~~~~[0m
[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m29[0m:[93m10[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m29[0m   public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m20[0m:[93m10[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m20[0m   public state: State = {
[7m  [0m [91m         ~~~~~[0m

[96msrc/lib/metaaligner/explainability/visualization.tsx[0m:[93m6[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/components/ui/charts' or its corresponding type declarations.

[7m6[0m import { LineChart, PieChart } from '@/components/ui/charts'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/providers/ErrorBoundary.tsx[0m:[93m43[0m:[93m3[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m43[0m   render() {
[7m  [0m [91m  ~~~~~~[0m
[96msrc/lib/providers/ErrorBoundary.tsx[0m:[93m32[0m:[93m3[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m32[0m   componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m235[0m:[93m29[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m235[0m           return JSON.parse(parsed.data) as unknown
[7m   [0m [91m                            ~~~~~~[0m
[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m234[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m234[0m         if (parsed.data) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m132[0m:[93m26[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m132[0m         await fheService.initialize()
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m74[0m:[93m30[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m74[0m             await fheService.initialize()
[7m  [0m [91m                             ~~~~~~~~~~[0m

[96msrc/lib/providers/SharedProviders.tsx[0m:[93m7[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module './NotificationProvider' or its corresponding type declarations.

[7m7[0m import { NotificationProvider } from './NotificationProvider'
[7m [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/providers/SharedProviders.tsx[0m:[93m4[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module './AuthProvider' or its corresponding type declarations.

[7m4[0m import { AuthProvider } from './AuthProvider'
[7m [0m [91m                             ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/providers/SharedProviders.tsx[0m:[93m3[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module './AnalyticsProvider' or its corresponding type declarations.

[7m3[0m import { AnalyticsProvider } from './AnalyticsProvider'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m362[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, unknown>'.

[7m362[0m         await importState(state)
[7m   [0m [91m                          ~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m131[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'refreshStats' is used before being assigned.

[7m131[0m     refreshStats,
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m131[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'refreshStats' used before its declaration.

[7m131[0m     refreshStats,
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m130[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'createBackup' is used before being assigned.

[7m130[0m     createBackup,
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m130[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'createBackup' used before its declaration.

[7m130[0m     createBackup,
[7m   [0m [91m    ~~~~~~~~~~~~[0m

[96msrc/lib/providers/__tests__/providers.test.tsx[0m:[93m19[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'securityLevel' does not exist on type 'SecurityContextValue'.

[7m19[0m   const { securityLevel, setSecurityLevel } = useSecurity()
[7m  [0m [91m          ~~~~~~~~~~~~~[0m

[96msrc/lib/utils/dynamic-components.tsx[0m:[93m73[0m:[93m6[0m - [91merror[0m[90m ts(2741): [0mProperty 'data' is missing in type '{}' but required in type 'EmotionTemporalAnalysisChartProps'.

[7m73[0m     <EmotionTemporalAnalysisChart {...props} />
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/index.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useAnonymizedMetrics' is declared but its value is never read.

[7m2[0m import { useAnonymizedMetrics } from './hooks'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/components/EmotionDetector.tsx[0m:[93m18[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'isProcessing' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m18[0m   const { isRunning, isProcessing } = useSimulatorContext()
[7m  [0m [91m                     ~~~~~~~~~~~~[0m
[96msrc/simulator/components/EmotionDetector.tsx[0m:[93m18[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'isRunning' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m18[0m   const { isRunning, isProcessing } = useSimulatorContext()
[7m  [0m [91m          ~~~~~~~~~[0m

[96msrc/simulator/components/EmpathyMeter.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useRef } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m64[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'isConnected' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m64[0m   const { realtimeFeedback, clearFeedback, isConnected } = useSimulator()
[7m  [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m64[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'clearFeedback' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m64[0m   const { realtimeFeedback, clearFeedback, isConnected } = useSimulator()
[7m  [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m64[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'realtimeFeedback' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m64[0m   const { realtimeFeedback, clearFeedback, isConnected } = useSimulator()
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m117[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m117[0m         {realtimeFeedback.map((feedback, index) => (
[7m   [0m [93m                                         ~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m117[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'feedback' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m117[0m         {realtimeFeedback.map((feedback, index) => (
[7m   [0m [93m                               ~~~~~~~~[0m

[96msrc/simulator/components/RealTimeFeedbackPanel.tsx[0m:[93m74[0m:[93m47[0m - [91merror[0m[90m ts(2694): [0mNamespace 'global.JSX' has no exported member 'Element'.

[7m74[0m   const getFeedbackIcon = (type: string): JSX.Element => {
[7m  [0m [91m                                              ~~~~~~~[0m
[96msrc/simulator/components/RealTimeFeedbackPanel.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useEffect } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/simulator/components/RealTimePrompts.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'cognitive_behavioral' does not exist in type 'Record<TherapeuticDomain, string>'.

[7m11[0m   cognitive_behavioral: 'Cognitive Behavioral Therapy',
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m2[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'SimulationScenario'.

[7m2[0m import type { SimulationScenario, TherapeuticDomain } from '../types'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m134[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'word' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m134[0m                     .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
[7m   [0m [93m                          ~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m127[0m:[93m43[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'skill' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m127[0m               {scenario.targetSkills.map((skill) => (
[7m   [0m [93m                                          ~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m117[0m:[93m52[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'approach' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m117[0m                 {scenario.suggestedApproaches.map((approach) => (
[7m   [0m [93m                                                   ~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m105[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'issue' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m105[0m               {scenario.presentingIssues.map((issue) => (
[7m   [0m [93m                                              ~~~~~[0m

[96msrc/simulator/components/ScenarioSelector.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useMemo } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m304[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type '{}'.

[7m304[0m         <h2>{currentScenario?.title || 'Therapeutic Simulation'}</h2>
[7m   [0m [91m                              ~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m236[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m236[0m             : [...prev, latestFeedback.suggestedTechnique!],
[7m   [0m [91m                        ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m234[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m234[0m           prev.includes(latestFeedback.suggestedTechnique!)
[7m   [0m [91m                        ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m232[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m232[0m       if (latestFeedback.suggestedTechnique) {
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m225[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m225[0m               timestamp: latestFeedback.timestamp,
[7m   [0m [91m                         ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m223[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m223[0m                 latestFeedback.suggestion ||
[7m   [0m [91m                ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m222[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m222[0m                 latestFeedback.content ||
[7m   [0m [91m                ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m211[0m:[93m36[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m211[0m                 item.timestamp === latestFeedback.timestamp,
[7m   [0m [91m                                   ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m204[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m204[0m       if (latestFeedback.content || latestFeedback.suggestion) {
[7m   [0m [91m                                    ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m204[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'latestFeedback' is of type 'unknown'.

[7m204[0m       if (latestFeedback.content || latestFeedback.suggestion) {
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m201[0m:[93m30[0m - [91merror[0m[90m ts(18048): [0m'realtimeFeedback' is possibly 'undefined'.

[7m201[0m       const latestFeedback = realtimeFeedback[0]
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m200[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'realtimeFeedback' is possibly 'undefined'.

[7m200[0m     if (realtimeFeedback.length > 0) {
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m157[0m:[93m7[0m - [91merror[0m[90m ts(2722): [0mCannot invoke an object which is possibly 'undefined'.

[7m157[0m       endSimulation().catch((err) =>
[7m   [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationContainer.tsx[0m:[93m143[0m:[93m7[0m - [91merror[0m[90m ts(2722): [0mCannot invoke an object which is possibly 'undefined'.

[7m143[0m       startSimulation(scenarioId)
[7m   [0m [91m      ~~~~~~~~~~~~~~~[0m

[96msrc/simulator/components/SimulationControls.tsx[0m:[93m115[0m:[93m17[0m - [91merror[0m[90m ts(2722): [0mCannot invoke an object which is possibly 'undefined'.

[7m115[0m                 toggleEnhancedModels(e.target?.['checked'] || false)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SimulationControls.tsx[0m:[93m97[0m:[93m31[0m - [91merror[0m[90m ts(2722): [0mCannot invoke an object which is possibly 'undefined'.

[7m97[0m               onChange={() => toggleSpeechRecognition()}
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/components/SpeechPatternDisplay.tsx[0m:[93m5[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'speechPatterns' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m5[0m   const { speechPatterns } = useSimulator()
[7m [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/SpeechPatternDisplay.tsx[0m:[93m22[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m22[0m         {speechPatterns.map((pattern) => (
[7m  [0m [93m                             ~~~~~~~[0m

[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m246[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m246[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m194[0m:[93m34[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useCallback'.

[7m194[0m   const handleSignalingMessage = useCallback(
[7m   [0m [91m                                 ~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m177[0m:[93m30[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useCallback'.

[7m177[0m   const createAndSendOffer = useCallback(async () => {
[7m   [0m [91m                             ~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m173[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'createAndSendOffer' used before its declaration.

[7m173[0m     createAndSendOffer,
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m147[0m:[93m35[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useCallback'.

[7m147[0m   const handleConnectionFailure = useCallback(async () => {
[7m   [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m112[0m:[93m28[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useCallback'.

[7m112[0m   const setupMediaStream = useCallback(async () => {
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m109[0m:[93m51[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'handleConnectionFailure' used before its declaration.

[7m109[0m   }, [sessionId, userId, onConnectionStateChange, handleConnectionFailure])
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m58[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useCallback'.

[7m58[0m   const initializePeerConnection = useCallback(() => {
[7m  [0m [91m                                   ~~~~~~~~~~~[0m

[96msrc/simulator/components/__tests__/TechniqueDisplay.test.tsx[0m:[93m38[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ name: string; confidence: number; }[]' is not assignable to parameter of type 'null | undefined'.

[7m38[0m     renderWithContext(mockTechniques)
[7m  [0m [91m                      ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/__tests__/TechniqueDisplay.test.tsx[0m:[93m28[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ name: string; confidence: number; }[]' is not assignable to parameter of type 'null | undefined'.

[7m28[0m     renderWithContext(mockTechniques)
[7m  [0m [91m                      ~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/__tests__/TechniqueDisplay.test.tsx[0m:[93m13[0m:[93m40[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type 'DetectedTechnique[] | undefined'.

[7m13[0m     <SimulatorProvider initialState={{ detectedTechniques: techniques }}>
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~~~[0m

[96msrc/tests/components/demo/ScenarioGenerationDemo.test.tsx[0m:[93m2[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../components/demo/ScenarioGenerationDemo' or its corresponding type declarations.

[7m2[0m import ScenarioGenerationDemo from '../components/demo/ScenarioGenerationDemo'
[7m [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/tests/components/ui/ProgressBar.test.tsx[0m:[93m2[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../components/ui/progress-bar' or its corresponding type declarations.

[7m2[0m import ProgressBar from '../components/ui/progress-bar'
[7m [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/TodoComponent.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module './Todo' or its corresponding type declarations.

[7m2[0m import { Todo } from './Todo'
[7m [0m [91m                     ~~~~~~~~[0m

[96msrc/components/TodoPreactIsland.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module './Todo' or its corresponding type declarations.

[7m2[0m import { Todo } from './Todo'
[7m [0m [91m                     ~~~~~~~~[0m

[96msrc/components/admin/DLPRulesManager.astro[0m:[93m153[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m153[0m     document.addEventListener('dlp:error', (e) => {
[7m   [0m [93m                                            ~[0m
[96msrc/components/admin/DLPRulesManager.astro[0m:[93m145[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m145[0m     document.addEventListener('dlp:rule-saved', (e) => {
[7m   [0m [93m                                                 ~[0m
[96msrc/components/admin/DLPRulesManager.astro[0m:[93m137[0m:[93m52[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m137[0m     document.addEventListener('dlp:rule-updated', (e) => {
[7m   [0m [93m                                                   ~[0m

[96msrc/components/analytics/AdvancedFilteringComponent.astro[0m:[93m822[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m822[0m       applyButton.addEventListener('click', (_event) => {
[7m   [0m [93m                                             ~~~~~~[0m
[96msrc/components/analytics/AdvancedFilteringComponent.astro[0m:[93m779[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m779[0m       resetButton.addEventListener('click', (_event) => {
[7m   [0m [93m                                             ~~~~~~[0m

[96msrc/components/base/Backdrop.astro[0m:[93m14[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/animation' or its corresponding type declarations.

[7m14[0m   import { toggleFadeEffect } from '~/utils/animation'
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/base/Categorizer.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m3[0m import { UI } from '~/config'
[7m [0m [91m                   ~~~~~~~~~~[0m
[96msrc/components/base/Categorizer.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m2[0m import { slug } from '~/utils/common'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~[0m

[96msrc/components/media/BackgroundImage.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/components/media/OptimizedImage.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/components/media/ResponsiveImage.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/components/monitoring/WebPerformanceDashboard.astro[0m:[93m3[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'getPerformanceIndicator' is declared but its value is never read.

[7m3[0m import { getPerformanceIndicator } from '@/lib/monitoring/hooks'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/monitoring/WebPerformanceDashboard.astro[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'getMonitoringConfig' is declared but its value is never read.

[7m2[0m import { getMonitoringConfig } from '@/lib/monitoring/config'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/security/FHEDemo.astro[0m:[93m10[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'CardFooter' is declared but its value is never read.

[7m10[0m import CardFooter from '@/components/ui/CardFooter.astro'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/FHEDemo.astro[0m:[93m270[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'encrypted' is declared but its value is never read.

[7m270[0m     encrypted: string,
[7m   [0m [93m    ~~~~~~~~~[0m

[96msrc/components/security/SecurityDashboard.astro[0m:[93m231[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'mockStats' is declared but its value is never read.

[7m231[0m   const mockStats: SecurityStats = {
[7m   [0m [93m        ~~~~~~~~~[0m

[96msrc/components/session/SessionList.astro[0m:[93m41[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m41[0m         {sessions.map((session) => (
[7m  [0m [93m                       ~~~~~~~[0m

[96msrc/components/tailus/AppHeader.astro[0m:[93m4[0m:[93m53[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-button' or its corresponding type declarations.

[7m4[0m import { button, ghostButton, outlinedButton } from '@tailus/themer-button'
[7m [0m [91m                                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/BentoGrid.astro[0m:[93m4[0m:[93m45[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-card' or its corresponding type declarations.

[7m4[0m import { softGradientVariant as card } from '@tailus/themer-card'
[7m [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/CallToAction.astro[0m:[93m5[0m:[93m40[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-button' or its corresponding type declarations.

[7m5[0m import { button, outlinedButton } from '@tailus/themer-button'
[7m [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/HeroSection.astro[0m:[93m4[0m:[93m40[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-button' or its corresponding type declarations.

[7m4[0m import { button, outlinedButton } from '@tailus/themer-button'
[7m [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/SpeedSection.astro[0m:[93m4[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-progress' or its corresponding type declarations.

[7m4[0m import { progress } from '@tailus/themer-progress'
[7m [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/Testimonials.astro[0m:[93m3[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-card' or its corresponding type declarations.

[7m3[0m import { softVariant as card } from '@tailus/themer-card'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/toc/Toc.astro[0m:[93m10[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/types' or its corresponding type declarations.

[7m10[0m import type { HeadingLevel } from '~/types'
[7m  [0m [91m                                  ~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m9[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MarkdownHeading'.

[7m9[0m import type { MarkdownHeading } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m7[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m7[0m import { FEATURES } from '~/config'
[7m [0m [91m                         ~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m6[0m:[93m29[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/toc' or its corresponding type declarations.

[7m6[0m import { generateToc } from '~/utils/toc'
[7m [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m5[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m5[0m import { slug } from '~/utils/common'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m4[0m:[93m21[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/toc/TocItem.astro' or its corresponding type declarations.

[7m4[0m import TocItem from '~/components/toc/TocItem.astro'
[7m [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m3[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/toc/TocButton.astro' or its corresponding type declarations.

[7m3[0m import TocButton from '~/components/toc/TocButton.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m113[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m113[0m           years.map((item) => (
[7m   [0m [93m                     ~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m103[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m103[0m           category.map((item) => (
[7m   [0m [93m                        ~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m99[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'heading' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m99[0m           specHeadings.map((heading) => <TocItem {heading} />)
[7m  [0m [93m                            ~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m85[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m85[0m             years.map((item) => (
[7m  [0m [93m                       ~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m75[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m75[0m             category.map((item) => (
[7m  [0m [93m                          ~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m71[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'heading' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m71[0m             specHeadings.map((heading) => <TocItem {heading} />)
[7m  [0m [93m                              ~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m238[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m238[0m           : levelSelectors.push(`h${i}`)
[7m   [0m [91m                                ~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m237[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m237[0m           ? levelSelectors.push(`${baseSelector} h${i}`)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/toc/TocButton.astro[0m:[93m59[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Event' is not assignable to parameter of type 'MouseEvent'.
  Type 'Event' is missing the following properties from type 'MouseEvent': altKey, button, buttons, clientX, and 23 more.

[7m59[0m       handleClickToClose(event),
[7m  [0m [91m                         ~~~~~[0m
[96msrc/components/toc/TocButton.astro[0m:[93m47[0m:[93m28[0m - [91merror[0m[90m ts(2551): [0mProperty 'targe' does not exist on type 'MouseEvent'. Did you mean 'target'?

[7m47[0m       const target = event.targe
[7m  [0m [91m                           ~~~~~[0m
[96msrc/components/toc/TocButton.astro[0m:[93m33[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/animation' or its corresponding type declarations.

[7m33[0m   import { toggleFadeEffect } from '~/utils/animation'
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/toc/TocItem.astro[0m:[93m24[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'subheading' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m24[0m         {children.map((subheading) => (
[7m  [0m [93m                       ~~~~~~~~~~[0m

[96msrc/components/transitions/PageTransitions.astro[0m:[93m177[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'newDocument' does not exist on type 'Event'.

[7m177[0m     const newDocument = event.newDocument
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/components/transitions/PageTransitions.astro[0m:[93m177[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'newDocument' is declared but its value is never read.

[7m177[0m     const newDocument = event.newDocument
[7m   [0m [93m          ~~~~~~~~~~~[0m

[96msrc/components/ui/Alert.astro[0m:[93m102[0m:[93m49[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m102[0m       button.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/components/ui/Alert.astro[0m:[93m100[0m:[93m58[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m100[0m   document.addEventListener('DOMContentLoaded', (_event: Event) => {
[7m   [0m [91m                                                         ~~~~~[0m

[96msrc/components/ui/Card.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardAction.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardContent.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardDescription.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardFooter.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardHeader.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardTitle.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/PageHeader.astro[0m:[93m18[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m18[0m       {actions.map((a) => (
[7m  [0m [93m                    ~[0m

[96msrc/components/ui/Surface.astro[0m:[93m2[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'Props' is declared but never used.

[7m2[0m interface Props {
[7m [0m [93m          ~~~~~[0m

[96msrc/components/views/GithubItem.astro[0m:[93m4[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/data' or its corresponding type declarations.

[7m4[0m import { VERSION_COLOR } from '~/utils/data'
[7m [0m [91m                              ~~~~~~~~~~~~~~[0m
[96msrc/components/views/GithubItem.astro[0m:[93m3[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/datetime' or its corresponding type declarations.

[7m3[0m import { formatDate } from '~/utils/datetime'
[7m [0m [91m                           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GithubItem.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/GroupItem.astro[0m:[93m4[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/content/schema' or its corresponding type declarations.

[7m4[0m import type { ProjectSchema } from '~/content/schema'
[7m [0m [91m                                   ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GroupItem.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m3[0m import { UI } from '~/config'
[7m [0m [91m                   ~~~~~~~~~~[0m
[96msrc/components/views/GroupItem.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/GroupView.astro[0m:[93m6[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m6[0m import { FEATURES, UI } from '~/config'
[7m [0m [91m                             ~~~~~~~~~~[0m
[96msrc/components/views/GroupView.astro[0m:[93m5[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/views/GroupItem.astro' or its corresponding type declarations.

[7m5[0m import GroupItem from '~/components/views/GroupItem.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GroupView.astro[0m:[93m4[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Categorizer.astro' or its corresponding type declarations.

[7m4[0m import Categorizer from '~/components/base/Categorizer.astro'
[7m [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GroupView.astro[0m:[93m3[0m:[93m17[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/toc/Toc.astro' or its corresponding type declarations.

[7m3[0m import Toc from '~/components/toc/Toc.astro'
[7m [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/ListItem.astro[0m:[93m4[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/datetime' or its corresponding type declarations.

[7m4[0m import { formatDate } from '~/utils/datetime'
[7m [0m [91m                           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/ListItem.astro[0m:[93m3[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m3[0m import { getUrl } from '~/utils/common'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/ListItem.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/RenderPage.astro[0m:[93m14[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'tocComponent' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m let tocComponent
[7m  [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/components/views/RenderPage.astro[0m:[93m13[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'contentResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m13[0m let contentResult
[7m  [0m [93m    ~~~~~~~~~~~~~[0m

[96msrc/components/views/RenderPost.astro[0m:[93m14[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'tocComponent' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m let tocComponent
[7m  [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/components/views/RenderPost.astro[0m:[93m13[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'contentResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m13[0m let contentResult
[7m  [0m [93m    ~~~~~~~~~~~~~[0m

[96msrc/components/widgets/LogoButton.astro[0m:[93m4[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m4[0m import { SITE } from '~/config'
[7m [0m [91m                     ~~~~~~~~~~[0m
[96msrc/components/widgets/LogoButton.astro[0m:[93m3[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m3[0m import { getUrl } from '~/utils/common'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/components/widgets/LogoButton.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/widgets/NavSwitch.astro[0m:[93m32[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/animation' or its corresponding type declarations.

[7m32[0m   import { toggleFadeEffect } from '~/utils/animation'
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/widgets/RssLink.astro[0m:[93m3[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m3[0m import { getUrl } from '~/utils/common'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/components/widgets/RssLink.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/widgets/SearchSwitch.astro[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m2[0m import { getUrl } from '~/utils/common'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/components/widgets/SearchSwitch.astro[0m:[93m54[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/animation' or its corresponding type declarations.

[7m54[0m   import { toggleFadeEffect } from '~/utils/animation'
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/widgets/ShareLink.astro[0m:[93m289[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '[boolean, (string | undefined)?] | undefined'.

[7m289[0m           href={linkConfig.formatUrl(initialPostUrl, provider.cfg)}
[7m   [0m [91m                                                     ~~~~~~~~~~~~[0m
[96msrc/components/widgets/ShareLink.astro[0m:[93m3[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/types' or its corresponding type declarations.

[7m3[0m import type { ShareConfig } from '~/types'
[7m [0m [91m                                 ~~~~~~~~~[0m
[96msrc/components/widgets/ShareLink.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/widgets/ShareLink.astro[0m:[93m121[0m:[93m15[0m - [93mwarning[0m[90m ts(6196): [0m'_ShareLink' is declared but never used.

[7m121[0m     interface _ShareLink {
[7m   [0m [93m              ~~~~~~~~~~[0m

[96msrc/components/widgets/SwiperCarousel.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro:assets"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro:assets'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/layouts/AuthLayout.astro[0m:[93m23[0m:[93m49[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; title: any; description: any; bgType: "dot"; transitionMode: any; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'transitionMode' does not exist on type 'IntrinsicAttributes & Props'. Did you mean ''transition:name''?

[7m23[0m <BaseLayout {title} {description} bgType="dot" {transitionMode}>
[7m  [0m [91m                                                ~~~~~~~~~~~~~~[0m

[96msrc/layouts/BaseLayout.astro[0m:[93m48[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'media' is declared but its value is never read.

[7m48[0m       onload="this.media='all'"
[7m  [0m [93m                   ~~~~~[0m
[96msrc/layouts/BaseLayout.astro[0m:[93m85[0m:[93m7[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m85[0m       src="https://js.sentry-cdn.com/ef4ca2c0d2530a95efb0ef55c168b661.min.js"
[7m  [0m [93m      ~~~[0m
[96msrc/layouts/BaseLayout.astro[0m:[93m79[0m:[93m7[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m79[0m       src="https://cdn.peasy.so/peasy.js"
[7m  [0m [93m      ~~~[0m

[96msrc/layouts/BlogLayout.astro[0m:[93m110[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m110[0m       function speedInsightsBeforeSend(data) {
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/DashboardLayout.astro[0m:[93m146[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m146[0m         .addEventListener('change', (event) => {
[7m   [0m [93m                                     ~~~~~[0m

[96msrc/layouts/DocumentationLayout.astro[0m:[93m367[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m367[0m       function speedInsightsBeforeSend(data) {
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/Layout.astro[0m:[93m166[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m166[0m       function speedInsightsBeforeSend(data) {
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/TailusLayout.astro[0m:[93m4[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@components/tailus/AppHeader.astro' or its corresponding type declarations.

[7m4[0m import AppHeader from '@components/tailus/AppHeader.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/layouts/TailusLayout.astro[0m:[93m3[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@components/tailus/AppFooter.astro' or its corresponding type declarations.

[7m3[0m import AppFooter from '@components/tailus/AppFooter.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/layouts/TailusLayout.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@components/tailus/BaseHead.astro' or its corresponding type declarations.

[7m2[0m import BaseHead from '@components/tailus/BaseHead.astro'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/layouts/TailusLayout.astro[0m:[93m44[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m44[0m       function speedInsightsBeforeSend(data) {
[7m  [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin-test.astro[0m:[93m5[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'mockUser' is declared but its value is never read.

[7m5[0m const mockUser = {
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/book.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'false' is not assignable to type 'BgType | undefined'.

[7m10[0m   bgType={false}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/company.astro[0m:[93m11[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; seo: { title: string; description: string; canonical: string; }; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'seo' does not exist on type 'IntrinsicAttributes & Props'.

[7m11[0m <BaseLayout seo={seo}>
[7m  [0m [91m            ~~~[0m

[96msrc/pages/contact.astro[0m:[93m557[0m:[93m51[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m557[0m           messageInput?.addEventListener('blur', (event: Event) => {
[7m   [0m [93m                                                  ~~~~~[0m
[96msrc/pages/contact.astro[0m:[93m548[0m:[93m51[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m548[0m           subjectInput?.addEventListener('blur', (event: Event) => {
[7m   [0m [93m                                                  ~~~~~[0m
[96msrc/pages/contact.astro[0m:[93m539[0m:[93m49[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m539[0m           emailInput?.addEventListener('blur', (event: Event) => {
[7m   [0m [93m                                                ~~~~~[0m
[96msrc/pages/contact.astro[0m:[93m530[0m:[93m48[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m530[0m           nameInput?.addEventListener('blur', (event: Event) => {
[7m   [0m [93m                                               ~~~~~[0m
[96msrc/pages/contact.astro[0m:[93m340[0m:[93m52[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m340[0m           messageInput?.addEventListener('input', (event: Event) => {
[7m   [0m [93m                                                   ~~~~~[0m

[96msrc/pages/feeds.astro[0m:[93m4[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/views/ListView.astro' or its corresponding type declarations.

[7m4[0m import ListView from '~/components/views/ListView.astro'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/feeds.astro[0m:[93m3[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/TabbedLayout.astro' or its corresponding type declarations.

[7m3[0m import TabbedLayout from '~/layouts/TabbedLayout.astro'
[7m [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/feeds.astro[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/BaseLayout.astro' or its corresponding type declarations.

[7m2[0m import BaseLayout from '~/layouts/BaseLayout.astro'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/highlights.astro[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'BgType | undefined'.

[7m18[0m   bgType={frontmatter.bgType}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/mental-health-demo.astro[0m:[93m36[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ title: string; description: string; showSettingsPanel: boolean; showAnalysisPanel: boolean; initialTab: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'showSettingsPanel' does not exist on type 'IntrinsicAttributes & Props'.

[7m36[0m         showSettingsPanel={true}
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/mind-mirror-demo.astro[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'MindMirrorDemo'.

[7m3[0m import { MindMirrorDemo } from '../components/MindMirrorDemo'
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/pages/projects.astro[0m:[93m20[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'BgType | undefined'.

[7m20[0m   bgType={frontmatter.bgType}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/prs.astro[0m:[93m21[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'BgType | undefined'.

[7m21[0m   bgType={frontmatter.bgType}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/register.astro[0m:[93m18[0m:[93m15[0m - [91merror[0m[90m ts(18048): [0m'astro.url' is possibly 'undefined'.

[7m18[0m const error = astro.url.searchParams.get('error')
[7m  [0m [91m              ~~~~~~~~~[0m
[96msrc/pages/register.astro[0m:[93m13[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'cookies' does not exist on type 'AstroGlobal'.

[7m13[0m if (await isAuthenticated(astro.cookies)) {
[7m  [0m [91m                                ~~~~~~~[0m
[96msrc/pages/register.astro[0m:[93m10[0m:[93m15[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.

[7m10[0m const astro = Astro as AstroGlobal
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/search-demo.astro[0m:[93m3[0m:[93m8[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'SearchDemo'.

[7m3[0m import SearchDemo from '@/components/SearchDemo.astro'
[7m [0m [91m       ~~~~~~~~~~[0m

[96msrc/pages/signin.astro[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '"default"' is not assignable to type 'BgType | undefined'.

[7m17[0m   bgType="default"
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/signup.astro[0m:[93m14[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'cookies' does not exist on type 'AstroGlobal'.

[7m14[0m const alreadyAuthenticated = await isAuthenticated(astro.cookies)
[7m  [0m [91m                                                         ~~~~~~~[0m
[96msrc/pages/signup.astro[0m:[93m13[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'astro.url' is possibly 'undefined'.

[7m13[0m const redirect = astro.url.searchParams.get('redirect') || '/dashboard'
[7m  [0m [91m                 ~~~~~~~~~[0m
[96msrc/pages/signup.astro[0m:[93m10[0m:[93m15[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.

[7m10[0m const astro = Astro as AstroGlobal
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/team.astro[0m:[93m65[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'linkedin' does not exist on type '{ name: string; role: string; bio: string; expertise: string; image: string; }'.

[7m65[0m                   href={member.linkedin}
[7m  [0m [91m                               ~~~~~~~~[0m
[96msrc/pages/team.astro[0m:[93m63[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'linkedin' does not exist on type '{ name: string; role: string; bio: string; expertise: string; image: string; }'.

[7m63[0m               {member.linkedin && (
[7m  [0m [91m                      ~~~~~~~~[0m
[96msrc/pages/team.astro[0m:[93m23[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; seo: { title: string; description: string; canonical: string; }; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'seo' does not exist on type 'IntrinsicAttributes & Props'.

[7m23[0m <BaseLayout seo={seo}>
[7m  [0m [91m            ~~~[0m

[96msrc/pages/therapists.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '"default"' is not assignable to type 'BgType | undefined'.

[7m10[0m   bgType="default"
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/training-session.astro[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '"default"' is not assignable to type 'BgType | undefined'.

[7m11[0m   bgType="default"
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/admin/ai-performance.astro[0m:[93m18[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'operationTypes' is declared but its value is never read.

[7m18[0m const operationTypes: AIOperationType[] = [
[7m  [0m [93m      ~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/all-demos-analytics.astro[0m:[93m510[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "outline"; class: string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m510[0m             class="border-purple-500/50 text-purple-300 hover:bg-purple-500/10 px-6 py-3"
[7m   [0m [91m            ~~~~~[0m
[96msrc/pages/admin/all-demos-analytics.astro[0m:[93m504[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "outline"; class: string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m504[0m             class="border-purple-500/50 text-purple-300 hover:bg-purple-500/10 px-6 py-3"
[7m   [0m [91m            ~~~~~[0m
[96msrc/pages/admin/all-demos-analytics.astro[0m:[93m498[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; class: string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m498[0m             class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3"
[7m   [0m [91m            ~~~~~[0m
[96msrc/pages/admin/all-demos-analytics.astro[0m:[93m796[0m:[93m52[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m796[0m     document.addEventListener('DOMContentLoaded', (event: Event) => {
[7m   [0m [93m                                                   ~~~~~[0m
[96msrc/pages/admin/all-demos-analytics.astro[0m:[93m796[0m:[93m59[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m796[0m     document.addEventListener('DOMContentLoaded', (event: Event) => {
[7m   [0m [91m                                                          ~~~~~[0m

[96msrc/pages/admin/bias-detection.astro[0m:[93m34[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; title: string; description: string; activeItem: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'activeItem' does not exist on type 'IntrinsicAttributes & Props'.

[7m34[0m   activeItem="bias-detection"
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/pages/admin/bias-detection.astro[0m:[93m22[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m22[0m const response = await verifyAdmin(Astro.request, context)
[7m  [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/pages/admin/bias-detection.astro[0m:[93m17[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'isCompliant' does not exist in type 'HIPAAComplianceInfo'.

[7m17[0m     isCompliant: true,
[7m  [0m [91m    ~~~~~~~~~~~[0m
[96msrc/pages/admin/bias-detection.astro[0m:[93m14[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '{ timestamp: number; verificationHash: string; }'.

[7m14[0m     details: 'Default compliance status',
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/admin/bias-detection.astro[0m:[93m67[0m:[93m52[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m67[0m     document.addEventListener('DOMContentLoaded', (event: Event) => {
[7m  [0m [93m                                                   ~~~~~[0m

[96msrc/pages/admin/compatibility-dashboard.astro[0m:[93m90[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; title: string; description: string; showNavBar: boolean; showFooter: boolean; centered: boolean; contentClass: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'showNavBar' does not exist on type 'IntrinsicAttributes & Props'.

[7m90[0m   showNavBar={true}
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/pages/admin/compatibility-dashboard.astro[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'Chart' is declared but its value is never read.

[7m4[0m import { Chart } from 'chart.js/auto'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/compatibility-dashboard.astro[0m:[93m186[0m:[93m17[0m - [93mwarning[0m[90m ts(6196): [0m'ChartConfiguration' is declared but never used.

[7m186[0m   import type { ChartConfiguration, TooltipItem } from 'chart.js'
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/demo-analytics.astro[0m:[93m549[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m549[0m         document.getElementById('recommendation').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m547[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m547[0m         document.getElementById('confidence-level').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m545[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m545[0m         document.getElementById('test-status').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m540[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m540[0m         document.getElementById('recommendation').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m538[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m538[0m         document.getElementById('confidence-level').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m536[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m536[0m         document.getElementById('test-status').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m510[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'timeline' is possibly 'null'.

[7m510[0m       timeline.innerHTML = recentEvents
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m505[0m:[93m9[0m - [91merror[0m[90m ts(18047): [0m'timeline' is possibly 'null'.

[7m505[0m         timeline.innerHTML =
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m496[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m496[0m       document.getElementById('funnel-cta-clicks-bar').style.width =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m494[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m494[0m       document.getElementById('funnel-demo-interactions-bar').style.width =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m491[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m491[0m       document.getElementById('funnel-cta-clicks-pct').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m489[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m489[0m       document.getElementById('funnel-demo-interactions-pct').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m482[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m482[0m       document.getElementById('funnel-cta-clicks').textContent = ctaClicks
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m480[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m480[0m       document.getElementById('funnel-demo-interactions').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m479[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m479[0m       document.getElementById('funnel-page-views').textContent = pageViews
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m468[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m468[0m         document.getElementById(
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m469[0m           `variant-${variant.toLowerCase()}-rate`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m470[0m         ).textContent = rate + '%'
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m465[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m465[0m         document.getElementById(
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m466[0m           `variant-${variant.toLowerCase()}-conversions`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m467[0m         ).textContent = conversions
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m462[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m462[0m         document.getElementById(
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m463[0m           `variant-${variant.toLowerCase()}-sessions`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m464[0m         ).textContent = sessions
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m462[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m462[0m         document.getElementById(
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m463[0m           `variant-${variant.toLowerCase()}-sessions`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m464[0m         ).textContent = sessions
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m432[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m432[0m       document.getElementById('avg-scroll-depth').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m430[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m430[0m       document.getElementById('avg-time-cta').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m428[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m428[0m       document.getElementById('conversion-rate').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m426[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m426[0m       document.getElementById('total-sessions').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m383[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type 'DemoAnalyticsDashboard'.

[7m383[0m       this.data = {
[7m   [0m [91m           ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m382[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'eventSource' does not exist on type 'DemoAnalyticsDashboard'.

[7m382[0m       this.eventSource = null
[7m   [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m570[0m:[93m50[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m570[0m   document.addEventListener('DOMContentLoaded', (event: Event) => {
[7m   [0m [93m                                                 ~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m563[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'variant' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m563[0m     getVariantColor(variant) {
[7m   [0m [93m                    ~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m554[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m554[0m     calculateSignificance(data) {
[7m   [0m [93m                          ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m554[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m554[0m     calculateSignificance(data) {
[7m   [0m [93m                          ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m533[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'totalSessions' is declared but its value is never read.

[7m533[0m       const totalSessions = data.summary.unique_sessions
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m531[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m531[0m     updateStatisticalSignificance(data) {
[7m   [0m [93m                                  ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m511[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m511[0m         .map((event) => {
[7m   [0m [93m              ~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m500[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'events' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m500[0m     updateEventTimeline(events) {
[7m   [0m [93m                        ~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m474[0m:[93m18[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'funnelData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m474[0m     updateFunnel(funnelData) {
[7m   [0m [93m                 ~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m457[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m457[0m           (e) => e.event === 'demo_cta_click',
[7m   [0m [93m           ~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m455[0m:[93m53[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m455[0m         const sessions = new Set(variantEvents.map((e) => e.session_id)).size
[7m   [0m [93m                                                    ~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m453[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m453[0m           (e) => e.ab_variant === variant,
[7m   [0m [93m           ~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m448[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m448[0m     updateVariantStats(data) {
[7m   [0m [93m                       ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m424[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m424[0m     updateDashboard(data) {
[7m   [0m [93m                    ~~~~[0m

[96msrc/pages/admin/dlp.astro[0m:[93m64[0m:[93m50[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m64[0m   document.addEventListener('DOMContentLoaded', (event: Event) => {
[7m  [0m [93m                                                 ~~~~~[0m

[96msrc/pages/admin/fhe-dashboard.astro[0m:[93m13[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m13[0m const response = await verifyAdmin(Astro.request, context)
[7m  [0m [91m                                   ~~~~~~~~~~~~~[0m

[96msrc/pages/admin/flagged-messages.astro[0m:[93m91[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }'.

[7m91[0m                         value={message.id}
[7m  [0m [91m                                       ~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m81[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }'.

[7m81[0m                         value={message.id}
[7m  [0m [91m                                       ~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m75[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }'.

[7m75[0m                   <td>{getFlagReason(message.metadata)}</td>
[7m  [0m [91m                                             ~~~~~~~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m68[0m:[93m33[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.

[7m68[0m                   <td>{new Date(message.created_at).toLocaleString()}</td>
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/node_modules/.pnpm/astro@5.15.1_@azure+storage-blob@12.28.0_@types+node@24.7.2_@upstash+redis@1.35.5_@verc_689c0c127708268dd190515c64a92522/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
  The types returned by 'get(...)' are incompatible between these types.

[7m10[0m   cookies: Astro.cookies,
[7m  [0m [91m  ~~~~~~~[0m

[96msrc/pages/admin/patient-rights.astro[0m:[93m259[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m259[0m       tab.addEventListener('click', (event: Event) => {
[7m   [0m [93m                                     ~~~~~[0m
[96msrc/pages/admin/patient-rights.astro[0m:[93m253[0m:[93m50[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m253[0m   document.addEventListener('DOMContentLoaded', (event: Event) => {
[7m   [0m [93m                                                 ~~~~~[0m

[96msrc/pages/admin/performance-dashboard.astro[0m:[93m7[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'config' is declared but its value is never read.

[7m7[0m const config = getMonitoringConfig()
[7m [0m [93m      ~~~~~~[0m

[96msrc/pages/admin/real-user-monitoring.astro[0m:[93m25[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ title: string; description: string; refreshInterval: number; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'refreshInterval' does not exist on type 'IntrinsicAttributes & Props'.

[7m25[0m         refreshInterval={30000}
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/security-settings.astro[0m:[93m10[0m:[93m51[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m10[0m const authResponse = await requirePageAuth(Astro, 'admin')
[7m  [0m [91m                                                  ~~~~~~~[0m

[96msrc/pages/admin/ai/model-performance.astro[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'import("/home/vivi/pixelated/node_modules/.pnpm/astro@5.15.1_@azure+storage-blob@12.28.0_@types+node@24.7.2_@upstash+redis@1.35.5_@verc_689c0c127708268dd190515c64a92522/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
  The types returned by 'get(...)' are incompatible between these types.

[7m9[0m   cookies: Astro.cookies,
[7m [0m [91m  ~~~~~~~[0m
[96msrc/pages/admin/ai/model-performance.astro[0m:[93m4[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/BaseLayout.astro' or its corresponding type declarations.

[7m4[0m import BaseLayout from '~/layouts/BaseLayout.astro'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/ai/performance.astro[0m:[93m15[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Type 'Request' is missing the following properties from type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>': get, header, accepts, acceptsCharsets, and 93 more.

[7m15[0m const response = await verifyAdmin(Astro.request, context)
[7m  [0m [91m                                   ~~~~~~~~~~~~~[0m

[96msrc/pages/admin/ai/usage.astro[0m:[93m4[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/BaseLayout.astro' or its corresponding type declarations.

[7m4[0m import BaseLayout from '~/layouts/BaseLayout.astro'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/ai/usage.astro[0m:[93m3[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/access-control' or its corresponding type declarations.

[7m3[0m import { requirePermission } from '~/lib/access-control'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/ai/validation-pipeline.astro[0m:[93m23[0m:[93m17[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ initialised: boolean; historyCount: number; }' to type 'RunnerState' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'isScheduled' is missing in type '{ initialised: boolean; historyCount: number; }' but required in type 'RunnerState'.

[7m23[0m   runnerState = validationRunner.getState() as RunnerState
[7m  [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/backups/index.astro[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'BackupRecoveryTab' is declared but its value is never read.

[7m4[0m import BackupRecoveryTab from '../../../components/admin/backup/BackupRecoveryTab'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/consent/index.astro[0m:[93m9[0m:[93m30[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m9[0m await requirePageAuth(Astro, 'admin')
[7m [0m [91m                             ~~~~~~~[0m

[96msrc/pages/admin/security/index.astro[0m:[93m53[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'level' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m53[0m function getAlertLevelClass(level) {
[7m  [0m [93m                            ~~~~~[0m
[96msrc/pages/admin/security/index.astro[0m:[93m42[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'date' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m42[0m function formatDate(date) {
[7m  [0m [93m                    ~~~~[0m

[96msrc/pages/admin/security/baa/management.astro[0m:[93m14[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchQuery' does not exist on type 'URLSearchParams'.

[7m14[0m const { status = '', searchQuery = '' } = Astro.url.searchParams
[7m  [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m14[0m:[93m9[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'URLSearchParams'.

[7m14[0m const { status = '', searchQuery = '' } = Astro.url.searchParams
[7m  [0m [91m        ~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m6[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'BusinessAssociateType' is declared but its value is never read.

[7m6[0m   BusinessAssociateType,
[7m [0m [93m  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m5[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'BaaStatus' is declared but its value is never read.

[7m5[0m   BaaStatus,
[7m [0m [93m  ~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m540[0m:[93m18[0m - [91merror[0m[90m ts(2551): [0mProperty 'submit' does not exist on type 'HTMLElement'. Did you mean 'onsubmit'?

[7m540[0m       searchForm.submit()
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m533[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'submit' does not exist on type 'HTMLElement'. Did you mean 'onsubmit'?

[7m533[0m       document.getElementById('search-form')?.submit()
[7m   [0m [91m                                              ~~~~~~[0m

[96msrc/pages/admin/security/baa/templates.astro[0m:[93m8[0m:[93m1[0m - [93mwarning[0m[90m ts(6192): [0mAll imports in import declaration are unused.

[7m 8[0m import {
[7m  [0m [93m~~~~~~~~[0m
[7m 9[0m   BusinessAssociateType,
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m10[0m   ServiceCategory,
[7m  [0m [93m~~~~~~~~~~~~~~~~~~[0m
[7m11[0m } from '../../../../lib/security/baa/types'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates.astro[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6192): [0mAll imports in import declaration are unused.

[7m4[0m import {
[7m [0m [93m~~~~~~~~[0m
[7m5[0m   standardSections,
[7m [0m [93m~~~~~~~~~~~~~~~~~~~[0m
[7m6[0m   standardPlaceholders,
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m7[0m } from '../../../../lib/security/baa/templates/hipaa-standard'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates.astro[0m:[93m227[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'getAttribute' does not exist on type 'EventTarget'.

[7m227[0m         const templateId = e.currentTarget.getAttribute('data-template-id')
[7m   [0m [91m                                           ~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates.astro[0m:[93m227[0m:[93m28[0m - [91merror[0m[90m ts(18047): [0m'e.currentTarget' is possibly 'null'.

[7m227[0m         const templateId = e.currentTarget.getAttribute('data-template-id')
[7m   [0m [91m                           ~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/security/baa/vendors.astro[0m:[93m65[0m:[93m3[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'BusinessAssociateType | undefined'.
  Type 'string' is not assignable to type 'BusinessAssociateType | undefined'.

[7m65[0m   type || undefined,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m582[0m:[93m49[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m582[0m     templateForm.addEventListener('submit', (e: Event) => {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m568[0m:[93m67[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m568[0m     useStandardPlaceholdersBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                                  ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m556[0m:[93m63[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m556[0m     useStandardSectionsBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m544[0m:[93m58[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m544[0m     addPlaceholderBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                         ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m531[0m:[93m54[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m531[0m     addSectionBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                     ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m522[0m:[93m57[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m522[0m         requiredCheckbox.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m518[0m:[93m53[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m518[0m         defaultInput.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                    ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m514[0m:[93m57[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m514[0m         descriptionInput.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m510[0m:[93m51[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m510[0m         labelInput.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m505[0m:[93m49[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m505[0m         keyInput.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m500[0m:[93m54[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m500[0m         removeBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                     ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m402[0m:[93m57[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m402[0m         requiredCheckbox.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m398[0m:[93m56[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m398[0m         contentTextarea.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m394[0m:[93m57[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m394[0m         descriptionInput.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m390[0m:[93m51[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m390[0m         titleInput.addEventListener('change', (e: Event) => {
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m385[0m:[93m54[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m385[0m         removeBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                     ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m375[0m:[93m56[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m375[0m         moveDownBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m365[0m:[93m54[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m365[0m         moveUpBtn.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                     ~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m265[0m:[93m58[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m265[0m   document.addEventListener('DOMContentLoaded', (_event: Event) => {
[7m   [0m [91m                                                         ~~~~~[0m

[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m289[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type '"verified" | "needs-testing" | "needs-update" | "in-development"'.

[7m289[0m                       {getStatusDisplayText(plan.status)}
[7m   [0m [91m                                            ~~~~~~~~~~~[0m
[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m287[0m:[93m125[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type '"verified" | "needs-testing" | "needs-update" | "in-development"'.

[7m287[0m                       class={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeClass(plan.status)}`}
[7m   [0m [91m                                                                                                                            ~~~~~~~~~~~[0m

[96msrc/pages/analytics/conversions.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/analytics/conversions.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroGlobal' is not assignable to parameter of type 'ServerAuthOptions'.
  Type 'AstroGlobal' is missing the following properties from type 'ServerAuthOptions': cookies, requestIp

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/analytics/index.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/analytics/index.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroGlobal' is not assignable to parameter of type 'ServerAuthOptions'.
  Type 'AstroGlobal' is missing the following properties from type 'ServerAuthOptions': cookies, requestIp

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/blog/[...slug].astro[0m:[93m306[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; class: string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m306[0m                   class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-400 hover:to-blue-500 text-white px-6 py-3 rounded-full transform hover:scale-105 transition-all duration-300"
[7m   [0m [91m                  ~~~~~[0m
[96msrc/pages/blog/[...slug].astro[0m:[93m201[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "outline"; class: string; "data-blog-link": string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m201[0m                   class="border-green-500/50 text-green-300 hover:bg-green-500/10 px-6 py-3 rounded-full"
[7m   [0m [91m                  ~~~~~[0m
[96msrc/pages/blog/[...slug].astro[0m:[93m194[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; class: string; "data-demo-link": string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m194[0m                   class="bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white px-6 py-3 rounded-full"
[7m   [0m [91m                  ~~~~~[0m
[96msrc/pages/blog/[...slug].astro[0m:[93m86[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "outline"; size: "sm"; class: string; "data-back-button": string; }' is not assignable to type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'.
  Property 'class' does not exist on type 'IntrinsicAttributes & Omit<ButtonProps, "ref"> & RefAttributes<HTMLAnchorElement | HTMLButtonElement>'. Did you mean ''className''?

[7m86[0m             class="border-green-500/50 text-green-300 hover:bg-green-500/10"
[7m  [0m [91m            ~~~~~[0m

[96msrc/pages/blog/index.astro[0m:[93m39[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m39[0m   ;(post.data.tags || []).forEach((tag) => {
[7m  [0m [93m                                   ~~~[0m
[96msrc/pages/blog/index.astro[0m:[93m38[0m:[93m19[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'post' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m38[0m allPosts.forEach((post) => {
[7m  [0m [93m                  ~~~~[0m

[96msrc/pages/blog/page/[...page].astro[0m:[93m19[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ params: { page: string; }; props: { page: { data: any[]; currentPage: number; lastPage: number; size: number; total: number; url: { current: string; prev: string | undefined; next: string | undefined; }; }; }; }' is not assignable to parameter of type 'never'.

[7m 19[0m       pages.push({
[7m   [0m [91m                 ~[0m
[7m 20[0m         params: { page: (i + 1).toString() },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 34[0m         },
[7m   [0m [91m~~~~~~~~~~[0m
[7m 35[0m       })
[7m   [0m [91m~~~~~~~[0m

[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m536[0m:[93m3[0m - [93mwarning[0m[90m ts(7027): [0mUnreachable code detected.

[7m536[0m   document
[7m   [0m [93m  ~~~~~~~~[0m
[7m537[0m     .getElementById('refresh-data')
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m539[0m       window.location.reload()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m540[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m568[0m:[93m40[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m568[0m   modal?.addEventListener('click', (e: Event) => {
[7m   [0m [91m                                       ~~~~~[0m
[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m563[0m:[93m53[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m563[0m   closeModalBtn?.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                    ~~~~~[0m
[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m551[0m:[93m44[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m551[0m   document.addEventListener('keydown', (e: Event) => {
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m538[0m:[93m42[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m538[0m     ?.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m534[0m:[93m9[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m534[0m <script define:vars={{ visualData, placeholderThumbnail }}>
[7m   [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m108[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'emotions' is missing in type '{ trendlines: {}; volatility: {}; transitions: never[]; patterns: never[]; criticalPoints: never[]; progression: { overallImprovement: number; stabilityChange: number; positiveEmotionChange: number; negativeEmotionChange: number; }; dimensionalRelationships: never[]; }' but required in type 'TemporalEmotionAnalysis'.

[7m108[0m             data={placeholderData}
[7m   [0m [91m            ~~~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m77[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m77[0m   userId: user.id,
[7m  [0m [91m               ~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m53[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m53[0m   therapistId: user.id,
[7m  [0m [91m                    ~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m44[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m44[0m   therapistId: user.id,
[7m  [0m [91m                    ~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m24[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroGlobal' is not assignable to parameter of type 'ServerAuthOptions'.
  Type 'AstroGlobal' is missing the following properties from type 'ServerAuthOptions': cookies, requestIp

[7m24[0m const authResult = await requirePageAuth(astro)
[7m  [0m [91m                                         ~~~~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m18[0m:[93m9[0m - [91merror[0m[90m ts(2339): [0mProperty 'clientId' does not exist on type 'Record<string, string | undefined> | undefined'.

[7m18[0m const { clientId } = astro.params
[7m  [0m [91m        ~~~~~~~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m15[0m:[93m15[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.

[7m15[0m const astro = Astro as AstroGlobal
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/components/analytics-dashboard.astro[0m:[93m78[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "scatter"; title: string; class: string; data: { category: string; timeRange: number; dataPoints: number; useBackendData: boolean; }; }' is not assignable to type 'IntrinsicAttributes & ChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ChartComponentProps'. Did you mean 'className'?

[7m78[0m             class="mb-4"
[7m  [0m [91m            ~~~~~[0m
[96msrc/pages/components/analytics-dashboard.astro[0m:[93m62[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "pie"; title: string; class: string; data: { category: string; timeRange: number; useBackendData: boolean; }; }' is not assignable to type 'IntrinsicAttributes & ChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ChartComponentProps'. Did you mean 'className'?

[7m62[0m             class="mb-4"
[7m  [0m [91m            ~~~~~[0m
[96msrc/pages/components/analytics-dashboard.astro[0m:[93m46[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "bar"; title: string; class: string; data: { category: string; timeRange: number; useBackendData: boolean; }; }' is not assignable to type 'IntrinsicAttributes & ChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ChartComponentProps'. Did you mean 'className'?

[7m46[0m             class="mb-4"
[7m  [0m [91m            ~~~~~[0m
[96msrc/pages/components/analytics-dashboard.astro[0m:[93m27[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "line"; title: string; class: string; data: { category: string; timeRange: number; dataPoints: number; useBackendData: boolean; autoRefresh: boolean; refreshInterval: number; }; }' is not assignable to type 'IntrinsicAttributes & ChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ChartComponentProps'. Did you mean 'className'?

[7m27[0m             class="mb-4"
[7m  [0m [91m            ~~~~~[0m

[96msrc/pages/components/emotion-visualization.astro[0m:[93m49[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; particleCount: number; emotion: "neutral"; interactive: true; autoAnimate: true; enableMouse: true; showTrails: false; class: string; }' is not assignable to type 'IntrinsicAttributes & ParticleSystemProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ParticleSystemProps'. Did you mean 'className'?

[7m49[0m           class="mb-4"
[7m  [0m [91m          ~~~~~[0m
[96msrc/pages/components/emotion-visualization.astro[0m:[93m30[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; showTrails: true; showAxes: true; class: string; }' is not assignable to type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'. Did you mean 'className'?

[7m30[0m           class="mb-4"
[7m  [0m [91m          ~~~~~[0m

[96msrc/pages/components/index.astro[0m:[93m30[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; effect: "coverflow"; autoplay: { delay: number; disableOnInteraction: false; }; navigation: true; pagination: { clickable: true; dynamicBullets: true; }; loop: true; slidesPerView: number; ... 4 more ...; items: { ...; }[]; }' is not assignable to type 'IntrinsicAttributes & SwiperCarouselProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & SwiperCarouselProps'. Did you mean 'className'?

[7m30[0m           class="mb-8"
[7m  [0m [91m          ~~~~~[0m

[96msrc/pages/components/security-demo.astro[0m:[93m42[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; class: string; showAdvanced: true; enableBenchmarks: true; }' is not assignable to type 'IntrinsicAttributes & FHEDemoProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & FHEDemoProps'. Did you mean 'className'?

[7m42[0m           class="w-full"
[7m  [0m [91m          ~~~~~[0m

[96msrc/pages/components/treatment-plans.astro[0m:[93m22[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; class: string; readOnly: false; }' is not assignable to type 'IntrinsicAttributes & TreatmentPlanManagerProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & TreatmentPlanManagerProps'. Did you mean 'className'?

[7m22[0m           class="w-full"
[7m  [0m [91m          ~~~~~[0m

[96msrc/pages/components/ui-showcase.astro[0m:[93m106[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; effect: "fade"; autoplay: { delay: number; }; navigation: false; pagination: { clickable: true; }; loop: true; slidesPerView: number; height: string; class: string; items: { id: string; content: string; }[]; }' is not assignable to type 'IntrinsicAttributes & SwiperCarouselProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & SwiperCarouselProps'. Did you mean 'className'?

[7m106[0m           class="mb-4"
[7m   [0m [91m          ~~~~~[0m
[96msrc/pages/components/ui-showcase.astro[0m:[93m55[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; effect: "coverflow"; autoplay: false; navigation: true; pagination: { clickable: true; }; loop: true; slidesPerView: number; spaceBetween: number; centeredSlides: true; height: string; class: string; items: { ...; }[]; }' is not assignable to type 'IntrinsicAttributes & SwiperCarouselProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & SwiperCarouselProps'. Did you mean 'className'?

[7m55[0m           class="mb-4"
[7m  [0m [91m          ~~~~~[0m
[96msrc/pages/components/ui-showcase.astro[0m:[93m34[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; effect: "slide"; autoplay: { delay: number; disableOnInteraction: false; }; navigation: true; pagination: { clickable: true; dynamicBullets: true; }; loop: true; slidesPerView: number; spaceBetween: number; height: string; class: string; }' is not assignable to type 'IntrinsicAttributes & SwiperCarouselProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & SwiperCarouselProps'. Did you mean 'className'?

[7m34[0m           class="mb-4"
[7m  [0m [91m          ~~~~~[0m

[96msrc/pages/dashboard/enhanced.astro[0m:[93m490[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "bar"; title: string; data: { category: "sessions"; timeRange: number; clientId: any; useBackendData: true; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m490[0m                 class="h-48"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m472[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "pie"; title: string; data: { category: "emotions"; timeRange: number; clientId: any; useBackendData: true; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m472[0m                 class="h-48"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m454[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "line"; title: string; data: { category: "progress"; timeRange: number; clientId: any; dataPoints: number; useBackendData: true; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m454[0m                 class="h-48"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m432[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; particleCount: number; emotion: "neutral"; interactive: true; autoAnimate: true; enableMouse: true; showTrails: true; class: string; }' is not assignable to type 'IntrinsicAttributes & ParticleSystemProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ParticleSystemProps'. Did you mean 'className'?

[7m432[0m                 class="h-96"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m416[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; showTrails: true; showAxes: true; class: string; }' is not assignable to type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'. Did you mean 'className'?

[7m416[0m                 class="h-96"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m344[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; class: string; showAdvanced: true; enableBenchmarks: true; }' is not assignable to type 'IntrinsicAttributes & FHEDemoProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & FHEDemoProps'. Did you mean 'className'?

[7m344[0m                 class="w-full"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m329[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "scatter"; title: string; data: { category: "sessions"; timeRange: number; clientId: any; useBackendData: true; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m329[0m                 class="h-64"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m311[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "line"; title: string; data: { category: "outcomes"; timeRange: number; clientId: any; useBackendData: true; autoRefresh: true; refreshInterval: number; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m311[0m                 class="h-64"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m288[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; class: string; readOnly: false; }' is not assignable to type 'IntrinsicAttributes & TreatmentPlanManagerProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & TreatmentPlanManagerProps'. Did you mean 'className'?

[7m288[0m               class="w-full"
[7m   [0m [91m              ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m223[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "pie"; title: string; data: { category: "emotions"; timeRange: number; clientId: any; useBackendData: true; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m223[0m                   class="h-96"
[7m   [0m [91m                  ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m208[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; showTrails: true; showAxes: true; class: string; }' is not assignable to type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'. Did you mean 'className'?

[7m208[0m                   class="h-96"
[7m   [0m [91m                  ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m188[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; type: "bar"; title: string; data: { category: "sessions"; timeRange: number; clientId: any; useBackendData: true; }; class: string; }' is not assignable to type 'IntrinsicAttributes & EnhancedChartComponentProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & EnhancedChartComponentProps'. Did you mean 'className'?

[7m188[0m                 class="h-64"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m161[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

[7m161[0m                   sessionId: sessionId,
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m140[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; effect: "slide"; autoplay: { delay: number; disableOnInteraction: false; }; navigation: true; pagination: { clickable: true; dynamicBullets: true; }; loop: true; slidesPerView: number; spaceBetween: number; height: string; class: string; }' is not assignable to type 'IntrinsicAttributes & SwiperCarouselProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & SwiperCarouselProps'. Did you mean 'className'?

[7m140[0m               class="rounded-lg"
[7m   [0m [91m              ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m13[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m13[0m // @ts-expect-error Astro.props is injected at runtime
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dashboard/index.astro[0m:[93m9[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m9[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m264[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; href: string; variant: "secondary"; size: "sm"; id: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'id' does not exist on type 'IntrinsicAttributes & Props'.

[7m264[0m               id="schedule-reports"
[7m   [0m [91m              ~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m246[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; href: string; variant: "secondary"; size: "sm"; id: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'id' does not exist on type 'IntrinsicAttributes & Props'.

[7m246[0m               id="export-excel"
[7m   [0m [91m              ~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m227[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; href: string; variant: "secondary"; size: "sm"; id: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'id' does not exist on type 'IntrinsicAttributes & Props'.

[7m227[0m               id="export-pdf"
[7m   [0m [91m              ~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m642[0m:[93m33[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m642[0m       const { patterns } = this.analyticsData
[7m   [0m [91m                                ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m640[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m640[0m       if (!container || !this.analyticsData.patterns) return
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m615[0m:[93m37[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m615[0m       const { demographics } = this.analyticsData
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m613[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m613[0m       if (!container || !this.analyticsData.demographics) return
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m578[0m:[93m37[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m578[0m       const { distribution } = this.analyticsData
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m576[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m576[0m       if (!container || !this.analyticsData.distribution) return
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m482[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m482[0m       const { historical } = this.analyticsData
[7m   [0m [91m                                  ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m463[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m463[0m       document.getElementById('demo-trend').textContent = '3 new groups'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m462[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m462[0m       document.getElementById('alert-trend').textContent = '+8% this period'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m461[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m461[0m       document.getElementById('bias-trend').textContent = '-5% improvement'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m459[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m459[0m       document.getElementById('analysis-trend').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m455[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m455[0m       document.getElementById('unique-demographics').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m454[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m454[0m       document.getElementById('high-alerts').textContent = highAlerts.toString()
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m453[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m453[0m       document.getElementById('avg-bias-score').textContent = avgBiasScore + '%'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m451[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m451[0m       document.getElementById('total-analyses').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m429[0m:[93m49[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m429[0m       const { historical, demographics } = this.analyticsData
[7m   [0m [91m                                                ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m419[0m:[93m17[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m419[0m       if (!this.analyticsData) return
[7m   [0m [91m                ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m411[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentDays' does not exist on type 'AdvancedAnalyticsDashboard'.

[7m411[0m           this.currentDays = days
[7m   [0m [91m               ~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m390[0m:[93m16[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m390[0m           this.analyticsData = await response.json()
[7m   [0m [91m               ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m387[0m:[93m64[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentDays' does not exist on type 'AdvancedAnalyticsDashboard'.

[7m387[0m           `/api/dashboard/bias-detection/analytics?days=${this.currentDays}`,
[7m   [0m [91m                                                               ~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m374[0m:[93m12[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m374[0m       this.analyticsData = null
[7m   [0m [91m           ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m373[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentDays' does not exist on type 'AdvancedAnalyticsDashboard'.

[7m373[0m       this.currentDays = 30
[7m   [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m646[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m646[0m           (pattern) => `
[7m   [0m [93m           ~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m620[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m620[0m           (item) => `
[7m   [0m [93m           ~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m583[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m583[0m           (item) => `
[7m   [0m [93m           ~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m579[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'd' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m579[0m       const maxCount = Math.max(...distribution.map((d) => d.count))
[7m   [0m [93m                                                     ~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m561[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'd' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m561[0m             Math.max(...historical.map((d) => d.alertCount), 1)
[7m   [0m [93m                                        ~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m555[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m555[0m       historical.forEach((point, index) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m555[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m555[0m       historical.forEach((point, index) => {
[7m   [0m [93m                          ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m543[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'd' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m543[0m           Math.max(...historical.map((d) => d.sessionCount))
[7m   [0m [93m                                      ~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m536[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m536[0m       historical.forEach((point, index) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m536[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m536[0m       historical.forEach((point, index) => {
[7m   [0m [93m                          ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m519[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m519[0m       historical.forEach((point, index) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m519[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m519[0m       historical.forEach((point, index) => {
[7m   [0m [93m                          ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m445[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m445[0m         (sum, day) => sum + day.alertCount,
[7m   [0m [93m              ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m445[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m445[0m         (sum, day) => sum + day.alertCount,
[7m   [0m [93m         ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m439[0m:[93m40[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m               (historical.reduce((sum, day) => sum + day.biasScore, 0) /
[7m   [0m [93m                                       ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m439[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m               (historical.reduce((sum, day) => sum + day.biasScore, 0) /
[7m   [0m [93m                                  ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m433[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m433[0m         (sum, day) => sum + day.sessionCount,
[7m   [0m [93m              ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m433[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m433[0m         (sum, day) => sum + day.sessionCount,
[7m   [0m [93m         ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m402[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m402[0m         button.addEventListener('click', async (e) => {
[7m   [0m [93m                                                ~[0m

[96msrc/pages/dashboard/emotions/dimensional-analysis.astro[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ request: Request; cookies: AstroCookies; redirect: (path: string) => Response; locals: Record<string, unknown>; }' is not assignable to parameter of type 'ServerAuthOptions'.
  Property 'requestIp' is missing in type '{ request: Request; cookies: AstroCookies; redirect: (path: string) => Response; locals: Record<string, unknown>; }' but required in type 'ServerAuthOptions'.

[7m 12[0m   Astro as unknown as {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~[0m
[7m 13[0m     request: Request
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m 16[0m     locals: Record<string, unknown>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 17[0m   },
[7m   [0m [91m~~~[0m

[96msrc/pages/demo/bias-detection.astro[0m:[93m503[0m:[93m67[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m503[0m           'demo_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9)
[7m   [0m [93m                                                                  ~~~~~~[0m

[96msrc/pages/demo/chat.astro[0m:[93m173[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "outline"; class: string; id: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'id' does not exist on type 'IntrinsicAttributes & Props'.

[7m173[0m                 id="sample-crisis"
[7m   [0m [91m                ~~[0m
[96msrc/pages/demo/chat.astro[0m:[93m166[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "secondary"; class: string; id: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'id' does not exist on type 'IntrinsicAttributes & Props'.

[7m166[0m                 id="sample-depression"
[7m   [0m [91m                ~~[0m
[96msrc/pages/demo/chat.astro[0m:[93m159[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ children: string; variant: "primary"; class: string; id: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'id' does not exist on type 'IntrinsicAttributes & Props'.

[7m159[0m                 id="sample-anxiety"
[7m   [0m [91m                ~~[0m
[96msrc/pages/demo/chat.astro[0m:[93m5[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'BrutalistBadge' is declared but its value is never read.

[7m5[0m import BrutalistBadge from '@/components/ui/BrutalistBadge.astro'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/demo/chat.astro[0m:[93m503[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_chatDemo' is declared but its value is never read.

[7m503[0m     const _chatDemo = new ChatDemoInterface()
[7m   [0m [93m          ~~~~~~~~~[0m

[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m519[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m519[0m               document.querySelector('[data-variant]')?.dataset?.['variant'] ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m462[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m462[0m               document.querySelector('[data-variant]')?.dataset?.variant ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m446[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m446[0m               document.querySelector('[data-variant]')?.dataset.variant ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m426[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m426[0m           document.querySelector('[data-variant]')?.dataset?.variant ||
[7m   [0m [91m                                                    ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m408[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m408[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m

[96msrc/pages/demo/enhanced-bias-detection.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; title: string; description: string; keywords: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'keywords' does not exist on type 'IntrinsicAttributes & Props'.

[7m10[0m   keywords="bias detection, AI therapy, mental health, therapeutic training, bias analysis, cultural competency"
[7m  [0m [91m  ~~~~~~~~[0m

[96msrc/pages/demo/psychology-pipeline-processor.astro[0m:[93m691[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m691[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m

[96msrc/pages/demo/security-bias-detection-engine.astro[0m:[93m668[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m668[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m

[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m786[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m786[0m               document.querySelector('[data-variant]')?.dataset?.['variant'] ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m729[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m729[0m               document.querySelector('[data-variant]')?.dataset.variant ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m713[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m713[0m               document.querySelector('[data-variant]')?.dataset?.variant ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m693[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m693[0m           document.querySelector('[data-variant]')?.dataset.variant ||
[7m   [0m [91m                                                    ~~~~~~~[0m
[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m675[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m675[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m

[96msrc/pages/dev/accessibility-test.astro[0m:[93m14[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'LoadingIndicatorProps' is declared but never used.

[7m14[0m interface LoadingIndicatorProps {
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m77[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'showModelSelector' does not exist on type '{}'.

[7m77[0m                   showModelSelector={section.props?.showModelSelector}
[7m  [0m [91m                                                    ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m76[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'description' does not exist on type '{}'.

[7m76[0m                   description={section.props?.description}
[7m  [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m75[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type '{}'.

[7m75[0m                   title={section.props?.title}
[7m  [0m [91m                                        ~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m15[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '(_props: Props) => any' is not assignable to type 'ComponentType<unknown> | undefined'.
  Type '(_props: Props) => any' is not assignable to type 'FunctionComponent<unknown>'.

[7m15[0m     component: AIChat,
[7m  [0m [91m    ~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m6[0m:[93m15[0m - [93mwarning[0m[90m ts(6196): [0m'CompatibilityIssue' is declared but never used.

[7m6[0m import type { CompatibilityIssue, TestSections } from '../../types/testing'
[7m [0m [93m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m5[0m:[93m25[0m - [93mwarning[0m[90m ts(6133): [0m'SEVERITY_STYLES' is declared but its value is never read.

[7m5[0m import { LOADING_SIZES, SEVERITY_STYLES } from '../../constants/testing'
[7m [0m [93m                        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m375[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'removeIssue' is declared but its value is never read.

[7m375[0m     removeIssue,
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/pages/dev/live-region-demo.astro[0m:[93m171[0m:[93m57[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m171[0m       progressButton.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/pages/dev/live-region-demo.astro[0m:[93m163[0m:[93m58[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m163[0m   document.addEventListener('DOMContentLoaded', (_event: Event) => {
[7m   [0m [91m                                                         ~~~~~[0m

[96msrc/pages/profile/index.astro[0m:[93m36[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m36[0m // @ts-expect-error Astro.props is injected at runtime
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/profile/index.astro[0m:[93m25[0m:[93m16[0m - [91merror[0m[90m ts(18048): [0m'context.locals' is possibly 'undefined'.

[7m25[0m   const user = context.locals.user as User
[7m  [0m [91m               ~~~~~~~~~~~~~~[0m
[96msrc/pages/profile/index.astro[0m:[93m13[0m:[93m30[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m13[0m   const authRedirect = await requireAuth({
[7m  [0m [91m                             ~~~~~~~~~~~[0m
[96msrc/pages/profile/index.astro[0m:[93m25[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m25[0m   const user = context.locals.user as User
[7m  [0m [93m        ~~~~[0m

[96msrc/pages/settings/ai-preferences.astro[0m:[93m9[0m:[93m28[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m9[0m const authResponse = await requireAuth({
[7m [0m [91m                           ~~~~~~~~~~~[0m

[96msrc/pages/training/session/[sessionId].astro[0m:[93m420[0m:[93m11[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m420[0m   <script type="application/json" id="user-data">
[7m   [0m [93m          ~~~~[0m
[96msrc/pages/training/session/[sessionId].astro[0m:[93m416[0m:[93m11[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m416[0m   <script type="application/json" id="session-data">
[7m   [0m [93m          ~~~~[0m

[96muno.config.ts[0m:[93m5[0m:[93m5[0m - [93mwarning[0m[90m ts(6385): [0m'presetUno' is deprecated.

[7m5[0m     presetUno(),
[7m [0m [93m    ~~~~~~~~~[0m
[96muno.config.ts[0m:[93m1[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'presetUno' is deprecated.

[7m1[0m import { defineConfig, presetUno, presetAttributify, presetIcons } from 'unocss'
[7m [0m [93m                       ~~~~~~~~~[0m

[96mvitest.setup.ts[0m:[93m429[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m429[0m   const _brpop = async (key) => {
[7m   [0m [93m                        ~~~[0m
[96mvitest.setup.ts[0m:[93m423[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'stop' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m423[0m   const _lrange = async (key, start, stop) => {
[7m   [0m [93m                                     ~~~~[0m
[96mvitest.setup.ts[0m:[93m423[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'start' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m423[0m   const _lrange = async (key, start, stop) => {
[7m   [0m [93m                              ~~~~~[0m
[96mvitest.setup.ts[0m:[93m423[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m423[0m   const _lrange = async (key, start, stop) => {
[7m   [0m [93m                         ~~~[0m
[96mvitest.setup.ts[0m:[93m417[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m417[0m   const _llen = async (key) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m412[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'v' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m412[0m     const filtered = arr.filter((v) => v !== value)
[7m   [0m [93m                                 ~[0m
[96mvitest.setup.ts[0m:[93m409[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m409[0m   const _lrem = async (key, _count, value) => {
[7m   [0m [93m                                    ~~~~~[0m
[96mvitest.setup.ts[0m:[93m409[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_count' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m409[0m   const _lrem = async (key, _count, value) => {
[7m   [0m [93m                            ~~~~~~[0m
[96mvitest.setup.ts[0m:[93m409[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m409[0m   const _lrem = async (key, _count, value) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m394[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'dest' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m394[0m   const _rpoplpush = async (src, dest) => {
[7m   [0m [93m                                 ~~~~[0m
[96mvitest.setup.ts[0m:[93m394[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'src' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m394[0m   const _rpoplpush = async (src, dest) => {
[7m   [0m [93m                            ~~~[0m
[96mvitest.setup.ts[0m:[93m383[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m383[0m   const _lpush = async (key, value) => {
[7m   [0m [93m                             ~~~~~[0m
[96mvitest.setup.ts[0m:[93m383[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m383[0m   const _lpush = async (key, value) => {
[7m   [0m [93m                        ~~~[0m
[96mvitest.setup.ts[0m:[93m261[0m:[93m33[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m261[0m   const _deletePattern = async (pattern) => {
[7m   [0m [93m                                ~~~~~~~[0m
[96mvitest.setup.ts[0m:[93m255[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'by' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m255[0m   const _decrby = async (key, by) => {
[7m   [0m [93m                              ~~[0m
[96mvitest.setup.ts[0m:[93m255[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m255[0m   const _decrby = async (key, by) => {
[7m   [0m [93m                         ~~~[0m
[96mvitest.setup.ts[0m:[93m248[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'by' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m248[0m   const _incrby = async (key, by) => {
[7m   [0m [93m                              ~~[0m
[96mvitest.setup.ts[0m:[93m248[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m248[0m   const _incrby = async (key, by) => {
[7m   [0m [93m                         ~~~[0m
[96mvitest.setup.ts[0m:[93m233[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'ttlSeconds' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m233[0m   const _expire = async (key, ttlSeconds) => {
[7m   [0m [93m                              ~~~~~~~~~~[0m
[96mvitest.setup.ts[0m:[93m233[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m233[0m   const _expire = async (key, ttlSeconds) => {
[7m   [0m [93m                         ~~~[0m
[96mvitest.setup.ts[0m:[93m227[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m227[0m   const _setex = async (key, ttlSeconds, value) => {
[7m   [0m [93m                                         ~~~~~[0m
[96mvitest.setup.ts[0m:[93m227[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'ttlSeconds' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m227[0m   const _setex = async (key, ttlSeconds, value) => {
[7m   [0m [93m                             ~~~~~~~~~~[0m
[96mvitest.setup.ts[0m:[93m227[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m227[0m   const _setex = async (key, ttlSeconds, value) => {
[7m   [0m [93m                        ~~~[0m
[96mvitest.setup.ts[0m:[93m215[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m215[0m   const _pttl = async (key) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m203[0m:[93m23[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m203[0m   const _ttl = async (key) => {
[7m   [0m [93m                      ~~~[0m
[96mvitest.setup.ts[0m:[93m196[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m196[0m   const _decr = async (key) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m189[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m189[0m   const _incr = async (key) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m175[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m175[0m   const _zpopmin = async (key) => {
[7m   [0m [93m                          ~~~[0m
[96mvitest.setup.ts[0m:[93m158[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'withScores' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m158[0m   const _zrange = async (key, start, stop, withScores) => {
[7m   [0m [93m                                           ~~~~~~~~~~[0m
[96mvitest.setup.ts[0m:[93m158[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'stop' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m158[0m   const _zrange = async (key, start, stop, withScores) => {
[7m   [0m [93m                                     ~~~~[0m
[96mvitest.setup.ts[0m:[93m158[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'start' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m158[0m   const _zrange = async (key, start, stop, withScores) => {
[7m   [0m [93m                              ~~~~~[0m
[96mvitest.setup.ts[0m:[93m158[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m158[0m   const _zrange = async (key, start, stop, withScores) => {
[7m   [0m [93m                         ~~~[0m
[96mvitest.setup.ts[0m:[93m150[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'member' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m150[0m   const _zrem = async (key, member) => {
[7m   [0m [93m                            ~~~~~~[0m
[96mvitest.setup.ts[0m:[93m150[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m150[0m   const _zrem = async (key, member) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m140[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'member' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m140[0m   const _zadd = async (key, score, member) => {
[7m   [0m [93m                                   ~~~~~~[0m
[96mvitest.setup.ts[0m:[93m140[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'score' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m140[0m   const _zadd = async (key, score, member) => {
[7m   [0m [93m                            ~~~~~[0m
[96mvitest.setup.ts[0m:[93m140[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m140[0m   const _zadd = async (key, score, member) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m138[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m138[0m   const _smembers = async (key) =>
[7m   [0m [93m                           ~~~[0m
[96mvitest.setup.ts[0m:[93m131[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'member' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m131[0m   const _srem = async (key, member) => {
[7m   [0m [93m                            ~~~~~~[0m
[96mvitest.setup.ts[0m:[93m131[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m131[0m   const _srem = async (key, member) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m121[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'member' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m121[0m   const _sadd = async (key, member) => {
[7m   [0m [93m                            ~~~~~~[0m
[96mvitest.setup.ts[0m:[93m121[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m121[0m   const _sadd = async (key, member) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m114[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'field' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m114[0m   const _hdel = async (key, field) => {
[7m   [0m [93m                            ~~~~~[0m
[96mvitest.setup.ts[0m:[93m114[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m114[0m   const _hdel = async (key, field) => {
[7m   [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m104[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m104[0m   const _hgetall = async (key) => {
[7m   [0m [93m                          ~~~[0m
[96mvitest.setup.ts[0m:[93m99[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'field' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m99[0m   const _hget = async (key, field) => {
[7m  [0m [93m                            ~~~~~[0m
[96mvitest.setup.ts[0m:[93m99[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m99[0m   const _hget = async (key, field) => {
[7m  [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m89[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m89[0m   const _hset = async (key, field, value) => {
[7m  [0m [93m                                   ~~~~~[0m
[96mvitest.setup.ts[0m:[93m89[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'field' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m89[0m   const _hset = async (key, field, value) => {
[7m  [0m [93m                            ~~~~~[0m
[96mvitest.setup.ts[0m:[93m89[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'key' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m89[0m   const _hset = async (key, field, value) => {
[7m  [0m [93m                       ~~~[0m
[96mvitest.setup.ts[0m:[93m74[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m74[0m   const _keys = async (pattern) => {
[7m  [0m [93m                       ~~~~~~~[0m
[96mvitest.setup.ts[0m:[93m73[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'k' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m73[0m   const _exists = async (k) => store.has(k)
[7m  [0m [93m                         ~[0m
[96mvitest.setup.ts[0m:[93m55[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'v' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m   const _set = async (k, v) => {
[7m  [0m [93m                         ~[0m
[96mvitest.setup.ts[0m:[93m55[0m:[93m23[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'k' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m   const _set = async (k, v) => {
[7m  [0m [93m                      ~[0m
[96mvitest.setup.ts[0m:[93m44[0m:[93m23[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'k' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m44[0m   const _get = async (k) => {
[7m  [0m [93m                      ~[0m

[96mplugins/index.ts[0m:[93m16[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'unist-util-visit' or its corresponding type declarations.

[7m16[0m import { visit } from 'unist-util-visit'
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~[0m
[96mplugins/index.ts[0m:[93m7[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@astrojs/markdown-remark' or its corresponding type declarations.

[7m7[0m import { rehypeHeadingIds } from '@astrojs/markdown-remark'
[7m [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mplugins/index.ts[0m:[93m137[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'textNode' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m137[0m         visit(el, 'text', (textNode) => {
[7m   [0m [93m                           ~~~~~~~~[0m
[96mplugins/index.ts[0m:[93m85[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'childNode' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m85[0m         visit(el, 'element', (childNode) => {
[7m  [0m [93m                              ~~~~~~~~~[0m
[96mplugins/index.ts[0m:[93m63[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'childNode' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m63[0m         visit(el, 'element', (childNode) => {
[7m  [0m [93m                              ~~~~~~~~~[0m

[96mplugins/remark-directive-sugar.ts[0m:[93m10[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'unist-util-visit' or its corresponding type declarations.

[7m10[0m import { visit } from 'unist-util-visit'
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~[0m
[96mplugins/remark-directive-sugar.ts[0m:[93m7[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mdast' or its corresponding type declarations.

[7m7[0m import type { Root } from 'mdast'
[7m [0m [91m                          ~~~~~~~[0m
[96mplugins/remark-directive-sugar.ts[0m:[93m175[0m:[93m15[0m - [93mwarning[0m[90m ts(6133): [0m'_isOrg' is declared but its value is never read.

[7m175[0m           let _isOrg = false
[7m   [0m [93m              ~~~~~~[0m
[96mplugins/remark-directive-sugar.ts[0m:[93m174[0m:[93m15[0m - [93mwarning[0m[90m ts(6133): [0m'_resolvedTab' is declared but its value is never read.

[7m174[0m           let _resolvedTab = ''
[7m   [0m [93m              ~~~~~~~~~~~~[0m
[96mplugins/remark-directive-sugar.ts[0m:[93m80[0m:[93m18[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'node' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m80[0m     visit(tree, (node) => {
[7m  [0m [93m                 ~~~~[0m

[96mplugins/remark-generate-og-image.ts[0m:[93m6[0m:[93m19[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'chalk' or its corresponding type declarations.

[7m6[0m import chalk from 'chalk'
[7m [0m [91m                  ~~~~~~~[0m

[96mplugins/remark-image-container.ts[0m:[93m10[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'unist-util-visit' or its corresponding type declarations.

[7m10[0m import { visit } from 'unist-util-visit'
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~[0m
[96mplugins/remark-image-container.ts[0m:[93m7[0m:[93m55[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mdast' or its corresponding type declarations.

[7m7[0m import type { Paragraph, PhrasingContent, Root } from 'mdast'
[7m [0m [91m                                                      ~~~~~~~[0m
[96mplugins/remark-image-container.ts[0m:[93m38[0m:[93m18[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'node' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m38[0m     visit(tree, (node) => {
[7m  [0m [93m                 ~~~~[0m

[96mplugins/remark-reading-time.ts[0m:[93m3[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mdast' or its corresponding type declarations.

[7m3[0m import type { Root } from 'mdast'
[7m [0m [91m                          ~~~~~~~[0m

Result (1718 files): 
- 4209 errors
- 0 warnings
- 1130 hints

 ELIFECYCLE  Command failed with exit code 1.
