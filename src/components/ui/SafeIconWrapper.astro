---
import { Icon } from 'astro-icon/components'

interface Props {
  name: string
  [key: string]: any
}

const { name, ...rest } = Astro.props as Props

// Validate icon name - reject single characters, empty strings, or problematic values
const isValidIconName = (iconName: string): boolean => {
  if (!iconName || typeof iconName !== 'string') return false
  const trimmed = iconName.trim()
  return trimmed.length >= 3 && trimmed !== '-' && trimmed !== '—' && trimmed !== '–'
}

const safeName = isValidIconName(name) ? name.trim() : 'i-uil:question'
---

<Icon name={safeName} {...rest} />