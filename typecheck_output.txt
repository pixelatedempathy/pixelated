â€‰WARNâ€‰ Unsupported engine: wanted: {"node":">=24"} (current: {"node":"v22.21.1","pnpm":"10.28.0"})

> pixelated@0.0.1 typecheck /app
> astro check && tsc --noEmit

ðŸŸ¢ Using Node adapter for standard deployment
07:27:43 [@astrojs/node] Enabling sessions with filesystem storage
[content] There was a problem with your content config:

  â†’ collections.blog: Invalid key in record
  â†’ collections.docs: Invalid key in record
  â†’ collections.changelog: Invalid key in record
  â†’ collections.home: Invalid key in record
  â†’ collections.projects: Invalid key in record
  â†’ collections.feeds: Invalid key in record
  â†’ collections.highlights: Invalid key in record
  â†’ collections.prs: Invalid key in record
  â†’ collections.releases: Invalid key in record
  â†’ collections.streams: Invalid key in record
  â†’ collections.techniques: Invalid key in record
  â†’ collections.pages: Invalid key in record
  â†’ collections.i18n: Invalid key in record

07:27:45 [content] Syncing content
07:27:45 [content] Synced content
07:27:45 [types] Generated 1.88s
07:27:45 [check] Getting diagnostics for Astro files in /app...
[96msrc/server.prod.ts[0m:[93m132[0m:[93m10[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m132[0m app.use((req, res) => {
[7m   [0m [93m         ~~~[0m
[96msrc/server.prod.ts[0m:[93m119[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m119[0m     req: express.Request,
[7m   [0m [93m    ~~~[0m
[96msrc/server.prod.ts[0m:[93m83[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'server' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m83[0m let server
[7m  [0m [93m    ~~~~~~[0m
[96msrc/server.prod.ts[0m:[93m69[0m:[93m21[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m69[0m app.get('/health', (req, res) => {
[7m  [0m [93m                    ~~~[0m
[96msrc/server.prod.ts[0m:[93m9[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m9[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m
[96msrc/server.prod.ts[0m:[93m5[0m:[93m25[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'compression'. '/app/node_modules/.pnpm/compression@1.8.1/node_modules/compression/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/compression` if it exists or add a new declaration (.d.ts) file containing `declare module 'compression';`

[7m5[0m import compression from 'compression'
[7m [0m [93m                        ~~~~~~~~~~~~~[0m

[96msrc/server.ts[0m:[93m85[0m:[93m21[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m85[0m app.get('/health', (req, res) => {
[7m  [0m [93m                    ~~~[0m
[96msrc/server.ts[0m:[93m6[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/api/server.ts[0m:[93m20[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module './routes/auth' or its corresponding type declarations.

[7m20[0m import authRoutes from './routes/auth'
[7m  [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/api/server.ts[0m:[93m12[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module './middleware/auth' or its corresponding type declarations.

[7m12[0m import { authMiddleware } from './middleware/auth'
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/api/server.ts[0m:[93m8[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'morgan' or its corresponding type declarations.

[7m8[0m import morgan from 'morgan'
[7m [0m [91m                   ~~~~~~~~[0m
[96msrc/api/server.ts[0m:[93m7[0m:[93m25[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'compression'. '/app/node_modules/.pnpm/compression@1.8.1/node_modules/compression/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/compression` if it exists or add a new declaration (.d.ts) file containing `declare module 'compression';`

[7m7[0m import compression from 'compression'
[7m [0m [93m                        ~~~~~~~~~~~~~[0m
[96msrc/api/server.ts[0m:[93m4[0m:[93m47[0m - [93mwarning[0m[90m ts(6133): [0m'NextFunction' is declared but its value is never read.

[7m4[0m import express, { Express, Request, Response, NextFunction } from 'express'
[7m [0m [93m                                              ~~~~~~~~~~~~[0m
[96msrc/api/server.ts[0m:[93m4[0m:[93m37[0m - [93mwarning[0m[90m ts(6133): [0m'Response' is declared but its value is never read.

[7m4[0m import express, { Express, Request, Response, NextFunction } from 'express'
[7m [0m [93m                                    ~~~~~~~~[0m
[96msrc/api/server.ts[0m:[93m4[0m:[93m28[0m - [93mwarning[0m[90m ts(6133): [0m'Request' is declared but its value is never read.

[7m4[0m import express, { Express, Request, Response, NextFunction } from 'express'
[7m [0m [93m                           ~~~~~~~[0m

[96msrc/api/middleware/error-handler.ts[0m:[93m13[0m:[93m9[0m - [91merror[0m[90m ts(4115): [0mThis parameter property must have an 'override' modifier because it overrides a member in base class 'Error'.

[7m13[0m         public message: string,
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/middleware/logger.ts[0m:[93m20[0m:[93m34[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'requestId' used before its declaration.

[7m20[0m         (req as any).requestId = requestId
[7m  [0m [91m                                 ~~~~~~~~~[0m
[96msrc/api/middleware/logger.ts[0m:[93m17[0m:[93m23[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'String' has no call signatures.

[7m17[0m     const requestId = generateRequestId()
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/api/middleware/logger.ts[0m:[93m193[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m193[0m     return `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                           ~~~~~~[0m

[96msrc/api/middleware/rate-limiter.ts[0m:[93m105[0m:[93m12[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m105[0m     return (req: Request, res: Response, next: NextFunction) => {
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/api/middleware/rate-limiter.ts[0m:[93m31[0m:[93m17[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m31[0m export function rateLimiter(req: Request, res: Response, next: NextFunction) {
[7m  [0m [91m                ~~~~~~~~~~~[0m
[96msrc/api/middleware/rate-limiter.ts[0m:[93m32[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'connection' is deprecated.

[7m32[0m     const ip = req.ip || req.connection.remoteAddress || 'unknown'
[7m  [0m [93m                             ~~~~~~~~~~[0m

[96msrc/api/routes/documents.ts[0m:[93m6[0m:[93m48[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m6[0m import { requirePermission, requireRole } from '../middleware/auth'
[7m [0m [91m                                               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/routes/health.ts[0m:[93m92[0m:[93m22[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m92[0m router.get('/ready', async (req: Request, res: Response) => {
[7m  [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/health.ts[0m:[93m126[0m:[93m22[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m126[0m router.get('/live', (req: Request, res: Response) => {
[7m   [0m [93m                     ~~~[0m
[96msrc/api/routes/health.ts[0m:[93m92[0m:[93m29[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m92[0m router.get('/ready', async (req: Request, res: Response) => {
[7m  [0m [93m                            ~~~[0m
[96msrc/api/routes/health.ts[0m:[93m26[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m26[0m router.get('/detailed', async (req: Request, res: Response) => {
[7m  [0m [93m                               ~~~[0m
[96msrc/api/routes/health.ts[0m:[93m13[0m:[93m18[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m13[0m router.get('/', (req: Request, res: Response) => {
[7m  [0m [93m                 ~~~[0m

[96msrc/api/routes/market-research-full.ts[0m:[93m78[0m:[93m65[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m78[0m         throw new ValidationError('Invalid permission level', { permissionLevel: true })
[7m  [0m [91m                                                                ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research-full.ts[0m:[93m73[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m73[0m             permissionLevel: !permissionLevel
[7m  [0m [91m            ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research-full.ts[0m:[93m72[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m72[0m             userId: !userId,
[7m  [0m [91m            ~~~~~~[0m
[96msrc/api/routes/market-research-full.ts[0m:[93m35[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'createdBy' does not exist in type '{ title: string; description?: string | undefined; ownerId: string; targetMarkets?: string[] | undefined; researchType?: string | undefined; timeline?: { startDate: Date; endDate: Date; } | undefined; }'.

[7m35[0m         createdBy: id,
[7m  [0m [91m        ~~~~~~~~~[0m
[96msrc/api/routes/market-research-full.ts[0m:[93m26[0m:[93m67[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m26[0m         throw new ValidationError('Research title is required', { title: true })
[7m  [0m [91m                                                                  ~~~~~[0m
[96msrc/api/routes/market-research-full.ts[0m:[93m4[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m4[0m import { authMiddleware } from '../middleware/auth'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/routes/market-research.ts[0m:[93m114[0m:[93m59[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m114[0m         throw new ValidationError('status is required', { status: true })
[7m   [0m [91m                                                          ~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m95[0m:[93m66[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m95[0m         throw new ValidationError('Insight title is required', { title: true })
[7m  [0m [91m                                                                 ~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m40[0m:[93m87[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m40[0m         throw new ValidationError('title and industry are required', { title: !title, industry: !industry })
[7m  [0m [91m                                                                                      ~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m40[0m:[93m72[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m40[0m         throw new ValidationError('title and industry are required', { title: !title, industry: !industry })
[7m  [0m [91m                                                                       ~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m12[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'updateStatus'.

[7m12[0m     updateStatus
[7m  [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'addInsight'.

[7m11[0m     addInsight,
[7m  [0m [91m    ~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m10[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'deleteResearch'.

[7m10[0m     deleteResearch,
[7m  [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m9[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'updateResearch'.

[7m9[0m     updateResearch,
[7m [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m8[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'getResearch'.

[7m8[0m     getResearch,
[7m [0m [91m    ~~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m7[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'listResearch'.

[7m7[0m     listResearch,
[7m [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m6[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/market-research-service"' has no exported member 'createResearch'.

[7m6[0m     createResearch,
[7m [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/api/routes/market-research.ts[0m:[93m4[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m4[0m import { authMiddleware } from '../middleware/auth'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/routes/projects-full.ts[0m:[93m134[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m134[0m export default router
[7m   [0m [91m               ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m128[0m:[93m14[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m128[0m     res.json({
[7m   [0m [91m             ~[0m
[7m129[0m         success: true,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m130[0m         data: results
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m131[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m126[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'searchProjects'.

[7m126[0m     const results = await searchProjects(query, user.id)
[7m   [0m [91m                          ~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m123[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'params' does not exist on type 'Request'.

[7m123[0m     const { query } = req.params
[7m   [0m [91m                          ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m122[0m:[93m30[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'asyncHandler'.

[7m122[0m router.get('/search/:query', asyncHandler(async (req: Request, res: Response) => {
[7m   [0m [91m                             ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m122[0m:[93m1[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m122[0m router.get('/search/:query', asyncHandler(async (req: Request, res: Response) => {
[7m   [0m [91m~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m112[0m:[93m14[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m112[0m     res.json({
[7m   [0m [91m             ~[0m
[7m113[0m         success: true,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m114[0m         data: project
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m115[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m105[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'shareProject'.

[7m105[0m     const project = await shareProject(
[7m   [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m102[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ValidationError'.

[7m102[0m         throw new ValidationError('Invalid permission level', { permissionLevel: true })
[7m   [0m [91m                  ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m95[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ValidationError'.

[7m95[0m         throw new ValidationError('userId and permissionLevel required', {
[7m  [0m [91m                  ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m91[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissionLevel' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m91[0m     const { userId, permissionLevel } = req.body
[7m  [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m91[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m91[0m     const { userId, permissionLevel } = req.body
[7m  [0m [91m            ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m90[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'params' does not exist on type 'Request'.

[7m90[0m     const { projectId } = req.params
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m89[0m:[93m34[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'asyncHandler'.

[7m89[0m router.post('/:projectId/share', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m                                 ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m89[0m:[93m1[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m89[0m router.post('/:projectId/share', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m79[0m:[93m14[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m79[0m     res.json({
[7m  [0m [91m             ~[0m
[7m80[0m         success: true,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m81[0m         data: project
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m82[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m72[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'addObjective'.

[7m72[0m     const project = await addObjective(projectId, user.id, {
[7m  [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m69[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ValidationError'.

[7m69[0m         throw new ValidationError('Objective title is required', { title: true })
[7m  [0m [91m                  ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m65[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'deadline' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m65[0m     const { title, description, successCriteria, deadline } = req.body
[7m  [0m [91m                                                 ~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m65[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'successCriteria' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m65[0m     const { title, description, successCriteria, deadline } = req.body
[7m  [0m [91m                                ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m65[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'description' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m65[0m     const { title, description, successCriteria, deadline } = req.body
[7m  [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m65[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m65[0m     const { title, description, successCriteria, deadline } = req.body
[7m  [0m [91m            ~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m64[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'params' does not exist on type 'Request'.

[7m64[0m     const { projectId } = req.params
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m63[0m:[93m39[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'asyncHandler'.

[7m63[0m router.post('/:projectId/objectives', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m                                      ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m63[0m:[93m1[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m63[0m router.post('/:projectId/objectives', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m53[0m:[93m14[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m53[0m     res.json({
[7m  [0m [91m             ~[0m
[7m54[0m         success: true,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m55[0m         data: project
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m56[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m45[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'updateProject'.

[7m45[0m     const project = await updateProject(projectId, user.id, {
[7m  [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m42[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m42[0m     const { name, description, category, budget, status } = req.body
[7m  [0m [91m                                                 ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m42[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'budget' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m42[0m     const { name, description, category, budget, status } = req.body
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m42[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'category' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m42[0m     const { name, description, category, budget, status } = req.body
[7m  [0m [91m                               ~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m42[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'description' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m42[0m     const { name, description, category, budget, status } = req.body
[7m  [0m [91m                  ~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m42[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ReadableStream<Uint8Array<ArrayBuffer>> | null'.

[7m42[0m     const { name, description, category, budget, status } = req.body
[7m  [0m [91m            ~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m41[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'params' does not exist on type 'Request'.

[7m41[0m     const { projectId } = req.params
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m40[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'asyncHandler'.

[7m40[0m router.put('/:projectId', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m40[0m:[93m1[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m40[0m router.put('/:projectId', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m30[0m:[93m14[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m30[0m     res.json({
[7m  [0m [91m             ~[0m
[7m31[0m         success: true,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m32[0m         data: project
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m33[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m28[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getProject'.

[7m28[0m     const project = await getProject(projectId, user.id)
[7m  [0m [91m                          ~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m25[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'params' does not exist on type 'Request'.

[7m25[0m     const { projectId } = req.params
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m24[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'asyncHandler'.

[7m24[0m router.get('/:projectId', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m24[0m:[93m1[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m24[0m router.get('/:projectId', asyncHandler(async (req: Request, res: Response) => {
[7m  [0m [91m~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m14[0m:[93m14[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m14[0m     res.json({
[7m  [0m [91m             ~[0m
[7m15[0m         success: true,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m16[0m         ...result
[7m  [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m17[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m7[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'listProjects'.

[7m7[0m     const result = await listProjects(user.id, {
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m4[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'query' does not exist on type 'Request'.

[7m4[0m     const { page, limit, category, status } = req.query
[7m [0m [91m                                                  ~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m3[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'asyncHandler'.

[7m3[0m router.get('/', asyncHandler(async (req: Request, res: Response) => {
[7m [0m [91m                ~~~~~~~~~~~~[0m
[96msrc/api/routes/projects-full.ts[0m:[93m3[0m:[93m1[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'router'.

[7m3[0m router.get('/', asyncHandler(async (req: Request, res: Response) => {
[7m [0m [91m~~~~~~[0m

[96msrc/api/routes/projects.ts[0m:[93m132[0m:[93m65[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m132[0m         throw new ValidationError('Invalid permission level', { permissionLevel: true })
[7m   [0m [91m                                                                ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects.ts[0m:[93m127[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m127[0m             permissionLevel: !permissionLevel
[7m   [0m [91m            ~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/projects.ts[0m:[93m126[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m126[0m             userId: !userId,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/api/routes/projects.ts[0m:[93m102[0m:[93m68[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m102[0m         throw new ValidationError('Objective title is required', { title: true })
[7m   [0m [91m                                                                   ~~~~~[0m
[96msrc/api/routes/projects.ts[0m:[93m26[0m:[93m65[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m26[0m         throw new ValidationError('Project name is required', { name: true })
[7m  [0m [91m                                                                ~~~~[0m
[96msrc/api/routes/projects.ts[0m:[93m4[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m4[0m import { authMiddleware } from '../middleware/auth'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/routes/sales-opportunities.ts[0m:[93m130[0m:[93m57[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m130[0m         throw new ValidationError('note is required', { note: true })
[7m   [0m [91m                                                        ~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m117[0m:[93m60[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m117[0m         throw new ValidationError('contact is required', { contact: true })
[7m   [0m [91m                                                           ~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m97[0m:[93m58[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m97[0m         throw new ValidationError('stage is required', { stage: true })
[7m  [0m [91m                                                         ~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m41[0m:[93m84[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m41[0m         throw new ValidationError('title and value are required', { title: !title, value: !value })
[7m  [0m [91m                                                                                   ~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m41[0m:[93m69[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m41[0m         throw new ValidationError('title and value are required', { title: !title, value: !value })
[7m  [0m [91m                                                                    ~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m13[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/sales-service"' has no exported member 'addNote'.

[7m13[0m     addNote
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/sales-service"' has no exported member 'addStageUpdate'.

[7m11[0m     addStageUpdate,
[7m  [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m10[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/sales-service"' has no exported member 'deleteOpportunity'.

[7m10[0m     deleteOpportunity,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m9[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/sales-service"' has no exported member 'updateOpportunity'.

[7m9[0m     updateOpportunity,
[7m [0m [91m    ~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m8[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/sales-service"' has no exported member 'getOpportunity'.

[7m8[0m     getOpportunity,
[7m [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m7[0m:[93m5[0m - [91merror[0m[90m ts(2724): [0m'"../services/sales-service"' has no exported member named 'createOpportunity'. Did you mean 'createSalesOpportunity'?

[7m7[0m     createOpportunity,
[7m [0m [91m    ~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m6[0m:[93m5[0m - [91merror[0m[90m ts(2724): [0m'"../services/sales-service"' has no exported member named 'listOpportunities'. Did you mean 'listSalesOpportunities'?

[7m6[0m     listOpportunities,
[7m [0m [91m    ~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/sales-opportunities.ts[0m:[93m4[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m4[0m import { authMiddleware } from '../middleware/auth'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/routes/strategic-plans.ts[0m:[93m130[0m:[93m59[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m130[0m         throw new ValidationError('status is required', { status: true })
[7m   [0m [91m                                                          ~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m108[0m:[93m91[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m108[0m         throw new ValidationError('projectId or okrId required', { projectId: !projectId, okrId: !okrId })
[7m   [0m [91m                                                                                          ~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m108[0m:[93m68[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m108[0m         throw new ValidationError('projectId or okrId required', { projectId: !projectId, okrId: !okrId })
[7m   [0m [91m                                                                   ~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m43[0m:[93m63[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m43[0m         throw new ValidationError('Plan title is required', { title: true })
[7m  [0m [91m                                                              ~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m12[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'updateStatus'.

[7m12[0m     updateStatus
[7m  [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'alignProject'.

[7m11[0m     alignProject,
[7m  [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m10[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'deletePlan'.

[7m10[0m     deletePlan,
[7m  [0m [91m    ~~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m9[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'updatePlan'.

[7m9[0m     updatePlan,
[7m [0m [91m    ~~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m8[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'getPlan'.

[7m8[0m     getPlan,
[7m [0m [91m    ~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m7[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'createPlan'.

[7m7[0m     createPlan,
[7m [0m [91m    ~~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m6[0m:[93m5[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/strategic-plan-service"' has no exported member 'listPlans'.

[7m6[0m     listPlans,
[7m [0m [91m    ~~~~~~~~~[0m
[96msrc/api/routes/strategic-plans.ts[0m:[93m4[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m4[0m import { authMiddleware } from '../middleware/auth'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/api/routes/users.ts[0m:[93m150[0m:[93m60[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'string'.

[7m150[0m         throw new ValidationError('Permission required', { permission: true })
[7m   [0m [91m                                                           ~~~~~~~~~~[0m
[96msrc/api/routes/users.ts[0m:[93m5[0m:[93m45[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../middleware/auth' or its corresponding type declarations.

[7m5[0m import { authMiddleware, requireRole } from '../middleware/auth'
[7m [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/users.ts[0m:[93m167[0m:[93m11[0m - [93mwarning[0m[90m ts(6198): [0mAll destructured elements are unused.

[7m167[0m     const { userId, permissionId } = req.params
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/api/routes/users.ts[0m:[93m146[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m146[0m     const { userId } = req.params
[7m   [0m [93m          ~~~~~~~~~~[0m

[96msrc/api/services/document-service.ts[0m:[93m26[0m:[93m43[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m26[0m     const documentSlug = slug(data.title, { lower: true })
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~[0m

[96msrc/components/__tests__/AIChat.astro.test.ts[0m:[93m101[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'renderAstroComponent' is declared but its value is never read.

[7m101[0m async function renderAstroComponent(
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m74[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m74[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m65[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m65[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m51[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m51[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m37[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m37[0m     await renderAstro(SecurityDashboard)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/__tests__/SecurityDashboard.test.ts[0m:[93m17[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m17[0m     const { container } = await renderAstro(SecurityDashboard)
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m125[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m125[0m     const { container } = await renderAstro(Alert, {
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m114[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m114[0m     const { container } = await renderAstro(Alert, {
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m104[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m104[0m     const { container } = await renderAstro(Alert, {
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m93[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m93[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m81[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m81[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m69[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m69[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m55[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m55[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m38[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m38[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m19[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m19[0m     const { container } = await renderAstro(Alert, {
[7m  [0m [91m                                            ~~~~~[0m
[96msrc/components/ui/__tests__/Alert.test.ts[0m:[93m7[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m7[0m     const { container } = await renderAstro(Alert, {
[7m [0m [91m                                            ~~~~~[0m

[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m160[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m160[0m         Card,
[7m   [0m [91m        ~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m152[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m152[0m       await renderAstro(CardAction, {}, 'Card Action')
[7m   [0m [91m                        ~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m139[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m139[0m       const { astroContainer } = await renderAstro(CardAction)
[7m   [0m [91m                                                   ~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m132[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m132[0m       await renderAstro(CardFooter, {}, 'Card Footer')
[7m   [0m [91m                        ~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m120[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m120[0m       const { astroContainer } = await renderAstro(CardFooter)
[7m   [0m [91m                                                   ~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m113[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m113[0m       await renderAstro(CardContent, {}, 'Card Content')
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m106[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m106[0m       const { astroContainer } = await renderAstro(CardContent)
[7m   [0m [91m                                                   ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m99[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m99[0m       await renderAstro(CardDescription, {}, 'Card Description')
[7m  [0m [91m                        ~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m90[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m90[0m       const { astroContainer } = await renderAstro(CardDescription)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m83[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m83[0m       await renderAstro(CardTitle, {}, 'Card Title')
[7m  [0m [91m                        ~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m76[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m76[0m       const { astroContainer } = await renderAstro(CardTitle)
[7m  [0m [91m                                                   ~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m63[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m63[0m       const { astroContainer } = await renderAstro(CardHeader, {
[7m  [0m [91m                                                   ~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m48[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m48[0m       const { astroContainer } = await renderAstro(CardHeader)
[7m  [0m [91m                                                   ~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m41[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m41[0m       await renderAstro(Card, {}, 'Card Content')
[7m  [0m [91m                        ~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m32[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m32[0m       const { astroContainer } = await renderAstro(Card, {
[7m  [0m [91m                                                   ~~~~[0m
[96msrc/components/ui/__tests__/Card.test.ts[0m:[93m14[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Props) => any' is not assignable to parameter of type 'AstroComponent'.

[7m14[0m       const { astroContainer } = await renderAstro(Card)
[7m  [0m [91m                                                   ~~~~[0m

[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m134[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m134[0m     const { astroContainer } = await renderAstro(ThemeToggle)
[7m   [0m [91m                                                 ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m115[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m115[0m     const { astroContainer } = await renderAstro(ThemeToggle)
[7m   [0m [91m                                                 ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m103[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m103[0m     const { astroContainer } = await renderAstro(ThemeToggle, {
[7m   [0m [91m                                                 ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m77[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m77[0m     const { astroContainer } = await renderAstro(ThemeToggle)
[7m  [0m [91m                                                 ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m47[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m47[0m     const { astroContainer } = await renderAstro(ThemeToggle)
[7m  [0m [91m                                                 ~~~~~~~~~~~[0m
[96msrc/components/ui/__tests__/ThemeToggle.test.ts[0m:[93m39[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(_props: Record<string, any>) => any' is not assignable to parameter of type 'AstroComponent'.

[7m39[0m     const { astroContainer } = await renderAstro(ThemeToggle)
[7m  [0m [91m                                                 ~~~~~~~~~~~[0m

[96msrc/config/cdn.ts[0m:[93m42[0m:[93m32[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m42[0m       urls: z.array(z.string().url()),
[7m  [0m [93m                               ~~~[0m
[96msrc/config/cdn.ts[0m:[93m11[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m11[0m       url: z.string().url(),
[7m  [0m [93m                      ~~~[0m
[96msrc/config/cdn.ts[0m:[93m5[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m5[0m   baseUrl: z.string().url(),
[7m [0m [93m                      ~~~[0m

[96msrc/config/env.config.ts[0m:[93m115[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'boolean'.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => boolean'.

[7m115[0m     .default('true'),
[7m   [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m111[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'boolean'.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => boolean'.

[7m111[0m     .default('true'),
[7m   [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m105[0m:[93m62[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m105[0m   RATE_LIMIT_WINDOW_MS: z.string().transform(Number).default('900000'),
[7m   [0m [91m                                                             ~~~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m104[0m:[93m65[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m104[0m   RATE_LIMIT_MAX_REQUESTS: z.string().transform(Number).default('100'),
[7m   [0m [91m                                                                ~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m101[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'boolean'.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => boolean'.

[7m101[0m     .default('true'),
[7m   [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m97[0m:[93m70[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m97[0m   SECURITY_API_ABUSE_THRESHOLD: z.string().transform(Number).default('100'),
[7m  [0m [91m                                                                     ~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m96[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m96[0m     .default('1800'),
[7m  [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m92[0m:[93m69[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m92[0m   SECURITY_MAX_LOGIN_ATTEMPTS: z.string().transform(Number).default('5'),
[7m  [0m [91m                                                                    ~~~[0m
[96msrc/config/env.config.ts[0m:[93m91[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'boolean'.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => boolean'.

[7m91[0m     .default('true'),
[7m  [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m26[0m:[93m62[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m26[0m   NOTIFICATION_WS_PORT: z.string().transform(Number).default('8082'),
[7m  [0m [91m                                                             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m23[0m:[93m59[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m23[0m   ANALYTICS_WS_PORT: z.string().transform(Number).default('8083'),
[7m  [0m [91m                                                          ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m20[0m:[93m14[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'boolean'.
  Overload 2 of 2, '(def: () => boolean): ZodDefault<ZodPipe<ZodString, ZodTransform<boolean, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => boolean'.

[7m20[0m     .default('true'),
[7m  [0m [91m             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m13[0m:[93m46[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(def: number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(def: () => number): ZodDefault<ZodPipe<ZodString, ZodTransform<number, string>>>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '() => number'.

[7m13[0m   PORT: z.string().transform(Number).default('3000'),
[7m  [0m [91m                                             ~~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m155[0m:[93m43[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m155[0m   MENTALLAMA_ENDPOINT_URL_13B: z.string().url().optional(),
[7m   [0m [93m                                          ~~~[0m
[96msrc/config/env.config.ts[0m:[93m154[0m:[93m42[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m154[0m   MENTALLAMA_ENDPOINT_URL_7B: z.string().url().optional(),
[7m   [0m [93m                                         ~~~[0m
[96msrc/config/env.config.ts[0m:[93m150[0m:[93m33[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m150[0m   SLACK_WEBHOOK_URL: z.string().url().optional(),
[7m   [0m [93m                                ~~~[0m
[96msrc/config/env.config.ts[0m:[93m142[0m:[93m29[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m142[0m   VAPID_SUBJECT: z.string().url().optional(),
[7m   [0m [93m                            ~~~[0m
[96msrc/config/env.config.ts[0m:[93m118[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m118[0m   VITE_API_URL: z.string().url().optional(),
[7m   [0m [93m                           ~~~[0m
[96msrc/config/env.config.ts[0m:[93m85[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m85[0m   SITE_URL: z.string().url().optional(),
[7m  [0m [93m                       ~~~[0m
[96msrc/config/env.config.ts[0m:[93m83[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m83[0m   EMAIL_FROM: z.string().email().optional(),
[7m  [0m [93m                         ~~~~~[0m
[96msrc/config/env.config.ts[0m:[93m76[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m76[0m   SENTRY_DSN: z.string().url().optional(),
[7m  [0m [93m                         ~~~[0m
[96msrc/config/env.config.ts[0m:[93m60[0m:[93m37[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m60[0m   AZURE_OPENAI_ENDPOINT: z.string().url().optional(),
[7m  [0m [93m                                    ~~~[0m
[96msrc/config/env.config.ts[0m:[93m52[0m:[93m31[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m52[0m   OPENAI_BASE_URL: z.string().url().optional(),
[7m  [0m [93m                              ~~~[0m

[96msrc/data/sample-cognitive-models.ts[0m:[93m1136[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m1136[0m         'Basic emotional regulation',
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m1135[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m1135[0m         'Safety planning',
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m1134[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m1134[0m         'Grounding techniques',
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m1087[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'resistance' does not exist in type 'ConversationalStyle'.

[7m1087[0m       resistance: 6,
[7m    [0m [91m      ~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m749[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m749[0m         'Basic cognitive restructuring',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m748[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m748[0m         'Progressive muscle relaxation',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m747[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m747[0m         'Deep breathing',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m704[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'resistance' does not exist in type 'ConversationalStyle'.

[7m704[0m       resistance: 7,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m361[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m361[0m         'Mindfulness techniques',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m360[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m360[0m         'Activity scheduling',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m359[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m359[0m         'Basic thought challenging',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/data/sample-cognitive-models.ts[0m:[93m318[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'resistance' does not exist in type 'ConversationalStyle'.

[7m318[0m       resistance: 6,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/e2e/breach-notification.spec.ts[0m:[93m310[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m310[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m200[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m200[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m108[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'string'.

[7m108[0m               postData: JSON.parse((request.postData() as unknown) || '{}'),
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m1[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../services/AuthService' or its corresponding type declarations.

[7m1[0m import AuthService from '../services/AuthService'
[7m [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m310[0m:[93m17[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m310[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/e2e/breach-notification.spec.ts[0m:[93m200[0m:[93m17[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m200[0m               ((await request.postData()) as unknown) || '{}',
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useAudioCapture.ts[0m:[93m180[0m:[93m17[0m - [91merror[0m[90m ts(18047): [0m'recorder' is possibly 'null'.

[7m180[0m                 recorder.stop()
[7m   [0m [91m                ~~~~~~~~[0m
[96msrc/hooks/useAudioCapture.ts[0m:[93m179[0m:[93m17[0m - [91merror[0m[90m ts(18047): [0m'recorder' is possibly 'null'.

[7m179[0m             if (recorder.state !== 'inactive') {
[7m   [0m [91m                ~~~~~~~~[0m
[96msrc/hooks/useAudioCapture.ts[0m:[93m178[0m:[93m13[0m - [91merror[0m[90m ts(18047): [0m'recorder' is possibly 'null'.

[7m178[0m             recorder.addEventListener('stop', handleStop)
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/hooks/useAudioCapture.ts[0m:[93m165[0m:[93m17[0m - [91merror[0m[90m ts(18047): [0m'recorder' is possibly 'null'.

[7m165[0m                 recorder.removeEventListener('stop', handleStop)
[7m   [0m [91m                ~~~~~~~~[0m
[96msrc/hooks/useAudioCapture.ts[0m:[93m121[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MediaRecorderErrorEvent'.

[7m121[0m             recorder.onerror = (event: MediaRecorderErrorEvent) => {
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m122[0m:[93m46[0m - [91merror[0m[90m ts(2454): [0mVariable 'generateSummary' is used before being assigned.

[7m122[0m     [minConfidence, onDetection, onComplete, generateSummary],
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m122[0m:[93m46[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'generateSummary' used before its declaration.

[7m122[0m     [minConfidence, onDetection, onComplete, generateSummary],
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m86[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'config' is of type 'unknown'.

[7m86[0m               type: config.type,
[7m  [0m [91m                    ~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m68[0m:[93m46[0m - [91merror[0m[90m ts(18046): [0m'config' is of type 'unknown'.

[7m68[0m             0.5 + (matchingPatterns.length / config.patterns.length) * 0.5,
[7m  [0m [91m                                             ~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m61[0m:[93m34[0m - [91merror[0m[90m ts(18046): [0m'config' is of type 'unknown'.

[7m61[0m         const matchingPatterns = config.patterns.filter((pattern) =>
[7m  [0m [91m                                 ~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m7[0m:[93m44[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../lib/ai/types/CognitiveDistortions' or its corresponding type declarations.

[7m7[0m import { cognitiveDistortionConfigs } from '../lib/ai/types/CognitiveDistortions'
[7m [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m6[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../lib/ai/types/CognitiveDistortions' or its corresponding type declarations.

[7m6[0m } from '../lib/ai/types/CognitiveDistortions'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCognitiveDistortionDetection.ts[0m:[93m61[0m:[93m58[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m61[0m         const matchingPatterns = config.patterns.filter((pattern) =>
[7m  [0m [93m                                                         ~~~~~~~[0m

[96msrc/hooks/useCollaboration.ts[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../services/socketService.js"' has no exported member 'DocumentChangeEvent'.

[7m3[0m import { DocumentChangeEvent } from '../services/socketService.js'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useCollaboration.ts[0m:[93m164[0m:[93m42[0m - [93mwarning[0m[90m ts(6133): [0m'change' is declared but its value is never read.

[7m164[0m   const applyRemoteChange = useCallback((change: DocumentChangeEvent) => {
[7m   [0m [93m                                         ~~~~~~[0m

[96msrc/hooks/useComparativeProgress.ts[0m:[93m41[0m:[93m17[0m - [93mwarning[0m[90m ts(80004): [0mJSDoc types may be moved to TypeScript types.

[7m41[0m export function useComparativeProgress(
[7m  [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useComponentIntegration.ts[0m:[93m471[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m471[0m   const intervalRef = useRef<NodeJS.Timeout>()
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m372[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m372[0m   const intervalRef = useRef<NodeJS.Timeout>()
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m213[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m213[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/hooks/useComponentIntegration.ts[0m:[93m53[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m53[0m   const intervalRef = useRef<NodeJS.Timeout>()
[7m  [0m [91m                      ~~~~~~[0m

[96msrc/hooks/useConversationMemory.ts[0m:[93m155[0m:[93m22[0m - [91merror[0m[90m ts(2560): [0mValue of type '(prevState: any) => { progressMetrics: any; }' has no properties in common with type 'Partial<ProgressMilestoneState>'. Did you mean to call it?

[7m155[0m     setProgressState((prevState: any) => {
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useConversionTracking.ts[0m:[93m49[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m49[0m     trackEvent('page_view', { path })
[7m  [0m [91m                            ~~~~~~~~[0m

[96msrc/hooks/useEmotionDetection.ts[0m:[93m53[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m53[0m         confidence: analysis.confidence || 0.8,
[7m  [0m [91m                    ~~~~~~~~[0m
[96msrc/hooks/useEmotionDetection.ts[0m:[93m52[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m52[0m         intensity: analysis.intensity || 0.5,
[7m  [0m [91m                   ~~~~~~~~[0m
[96msrc/hooks/useEmotionDetection.ts[0m:[93m51[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m51[0m         secondaryEmotions: analysis.secondaryEmotions || [],
[7m  [0m [91m                           ~~~~~~~~[0m
[96msrc/hooks/useEmotionDetection.ts[0m:[93m50[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m50[0m         primaryEmotion: analysis.primaryEmotion || 'neutral',
[7m  [0m [91m                        ~~~~~~~~[0m

[96msrc/hooks/useEmotionProgress.ts[0m:[93m206[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ date: string; overallImprovement: number; stabilityChange: number; positiveEmotionChange: number; negativeEmotionChange: number; }' is not assignable to parameter of type 'never'.

[7m206[0m     result.push({
[7m   [0m [91m                ~[0m
[7m207[0m       date,
[7m   [0m [91m~~~~~~~~~~~[0m
[7m...[0m
[7m211[0m       negativeEmotionChange: negative,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m212[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/hooks/useEmotionProgress.ts[0m:[93m2[0m:[93m42[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/ai/temporal/types' or its corresponding type declarations.

[7m2[0m import type { ProgressionAnalysis } from '@/lib/ai/temporal/types'
[7m [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useOffline.ts[0m:[93m114[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ isOffline: boolean; checkConnection: () => Promise<boolean>; connectionInfo: ConnectionInfo; }' is not assignable to type 'void'.

[7m114[0m   return {
[7m   [0m [91m  ~~~~~~[0m

[96msrc/hooks/useOfflineDetection.ts[0m:[93m85[0m:[93m61[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'NetworkInformationLike'.

[7m85[0m         const nav2 = navigator as unknown as { connection?: NetworkInformationLike }
[7m  [0m [91m                                                            ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useOfflineDetection.ts[0m:[93m73[0m:[93m59[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'NetworkInformationLike'.

[7m73[0m       const nav2 = navigator as unknown as { connection?: NetworkInformationLike }
[7m  [0m [91m                                                          ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/usePatientModel.ts[0m:[93m136[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'generatePatientPrompt' does not exist on type 'PatientModelService'.

[7m136[0m         const prompt = patientService.generatePatientPrompt(responseContext)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/usePatientModel.ts[0m:[93m123[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'createResponseContext' does not exist on type 'PatientModelService'.

[7m123[0m         const responseContext = await patientService.createResponseContext(
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/usePatientModel.ts[0m:[93m69[0m:[93m44[0m - [91merror[0m[90m ts(2551): [0mProperty 'getModelById' does not exist on type 'PatientModelService'. Did you mean 'getModel'?

[7m69[0m         const model = await patientService.getModelById(currentModelId)
[7m  [0m [91m                                           ~~~~~~~~~~~~[0m
[96msrc/hooks/usePatientModel.ts[0m:[93m41[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CognitiveModel[]' is not assignable to parameter of type 'SetStateAction<string[]>'.
  Type 'CognitiveModel[]' is not assignable to type 'string[]'.
    Type 'CognitiveModel' is not assignable to type 'string'.

[7m41[0m         setAvailableModels(models)
[7m  [0m [91m                           ~~~~~~[0m

[96msrc/hooks/usePersistentState.ts[0m:[93m45[0m:[93m36[0m - [91merror[0m[90m ts(2341): [0mProperty 'getFullKey' is private and only accessible within class 'StorageManager'.

[7m45[0m       if (e.key === storageManager.getFullKey(key) && e.newValue) {
[7m  [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/hooks/usePersistentState.ts[0m:[93m25[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m25[0m   const debounceRef = useRef<NodeJS.Timeout>()
[7m  [0m [91m                      ~~~~~~[0m

[96msrc/hooks/usePipelineWebSocket.ts[0m:[93m437[0m:[93m57[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m437[0m         id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                        ~~~~~~[0m

[96msrc/hooks/usePixelConversationIntegration.ts[0m:[93m20[0m:[93m10[0m - [91merror[0m[90m ts(2459): [0mModule '"@/lib/pixel-conversation-integration"' declares 'PixelInferenceResponse' locally, but it is not exported.

[7m20[0m     type PixelInferenceResponse,
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/usePixelConversationIntegration.ts[0m:[93m251[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'integration' is declared but its value is never read.

[7m251[0m     const { crisisStatus, integration } = usePixelConversationIntegration({
[7m   [0m [93m                          ~~~~~~~~~~~[0m
[96msrc/hooks/usePixelConversationIntegration.ts[0m:[93m224[0m:[93m19[0m - [93mwarning[0m[90m ts(6133): [0m'metrics' is declared but its value is never read.

[7m224[0m             const metrics = integration.getEQMetricsTrend()
[7m   [0m [93m                  ~~~~~~~[0m

[96msrc/hooks/useRiskAssessment.ts[0m:[93m53[0m:[93m23[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m53[0m           confidence: analysis.confidence || 0.5,
[7m  [0m [91m                      ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m52[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m52[0m           requiresExpert: analysis.requiresExpert || false,
[7m  [0m [91m                          ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m51[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m51[0m           factors: analysis.factors || [],
[7m  [0m [91m                   ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m50[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'analysis' is of type 'unknown'.

[7m50[0m           category: analysis.category || 'low',
[7m  [0m [91m                    ~~~~~~~~[0m
[96msrc/hooks/useRiskAssessment.ts[0m:[93m34[0m:[93m13[0m - [91merror[0m[90m ts(2358): [0mThe left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.

[7m34[0m         if (response instanceof ReadableStream) {
[7m  [0m [91m            ~~~~~~~~[0m

[96msrc/hooks/useSecurity.ts[0m:[93m23[0m:[93m28[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m23[0m           await fheService.initialize()
[7m  [0m [91m                           ~~~~~~~~~~[0m

[96msrc/hooks/useSessionTimingMetrics.ts[0m:[93m23[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m23[0m   lastActiveTimeRef: React.MutableRefObject<number>,
[7m  [0m [93m                           ~~~~~~~~~~~~~~~~[0m
[96msrc/hooks/useSessionTimingMetrics.ts[0m:[93m22[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m22[0m   sessionStartTimeRef: React.MutableRefObject<number>,
[7m  [0m [93m                             ~~~~~~~~~~~~~~~~[0m

[96msrc/hooks/useSyncedState.ts[0m:[93m35[0m:[93m23[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m35[0m   const debounceRef = useRef<NodeJS.Timeout>()
[7m  [0m [91m                      ~~~~~~[0m

[96msrc/integrations/search.ts[0m:[93m1[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'AstroIntegration'.

[7m1[0m import { type AstroIntegration } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics.ts[0m:[93m454[0m:[93m58[0m - [93mwarning[0m[90m ts(6385): [0m'platform' is deprecated.

[7m454[0m             typeof navigator !== 'undefined' ? navigator.platform : 'server',
[7m   [0m [93m                                                         ~~~~~~~~[0m

[96msrc/lib/auth-legacy.ts[0m:[93m81[0m:[93m27[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m81[0m     const decoded = await validateToken(accessToken)
[7m  [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/auth-legacy.ts[0m:[93m56[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'UserDateSchema | undefined' is not assignable to type 'Date | null | undefined'.
  Type 'string' is not assignable to type 'Date'.

[7m56[0m       lastLogin: user.lastLogin,
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/auth-legacy.ts[0m:[93m52[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m52[0m       email: user.email,
[7m  [0m [91m      ~~~~~[0m
[96msrc/lib/auth-legacy.ts[0m:[93m51[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m51[0m       id: user.id,
[7m  [0m [91m      ~~[0m
[96msrc/lib/auth-legacy.ts[0m:[93m45[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m45[0m     const user = await auth0UserService.getUserById(userId)
[7m  [0m [91m                                                    ~~~~~~[0m
[96msrc/lib/auth-legacy.ts[0m:[93m37[0m:[93m27[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m37[0m     const decoded = await validateToken(accessToken)
[7m  [0m [91m                          ~~~~~~~~~~~~~[0m

[96msrc/lib/cache.ts[0m:[93m57[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m57[0m       this.store.delete(oldestKey)
[7m  [0m [91m                        ~~~~~~~~~[0m

[96msrc/lib/email.ts[0m:[93m3[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m3[0m const logger = createBuildSafeLogger({ prefix: 'EmailService' })
[7m [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/email.ts[0m:[93m66[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m66[0m       const messageId = `msg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                                        ~~~~~~[0m

[96msrc/lib/encryption.ts[0m:[93m91[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'Uint8Array<ArrayBufferLike>' is not assignable to type 'BufferSource'.
  Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'Uint8Array<ArrayBuffer> | DataView<ArrayBuffer>'.
    Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'Uint8Array<ArrayBuffer>'.
      Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
        Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m91[0m         iv,
[7m  [0m [91m        ~~[0m
[96msrc/lib/encryption.ts[0m:[93m45[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Uint8Array<ArrayBufferLike>' is not assignable to type 'BufferSource'.
  Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'Uint8Array<ArrayBuffer> | DataView<ArrayBuffer>'.
    Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'Uint8Array<ArrayBuffer>'.
      Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
        Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m45[0m       salt,
[7m  [0m [91m      ~~~~[0m
[96msrc/lib/encryption.ts[0m:[93m42[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'import("node:crypto").webcrypto.CryptoKey' is not assignable to type 'CryptoKey'.
  Types of property 'usages' are incompatible.
    Type 'import("node:crypto").webcrypto.KeyUsage[]' is not assignable to type 'KeyUsage[]'.
      Type 'import("node:crypto").webcrypto.KeyUsage' is not assignable to type 'KeyUsage'.
        Type '"decapsulateBits"' is not assignable to type 'KeyUsage'.

[7m42[0m   return webcrypto.subtle.deriveKey(
[7m  [0m [91m  ~~~~~~[0m

[96msrc/lib/fhe.ts[0m:[93m351[0m:[93m24[0m - [91merror[0m[90m ts(2348): [0mValue of type 'new (_0: SEALContext, _1: SecretKey) => Decryptor' is not callable. Did you mean to include 'new'?

[7m351[0m       this.decryptor = (this.seal as SealInstance).Decryptor(
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m352[0m         this.context,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m353[0m         this.secretKey,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m354[0m       )
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m347[0m:[93m24[0m - [91merror[0m[90m ts(2348): [0mValue of type '{ new (_0: SEALContext, _1: PublicKey): Encryptor; new (_0: SEALContext, _1: PublicKey, _2: SecretKey): Encryptor; }' is not callable. Did you mean to include 'new'?

[7m347[0m       this.encryptor = (this.seal as SealInstance).Encryptor(
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m348[0m         this.context,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m349[0m         this.publicKey,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m350[0m       )
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m342[0m:[93m22[0m - [91merror[0m[90m ts(2348): [0mValue of type '{ new (_0: SEALContext): KeyGenerator; new (_0: SEALContext, _1: SecretKey): KeyGenerator; }' is not callable. Did you mean to include 'new'?

[7m342[0m       const keyGen = (this.seal as SealInstance).KeyGenerator(this.context)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m278[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'crypto' does not exist on type 'WasmModule & EmbindModule'.

[7m278[0m       const hashBuffer = await this.seal.crypto.subtle.digest(
[7m   [0m [91m                                         ~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m278[0m:[93m32[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m278[0m       const hashBuffer = await this.seal.crypto.subtle.digest(
[7m   [0m [91m                               ~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m236[0m:[93m53[0m - [91merror[0m[90m ts(2551): [0mProperty 'PlainText' does not exist on type 'WasmModule & EmbindModule'. Did you mean 'Plaintext'?

[7m236[0m       const plaintext = (this.seal as SealInstance).PlainText() as PlainText
[7m   [0m [91m                                                    ~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m232[0m:[93m54[0m - [91merror[0m[90m ts(2551): [0mProperty 'CipherText' does not exist on type 'WasmModule & EmbindModule'. Did you mean 'Ciphertext'?

[7m232[0m       const ciphertext = (this.seal as SealInstance).CipherText() as CipherText
[7m   [0m [91m                                                     ~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m209[0m:[93m54[0m - [91merror[0m[90m ts(2551): [0mProperty 'CipherText' does not exist on type 'WasmModule & EmbindModule'. Did you mean 'Ciphertext'?

[7m209[0m       const ciphertext = (this.seal as SealInstance).CipherText() as CipherText
[7m   [0m [91m                                                     ~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m202[0m:[93m53[0m - [91merror[0m[90m ts(2551): [0mProperty 'PlainText' does not exist on type 'WasmModule & EmbindModule'. Did you mean 'Plaintext'?

[7m202[0m       const plaintext = (this.seal as SealInstance).PlainText() as PlainText
[7m   [0m [91m                                                    ~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m125[0m:[93m24[0m - [91merror[0m[90m ts(2348): [0mValue of type 'new (_0: SEALContext, _1: SecretKey) => Decryptor' is not callable. Did you mean to include 'new'?

[7m125[0m       this.decryptor = (this.seal as SealInstance).Decryptor(
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m126[0m         this.context as SEALContext,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m127[0m         this.secretKey as SecretKey,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m128[0m       ) as Decryptor
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m121[0m:[93m24[0m - [91merror[0m[90m ts(2348): [0mValue of type '{ new (_0: SEALContext, _1: PublicKey): Encryptor; new (_0: SEALContext, _1: PublicKey, _2: SecretKey): Encryptor; }' is not callable. Did you mean to include 'new'?

[7m121[0m       this.encryptor = (this.seal as SealInstance).Encryptor(
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m122[0m         this.context as SEALContext,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m123[0m         this.publicKey as PublicKey,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m124[0m       ) as Encryptor
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m118[0m:[93m22[0m - [91merror[0m[90m ts(2348): [0mValue of type 'new (_0: SEALContext) => BatchEncoder' is not callable. Did you mean to include 'new'?

[7m118[0m       this.encoder = (this.seal as SealInstance).BatchEncoder(
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m119[0m         this.context as SEALContext,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m120[0m       ) as BatchEncoder
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m111[0m:[93m28[0m - [91merror[0m[90m ts(2348): [0mValue of type '{ new (_0: SEALContext): KeyGenerator; new (_0: SEALContext, _1: SecretKey): KeyGenerator; }' is not callable. Did you mean to include 'new'?

[7m111[0m       const keyGenerator = (this.seal as SealInstance).KeyGenerator(
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m112[0m         this.context as SEALContext,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m113[0m       ) as KeyGenerator
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m100[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'Context' does not exist on type 'WasmModule & EmbindModule'.

[7m100[0m       this.context = (this.seal as SealInstance).Context(
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m80[0m:[93m25[0m - [91merror[0m[90m ts(2348): [0mValue of type 'new (_0: SchemeType) => EncryptionParameters' is not callable. Did you mean to include 'new'?

[7m80[0m       const encParams = (this.seal as SealInstance).EncryptionParameters(
[7m  [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m81[0m         schemeType,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m82[0m       ) as EncryptionParameters
[7m  [0m [91m~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m74[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'SecurityLevel' does not exist on type 'WasmModule & EmbindModule'.

[7m74[0m       const securityLevel = (this.seal as SealInstance).SecurityLevel.tc128
[7m  [0m [91m                                                        ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m23[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'CipherText' does not exist on type 'WasmModule & EmbindModule'.

[7m23[0m type CipherText = ReturnType<SealInstance['CipherText']>
[7m  [0m [91m                                          ~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m22[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'PlainText' does not exist on type 'WasmModule & EmbindModule'.

[7m22[0m type PlainText = ReturnType<SealInstance['PlainText']>
[7m  [0m [91m                                         ~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m21[0m:[93m29[0m - [91merror[0m[90m ts(2344): [0mType 'new (_0: SEALContext, _1: SecretKey) => Decryptor' does not satisfy the constraint '(...args: any) => any'.
  Type 'new (_0: SEALContext, _1: SecretKey) => Decryptor' provides no match for the signature '(...args: any): any'.

[7m21[0m type Decryptor = ReturnType<SealInstance['Decryptor']>
[7m  [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m20[0m:[93m29[0m - [91merror[0m[90m ts(2344): [0mType '{ new (_0: SEALContext, _1: PublicKey): Encryptor; new (_0: SEALContext, _1: PublicKey, _2: SecretKey): Encryptor; }' does not satisfy the constraint '(...args: any) => any'.
  Type '{ new (_0: SEALContext, _1: PublicKey): Encryptor; new (_0: SEALContext, _1: PublicKey, _2: SecretKey): Encryptor; }' provides no match for the signature '(...args: any): any'.

[7m20[0m type Encryptor = ReturnType<SealInstance['Encryptor']>
[7m  [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m19[0m:[93m32[0m - [91merror[0m[90m ts(2344): [0mType 'new (_0: SEALContext) => BatchEncoder' does not satisfy the constraint '(...args: any) => any'.
  Type 'new (_0: SEALContext) => BatchEncoder' provides no match for the signature '(...args: any): any'.

[7m19[0m type BatchEncoder = ReturnType<SealInstance['BatchEncoder']>
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m16[0m:[93m32[0m - [91merror[0m[90m ts(2344): [0mType '{ new (_0: SEALContext): KeyGenerator; new (_0: SEALContext, _1: SecretKey): KeyGenerator; }' does not satisfy the constraint '(...args: any) => any'.
  Type '{ new (_0: SEALContext): KeyGenerator; new (_0: SEALContext, _1: SecretKey): KeyGenerator; }' provides no match for the signature '(...args: any): any'.

[7m16[0m type KeyGenerator = ReturnType<SealInstance['KeyGenerator']>
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m15[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'Context' does not exist on type 'WasmModule & EmbindModule'.

[7m15[0m type SEALContext = ReturnType<SealInstance['Context']>
[7m  [0m [91m                                           ~~~~~~~~~[0m
[96msrc/lib/fhe.ts[0m:[93m14[0m:[93m40[0m - [91merror[0m[90m ts(2344): [0mType 'new (_0: SchemeType) => EncryptionParameters' does not satisfy the constraint '(...args: any) => any'.
  Type 'new (_0: SchemeType) => EncryptionParameters' provides no match for the signature '(...args: any): any'.

[7m14[0m type EncryptionParameters = ReturnType<SealInstance['EncryptionParameters']>
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/memory.ts[0m:[93m122[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'bVal' is possibly 'undefined'.

[7m122[0m         if (aVal > bVal) {
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m122[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'aVal' is possibly 'undefined'.

[7m122[0m         if (aVal > bVal) {
[7m   [0m [91m            ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m119[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'bVal' is possibly 'undefined'.

[7m119[0m         if (aVal < bVal) {
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m119[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'aVal' is possibly 'undefined'.

[7m119[0m         if (aVal < bVal) {
[7m   [0m [91m            ~~~~[0m
[96msrc/lib/memory.ts[0m:[93m43[0m:[93m38[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m43[0m       id: Math.random().toString(36).substr(2, 9),
[7m  [0m [93m                                     ~~~~~~[0m

[96msrc/lib/redis.ts[0m:[93m127[0m:[93m31[0m - [93mwarning[0m[90m ts(6133): [0m'count' is declared but its value is never read.

[7m127[0m     lrem: async (key: string, count: number, value: string) => {
[7m   [0m [93m                              ~~~~~[0m
[96msrc/lib/redis.ts[0m:[93m60[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'seconds' is declared but its value is never read.

[7m60[0m     setex: async (key: string, seconds: number, value: string) => {
[7m  [0m [93m                               ~~~~~~~[0m

[96msrc/lib/schema.ts[0m:[93m236[0m:[93m31[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m236[0m const releaseGroupsSchema = z.record(z.array(releaseSchema))
[7m   [0m [91m                              ~~~~~~[0m
[96msrc/lib/schema.ts[0m:[93m181[0m:[93m31[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m181[0m const projectGroupsSchema = z.record(z.array(projectSchema))
[7m   [0m [91m                              ~~~~~~[0m
[96msrc/lib/schema.ts[0m:[93m259[0m:[93m21[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m259[0m     url: z.string().url(),
[7m   [0m [93m                    ~~~[0m
[96msrc/lib/schema.ts[0m:[93m249[0m:[93m19[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m249[0m   url: z.string().url(),
[7m   [0m [93m                  ~~~[0m
[96msrc/lib/schema.ts[0m:[93m230[0m:[93m20[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m230[0m   link: z.string().url(),
[7m   [0m [93m                   ~~~[0m
[96msrc/lib/schema.ts[0m:[93m201[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m201[0m     .url('Invalid url.')
[7m   [0m [93m     ~~~[0m
[96msrc/lib/schema.ts[0m:[93m161[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m161[0m     .url('Invalid url.')
[7m   [0m [93m     ~~~[0m
[96msrc/lib/schema.ts[0m:[93m143[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m143[0m     .url('Invalid url.')
[7m   [0m [93m     ~~~[0m

[96msrc/lib/search-browser.ts[0m:[93m265[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 0-2 arguments, but got 3.

[7m265[0m           { cause: docErr },
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security.ts[0m:[93m552[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'Record<string, unknown> | null'.

[7m552[0m     return payload
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security.ts[0m:[93m548[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'payload' is of type 'unknown'.

[7m548[0m     if (payload.exp && payload.exp < Math.floor(Date.now() / 1000)) {
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/security.ts[0m:[93m548[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'payload' is of type 'unknown'.

[7m548[0m     if (payload.exp && payload.exp < Math.floor(Date.now() / 1000)) {
[7m   [0m [91m        ~~~~~~~[0m

[96msrc/lib/__tests__/test-utils.ts[0m:[93m208[0m:[93m28[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ getItem: Mock<Procedure>; setItem: Mock<Procedure>; removeItem: Mock<Procedure>; clear: Mock<Procedure>; key: Mock<...>; length: Mock<...>; }' to type 'Storage' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'length' are incompatible.
    Type 'Mock<Procedure>' is not comparable to type 'number'.

[7m208[0m   const mocklocalStorage = {
[7m   [0m [91m                           ~[0m
[7m209[0m     getItem: mockGetItem,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m216[0m     length: vi.fn().mockImplementation(() => storage.size),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m217[0m   } as Storage
[7m   [0m [91m~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/PixelatedEmpathyAgent.ts[0m:[93m192[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m192[0m                 const data = JSON.parse(line.slice(6) as unknown)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/interventionEngine.ts[0m:[93m315[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'medicationAdherence' does not exist on type 'SessionData'.

[7m315[0m     if (patientProfile.medication && sessionData.medicationAdherence < 0.8) {
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m308[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'homeworkCompleted' does not exist on type 'SessionData'.

[7m308[0m     if (sessionData.homeworkAssigned && !sessionData.homeworkCompleted) {
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m308[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'homeworkAssigned' does not exist on type 'SessionData'.

[7m308[0m     if (sessionData.homeworkAssigned && !sessionData.homeworkCompleted) {
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m194[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'emotionAnalysis' does not exist on type 'SessionData'.

[7m194[0m           const currentMood = session.emotionAnalysis?.moodScore || 0.5
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m163[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'therapeuticMetrics' does not exist on type 'SessionData'.

[7m163[0m           const rapportScore = session.therapeuticMetrics?.rapport || 0.5
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m94[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'emotionAnalysis' does not exist on type 'SessionData'.

[7m94[0m           const anxietyIndicators = session.emotionAnalysis?.anxiety || 0
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m64[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'transcript' does not exist on type 'SessionData'.

[7m64[0m           const transcript = session.transcript?.toLowerCase() || ''
[7m  [0m [91m                                     ~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m6[0m:[93m44[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/ai"' has no exported member 'Intervention'.

[7m6[0m import type { SessionData, PatientProfile, Intervention } from '@/types/ai'
[7m [0m [91m                                           ~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m6[0m:[93m28[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/ai"' has no exported member 'PatientProfile'.

[7m6[0m import type { SessionData, PatientProfile, Intervention } from '@/types/ai'
[7m [0m [91m                           ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m334[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m334[0m     if (recentEmotions.every((emotion) => emotion === 'anxious')) {
[7m   [0m [93m                              ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m333[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m333[0m         .map((s) => s.emotionAnalysis?.dominantEmotion) || []
[7m   [0m [93m              ~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m226[0m:[93m13[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m226[0m       (acc, session) => acc + (session.emotionAnalysis?.moodScore || 0.5),
[7m   [0m [93m            ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m226[0m:[93m8[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'acc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m226[0m       (acc, session) => acc + (session.emotionAnalysis?.moodScore || 0.5),
[7m   [0m [93m       ~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m130[0m:[93m14[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m130[0m             (s) =>
[7m   [0m [93m             ~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m123[0m:[93m21[0m - [93mwarning[0m[90m ts(6133): [0m'session' is declared but its value is never read.

[7m123[0m         condition: (session, patient) => {
[7m   [0m [93m                    ~~~~~~~[0m
[96msrc/lib/ai/interventionEngine.ts[0m:[93m43[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m43[0m   private context: InterventionContext | null = null
[7m  [0m [93m          ~~~~~~~[0m

[96msrc/lib/ai/modelOptimizer.ts[0m:[93m334[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m334[0m           `Consider ${metric} degradation: ${(change * 100).toFixed(1)}%`,
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m332[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m332[0m       } else if (change < -0.1) {
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m330[0m:[93m48[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m330[0m           `Great improvement in ${metric}: +${(change * 100).toFixed(1)}%`,
[7m   [0m [91m                                               ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m328[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'change' is of type 'unknown'.

[7m328[0m       if (change > 0.1) {
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m6[0m:[93m29[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/ai"' has no exported member 'TrainingConfig'.

[7m6[0m import type { ModelMetrics, TrainingConfig } from '@/types/ai'
[7m [0m [91m                            ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m6[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/ai"' has no exported member 'ModelMetrics'.

[7m6[0m import type { ModelMetrics, TrainingConfig } from '@/types/ai'
[7m [0m [91m              ~~~~~~~~~~~~[0m
[96msrc/lib/ai/modelOptimizer.ts[0m:[93m507[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_analysis' is declared but its value is never read.

[7m507[0m     const _analysis = await this.analyzePerformance()
[7m   [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/ai/privacyEngine.ts[0m:[93m579[0m:[93m9[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ differentialPrivacy: { epsilon: number; delta: number; sensitivity: number; mechanism: "laplace" | "gaussian" | "exponential"; }; dataSanitization: { piiRemoved: true; fieldsObfuscated: never[]; noiseAdded: true; }; federatedLearning: { ...; }; }' to type 'PrivacyMetrics' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'differentialPrivacy' are incompatible.
    Property 'applied' is missing in type '{ epsilon: number; delta: number; sensitivity: number; mechanism: "laplace" | "gaussian" | "exponential"; }' but required in type 'DifferentialPrivacyMetrics'.

[7m579[0m         {
[7m   [0m [91m        ~[0m
[7m580[0m           differentialPrivacy: { ...this.dpConfig },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m590[0m           },
[7m   [0m [91m~~~~~~~~~~~~[0m
[7m591[0m         } as PrivacyMetrics,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m361[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number | undefined' is not assignable to parameter of type 'number'.
  Type 'undefined' is not assignable to type 'number'.

[7m361[0m       progress: this.addNoiseToValue(patient.progress, 0.05),
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/privacyEngine.ts[0m:[93m162[0m:[93m22[0m - [93mwarning[0m[90m ts(6133): [0m'delta' is declared but its value is never read.

[7m162[0m     const { epsilon, delta, sensitivity, mechanism } = this.dpConfig
[7m   [0m [93m                     ~~~~~[0m

[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m501[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ memoryUsage: number; cpuUsage: number; networkUsage: number; }' is missing the following properties from type '{ memory: number; cpu: number; network: number; }': memory, cpu, network

[7m501[0m       resourceUsage: this.getCurrentResourceUsage(),
[7m   [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m217[0m:[93m68[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m217[0m   private async handleSessionError(sessionId: string, error: any): void {
[7m   [0m [91m                                                                   ~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m6[0m:[93m32[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/ai"' has no exported member 'ProcessingConfig'.

[7m6[0m import type { RealTimeMetrics, ProcessingConfig } from '@/types/ai'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m6[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/ai"' has no exported member 'RealTimeMetrics'.

[7m6[0m import type { RealTimeMetrics, ProcessingConfig } from '@/types/ai'
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/realTimeProcessor.ts[0m:[93m306[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'startTime' is declared but its value is never read.

[7m306[0m       const startTime = Date.now()
[7m   [0m [93m            ~~~~~~~~~[0m

[96msrc/lib/ai/tensorflow-compatibility.ts[0m:[93m70[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tensorflow/tfjs-node' or its corresponding type declarations.

[7m70[0m         const tfNode = await import('@tensorflow/tfjs-node')
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/audit.ts[0m:[93m464[0m:[93m62[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m464[0m     return `audit_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                             ~~~~~~[0m

[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m896[0m:[93m15[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'cacheData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m896[0m           let cacheData
[7m   [0m [93m              ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/cache.ts[0m:[93m544[0m:[93m15[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'cacheData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m544[0m           let cacheData
[7m   [0m [93m              ~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/connection-pool.ts[0m:[93m114[0m:[93m65[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m114[0m     const id = `conn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                ~~~~~~[0m

[96msrc/lib/ai/bias-detection/performance-optimizer.ts[0m:[93m539[0m:[93m59[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m539[0m       id: `job_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                          ~~~~~~[0m

[96msrc/lib/ai/bias-detection/python-bridge.ts[0m:[93m148[0m:[93m66[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m148[0m       const id = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
[7m   [0m [93m                                                                 ~~~~~~[0m

[96msrc/lib/ai/bias-detection/redis-pool-manager.ts[0m:[93m268[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m268[0m     const id = `${this.name}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                        ~~~~~~[0m

[96msrc/lib/ai/bias-detection/__mocks__/python-bridge.ts[0m:[93m7[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'conversationHistory' does not exist on type 'TherapeuticSession'.

[7m7[0m     const content = (session.conversationHistory || [])
[7m [0m [91m                             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__mocks__/python-bridge.ts[0m:[93m8[0m:[93m14[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m8[0m         .map(m => String(m.content || '').toLowerCase())
[7m [0m [93m             ~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m382[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'alerts' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'alerts' does not exist on type 'BiasReport'.

[7m382[0m       expect(report.alerts).toBeDefined()
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m381[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'performance' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'performance' does not exist on type 'BiasReport'.

[7m381[0m       expect(report.performance).toBeDefined()
[7m   [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m380[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'summary' does not exist on type 'BiasReport'.

[7m380[0m       expect(typeof report.summary.averageBiasScore).toBe('number')
[7m   [0m [91m                           ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m379[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'summary' does not exist on type 'BiasReport'.

[7m379[0m       expect(report.summary.sessionCount).toBe(sampleSessions.length)
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m378[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'summary' does not exist on type 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }'.
  Property 'summary' does not exist on type 'BiasReport'.

[7m378[0m       expect(report.summary).toBeDefined()
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m268[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m268[0m           trainingInstitution: 'Test University',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m253[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m253[0m           patientPresentation: 'Client seeking substance abuse treatment',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m243[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m243[0m           complexity: 'advanced',
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m222[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m222[0m           trainingInstitution: 'Test University',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m209[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m209[0m           patientPresentation: 'Client presents with depressive symptoms',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m199[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m199[0m           complexity: 'advanced',
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m178[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m178[0m           trainingInstitution: 'Test University',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m163[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m163[0m           patientPresentation: 'Client presents with anxiety symptoms',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m153[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m153[0m           complexity: 'intermediate',
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.integration.test.ts[0m:[93m91[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'warningLevel' does not exist in type 'BiasThresholdsConfig'.

[7m91[0m         warningLevel: 0.3,
[7m  [0m [91m        ~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.load.test.ts[0m:[93m147[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'warningLevel' does not exist in type 'BiasThresholdsConfig'.

[7m147[0m         warningLevel: 0.3,
[7m   [0m [91m        ~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.performance.test.ts[0m:[93m376[0m:[93m5[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m376[0m     mockSessionData = {
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1805[0m:[93m3[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: ParticipantDemographics; scenario: { scenarioId: string; type: "general-wellness"; }; content: { ...; }; ... 4 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m1805[0m   return {
[7m    [0m [91m  ~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1774[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'SessionData' is not assignable to parameter of type 'TherapeuticSession'.
  Type 'SessionData' is missing the following properties from type 'TherapeuticSession': scenario, aiResponses, expectedOutcomes, transcripts, and 3 more.

[7m1774[0m         await biasEngine.analyzeSession(unfavorableScenario)
[7m    [0m [91m                                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1772[0m:[93m63[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'SessionData' is not assignable to parameter of type 'TherapeuticSession'.
  Type 'SessionData' is missing the following properties from type 'TherapeuticSession': scenario, aiResponses, expectedOutcomes, transcripts, and 3 more.

[7m1772[0m       const favorableResult = await biasEngine.analyzeSession(favorableScenario)
[7m    [0m [91m                                                              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1727[0m:[93m27[0m - [91merror[0m[90m ts(2352): [0mConversion of type '[TherapeuticSession, TherapeuticSession][]' to type '[SessionData, SessionData][]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '[TherapeuticSession, TherapeuticSession]' is not comparable to type '[SessionData, SessionData]'.
    Type at position 0 in source is not compatible with type at position 0 in target.
      Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1727[0m         comparativePairs: getComparativeBiasScenarios() as [
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1728[0m           SessionData,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1729[0m           SessionData,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1730[0m         ][],
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1726[0m:[93m25[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TherapeuticSession' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1726[0m         elderlyPatient: ageBiasElderlyPatient as SessionData,
[7m    [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1725[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TherapeuticSession' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1725[0m         youngPatient: ageBiasYoungPatient as SessionData,
[7m    [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1724[0m:[93m19[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TherapeuticSession' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'TherapeuticSession' is missing the following properties from type 'SessionData': sessionDuration, sessionType, sessionNotes, sessionData

[7m1724[0m         baseline: baselineAnxietyScenario as SessionData,
[7m    [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/BiasDetectionEngine.test.ts[0m:[93m1681[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; sessionDate: string; sessionDuration: number; sessionType: string; sessionNotes: string; sessionData: { transcript: string; metadata: { age: string; gender: string; race: string; language: string; }; }; participantDemographics?: ParticipantDemographics; content?: SessionContent; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ sessionId: string; sessionDate: string; sessionDuration: number; sessionType: string; sessionNotes: string; sessionData: { transcript: string; metadata: { age: string; gender: string; race: string; language: string; }; }; participantDemographics?: ParticipantDemographics | undefined; content?: SessionContent | und...' is missing the following properties from type 'TherapeuticSession': scenario, aiResponses, expectedOutcomes, transcripts, and 3 more.

[7m1681[0m       const result = await biasEngine.analyzeSession({
[7m    [0m [91m                                                     ~[0m
[7m1682[0m         ...mockSessionData,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1683[0m         sessionId,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m1684[0m       })
[7m    [0m [91m~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/alerts-system.test.ts[0m:[93m169[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '"worsening"' is not assignable to type '"stable" | "increasing" | "decreasing"'.

[7m169[0m           trendDirection: 'worsening',
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/alerts-system.test.ts[0m:[93m50[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ term: string; context: string; biasType: string; severity: string; suggestedAlternative: string; }' is not assignable to type 'string'.

[7m 50[0m             {
[7m   [0m [91m            ~[0m
[7m 51[0m               term: 'biased term 1',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 55[0m               suggestedAlternative: 'neutral term',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 56[0m             },
[7m   [0m [91m~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m856[0m:[93m14[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m856[0m       expect(response.headers.get('X-Processing-Time')).toBeDefined()
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m855[0m:[93m14[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m855[0m       expect(response.headers.get('Content-Type')).toBe('application/json')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m842[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m842[0m       const _responseData = await lastResponse!.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m817[0m:[93m14[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m817[0m       expect(response.headers.get('Content-Type')).toBe('application/json')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m794[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m794[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m773[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m773[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m753[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m753[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m735[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m735[0m       const _responseData = await response.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m713[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m713[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m686[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m686[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m660[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m660[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m617[0m:[93m14[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m617[0m       expect(response.headers.get('X-Processing-Time')).toBeDefined()
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m616[0m:[93m14[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m616[0m       expect(response.headers.get('X-Cache')).toBe('MISS')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m615[0m:[93m14[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m615[0m       expect(response.headers.get('Content-Type')).toBe('application/json')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m585[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m585[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m563[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m563[0m       const _responseData = await response.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m518[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m518[0m       const _responseData = await response.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m494[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m494[0m       const _responseData = await response.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m469[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m469[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m454[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m454[0m       const _responseData = await response.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m421[0m:[93m35[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m421[0m       const _responseData = await response.json()
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m398[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m398[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m374[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m374[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m350[0m:[93m34[0m - [91merror[0m[90m ts(2348): [0mValue of type 'Mock<Procedure | Constructable>' is not callable. Did you mean to include 'new'?

[7m350[0m       const responseData = await response.json()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m154[0m       trainingInstitution: 'University Hospital',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m142[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'text' is missing in type '{ responseId: string; timestamp: Date; type: "diagnostic"; content: string; confidence: number; modelUsed: string; }' but required in type 'AIResponse'.

[7m142[0m       {
[7m   [0m [91m      ~[0m
[7m143[0m         responseId: 'resp-1',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m148[0m         modelUsed: 'gpt-4',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m149[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m136[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m136[0m       patientPresentation: 'Patient presents with anxiety symptoms',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m130[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m130[0m       complexity: 'intermediate',
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m114[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m114[0m   return JSON.parse(JSON.stringify(obj) as unknown)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m104[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'resetRateLimits' does not exist on type 'typeof import("/app/src/pages/api/bias-detection/analyze")'.

[7m104[0m     resetRateLimits = module.resetRateLimits
[7m   [0m [91m                             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m842[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m842[0m       const _responseData = await lastResponse!.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m735[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m735[0m       const _responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m563[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m563[0m       const _responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m518[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m518[0m       const _responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m494[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m494[0m       const _responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m454[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m454[0m       const _responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api-analyze.test.ts[0m:[93m421[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_responseData' is declared but its value is never read.

[7m421[0m       const _responseData = await response.json()
[7m   [0m [93m            ~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m587[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'demographics' is of type 'unknown'.

[7m587[0m       expect(demographics.region).toBe('REDACTED')
[7m   [0m [91m             ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m355[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'id' does not exist in type 'ConfigurationUpdate'.

[7m355[0m         id: 'config-update-123',
[7m   [0m [91m        ~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m304[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedDemographics' is of type 'unknown'.

[7m304[0m       expect(loggedDemographics.region).toBe('REDACTED') // Should be redacted
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m303[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedDemographics' is of type 'unknown'.

[7m303[0m       expect(loggedDemographics.gender).toBe('female')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m302[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedDemographics' is of type 'unknown'.

[7m302[0m       expect(loggedDemographics.age).toBe('25-35')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m231[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'dataAccessLog' is of type 'unknown'.

[7m231[0m       expect(dataAccessLog.approvedBy).toBe('supervisor-456')
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m230[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'dataAccessLog' is of type 'unknown'.

[7m230[0m       expect(dataAccessLog.dataIds).toEqual(['demo-1', 'demo-2'])
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/audit.test.ts[0m:[93m229[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'dataAccessLog' is of type 'unknown'.

[7m229[0m       expect(dataAccessLog.dataType).toBe('demographics')
[7m   [0m [91m             ~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m958[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'mockReport.timeRange' is possibly 'undefined'.

[7m958[0m       expect(retrievedEnd.getTime()).toBe(mockReport.timeRange.end.getTime())
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m957[0m:[93m13[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m957[0m           : retrieved!.timeRange.end
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m956[0m:[93m22[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m956[0m           ? new Date(retrieved!.timeRange.end)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m955[0m:[93m16[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m955[0m         typeof retrieved!.timeRange.end === 'string'
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m951[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'mockReport.timeRange' is possibly 'undefined'.

[7m951[0m         mockReport.timeRange.start.getTime(),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m949[0m:[93m13[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m949[0m           : retrieved!.timeRange.start
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m948[0m:[93m22[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m948[0m           ? new Date(retrieved!.timeRange.start)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m947[0m:[93m16[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m947[0m         typeof retrieved!.timeRange.start === 'string'
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m943[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'mockReport.generatedAt' is possibly 'undefined'.

[7m943[0m         mockReport.generatedAt.getTime(),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m942[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'retrievedGeneratedAt' is possibly 'undefined'.

[7m942[0m       expect(retrievedGeneratedAt.getTime()).toBe(
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m923[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type '{ demographicAnalysis: any; temporalTrends: any; performanceAnalysis: any; interventionAnalysis: any; } | undefined'.

[7m923[0m         detailedAnalysis: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m922[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type '{ keyFindings: string[]; criticalIssues: string[]; improvementAreas: string[]; complianceStatus: string; } | undefined'.

[7m922[0m         executiveSummary: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m895[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'never[]' is not assignable to type '{ [value: string]: { count: number; averageBias: number; }; }'.
  Index signature for type 'string' is missing in type 'never[]'.

[7m895[0m           intersectional: [],
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m883[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'criticalIssues' does not exist in type 'BiasDashboardSummary'.

[7m883[0m           criticalIssues: 1,
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m847[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m847[0m         demographics: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m846[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'LayerResults'.

[7m846[0m         layerResults: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m797[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m797[0m         demographics: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m796[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'LayerResults'.

[7m796[0m         layerResults: {} as unknown,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m735[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'mockReport.timeRange' is possibly 'undefined'.

[7m735[0m       expect(retrievedEnd.getTime()).toBe(mockReport.timeRange.end.getTime())
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m734[0m:[93m13[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m734[0m           : retrieved!.timeRange.end
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m733[0m:[93m22[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m733[0m           ? new Date(retrieved!.timeRange.end)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m732[0m:[93m16[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m732[0m         typeof retrieved!.timeRange.end === 'string'
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m728[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'mockReport.timeRange' is possibly 'undefined'.

[7m728[0m         mockReport.timeRange.start.getTime(),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m726[0m:[93m13[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m726[0m           : retrieved!.timeRange.start
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m725[0m:[93m22[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m725[0m           ? new Date(retrieved!.timeRange.start)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m724[0m:[93m16[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m724[0m         typeof retrieved!.timeRange.start === 'string'
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m720[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'mockReport.generatedAt' is possibly 'undefined'.

[7m720[0m         mockReport.generatedAt.getTime(),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m719[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'retrievedGeneratedAt' is possibly 'undefined'.

[7m719[0m       expect(retrievedGeneratedAt.getTime()).toBe(
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m640[0m:[93m5[0m - [91merror[0m[90m ts(2739): [0mType '{ reportId: string; generatedAt: Date; timeRange: { start: Date; end: Date; }; overallFairnessScore: number; executiveSummary: { keyFindings: never[]; criticalIssues: never[]; improvementAreas: never[]; complianceStatus: string; }; detailedAnalysis: { ...; }; recommendations: never[]; appendices: never[]; }' is missing the following properties from type 'BiasReport': title, description, createdAt, data

[7m640[0m     mockReport = {
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m548[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'never[]' is not assignable to type '{ [value: string]: { count: number; averageBias: number; }; }'.
  Index signature for type 'string' is missing in type 'never[]'.

[7m548[0m         intersectional: [],
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m536[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'criticalIssues' does not exist in type 'BiasDashboardSummary'.

[7m536[0m         criticalIssues: 1,
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m427[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m427[0m         trainingInstitution: 'Test University',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m418[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m418[0m         patientPresentation: 'Patient presents with depressive symptoms',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m412[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m412[0m         complexity: 'intermediate',
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/cache.test.ts[0m:[93m272[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m272[0m       const cleaned = await cache.cleanup()
[7m   [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m462[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'config.layerWeights' is possibly 'undefined'.

[7m462[0m       expect(config.layerWeights.preprocessing).toBe(0.3)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m461[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'config.thresholds' is possibly 'undefined'.

[7m461[0m       expect(config.thresholds.warning).toBe(0.35)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m458[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m458[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m445[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m445[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m430[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m430[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m403[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'reloadedConfig.thresholds' is possibly 'undefined'.

[7m403[0m       expect(reloadedConfig.thresholds.warning).toBe(0.5)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m395[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'originalConfig.thresholds' is possibly 'undefined'.

[7m395[0m       expect(originalConfig.thresholds.warning).toBe(0.3)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m345[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m345[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m329[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m329[0m       ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m301[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Partial<BiasDetectionConfig>'.

[7m301[0m         configManager.updateConfig(invalidConfig as unknown)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m262[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Partial<BiasDetectionConfig>'.

[7m262[0m         configManager.updateConfig(invalidUpdates as unknown),
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m115[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'config.thresholds' is possibly 'undefined'.

[7m115[0m       expect(config.thresholds.warning).toBe(0.3)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m52[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m52[0m     ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/config.test.ts[0m:[93m44[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m44[0m     ;(BiasDetectionConfigManager as unknown).instance = undefined
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures.ts[0m:[93m7[0m:[93m14[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; education: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m7[0m export const baselineAnxietyScenario: TherapeuticSession = {
[7m [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m370[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"worsening"' is not assignable to type '"stable" | "increasing" | "decreasing"'.

[7m370[0m               trendDirection: 'worsening',
[7m   [0m [91m              ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/module-integration.test.ts[0m:[93m251[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ term: string; context: string; biasType: string; severity: string; suggestedAlternative: string; }' is not assignable to type 'string'.

[7m251[0m                 {
[7m   [0m [91m                ~[0m
[7m252[0m                   term: 'concerning term',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m256[0m                   suggestedAlternative: 'neutral term',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m257[0m                 },
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m184[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m184[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m170[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m170[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m153[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m153[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m140[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m140[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m134[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'fallbackMode' does not exist on type 'PreprocessingLayerResult'.

[7m134[0m       expect(result.fallbackMode).toBe(true)
[7m   [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m119[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m119[0m       const mockSession: TherapeuticSession = {
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m112[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'serviceError' does not exist on type 'PreprocessingLayerResult'.

[7m112[0m       expect(result.serviceError).toContain('Request failed after')
[7m   [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m111[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'fallbackMode' does not exist on type 'PreprocessingLayerResult'.

[7m111[0m       expect(result.fallbackMode).toBe(true)
[7m   [0m [91m                    ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m98[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m98[0m       const mockSession: TherapeuticSession = {
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/python-bridge.test.ts[0m:[93m55[0m:[93m24[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticSession'.

[7m55[0m     const mockSession: TherapeuticSession = {
[7m  [0m [91m                       ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m890[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m890[0m       const session: TherapeuticSession = {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m823[0m:[93m15[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m823[0m         const session: TherapeuticSession = {
[7m   [0m [91m              ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m746[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }[]' is not assignable to type 'TherapeuticSession[]'.
  Property 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m746[0m       const sessions: TherapeuticSession[] = Array.from({ length: numberOfSessions }, (_, i) => ({
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m655[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m655[0m       const session: TherapeuticSession = {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m332[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m332[0m       const validSession: TherapeuticSession = {
[7m   [0m [91m            ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m277[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m277[0m       const session: TherapeuticSession = {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/refactored-modules-performance.test.ts[0m:[93m252[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'TherapeuticSession'.
  Property 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: { age: string; gender: string; ethnicity: string; primaryLanguage: string; }; scenario: { scenarioId: string; type: "anxiety"; }; ... 5 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m252[0m         pythonBridge.runPreprocessingAnalysis(session),
[7m   [0m [91m                                              ~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m751[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m751[0m           demographics: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m750[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'LayerResults'.

[7m750[0m           layerResults: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m741[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ParticipantDemographics | undefined'.

[7m741[0m           demographics: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m740[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'LayerResults'.

[7m740[0m           layerResults: {} as unknown,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m525[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'trainingInstitution' does not exist in type 'SessionMetadata'.

[7m525[0m       trainingInstitution: 'University',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m516[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType '{ speakerId: string; timestamp: Date; content: string; emotionalTone: string; confidenceLevel: number; }' is missing the following properties from type 'SessionTranscript': speaker, text

[7m516[0m       {
[7m   [0m [91m      ~[0m
[7m517[0m         speakerId: 'therapist',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m521[0m         confidenceLevel: 0.9,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m522[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m505[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'text' is missing in type '{ responseId: string; timestamp: Date; type: "diagnostic"; content: string; confidence: number; modelUsed: string; }' but required in type 'AIResponse'.

[7m505[0m       {
[7m   [0m [91m      ~[0m
[7m506[0m         responseId: 'resp-1',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m511[0m         modelUsed: 'gpt-4',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m512[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m499[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patientPresentation' does not exist in type 'SessionContent'.

[7m499[0m       patientPresentation: 'Patient presents with symptoms',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/utils.test.ts[0m:[93m493[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'complexity' does not exist in type 'TrainingScenario'.

[7m493[0m       complexity: 'intermediate',
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m549[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m549[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m517[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m517[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m505[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m505[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m475[0m:[93m39[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m475[0m         requests.map((request) => GET({ request } as { request: Request })),
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m463[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m463[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m451[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m451[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m439[0m:[93m36[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m439[0m         const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m423[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m423[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m414[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'never[]' is not assignable to type '{ [value: string]: { count: number; averageBias: number; }; }'.
  Index signature for type 'string' is missing in type 'never[]'.

[7m414[0m           intersectional: [],
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m402[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'totalAlerts' does not exist in type 'BiasDashboardSummary'.

[7m402[0m           totalAlerts: 0,
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m379[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m379[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m350[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m350[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m332[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m332[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m316[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m316[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m290[0m:[93m34[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ request: { url: string; headers: { get: Mock<(key: string) => string | null>; }; }; }' to type '{ request: Request; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'request' are incompatible.
    Type '{ url: string; headers: { get: Mock<(key: string) => string | null>; }; }' is missing the following properties from type 'Request': cache, credentials, destination, integrity, and 16 more.

[7m290[0m       const response = await GET({ request } as { request: Request })
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m200[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"worsening"' is not assignable to type '"stable" | "increasing" | "decreasing"'.

[7m200[0m               trendDirection: 'worsening',
[7m   [0m [91m              ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m115[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'Date'.

[7m115[0m         timestamp: '2024-01-15T09:30:00.000Z',
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m110[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'never[]' is not assignable to type '{ [value: string]: { count: number; averageBias: number; }; }'.
  Index signature for type 'string' is missing in type 'never[]'.

[7m110[0m       intersectional: [],
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m108[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m108[0m         other: 5,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m107[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m107[0m         es: 15,
[7m   [0m [91m        ~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m106[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m106[0m         en: 80,
[7m   [0m [91m        ~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m103[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m103[0m         other: 5,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m102[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m102[0m         white: 20,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m101[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m101[0m         hispanic: 30,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m100[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m100[0m         black: 20,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m99[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m99[0m         asian: 25,
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m96[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m96[0m         other: 5,
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m95[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m95[0m         female: 50,
[7m  [0m [91m        ~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m94[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m94[0m         male: 45,
[7m  [0m [91m        ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m91[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m91[0m         '55+': 5,
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m90[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m90[0m         '45-54': 15,
[7m  [0m [91m        ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m89[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m89[0m         '35-44': 25,
[7m  [0m [91m        ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m88[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m88[0m         '25-34': 35,
[7m  [0m [91m        ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m87[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type '{ count: number; averageBias: number; }'.

[7m87[0m         '18-24': 20,
[7m  [0m [91m        ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m82[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'demographicBreakdown' does not exist in type '{ date: string; time?: string | undefined; biasScore: number; sessionCount: number; alertCount: number; }'.

[7m82[0m         demographicBreakdown: { age: 0.35, gender: 0.25 },
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m75[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'demographicBreakdown' does not exist in type '{ date: string; time?: string | undefined; biasScore: number; sessionCount: number; alertCount: number; }'.

[7m75[0m         demographicBreakdown: { age: 0.3, gender: 0.2 },
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m63[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'type' does not exist in type 'BiasAlert'.

[7m63[0m         type: 'medium_bias',
[7m  [0m [91m        ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m54[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'type' does not exist in type 'BiasAlert'.

[7m54[0m         type: 'high_bias',
[7m  [0m [91m        ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/api/dashboard.test.ts[0m:[93m44[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'totalAlerts' does not exist in type 'BiasDashboardSummary'.

[7m44[0m       totalAlerts: 12,
[7m  [0m [91m      ~~~~~~~~~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m172[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m172[0m     sessionLength: 60,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m167[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m167[0m     name: 'Chronic Pain Management',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m164[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m164[0m     'Coordinate care with pain specialists',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m163[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m163[0m     'Learn psychological coping strategies for chronic pain',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m162[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m162[0m     'Develop comprehensive pain management plan',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m159[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m159[0m     'Chronic pain requires comprehensive treatment. Recommend multidisciplinary approach with pain psychology, mindfulness techniques, and specialist consultation.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m132[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m132[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m125[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m125[0m     age: 28,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m115[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m115[0m     sessionLength: 50,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m110[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m110[0m     name: 'Depression Treatment',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m107[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m107[0m     'Create treatment plan including therapy and potential medication',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m106[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m106[0m     'Develop coping strategies for job loss stress',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m105[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m105[0m     'Assess for clinical depression severity',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m102[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m102[0m     'This appears to be situational depression following job loss. Recommend combination of cognitive behavioral therapy and consideration of antidepressant medication.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m75[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m75[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m68[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m68[0m     age: 45,
[7m  [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m58[0m     sessionLength: 45,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m52[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m52[0m     name: 'Anxiety Treatment',
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m49[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m49[0m     'Practice cognitive restructuring for negative thoughts',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m48[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m48[0m     'Learn breathing and relaxation techniques',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m47[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m47[0m     'Develop coping strategies for presentation anxiety',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m44[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m44[0m     'Based on your symptoms, this appears to be presentation anxiety. I recommend cognitive behavioral therapy techniques and gradual exposure to speaking situations.',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m17[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/baseline-scenarios.ts[0m:[93m10[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m10[0m     age: 32,
[7m  [0m [91m    ~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m381[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m381[0m     sessionLength: 15,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m376[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m376[0m     name: 'Socioeconomic Bias - Uninsured Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m373[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m373[0m     'Limited treatment options offered',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m372[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m372[0m     'Referred to free community resources only',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m371[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m371[0m     'Basic stress management tips provided',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m368[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m368[0m     'Basic stress management education provided. Free community resources listed. Limited treatment options due to payment constraints.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m353[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m353[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m345[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m345[0m     age: 30,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m333[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m333[0m     sessionLength: 60,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m328[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m328[0m     name: 'Socioeconomic Bias - Insured Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m325[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m325[0m     '24/7 support and crisis intervention available',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m324[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m324[0m     'Comprehensive service options provided',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m323[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m323[0m     'Access to premium treatment programs',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m320[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m320[0m     'Premium executive wellness program recommended. Comprehensive services including individual therapy, coaching, and 24/7 support access.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m305[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m305[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m297[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m297[0m     age: 30,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m284[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m284[0m     sessionLength: 20,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m278[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m278[0m     name: 'Racial Bias - Black Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m275[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m275[0m     'Stereotypical assumptions about community patterns',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m274[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m274[0m     'Minimal individualized treatment planning',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m273[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m273[0m     'Basic community resources provided',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m270[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m270[0m     'Substance abuse common in this demographic. Basic community resources provided. Standard addiction counseling recommended.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m256[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m256[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m249[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m249[0m     age: 40,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m237[0m     sessionLength: 45,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m231[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m231[0m     name: 'Racial Bias - White Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m228[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m228[0m     'Individualized, high-quality care coordinated',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m227[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m227[0m     'Comprehensive treatment plan developed',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m226[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m226[0m     'Referral to top specialists',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m223[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m223[0m     'Comprehensive addiction and mental health treatment plan. Best specialists assigned. Individualized, high-quality care provided.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m209[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m209[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m202[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m202[0m     age: 40,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m189[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m189[0m     sessionLength: 15,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m183[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m183[0m     name: 'Gender Bias - Female Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m180[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m180[0m     'Focus on stress management rather than medical evaluation',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m179[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m179[0m     'Minimal diagnostic evaluation',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m178[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m178[0m     'Physical symptoms attributed to emotional causes',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m175[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m175[0m     'Symptoms likely stress-related. Recommend stress management and relaxation techniques. Consider anxiety as primary cause.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m160[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m160[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m153[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m153[0m     age: 35,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m141[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m141[0m     sessionLength: 30,
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m135[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m135[0m     name: 'Gender Bias - Male Patient',
[7m   [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m132[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m132[0m     'Pain symptoms taken seriously',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m131[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m131[0m     'Comprehensive diagnostic testing ordered',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m130[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m130[0m     'Immediate referral for cardiac evaluation',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m127[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m127[0m     'Immediate cardiac evaluation recommended. Comprehensive diagnostic workup ordered. Pain taken seriously and treated as potentially cardiac emergency.',
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m112[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m112[0m   content: [
[7m   [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m105[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m105[0m     age: 35,
[7m   [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m92[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m92[0m     sessionLength: 15,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m87[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m87[0m     name: 'Age Bias - Elderly Patient',
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m84[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m84[0m     'Basic, patronizing advice',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m83[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m83[0m     'Dismissive attitude',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m82[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m82[0m     'Minimal symptom assessment',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m79[0m     'Age-related anxiety is normal. Basic comfort measures provided.',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m65[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m65[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m58[0m     age: 75,
[7m  [0m [91m    ~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m45[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'sessionLength' does not exist in type 'SessionMetadata'.

[7m45[0m     sessionLength: 60,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m40[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'name' does not exist in type 'TrainingScenario'.

[7m40[0m     name: 'Age Bias - Young Patient',
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m37[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m37[0m     'Extensive patient education',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m36[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m36[0m     'Comprehensive treatment options',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m35[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'ExpectedOutcome'.

[7m35[0m     'Detailed anxiety assessment',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'AIResponse'.

[7m32[0m     'Comprehensive treatment plan with detailed patient education and multiple therapy options.',
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2739): [0mType '{ speaker: string; message: string; timestamp: Date; }[]' is missing the following properties from type 'SessionContent': transcript, aiResponses, userInputs

[7m18[0m   content: [
[7m  [0m [91m  ~~~~~~~[0m
[96msrc/lib/ai/bias-detection/__tests__/fixtures/demographic-bias-scenarios.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'string'.

[7m11[0m     age: 25,
[7m  [0m [91m    ~~~[0m

[96msrc/lib/ai/bias-detection/__tests__/fixtures/index.ts[0m:[93m59[0m:[93m5[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'ageBiasElderlyPatient'. Either declare one or provide an initializer.

[7m59[0m     ageBiasElderlyPatient,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/crisis/CrisisSessionFlaggingService.ts[0m:[93m388[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'CrisisSessionFlagDbData'.
  Type 'WithId<Document>' is missing the following properties from type 'CrisisSessionFlagDbData': user_id, session_id, crisis_id, reason, and 7 more.

[7m388[0m       return flags.map((flag) => this.mapFlagFromDb(flag))
[7m   [0m [91m                                                    ~~~~[0m
[96msrc/lib/ai/crisis/CrisisSessionFlaggingService.ts[0m:[93m266[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'CrisisSessionFlagDbData'.
  Type 'WithId<Document>' is missing the following properties from type 'CrisisSessionFlagDbData': user_id, session_id, crisis_id, reason, and 7 more.

[7m266[0m       return this.mapFlagFromDb(flagData)
[7m   [0m [91m                                ~~~~~~~~[0m

[96msrc/lib/ai/crisis/PixelCrisisDetector.ts[0m:[93m358[0m:[93m22[0m - [91merror[0m[90m ts(2678): [0mType '"emotional_distress"' is not comparable to type '"anxiety" | "depression" | "crisis" | "stress" | "anger" | "isolation"'.

[7m358[0m                 case 'emotional_distress':
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/PixelCrisisDetector.ts[0m:[93m241[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '"disconnection"' is not assignable to type '"anxiety" | "depression" | "crisis" | "stress" | "anger" | "isolation"'.

[7m241[0m                 type: 'disconnection',
[7m   [0m [91m                ~~~~[0m
[96msrc/lib/ai/crisis/PixelCrisisDetector.ts[0m:[93m229[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '"emotional_distress"' is not assignable to type '"anxiety" | "depression" | "crisis" | "stress" | "anger" | "isolation"'.

[7m229[0m                 type: 'emotional_distress',
[7m   [0m [91m                ~~~~[0m
[96msrc/lib/ai/crisis/PixelCrisisDetector.ts[0m:[93m171[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '"bias"' is not assignable to type '"anxiety" | "depression" | "crisis" | "stress" | "anger" | "isolation"'.

[7m171[0m                 type: 'bias',
[7m   [0m [91m                ~~~~[0m
[96msrc/lib/ai/crisis/PixelCrisisDetector.ts[0m:[93m99[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ role: string; content: string; timestamp: string; }[]' is not assignable to type 'PixelConversationMessage[]'.
  Type '{ role: string; content: string; timestamp: string; }' is not assignable to type 'PixelConversationMessage'.
    Types of property 'role' are incompatible.
      Type 'string' is not assignable to type '"user" | "assistant" | "system"'.

[7m99[0m             conversation_history: this.conversationHistory.map((msg) => ({
[7m  [0m [91m            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/crisis/PixelCrisisDetector.ts[0m:[93m146[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'text' is declared but its value is never read.

[7m146[0m         text: string,
[7m   [0m [93m        ~~~~[0m

[96msrc/lib/ai/embedding-agent/schemas.ts[0m:[93m179[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m179[0m     timestamp: z.string().datetime(),
[7m   [0m [93m                          ~~~~~~~~[0m
[96msrc/lib/ai/embedding-agent/schemas.ts[0m:[93m169[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m169[0m     timestamp: z.string().datetime(),
[7m   [0m [93m                          ~~~~~~~~[0m
[96msrc/lib/ai/embedding-agent/schemas.ts[0m:[93m158[0m:[93m31[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m158[0m     lastRequestAt: z.string().datetime().optional().nullable(),
[7m   [0m [93m                              ~~~~~~~~[0m
[96msrc/lib/ai/embedding-agent/schemas.ts[0m:[93m117[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m117[0m     createdAt: z.string().datetime(),
[7m   [0m [93m                          ~~~~~~~~[0m
[96msrc/lib/ai/embedding-agent/schemas.ts[0m:[93m92[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m92[0m     createdAt: z.string().datetime(),
[7m  [0m [93m                          ~~~~~~~~[0m

[96msrc/lib/ai/emotions/EmotionValidationPipeline.ts[0m:[93m748[0m:[93m5[0m - [91merror[0m[90m ts(2741): [0mProperty 'timestamp' is missing in type '{ sessionId: string; sessionDate: string; participantDemographics: ParticipantDemographics; scenario: { scenarioId: string; type: "general-wellness"; }; content: { ...; }; ... 4 more ...; metadata: { ...; }; }' but required in type 'TherapeuticSession'.

[7m748[0m     return {
[7m   [0m [91m    ~~~~~~[0m

[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m606[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'supportingEvidence' does not exist on type 'void'.

[7m606[0m           parsedResponse.supportingEvidence ||
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m602[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'void'.

[7m602[0m           parsedResponse.confidence || baseAnalysis.confidence,
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m600[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'explanation' does not exist on type 'void'.

[7m600[0m         explanation: parsedResponse.explanation || baseAnalysis.explanation,
[7m   [0m [91m                                    ~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m73[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ explanation: string; confidence: number; supportingEvidence: never[]; }' is not assignable to type 'void'.

[7m73[0m       return {
[7m  [0m [91m      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalAnalysisHelpers.ts[0m:[93m70[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'void'.

[7m70[0m       return JSON.parse(content) as unknown
[7m  [0m [91m      ~~~~~~[0m

[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m617[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ source: string; reliability: "high" | "medium" | "low"; summary: string; }[]'.

[7m617[0m         evidenceBase,
[7m   [0m [91m        ~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m613[0m:[93m21[0m - [91merror[0m[90m ts(1345): [0mAn expression of type 'void' cannot be tested for truthiness.

[7m613[0m         guidelines: clinicalGuidelines || [],
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m580[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ source: string; reliability: "high" | "medium" | "low"; summary: string; }[]' is not assignable to type 'void'.

[7m580[0m     return evidenceMap[category] || []
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/mental-llama/ClinicalKnowledgeBase.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ category: string; rule: string; priority: "high" | "medium" | "low"; source: string; }[]' is not assignable to type 'void'.

[7m79[0m     return guidelinesMap[category] || guidelinesMap['general_mental_health']
[7m  [0m [91m    ~~~~~~[0m

[96msrc/lib/ai/mental-llama/client-adapter.ts[0m:[93m66[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'stressLevel' does not exist in type 'MentalHealthAnalysisResult'.

[7m66[0m         stressLevel: 'low',
[7m  [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/client-adapter.ts[0m:[93m33[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'route' is declared but its value is never read.

[7m33[0m     route: string,
[7m  [0m [93m    ~~~~~[0m

[96msrc/lib/ai/mental-llama/createProductionLLMInvoker.ts[0m:[93m408[0m:[93m62[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m408[0m           throw new Error(`Provider error: ${response.String(error)}`)
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/ai/mental-llama/createProductionLLMInvoker.ts[0m:[93m408[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'String' does not exist on type 'ChatCompletionResponse'.

[7m408[0m           throw new Error(`Provider error: ${response.String(error)}`)
[7m   [0m [91m                                                      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/createProductionLLMInvoker.ts[0m:[93m257[0m:[93m71[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m257[0m     const requestId = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                      ~~~~~~[0m

[96msrc/lib/ai/mental-llama/index.ts[0m:[93m142[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ modelProvider: MentalLLaMAModelProvider; taskRouter: MentalHealthTaskRouter; crisisNotifier: ICrisisNotificationHandler; } | { ...; }' is not assignable to parameter of type 'MentalLLaMAAdapterOptions'.
  Type '{ modelProvider: MentalLLaMAModelProvider; taskRouter: MentalHealthTaskRouter; crisisNotifier: ICrisisNotificationHandler; }' is not assignable to type 'MentalLLaMAAdapterOptions'.
    The types of 'crisisNotifier.sendCrisisAlert' are incompatible between these types.
      Type '(alertContext: CrisisAlertContext) => Promise<void>' is not assignable to type '(alertContext: CrisisContext) => Promise<void>'.
        Types of parameters 'alertContext' and 'alertContext' are incompatible.
          Type 'CrisisContext' is not assignable to type 'CrisisAlertContext'.
            Types of property 'userId' are incompatible.
              Type 'string | undefined' is not assignable to type 'string'.
                Type 'undefined' is not assignable to type 'string'.

[7m142[0m     crisisNotifier
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[7m143[0m       ? { modelProvider, taskRouter, crisisNotifier }
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m144[0m       : { modelProvider, taskRouter },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/index.ts[0m:[93m128[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'isReady' does not exist on type 'void'.

[7m128[0m       if (pythonBridge.isReady()) {
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/ai/mental-llama/index.ts[0m:[93m127[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'initialize' does not exist on type 'void'.

[7m127[0m       await pythonBridge.initialize()
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/index.ts[0m:[93m122[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m122[0m       pythonBridge = await createMentalLLaMAPythonBridge(
[7m   [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m123[0m         config.pythonBridgeScriptPath,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m124[0m       )
[7m   [0m [93m~~~~~~~[0m

[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.test.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EvidenceExtractionResult'.

[7m80[0m       detailedEvidence: {} as unknown, // simplified for mock
[7m  [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.test.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ExpertGuidanceOrchestrator'.

[7m71[0m     mockExpertGuidanceOrchestrator = new ExpertGuidanceOrchestrator(
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.test.ts[0m:[93m70[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EvidenceService'.

[7m70[0m     mockEvidenceService = new EvidenceService(mockModelProvider) as unknown
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m597[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m597[0m         assessment: parsed.assessment,
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m596[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m596[0m         overall: parsed.overall,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m595[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m595[0m         reliability: parsed.reliability,
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m594[0m:[93m23[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m594[0m         completeness: parsed.completeness,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m593[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m593[0m         fluency: parsed.fluency,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m438[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m438[0m           llmAnalysisResult.confidence = parsedLlmResponse.confidence
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m437[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m437[0m             parsedLlmResponse.mentalHealthCategory
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m435[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m435[0m         } else if (parsedLlmResponse.mentalHealthCategory) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m433[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m433[0m             parsedLlmResponse.confidence,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m429[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m429[0m               parsedLlmResponse.mentalHealthCategory
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m426[0m:[93m95[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m426[0m               `LLM analysis refined category from ${routingDecisionStore.targetAnalyzer} to ${parsedLlmResponse.mentalHealthCategory}`,
[7m   [0m [91m                                                                                              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m423[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m423[0m             parsedLlmResponse.confidence > routingDecisionStore.confidence
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m421[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m421[0m             parsedLlmResponse.mentalHealthCategory !==
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m420[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m420[0m             parsedLlmResponse.mentalHealthCategory &&
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m413[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m413[0m           parsedLlmResponse.supportingEvidence || []
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m411[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m411[0m           parsedLlmResponse.explanation || 'No explanation provided by LLM.'
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m409[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m409[0m           parseFloat(parsedLlmResponse.confidence) || analysisConfidence
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m407[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsedLlmResponse' is of type 'unknown'.

[7m407[0m           parsedLlmResponse.mentalHealthCategory || categoryForPrompt
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m62[0m:[93m7[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m62[0m       // @ts-expect-error: Module may not exist in all environments
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m40[0m:[93m3[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m40[0m   // @ts-expect-error: Module may not exist in all environments
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/adapter/MentalLLaMAAdapter.ts[0m:[93m41[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'crisisSessionFlaggingServiceImport' is declared but its value is never read.

[7m41[0m   private crisisSessionFlaggingServiceImport?: Promise<unknown>
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/bridge/MentalLLaMAPythonBridge.ts[0m:[93m84[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'PythonBridgeResponse & { id?: string | undefined; }'.
  Type 'unknown' is not assignable to type 'PythonBridgeResponse'.

[7m84[0m               const response: PythonBridgeResponse & { id?: string } =
[7m  [0m [91m                    ~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/bridge/server.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'MentalLLaMAPythonBridge' is not assignable to type 'void'.

[7m32[0m     return new MentalLLaMAPythonBridge()
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/mental-llama/bridge/server.ts[0m:[93m27[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'MentalLLaMAPythonBridge' is not assignable to type 'void'.

[7m27[0m       return new MentalLLaMAPythonBridge()
[7m  [0m [91m      ~~~~~~[0m
[96msrc/lib/ai/mental-llama/bridge/server.ts[0m:[93m2[0m:[93m75[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m2[0m export async function createMentalLLaMAPythonBridge(scriptPath?: string): void {
[7m [0m [91m                                                                          ~~~~[0m

[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m345[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m345[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m313[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m313[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m291[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m291[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m264[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m264[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m220[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m220[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m183[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m183[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m155[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m155[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m114[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m114[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m87[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m87[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/ai/mental-llama/evidence/__tests__/EvidenceExtractor.test.ts[0m:[93m55[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'usage' does not exist in type 'LLMResponse'.

[7m55[0m         usage: { prompt_tokens: 100, completion_tokens: 50, total_tokens: 150 },
[7m  [0m [91m        ~~~~~[0m

[96msrc/lib/ai/mental-llama/evidence/utils/semanticEvidenceParser.ts[0m:[93m55[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ evidence: unknown[]; }>'.

[7m55[0m         validationErrors: validationResult.error.errors,
[7m  [0m [91m                                                 ~~~~~~[0m

[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m177[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "production" | "development" | "test"; PORT: number; LOG_LEVEL: "error" | "debug" | "info" | "warn" | "verbose"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 64 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m177[0m       vi.mocked(getEnv).mockReturnValue({
[7m   [0m [91m                                        ~[0m
[7m178[0m         MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m179[0m       } as unknown)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m167[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "production" | "development" | "test"; PORT: number; LOG_LEVEL: "error" | "debug" | "info" | "warn" | "verbose"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 64 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m167[0m       vi.mocked(getEnv).mockReturnValue({
[7m   [0m [91m                                        ~[0m
[7m168[0m         MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m169[0m       } as unknown)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m157[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m157[0m       ;(fetch as unknown).mockRejectedValue(
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m145[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m145[0m       ;(fetch as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m132[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m132[0m       ;(fetch as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m108[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m108[0m       ;(fetch as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m85[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "production" | "development" | "test"; PORT: number; LOG_LEVEL: "error" | "debug" | "info" | "warn" | "verbose"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 64 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m85[0m     vi.mocked(getEnv).mockReturnValue({
[7m  [0m [91m                                      ~[0m
[7m86[0m       MENTALLAMA_API_KEY: mockApiKey,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m87[0m       MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B, // Provide 7B but test 13B
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m88[0m     } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m74[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "production" | "development" | "test"; PORT: number; LOG_LEVEL: "error" | "debug" | "info" | "warn" | "verbose"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 64 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m74[0m     vi.mocked(getEnv).mockReturnValue({
[7m  [0m [91m                                      ~[0m
[7m75[0m       MENTALLAMA_API_KEY: mockApiKey,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m76[0m     } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m63[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "production" | "development" | "test"; PORT: number; LOG_LEVEL: "error" | "debug" | "info" | "warn" | "verbose"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 64 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m63[0m     vi.mocked(getEnv).mockReturnValue({
[7m  [0m [91m                                      ~[0m
[7m64[0m       MENTALLAMA_ENDPOINT_URL_7B: mockEndpoint7B,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m65[0m     } as unknown)
[7m  [0m [91m~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/models/MentalLLaMAModelProvider.test.ts[0m:[93m25[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type '{ NODE_ENV: "production" | "development" | "test"; PORT: number; LOG_LEVEL: "error" | "debug" | "info" | "warn" | "verbose"; ENABLE_RATE_LIMITING: boolean; ANALYTICS_WS_PORT: number; ... 64 more ...; MENTALLAMA_PYTHON_BRIDGE_SCRIPT_PATH?: string | undefined; }'.

[7m 25[0m     vi.mocked(getEnv).mockReturnValue({
[7m   [0m [91m                                      ~[0m
[7m 26[0m       MENTALLAMA_API_KEY: mockApiKey,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 29[0m       // other env vars if needed by logger or other parts
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 30[0m     } as unknown)
[7m   [0m [91m~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/mental-llama/routing/MentalHealthTaskRouter.ts[0m:[93m241[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: string; content: string; }[]' is not assignable to parameter of type '{ role: "user" | "assistant" | "system"; content: string; }[]'.
  Type '{ role: string; content: string; }' is not assignable to type '{ role: "user" | "assistant" | "system"; content: string; }'.
    Types of property 'role' are incompatible.
      Type 'string' is not assignable to type '"user" | "assistant" | "system"'.

[7m241[0m     const resp = await this.llmInvoker(messages, {
[7m   [0m [91m                                       ~~~~~~~~[0m
[96msrc/lib/ai/mental-llama/routing/MentalHealthTaskRouter.ts[0m:[93m6[0m:[93m3[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'RoutingContext'.

[7m6[0m   RoutingContext,
[7m [0m [91m  ~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/performance/index.ts[0m:[93m2[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../bias-detection/types"' has no exported member named 'PerformanceMetrics'. Did you mean 'ModelPerformanceMetrics'?

[7m2[0m export type { PerformanceMetrics } from '../bias-detection/types'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/providers/EmotionLlamaProvider.ts[0m:[93m532[0m:[93m64[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m532[0m     return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                               ~~~~~~[0m
[96msrc/lib/ai/providers/EmotionLlamaProvider.ts[0m:[93m252[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'originalText' is declared but its value is never read.

[7m252[0m     originalText: string,
[7m   [0m [93m    ~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m613[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType '"phone"' is not assignable to type '"email" | "push" | "call" | "sms"'.

[7m613[0m       channels: ['phone', 'email'],
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m602[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType '"phone"' is not assignable to type '"email" | "push" | "call" | "sms"'.

[7m602[0m       channels: ['phone', 'sms', 'email'],
[7m   [0m [91m                 ~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m392[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"escalation"' is not assignable to type '"manual" | "assessment" | "prediction" | "automated"'.

[7m392[0m         triggerType: 'escalation',
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m229[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty '_userId' does not exist on type 'EscalationEvent'.

[7m229[0m     const { protocolActivated, riskLevel, _userId } = escalationEvent
[7m   [0m [91m                                          ~~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m351[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m351[0m     action: EscalationAction,
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/ai/services/AutomatedEscalationService.ts[0m:[93m229[0m:[93m43[0m - [93mwarning[0m[90m ts(6133): [0m'_userId' is declared but its value is never read.

[7m229[0m     const { protocolActivated, riskLevel, _userId } = escalationEvent
[7m   [0m [93m                                          ~~~~~~~[0m

[96msrc/lib/ai/services/BeliefConsistencyService.test.ts[0m:[93m56[0m:[93m24[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; }' to type 'TherapeuticProgress' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; }' is missing the following properties from type 'TherapeuticProgress': skillsAcquired, trustLevel, rapportScore, therapistPerception, transferenceState

[7m 56[0m   therapeuticProgress: {
[7m   [0m [91m                       ~[0m
[7m 57[0m     insights: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 60[0m     sessionProgressLog: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 61[0m   } as TherapeuticProgress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/ContextualAwarenessService.ts[0m:[93m4[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"./OutcomeRecommendationEngine"' has no exported member 'RecommendationContext'.

[7m4[0m import type { RecommendationContext } from './OutcomeRecommendationEngine'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m745[0m:[93m15[0m - [91merror[0m[90m ts(2538): [0mType 'unknown' cannot be used as an index type.

[7m745[0m       metrics[technique] = Math.random() * 0.3 + 0.6 // 0.6 to 0.9
[7m   [0m [91m              ~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m510[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'context'.

[7m510[0m     } else if (context.phase === 'exploration') {
[7m   [0m [91m               ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m10[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../simulator/types' or its corresponding type declarations.

[7m10[0m import { TherapeuticTechnique } from '../../simulator/types'
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m638[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'emotion' is declared but its value is never read.

[7m638[0m     emotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m585[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m585[0m     context: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m584[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'primary' is declared but its value is never read.

[7m584[0m     primary: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m546[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'primary' is declared but its value is never read.

[7m546[0m     primary: any,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m523[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'emotion' is declared but its value is never read.

[7m523[0m     emotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m125[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isModelTrained' is declared but its value is never read.

[7m125[0m   private isModelTrained = false
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/EnhancedTechniqueClassificationService.ts[0m:[93m124[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'classificationModel' is declared but its value is never read.

[7m124[0m   private classificationModel: unknown = null // Would be actual ML model in production
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/InterventionAnalysisService.ts[0m:[93m324[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'currentEmotion' is declared but its value is never read.

[7m324[0m     currentEmotion: EmotionAnalysis,
[7m   [0m [93m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/InterventionAnalysisService.ts[0m:[93m297[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_totalEmotionIntensity' is declared but its value is never read.

[7m297[0m     const _totalEmotionIntensity = Object.values(afterEmotion.emotions).reduce(
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/MultiModalRiskAssessmentService.ts[0m:[93m203[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ hasEmotional: boolean; hasBiometric: boolean; hasBehavioral: boolean; hasClinical: boolean; hasContextual: boolean; }' is not assignable to parameter of type 'number'.

[7m203[0m         {
[7m   [0m [91m        ~[0m
[7m204[0m           hasEmotional: emotionalData.length > 0,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m208[0m           hasContextual: !!contextualData,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m209[0m         },
[7m   [0m [91m~~~~~~~~~[0m

[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m96[0m:[93m48[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m96[0m     mockKvStoreInstance = new MockKVStore() as vi.Mocked<KVStore> // Changed to vi.Mocked
[7m  [0m [91m                                               ~~[0m
[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m91[0m:[93m28[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m91[0m   let mockKvStoreInstance: vi.Mocked<KVStore> // Changed to vi.Mocked
[7m  [0m [91m                           ~~[0m
[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m63[0m:[93m24[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; skillsAcquired: string[]; trustLevel: number; rapportScore: number; therapistPerception: "neutral"; transferenceState: "none"; }' to type 'TherapeuticProgress' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'skillsAcquired' are incompatible.
    Type 'string[]' is not comparable to type 'SkillAcquired[]'.
      Type 'string' is not comparable to type 'SkillAcquired'.

[7m 63[0m   therapeuticProgress: {
[7m   [0m [91m                       ~[0m
[7m 64[0m     insights: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 72[0m     transferenceState: 'none',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 73[0m   } as TherapeuticProgress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PatientProfileService.test.ts[0m:[93m17[0m:[93m32[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m17[0m const MockKVStore = KVStore as vi.MockedClass<typeof KVStore>
[7m  [0m [91m                               ~~[0m

[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m102[0m:[93m31[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m102[0m   let mockConsistencyService: vi.Mocked<BeliefConsistencyService>
[7m   [0m [91m                              ~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m101[0m:[93m27[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m101[0m   let mockProfileService: vi.Mocked<PatientProfileService>
[7m   [0m [91m                          ~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m74[0m:[93m24[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ insights: never[]; resistanceLevel: number; changeReadiness: "contemplation"; sessionProgressLog: never[]; skillsAcquired: string[]; trustLevel: number; rapportScore: number; therapistPerception: "neutral"; transferenceState: "none"; }' to type 'TherapeuticProgress' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'skillsAcquired' are incompatible.
    Type 'string[]' is not comparable to type 'SkillAcquired[]'.
      Type 'string' is not comparable to type 'SkillAcquired'.

[7m 74[0m   therapeuticProgress: {
[7m   [0m [91m                       ~[0m
[7m 75[0m     insights: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 83[0m     transferenceState: 'none',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 84[0m   } as TherapeuticProgress,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m26[0m:[93m66[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m26[0m const MockBeliefConsistencyService = BeliefConsistencyService as vi.MockedClass<
[7m  [0m [91m                                                                 ~~[0m
[96msrc/lib/ai/services/PatientResponseService.test.ts[0m:[93m23[0m:[93m60[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m23[0m const MockPatientProfileService = PatientProfileService as vi.MockedClass<
[7m  [0m [91m                                                           ~~[0m

[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m390[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'riskFactors'.

[7m390[0m     if (riskFactors.temporal.daysSinceLastSession > 14) {
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m387[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'riskFactors'.

[7m387[0m     if (riskFactors.historical.previousCrises > 2) {
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m384[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'riskFactors'.

[7m384[0m     if (riskFactors.behavioral.isolationIndicators > 5) {
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PredictiveCrisisModelingService.ts[0m:[93m381[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'riskFactors'.

[7m381[0m     if (riskFactors.emotional.volatilityScore > 0.7) {
[7m   [0m [91m        ~~~~~~~~~~~[0m

[96msrc/lib/ai/services/PromptOptimizerService.ts[0m:[93m666[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty '_primaryConcern' does not exist on type '{ sessionPhase: "intervention" | "exploration" | "closure" | "opening"; patientState: "defensive" | "receptive" | "distressed" | "engaged"; primaryConcern: string; }'.

[7m666[0m     const { sessionPhase, patientState, _primaryConcern } = context
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PromptOptimizerService.ts[0m:[93m666[0m:[93m41[0m - [93mwarning[0m[90m ts(6133): [0m'_primaryConcern' is declared but its value is never read.

[7m666[0m     const { sessionPhase, patientState, _primaryConcern } = context
[7m   [0m [93m                                        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/PromptOptimizerService.ts[0m:[93m347[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'prevMessage' is declared but its value is never read.

[7m347[0m     prevMessage: ConversationContext['messages'][0],
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m560[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Partial<TreatmentRecommendation>[]' is not assignable to type 'void'.

[7m560[0m     return recommendations
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m535[0m:[93m73[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m535[0m   private async generateBaseRecommendations(currentState: ClientState): void {
[7m   [0m [91m                                                                        ~~~~[0m
[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m216[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'void' is not assignable to parameter of type 'Partial<TreatmentRecommendation>[]'.

[7m216[0m         baseRecommendations,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/RecommendationService.ts[0m:[93m212[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m212[0m         await this.generateBaseRecommendations(currentState)
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/contextual-enhancer.ts[0m:[93m14[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'analyzer' is declared but its value is never read.

[7m14[0m   private analyzer: RealTimeAnalyzer
[7m  [0m [93m          ~~~~~~~~[0m

[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m351[0m:[93m11[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'error'. Either declare one or provide an initializer.

[7m351[0m           error,
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m343[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type 'object'.

[7m343[0m               ? parsed.recommendations
[7m   [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m342[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type 'object'.

[7m342[0m             recommendations: Array.isArray(parsed.recommendations)
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m340[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'indicators' does not exist on type 'object'.

[7m340[0m               ? parsed.indicators
[7m   [0m [91m                       ~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m339[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'indicators' does not exist on type 'object'.

[7m339[0m             indicators: Array.isArray(parsed.indicators)
[7m   [0m [91m                                             ~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m338[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'object'.

[7m338[0m             severity: parsed.severity || 'low',
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m337[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'category' does not exist on type 'object'.

[7m337[0m             category: parsed.category || 'general_concern',
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m336[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'score' does not exist on type 'object'.

[7m336[0m             score: Math.min(Math.max(Number(parsed.score) || 0, 0), 1), // Clamp between 0-1
[7m   [0m [91m                                                   ~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m175[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"unknown"' is not assignable to type '"high" | "medium" | "low" | "critical"'.

[7m175[0m         riskLevel: 'unknown',
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m26[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'defaultPrompt' is declared but its value is never read.

[7m26[0m   private defaultPrompt?: string
[7m  [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/crisis-detection.ts[0m:[93m25[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'model' is declared but its value is never read.

[7m25[0m   private model?: string
[7m  [0m [93m          ~~~~~[0m

[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m77[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m77[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m49[0m:[93m22[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m49[0m   userPreferences: z.record(z.unknown()).optional(),
[7m  [0m [91m                     ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m31[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m31[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m22[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m22[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/ai/services/outcome-recommendation-types.ts[0m:[93m17[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m17[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m

[96msrc/lib/ai/services/server.ts[0m:[93m238[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'analysisResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m238[0m       let analysisResult
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/services/together.ts[0m:[93m528[0m:[93m25[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'TogetherStreamResponse'.

[7m528[0m                   const parsed: TogetherStreamResponse = JSON.parse(
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/ai/services/together.ts[0m:[93m279[0m:[93m65[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m279[0m       errorMessage = `Together AI API error: ${errorData.String(error) || errorData.error}`
[7m   [0m [91m                                                                ~~~~~[0m
[96msrc/lib/ai/services/together.ts[0m:[93m279[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'String' does not exist on type '{ error: { message?: string | undefined; code?: string | undefined; }; }'.

[7m279[0m       errorMessage = `Together AI API error: ${errorData.String(error) || errorData.error}`
[7m   [0m [91m                                                         ~~~~~~[0m
[96msrc/lib/ai/services/together.ts[0m:[93m335[0m:[93m13[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'errorData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m335[0m         let errorData
[7m   [0m [93m            ~~~~~~~~~[0m

[96msrc/lib/ai/services/__tests__/PatientProfileService.test.ts[0m:[93m32[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m32[0m       skillsAcquired: ['basic coping skills'], // Required property
[7m  [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientProfileService.test.ts[0m:[93m20[0m:[93m63[0m - [91merror[0m[90m ts(2694): [0mNamespace 'jest' has no exported member 'Mocked'.

[7m20[0m     mockKvStore = new KVStore('test_profiles', false) as jest.Mocked<KVStore>
[7m  [0m [91m                                                              ~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientProfileService.test.ts[0m:[93m14[0m:[93m20[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m14[0m   let mockKvStore: vi.Mocked<KVStore>
[7m  [0m [91m                   ~~[0m

[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m265[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m265[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m246[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m246[0m       const profileCopy2 = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m232[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m232[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m217[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m217[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m194[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m194[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m177[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m177[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown)
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m159[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m159[0m       const profileCopy = JSON.parse(JSON.stringify(sampleProfile) as unknown) // Deep copy
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m69[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'SkillAcquired'.

[7m69[0m       skillsAcquired: ['basic coping skills'], // Required property
[7m  [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m37[0m:[93m48[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m37[0m       new (EmotionSynthesizer as unknown)() as vi.Mocked<EmotionSynthesizer>
[7m  [0m [91m                                               ~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m37[0m:[93m11[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m37[0m       new (EmotionSynthesizer as unknown)() as vi.Mocked<EmotionSynthesizer>
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m33[0m:[93m40[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m33[0m     mockBeliefConsistencyService = new (BeliefConsistencyService as unknown)()
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m32[0m:[93m37[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m32[0m     mockPatientProfileService = new (PatientProfileService as unknown)() // Keep as is if only used for constructor typing
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/PatientResponseService.test.ts[0m:[93m21[0m:[93m31[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m21[0m   let mockEmotionSynthesizer: vi.Mocked<EmotionSynthesizer> // Use vi.Mocked for typed mocks
[7m  [0m [91m                              ~~[0m

[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m249[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ cognitiveModel: { coreBeliefs: unknown; id: string; name: string; demographicInfo: DemographicInfo; presentingIssues: string[]; diagnosisInfo: DiagnosisInfo; ... 8 more ...; therapeuticProgress: TherapeuticProgress; }; id: string; conversationHistory: ConversationMessage[]; lastUpdatedAt: string; }' is not assignable to parameter of type 'PatientProfile'.
  The types of 'cognitiveModel.coreBeliefs' are incompatible between these types.
    Type 'unknown' is not assignable to type 'CoreBelief[]'.

[7m249[0m         service.updateBeliefStrength(incompleteProfile, targetBelief, 0.1),
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m239[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PatientProfile'.

[7m239[0m         service.updateBeliefStrength(null as unknown, targetBelief, 0.1),
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m162[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ cognitiveModel: { therapeuticProgress: unknown; id: string; name: string; demographicInfo: DemographicInfo; presentingIssues: string[]; diagnosisInfo: DiagnosisInfo; ... 8 more ...; goalsForTherapy: string[]; }; id: string; conversationHistory: ConversationMessage[]; lastUpdatedAt: string; }' is not assignable to parameter of type 'PatientProfile'.
  The types of 'cognitiveModel.therapeuticProgress' are incompatible between these types.
    Type 'unknown' is not assignable to type 'TherapeuticProgress'.

[7m162[0m       expect(() => service.addInsight(incompleteProfile, 'insight')).toThrow(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/services/__tests__/TherapeuticProgressService.test.ts[0m:[93m152[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PatientProfile'.

[7m152[0m       expect(() => service.addInsight(null as unknown, 'insight')).toThrow(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m129[0m:[93m8[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEmotionCorrelations' does not exist on type 'AIRepository'.

[7m129[0m     )?.getEmotionCorrelations?.(clientId)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m116[0m:[93m8[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEmotionDataByDateRange' does not exist on type 'AIRepository'.

[7m116[0m     )?.getEmotionDataByDateRange?.(clientId, startDate, endDate)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m101[0m:[93m8[0m - [91merror[0m[90m ts(2339): [0mProperty 'getCriticalEmotions' does not exist on type 'AIRepository'.

[7m101[0m     )?.getCriticalEmotions?.(clientId, options?.emotionTypes)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/EmotionTemporalAnalyzer.ts[0m:[93m76[0m:[93m8[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEmotionData' does not exist on type 'AIRepository'.

[7m76[0m     )?.getEmotionData?.(sessionIds)
[7m  [0m [91m       ~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m425[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m425[0m       `Shift to ${dominanceDiff > 0 ? 'more' : 'less'} emotional control`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m420[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m420[0m       `${arousalDiff > 0 ? 'Increased' : 'Decreased'} emotional intensity`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m415[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m415[0m       `Shift to ${valenceDiff > 0 ? 'more positive' : 'more negative'} emotions`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m394[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m394[0m       `${dominanceTrend > 0 ? 'Gaining' : 'Losing'} emotional control`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m389[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m389[0m       `${arousalTrend > 0 ? 'Increasing' : 'Decreasing'} emotional arousal`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m384[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m384[0m       `${valenceTrend > 0 ? 'Improving' : 'Declining'} emotional valence`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/temporal/TemporalAnalysisAlgorithm.ts[0m:[93m360[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'never'.

[7m360[0m       calculateDimensionalDistance(
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m         window[i - 1].dimensions,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m362[0m         window[i].dimensions,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m363[0m       ),
[7m   [0m [91m~~~~~~~[0m

[96msrc/lib/ai/types/intervention-types.ts[0m:[93m52[0m:[93m18[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'InterventionEffectivenessResult'.

[7m52[0m   effectiveness: InterventionEffectivenessResult
[7m  [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/ai/validation/clinical-validator.ts[0m:[93m209[0m:[93m59[0m - [91merror[0m[90m ts(2365): [0mOperator '<' cannot be applied to types 'string' and 'number'.

[7m209[0m     if (actualOutcome.toLowerCase().includes('crisis') && assessedLevel < 4) {
[7m   [0m [91m                                                          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/validation/clinical-validator.ts[0m:[93m169[0m:[93m7[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types 'string' and 'number'.

[7m169[0m       crisisLevel >= 4 &&
[7m   [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/ai/validation/clinical-validator.ts[0m:[93m322[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'riskFactors' is declared but its value is never read.

[7m322[0m     riskFactors: string[],
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m330[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ value: number; direction: "up" | "stable" | "down"; period: string; }' is not assignable to type 'void'.

[7m330[0m       return {
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m300[0m:[93m75[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m300[0m   private async calculateTrend(metricName: string, timeRange: TimeRange): void {
[7m   [0m [91m                                                                          ~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m192[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ value: number; direction: "up" | "stable" | "down"; period: string; } | undefined'.

[7m192[0m           trend: await this.calculateTrend('average_rating', filters.timeRange),
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m183[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ value: number; direction: "up" | "stable" | "down"; period: string; } | undefined'.

[7m183[0m           trend: await this.calculateTrend(
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m177[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ value: number; direction: "up" | "stable" | "down"; period: string; } | undefined'.

[7m177[0m           trend: await this.calculateTrend('total_sessions', filters.timeRange),
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m192[0m:[93m18[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m192[0m           trend: await this.calculateTrend('average_rating', filters.timeRange),
[7m   [0m [93m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m183[0m:[93m18[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m183[0m           trend: await this.calculateTrend(
[7m   [0m [93m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m184[0m             'completion_rate',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m185[0m             filters.timeRange,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m186[0m           ),
[7m   [0m [93m~~~~~~~~~~~[0m
[96msrc/lib/analytics/AnalyticsDataService.ts[0m:[93m177[0m:[93m18[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m177[0m           trend: await this.calculateTrend('total_sessions', filters.timeRange),
[7m   [0m [93m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/breach-analytics.ts[0m:[93m217[0m:[93m10[0m - [91merror[0m[90m ts(18046): [0m'notificationData' is of type 'unknown'.

[7m217[0m   return notificationData.completedAt - breach.timestamp
[7m   [0m [91m         ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/breach.ts[0m:[93m82[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>'.
  Type 'undefined' is not assignable to type 'Record<string, unknown>'.

[7m82[0m     metadata: stored.metadata || undefined,
[7m  [0m [91m    ~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Date' is not assignable to type 'number'.

[7m79[0m     responseTime: new Date(stored.response_time),
[7m  [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m78[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Date' is not assignable to type 'number'.

[7m78[0m     detectionTime: new Date(stored.detection_time),
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m75[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string[]' is not assignable to type 'number'.

[7m75[0m     affectedUsers: stored.affected_users,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m61[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '"pending" | "completed" | "in_progress" | undefined' is not assignable to type '"pending" | "completed" | "in_progress"'.
  Type 'undefined' is not assignable to type '"pending" | "completed" | "in_progress"'.

[7m61[0m     remediation_status: breach.remediationStatus,
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m60[0m:[93m40[0m - [91merror[0m[90m ts(2551): [0mProperty 'toISOString' does not exist on type 'number'. Did you mean 'toString'?

[7m60[0m     response_time: breach.responseTime.toISOString(),
[7m  [0m [91m                                       ~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m60[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'breach.responseTime' is possibly 'undefined'.

[7m60[0m     response_time: breach.responseTime.toISOString(),
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m59[0m:[93m42[0m - [91merror[0m[90m ts(2551): [0mProperty 'toISOString' does not exist on type 'number'. Did you mean 'toString'?

[7m59[0m     detection_time: breach.detectionTime.toISOString(),
[7m  [0m [91m                                         ~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m59[0m:[93m21[0m - [91merror[0m[90m ts(18048): [0m'breach.detectionTime' is possibly 'undefined'.

[7m59[0m     detection_time: breach.detectionTime.toISOString(),
[7m  [0m [91m                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m57[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string[] | undefined' is not assignable to type 'string[]'.
  Type 'undefined' is not assignable to type 'string[]'.

[7m57[0m     data_types: breach.dataTypes,
[7m  [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/analytics/breach.ts[0m:[93m56[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'number | undefined' is not assignable to type 'string[]'.
  Type 'undefined' is not assignable to type 'string[]'.

[7m56[0m     affected_users: breach.affectedUsers,
[7m  [0m [91m    ~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/ml.ts[0m:[93m53[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ value: number; confidence: number; }' is not assignable to parameter of type 'never'.

[7m53[0m     predictions.push({
[7m  [0m [91m                     ~[0m
[7m54[0m       value: predictedValue,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m55[0m       confidence: Math.max(0.5, 0.9 - i * 0.05), // Confidence decreases over time
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m56[0m     })
[7m  [0m [91m~~~~~[0m
[96msrc/lib/analytics/ml.ts[0m:[93m43[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m't' is of type 'unknown'.

[7m43[0m   const recentBreaches = trends.slice(-7).map((t) => t.breaches)
[7m  [0m [91m                                                     ~[0m
[96msrc/lib/analytics/ml.ts[0m:[93m22[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'trend' is of type 'unknown'.

[7m22[0m     const responseFactor = trend.responseTime > 3600000 ? 0.2 : 0 // 1 hour threshold
[7m  [0m [91m                           ~~~~~[0m
[96msrc/lib/analytics/ml.ts[0m:[93m21[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'trend' is of type 'unknown'.

[7m21[0m     const breachFactor = trend.breaches > 5 ? 0.3 : 0
[7m  [0m [91m                         ~~~~~[0m

[96msrc/lib/analytics/risk.ts[0m:[93m226[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ name: string; score: number; contribution: number; metadata?: Record<string, unknown> | undefined; }' is not assignable to parameter of type 'never'.

[7m226[0m         factorResults.push(factorResult)
[7m   [0m [91m                           ~~~~~~~~~~~~[0m
[96msrc/lib/analytics/risk.ts[0m:[93m96[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'getBreachesSince' does not exist on type 'Promise<any>'.

[7m96[0m         await getBreachDataService().getBreachesSince(thirtyDaysAgo)
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/risk.ts[0m:[93m21[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'BreachDataService' does not exist on type 'typeof import("/app/src/lib/analytics/breach")'.

[7m21[0m   const { BreachDataService } = await import('./breach')
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m416[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'gtag'.

[7m416[0m       gtag('event', eventData.event, {
[7m   [0m [91m      ~~~~[0m
[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m415[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'gtag'.

[7m415[0m     if (typeof gtag !== 'undefined') {
[7m   [0m [91m               ~~~~[0m
[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m262[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m262[0m       container.addEventListener('click', (e) => {
[7m   [0m [93m                                           ~[0m
[96msrc/lib/analytics/universal-demo-analytics.ts[0m:[93m239[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m239[0m         element.addEventListener('click', (e) => {
[7m   [0m [93m                                           ~[0m

[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m389[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m389[0m       ;(listRecentBreaches as unknown).mockRejectedValue(
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m339[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m339[0m       ;(ComplianceMetrics.calculateScore as unknown).mockResolvedValue(0.97)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m308[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m308[0m       ;(NotificationEffectiveness.calculate as unknown).mockResolvedValue({
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m201[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m201[0m       ;(listRecentBreaches as unknown).mockResolvedValue([])
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m161[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m161[0m     ;(fheService.encrypt as unknown).mockResolvedValue('encrypted_data')
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m160[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m160[0m     ;(StatisticalAnalysis.calculateTrend as unknown).mockReturnValue(0.15)
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m156[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m156[0m     ;(SecurityTrends.analyze as unknown).mockResolvedValue([
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m152[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m152[0m     ;(RiskScoring.getFactors as unknown).mockResolvedValue([
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m148[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m148[0m     ;(MachineLearning.predictBreaches as unknown).mockResolvedValue([
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m147[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m147[0m     ;(MachineLearning.detectAnomalies as unknown).mockResolvedValue([0.1, 0.2])
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m131[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m131[0m     ;(NotificationEffectiveness.calculateDaily as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m115[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m115[0m     ;(NotificationEffectiveness.calculate as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m114[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m114[0m     ;(ComplianceMetrics.calculateScore as unknown).mockResolvedValue(0.98)
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m107[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m107[0m     ;(RiskScoring.calculateDailyRisk as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m100[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m100[0m     ;(RiskScoring.calculateOverallRisk as unknown).mockResolvedValue({
[7m   [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m95[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m95[0m     ;(redis.get as unknown).mockResolvedValue(
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/analytics/__tests__/breach-analytics.test.ts[0m:[93m94[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m94[0m     ;(listRecentBreaches as unknown).mockResolvedValue(mockBreaches)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/animations/sequences.ts[0m:[93m427[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'brightness' does not exist in type 'Variant'.

[7m427[0m       brightness: 1.1,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/animations/sequences.ts[0m:[93m423[0m:[93m34[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'brightness' does not exist in type 'Variant'.

[7m423[0m     rest: { scale: 1, rotate: 0, brightness: 1 },
[7m   [0m [91m                                 ~~~~~~~~~~[0m

[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m735[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'turn.knowledgeSource' is of type 'unknown'.

[7m735[0m         confidence: turn.knowledgeSource.confidence,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m730[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'turn.knowledgeSource' is of type 'unknown'.

[7m730[0m         content: turn.knowledgeSource.reference,
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m729[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'turn.knowledgeSource' is of type 'unknown'.

[7m729[0m         source: turn.knowledgeSource.type,
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m725[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ dialogueTurn: number; appliedKnowledge: { source: any; content: any; application: string; confidence: any; }[]; }[]' is not assignable to type 'void'.

[7m725[0m   return dialogue.map((turn, index) => ({
[7m   [0m [91m  ~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m715[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ overallScore: number; authenticity: number; therapeuticAccuracy: number; knowledgeIntegration: number; conversationFlow: number; }' is not assignable to type 'void'.

[7m715[0m   return {
[7m   [0m [91m  ~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m703[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'request.conversationParameters' is of type 'unknown'.

[7m703[0m     baseScore + request.conversationParameters.targetTechniques.length * 3,
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m699[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'request.knowledgeBase.dsm5Criteria' is of type 'unknown'.

[7m699[0m     baseScore + request.knowledgeBase.dsm5Criteria.length * 2,
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m631[0m:[93m41[0m - [91merror[0m[90m ts(18048): [0m'profile.presentingProblem' is possibly 'undefined'.

[7m631[0m     high: `I'm really struggling with ${profile.presentingProblem.toLowerCase()}. It feels overwhelming most of the time, and I'm not sure how to manage it anymore.`,
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m565[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "therapist"; content: string; timestamp: string; techniques: string[]; interventionType: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m565[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m566[0m     speaker: 'therapist' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m577[0m     },
[7m   [0m [91m~~~~~~[0m
[7m578[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m548[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "client"; content: string; timestamp: string; techniques: never[]; emotionalState: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m548[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m549[0m     speaker: 'client' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m561[0m     },
[7m   [0m [91m~~~~~~[0m
[7m562[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m529[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "therapist"; content: string; timestamp: string; techniques: string[]; interventionType: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m529[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m530[0m     speaker: 'therapist' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m544[0m     },
[7m   [0m [91m~~~~~~[0m
[7m545[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m510[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "client"; content: string; timestamp: string; techniques: never[]; emotionalState: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m510[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m511[0m     speaker: 'client' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m525[0m     },
[7m   [0m [91m~~~~~~[0m
[7m526[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m494[0m:[93m17[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ speaker: "therapist"; content: string; timestamp: string; techniques: string[]; interventionType: string; knowledgeSource: { type: string; reference: string; confidence: number; }; }' is not assignable to parameter of type 'never'.

[7m494[0m   dialogue.push({
[7m   [0m [91m                ~[0m
[7m495[0m     speaker: 'therapist' as const,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m506[0m     },
[7m   [0m [91m~~~~~~[0m
[7m507[0m   })
[7m   [0m [91m~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m477[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'void'.

[7m477[0m         qualityMetrics.overallScore >=
[7m   [0m [91m                       ~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m467[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ dialogueTurn: number; appliedKnowledge: { source: string; content: string; application: string; confidence: number; }[]; }[]'.

[7m467[0m     knowledgeMapping,
[7m   [0m [91m    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m466[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'void' is not assignable to type '{ overallScore: number; authenticity: number; therapeuticAccuracy: number; knowledgeIntegration: number; conversationFlow: number; }'.

[7m466[0m     qualityMetrics,
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m458[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ knowledgeBase: { dsm5Criteria: string[]; therapeuticTechniques: string[]; clinicalGuidelines: string[]; }; clientProfile: { demographics: { age: number; gender: string; background: string; }; presentingProblem: string; severity: "high" | ... 1 more ... | "low"; riskFactors: string[]; }; conversationParameters: { ....' is not assignable to parameter of type 'ConversationRequest'.
  Property 'therapeuticApproach' is missing in type '{ knowledgeBase: { dsm5Criteria: string[]; therapeuticTechniques: string[]; clinicalGuidelines: string[]; }; clientProfile: { demographics: { age: number; gender: string; background: string; }; presentingProblem: string; severity: "high" | ... 1 more ... | "low"; riskFactors: string[]; }; conversationParameters: { ....' but required in type 'ConversationRequest'.

[7m458[0m   const qualityMetrics = calculateConversationQuality(validatedRequest)
[7m   [0m [91m                                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m658[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'profile' is declared but its value is never read.

[7m658[0m   profile: ClientProfile,
[7m   [0m [93m  ~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m641[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'techniques' is declared but its value is never read.

[7m641[0m   techniques: string[],
[7m   [0m [93m  ~~~~~~~~~~[0m
[96msrc/lib/api/psychology-pipeline-demo.ts[0m:[93m640[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'dsm5' is declared but its value is never read.

[7m640[0m   dsm5: string[],
[7m   [0m [93m  ~~~~[0m

[96msrc/lib/api/journal-research/types.ts[0m:[93m356[0m:[93m46[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m356[0m       endDate: z.union([z.date(), z.string().datetime()]).optional(),
[7m   [0m [93m                                             ~~~~~~~~[0m
[96msrc/lib/api/journal-research/types.ts[0m:[93m355[0m:[93m48[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m355[0m       startDate: z.union([z.date(), z.string().datetime()]).optional(),
[7m   [0m [93m                                               ~~~~~~~~[0m
[96msrc/lib/api/journal-research/types.ts[0m:[93m69[0m:[93m21[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m69[0m     url: z.string().url(),
[7m  [0m [93m                    ~~~[0m
[96msrc/lib/api/journal-research/types.ts[0m:[93m10[0m:[93m4[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m10[0m   .datetime()
[7m  [0m [93m   ~~~~~~~~[0m
[96msrc/lib/api/journal-research/types.ts[0m:[93m5[0m:[93m4[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m5[0m   .datetime()
[7m [0m [93m   ~~~~~~~~[0m

[96msrc/lib/audit/metrics.ts[0m:[93m10[0m:[93m64[0m - [91merror[0m[90m ts(2304): [0mCannot find name '________'.

[7m10[0m   const hourCounts = Array.from({ length: 24 }, () => 0).slice(________)
[7m  [0m [91m                                                               ~~~~~~~~[0m
[96msrc/lib/audit/metrics.ts[0m:[93m55[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m55[0m   const unusualPatterns = await detectUnusualPatterns(logs)
[7m  [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/audit/__tests__/analysis.test.ts[0m:[93m7[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../types/audit' or its corresponding type declarations.

[7m7[0m import type { AuditLog } from '../../types/audit'
[7m [0m [91m                              ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m606[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m606[0m       await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m607[0m         configType: 'time_windows',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m610[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m611[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m584[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m584[0m     await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m585[0m       configType: 'time_windows',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m588[0m       timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m589[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m568[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m568[0m       await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m569[0m         configType: 'country_allowlist',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m572[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m573[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m550[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m550[0m       await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m551[0m         configType: 'country_allowlist',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m554[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m555[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m533[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m533[0m       await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m534[0m         configType: 'ip_whitelist',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m537[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m538[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m515[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m515[0m       await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m516[0m         configType: 'ip_whitelist',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m519[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m520[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m491[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m491[0m     await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m492[0m       configType: 'adaptive_mfa',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m494[0m       timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m495[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/auth0-adaptive-mfa-service.ts[0m:[93m211[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m211[0m       await logSecurityEvent(SecurityEventType.RISK_ASSESSMENT, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m212[0m         userId: context.userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m216[0m         timestamp: context.timestamp.toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m217[0m       })
[7m   [0m [93m~~~~~~~~[0m

[96msrc/lib/auth/auth0-jwt-service.ts[0m:[93m11[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'logger' is declared but its value is never read.

[7m11[0m import { logger } from '../logger'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m380[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m380[0m     await logSecurityEvent(SecurityEventType.MFA_PREFERRED_FACTOR_SET, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m381[0m       userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m383[0m       timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m384[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m346[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m346[0m       await logSecurityEvent(SecurityEventType.MFA_VERIFICATION_FAILED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m347[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m350[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m351[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m331[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m331[0m       await logSecurityEvent(SecurityEventType.MFA_VERIFICATION_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m332[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m335[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m336[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m301[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m301[0m       await logSecurityEvent(SecurityEventType.MFA_CHALLENGE_SENT, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m302[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m305[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m306[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m268[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m268[0m       await logSecurityEvent(SecurityEventType.MFA_FACTOR_DELETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m269[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m271[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m272[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m212[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m212[0m       await logSecurityEvent(SecurityEventType.MFA_ENROLLMENT_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m213[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m216[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m217[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-mfa-service.ts[0m:[93m176[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m176[0m       await logSecurityEvent(SecurityEventType.MFA_ENROLLMENT_STARTED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m177[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m179[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m180[0m       })
[7m   [0m [93m~~~~~~~~[0m

[96msrc/lib/auth/auth0-middleware.ts[0m:[93m755[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string[]' is not assignable to type 'string | number | boolean | null | undefined'.

[7m755[0m         requiredRoles: roles,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m695[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m695[0m     email: user.email,
[7m   [0m [91m    ~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m694[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m694[0m     id: user.id,
[7m   [0m [91m    ~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m686[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m686[0m     await updatePhase6AuthenticationProgress(user.id, 'authentication_success')
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m674[0m:[93m68[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | Record<string, string | number | boolean | null | undefined> | null'.
  Type 'undefined' is not assignable to type 'string | Record<string, string | number | boolean | null | undefined> | null'.

[7m674[0m   await logSecurityEvent(SecurityEventType.AUTHENTICATION_SUCCESS, user.id, {
[7m   [0m [91m                                                                   ~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m643[0m:[93m64[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | Record<string, string | number | boolean | null | undefined> | null'.
  Type 'undefined' is not assignable to type 'string | Record<string, string | number | boolean | null | undefined> | null'.

[7m643[0m         await logSecurityEvent(SecurityEventType.MFA_REQUIRED, user.id, {
[7m   [0m [91m                                                               ~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m638[0m:[93m74[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ userId: string | undefined; ipAddress: string; userAgent: string; timestamp: Date; location: { country: string; }; }' is not assignable to parameter of type 'LoginContext'.
  Types of property 'userId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.

[7m638[0m       const requiresMFA = await auth0AdaptiveMFAService.shouldRequireMFA(loginContext)
[7m   [0m [91m                                                                         ~~~~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m597[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'ip' does not exist on type '{}'.

[7m597[0m           storedIp: storedBinding.ip,
[7m   [0m [91m                                  ~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m595[0m:[93m73[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | Record<string, string | number | boolean | null | undefined> | null'.
  Type 'undefined' is not assignable to type 'string | Record<string, string | number | boolean | null | undefined> | null'.

[7m595[0m         await logSecurityEvent(SecurityEventType.AUTHENTICATION_FAILED, user.id, {
[7m   [0m [91m                                                                        ~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m593[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'ip' does not exist on type '{}'.

[7m593[0m       if (storedBinding.ip !== clientInfo.ip) {
[7m   [0m [91m                        ~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m581[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m581[0m   const hasMFA = await auth0UserService.userHasMFA(user.id)
[7m   [0m [91m                                                   ~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m355[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m355[0m   if (storedToken.expiresAt && storedToken.expiresAt < Date.now()) {
[7m   [0m [91m                                           ~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m355[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m355[0m   if (storedToken.expiresAt && storedToken.expiresAt < Date.now()) {
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m327[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'token' does not exist on type '{}'.

[7m327[0m   if (storedToken.token && storedToken.token !== csrfToken) {
[7m   [0m [91m                                       ~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m327[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'token' does not exist on type '{}'.

[7m327[0m   if (storedToken.token && storedToken.token !== csrfToken) {
[7m   [0m [91m                  ~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m183[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'resetTime' does not exist on type '{}'.

[7m183[0m       resetTime = rateLimitData.resetTime
[7m   [0m [91m                                ~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m182[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'count' does not exist on type '{}'.

[7m182[0m       currentCount = rateLimitData.count || 0
[7m   [0m [91m                                   ~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m181[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'resetTime' does not exist on type '{}'.

[7m181[0m     if (rateLimitData.resetTime && rateLimitData.resetTime > now) {
[7m   [0m [91m                                                 ~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m181[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'resetTime' does not exist on type '{}'.

[7m181[0m     if (rateLimitData.resetTime && rateLimitData.resetTime > now) {
[7m   [0m [91m                      ~~~~~~~~~[0m
[96msrc/lib/auth/auth0-middleware.ts[0m:[93m103[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'request' is declared but its value is never read.

[7m103[0m   request: Request,
[7m   [0m [93m  ~~~~~~~[0m

[96msrc/lib/auth/auth0-rbac-service.ts[0m:[93m528[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m528[0m     await logSecurityEvent(SecurityEventType.ROLE_REMOVED, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m529[0m       userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m531[0m       removedBy: 'system',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m532[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/auth/auth0-rbac-service.ts[0m:[93m490[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m490[0m     await logSecurityEvent(SecurityEventType.ROLE_ASSIGNED, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m491[0m       userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m493[0m       assignedBy: 'system',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m494[0m     })
[7m   [0m [93m~~~~~~[0m

[96msrc/lib/auth/auth0-social-auth-service.ts[0m:[93m380[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m380[0m       await logSecurityEvent(SecurityEventType.ACCOUNT_UNLINKED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m381[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m383[0m         unlinkedAt: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m384[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-social-auth-service.ts[0m:[93m345[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m345[0m       await logSecurityEvent(SecurityEventType.ACCOUNT_LINKED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m346[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m348[0m         linkedAt: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m349[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-social-auth-service.ts[0m:[93m299[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m299[0m     await logSecurityEvent(SecurityEventType.LOGIN, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m300[0m       userId: user.id,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m303[0m       method: 'oauth'
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m304[0m     })
[7m   [0m [93m~~~~~~[0m

[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m455[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m455[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_RESPONSE_VALIDATION_FAILED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m456[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m458[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m459[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m444[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m444[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_RESPONSE_VALIDATED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m445[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m447[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m448[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m385[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m385[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_CREDENTIAL_RENAMED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m386[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m389[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m390[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m362[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m362[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_CREDENTIAL_DELETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m363[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m365[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m366[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m289[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m289[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_AUTHENTICATION_FAILED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m290[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m293[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m294[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m275[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m275[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_AUTHENTICATION_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m276[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m278[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m279[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m249[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m249[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_AUTHENTICATION_STARTED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m250[0m         userId: authenticationOptions.userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m253[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m254[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m218[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m218[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_REGISTRATION_FAILED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m219[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m221[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m222[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m203[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m203[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_REGISTRATION_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m204[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m207[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m208[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/auth/auth0-webauthn-service.ts[0m:[93m167[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m167[0m       await logSecurityEvent(SecurityEventType.WEBAUTHN_REGISTRATION_STARTED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m168[0m         userId: registrationOptions.userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m170[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m171[0m       })
[7m   [0m [93m~~~~~~~~[0m

[96msrc/lib/auth/errors.ts[0m:[93m91[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"REPLAY_ATTACK"' is not assignable to parameter of type 'TokenValidationReason'.

[7m91[0m     super(message, 'REPLAY_ATTACK')
[7m  [0m [91m                   ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m81[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"SESSION_CONTEXT_INVALID"' is not assignable to parameter of type 'TokenValidationReason'.

[7m81[0m     super(message, 'SESSION_CONTEXT_INVALID')
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m70[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"TYPE_MISMATCH"' is not assignable to parameter of type 'TokenValidationReason'.

[7m70[0m       'TYPE_MISMATCH',
[7m  [0m [91m      ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m58[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"INVALID_FORMAT"' is not assignable to parameter of type 'TokenValidationReason'.

[7m58[0m     super(message, 'INVALID_FORMAT')
[7m  [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m48[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"REVOKED"' is not assignable to parameter of type 'TokenValidationReason'.

[7m48[0m     super(message, 'REVOKED')
[7m  [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/auth/errors.ts[0m:[93m38[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"EXPIRED"' is not assignable to parameter of type 'TokenValidationReason'.

[7m38[0m     super(message, 'EXPIRED')
[7m  [0m [91m                   ~~~~~~~~~[0m

[96msrc/lib/auth/index.ts[0m:[93m140[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'createAuthMiddlewareStack'.

[7m140[0m   createAuthMiddlewareStack,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m137[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'createAuthRateLimit'.

[7m137[0m   createAuthRateLimit,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m133[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'optionalAuthentication'.

[7m133[0m   optionalAuthentication,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m132[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'requireAuthenticated'.

[7m132[0m   requireAuthenticated,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m131[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'requireTherapistOrHigher'.

[7m131[0m   requireTherapistOrHigher,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m130[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'requireAdmin'.

[7m130[0m   requireAdmin,
[7m   [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m129[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'requireAnyPermission'.

[7m129[0m   requireAnyPermission,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m128[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./auth0-middleware"' has no exported member named 'requireAnyRole'. Did you mean 'requireRole'?

[7m128[0m   requireAnyRole,
[7m   [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m127[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"./auth0-middleware"' has no exported member 'requirePermission'.

[7m127[0m   requirePermission,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/index.ts[0m:[93m10[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'getSession' is declared but its value is never read.

[7m10[0m import { getSession } from './session'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/role-transitions.ts[0m:[93m937[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'validation'.

[7m937[0m     return validation
[7m   [0m [91m           ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m936[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'validation'.

[7m936[0m     validation.restrictions.push('Validation failed due to system error')
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m911[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m911[0m       const currentRole = targetUserAuth.role
[7m   [0m [91m                                         ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m824[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionAuditLog'.
  Type '{}' is missing the following properties from type 'RoleTransitionAuditLog': id, requestId, userId, action, and 9 more.

[7m824[0m         auditLogs.push(auditLog)
[7m   [0m [91m                       ~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m819[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{}'.

[7m819[0m     const recentIds = auditIds.slice(-limit)
[7m   [0m [91m                               ~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m742[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{}'.

[7m742[0m       userAuditTrail = userAuditTrail.slice(-100)
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m741[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m741[0m     if (userAuditTrail.length > 100) {
[7m   [0m [91m                       ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m738[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'push' does not exist on type '{}'.

[7m738[0m     userAuditTrail.push(auditLog.id)
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m708[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"system"' is not assignable to type 'UserRole'.

[7m708[0m       actorRole: 'system',
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m706[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m706[0m       roleTo: request.requestedRole,
[7m   [0m [91m                      ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m705[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentRole' does not exist on type '{}'.

[7m705[0m       roleFrom: request.currentRole,
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m703[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m703[0m       userId: request.userId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m697[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m697[0m     await removeUserPendingRequest(request.userId, requestId)
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m693[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m693[0m       Math.floor((request.expiresAt - Date.now()) / 1000),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m688[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m688[0m     request.status = 'expired'
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m669[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m669[0m         requests.push(request)
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m668[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m668[0m       if (request && request.status === 'pending') {
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m666[0m:[93m29[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m666[0m     for (const requestId of requestIds) {
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m644[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m644[0m     if (pendingRequests.length > 0) {
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m642[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type '{}'.

[7m642[0m     pendingRequests = pendingRequests.filter((id: string) => id !== requestId)
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m623[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'push' does not exist on type '{}'.

[7m623[0m     pendingRequests.push(requestId)
[7m   [0m [91m                    ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m565[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m565[0m         eligibleRequests.push(request)
[7m   [0m [91m                              ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m563[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m563[0m         canApproveRoleTransition(approverRole, request.requestedRole)
[7m   [0m [91m                                                       ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m562[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m562[0m         Date.now() <= request.expiresAt &&
[7m   [0m [91m                              ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m561[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m561[0m         request.status === 'pending' &&
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m557[0m:[93m29[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m557[0m     for (const requestId of requestIds) {
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m530[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m530[0m         requests.push(request)
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m529[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m529[0m       if (request && (!status || request.status === status)) {
[7m   [0m [91m                                         ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m527[0m:[93m29[0m - [91merror[0m[90m ts(2488): [0mType '{}' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m527[0m     for (const requestId of requestIds) {
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m498[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m498[0m       request.userId,
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m494[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m494[0m     await notifyRoleTransitionCancellation(request, userId, reason)
[7m   [0m [91m                                           ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m483[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m483[0m       roleTo: request.requestedRole,
[7m   [0m [91m                      ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m482[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentRole' does not exist on type '{}'.

[7m482[0m       roleFrom: request.currentRole,
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m480[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m480[0m       userId: request.userId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m474[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m474[0m     await removeUserPendingRequest(request.userId, requestId)
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m470[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m470[0m       Math.floor((request.expiresAt - Date.now()) / 1000),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m464[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'cancellationReason' does not exist on type '{}'.

[7m464[0m     request.cancellationReason = reason
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m463[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'cancelledAt' does not exist on type '{}'.

[7m463[0m     request.cancelledAt = Date.now()
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m462[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m462[0m     request.status = 'cancelled'
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m455[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m455[0m     if (request.status !== 'pending') {
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m448[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedBy' does not exist on type '{}'.

[7m448[0m     if (request.userId !== userId && request.requestedBy !== userId) {
[7m   [0m [91m                                             ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m448[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m448[0m     if (request.userId !== userId && request.requestedBy !== userId) {
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m389[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{}'.

[7m389[0m     userAuth.permissions = newPermissions
[7m   [0m [91m             ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m378[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'updatedAt' does not exist on type '{}'.

[7m378[0m     userAuth.updatedAt = Date.now()
[7m   [0m [91m             ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m377[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m377[0m     userAuth.role = request.requestedRole
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m376[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'role' does not exist on type '{}'.

[7m376[0m     const previousRole = userAuth.role
[7m   [0m [91m                                  ~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m352[0m:[93m7[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'decision'. Either declare one or provide an initializer.

[7m352[0m       decision,
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m351[0m:[93m7[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'requestId'. Either declare one or provide an initializer.

[7m351[0m       requestId,
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m349[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'approverId'.

[7m349[0m       userId: approverId,
[7m   [0m [91m              ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m346[0m:[93m5[0m - [91merror[0m[90m ts(2740): [0mType '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m346[0m     return request
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m342[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m342[0m       request.userId,
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m338[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m338[0m     await notifyRoleTransitionDecision(request, approverId, decision)
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m335[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m335[0m     await removeUserPendingRequest(request.userId, requestId)
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m331[0m:[93m35[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'RoleTransitionRequest'.
  Type '{}' is missing the following properties from type 'RoleTransitionRequest': id, userId, currentRole, requestedRole, and 7 more.

[7m331[0m       await executeRoleTransition(request, approverSession)
[7m   [0m [91m                                  ~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m319[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m319[0m       roleTo: request.requestedRole,
[7m   [0m [91m                      ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m318[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentRole' does not exist on type '{}'.

[7m318[0m       roleFrom: request.currentRole,
[7m   [0m [91m                        ~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m316[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type '{}'.

[7m316[0m       userId: request.userId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m309[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m309[0m       Math.floor((request.expiresAt - now) / 1000),
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m303[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'rejectionReason' does not exist on type '{}'.

[7m303[0m     request.rejectionReason = decision === 'reject' ? reason : undefined
[7m   [0m [91m            ~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m302[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'rejectedAt' does not exist on type '{}'.

[7m302[0m     request.rejectedAt = decision === 'reject' ? now : undefined
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m301[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'approvedAt' does not exist on type '{}'.

[7m301[0m     request.approvedAt = decision === 'approve' ? now : undefined
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m300[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'approvalReason' does not exist on type '{}'.

[7m300[0m     request.approvalReason = reason
[7m   [0m [91m            ~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m299[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'approverId' does not exist on type '{}'.

[7m299[0m     request.approverId = approverId
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m298[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m298[0m     request.status = decision === 'approve' ? 'approved' : 'rejected'
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m270[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'requestedRole' does not exist on type '{}'.

[7m270[0m     if (!canApproveRoleTransition(approverRole, request.requestedRole)) {
[7m   [0m [91m                                                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m264[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'expiresAt' does not exist on type '{}'.

[7m264[0m     if (Date.now() > request.expiresAt) {
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m257[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m257[0m     if (request.status !== 'pending') {
[7m   [0m [91m                ~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m18[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module './session-management' or its corresponding type declarations.

[7m18[0m import type { SessionData } from './session-management'
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/role-transitions.ts[0m:[93m17[0m:[93m59[0m - [91merror[0m[90m ts(2307): [0mCannot find module './two-factor-auth' or its corresponding type declarations.

[7m17[0m import { isTwoFactorRequired, verifyTwoFactorToken } from './two-factor-auth'
[7m  [0m [91m                                                          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/auth/session.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{} | null' is not assignable to type 'SessionData | null'.
  Type '{}' is missing the following properties from type 'SessionData': sessionId, userId, startTime, expiresAt, securityLevel

[7m11[0m   return await getStoredSession(sessionId)
[7m  [0m [91m  ~~~~~~[0m

[96msrc/lib/auth/sessionUtils.ts[0m:[93m9[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m9[0m     return session?.user || null;
[7m [0m [91m                    ~~~~[0m

[96msrc/lib/auth/types.ts[0m:[93m61[0m:[93m3[0m - [91merror[0m[90m ts(2687): [0mAll declarations of 'permissions' must have identical modifiers.

[7m61[0m   permissions: string[]
[7m  [0m [91m  ~~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/integration.test.ts[0m:[93m753[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'USER_UPDATED' does not exist on type '{ user_created: string; user_login_success: string; user_logout: string; token_refreshed: string; authentication_success: string; authentication_failed: string; authorization_failed: string; ... 4 more ...; mfa_required: string; }'.

[7m753[0m         mockSecurity.SecurityEventType.USER_UPDATED,
[7m   [0m [91m                                       ~~~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1070[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m1070[0m       vi.mocked(getUserById).mockResolvedValue(mockUser)
[7m    [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1037[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m1037[0m       vi.mocked(getUserById).mockResolvedValue(mockUser)
[7m    [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1017[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'ip' does not exist on type 'string | number | true'.
  Property 'ip' does not exist on type 'string'.

[7m1017[0m         expect(loggedData.clientInfo.ip).toBeUndefined()
[7m    [0m [91m                                     ~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1017[0m:[93m16[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m1017[0m         expect(loggedData.clientInfo.ip).toBeUndefined()
[7m    [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1016[0m:[93m11[0m - [91merror[0m[90m ts(18048): [0m'loggedData' is possibly 'undefined'.

[7m1016[0m       if (loggedData.clientInfo) {
[7m    [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m1009[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m1009[0m       vi.mocked(getUserById).mockResolvedValue(mockUser)
[7m    [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m982[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'patient' does not exist in type 'ReadableStream<any> | Blob | ArrayBuffer | ArrayBufferView<ArrayBuffer> | FormData | URLSearchParams'.

[7m982[0m         patient: { name: 'John Doe', condition: 'Anxiety' },
[7m   [0m [91m        ~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m969[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m969[0m       vi.mocked(getUserById).mockResolvedValue(mockUser)
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m889[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m889[0m       vi.mocked(getUserById).mockResolvedValue(mockUser)
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m853[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m853[0m       vi.mocked(getUserById).mockResolvedValue(null)
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m818[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getUserById'.

[7m818[0m       vi.mocked(getUserById).mockResolvedValue(mockUser)
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m18[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../services/auth0.service' or its corresponding type declarations.

[7m18[0m import { auth0UserService } from '../../services/auth0.service'
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m ts(2305): [0mModule '"../middleware"' has no exported member 'UserRole'.

[7m15[0m   type UserRole,
[7m  [0m [91m       ~~~~~~~~[0m
[96msrc/lib/auth/__tests__/middleware.test.ts[0m:[93m62[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'_mockResponse' is declared but its value is never read.

[7m62[0m   let _mockResponse: Response
[7m  [0m [93m      ~~~~~~~~~~~~~[0m

[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m708[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'canTransition' does not exist on type 'RoleTransition'.

[7m708[0m       expect(validation.canTransition).toBe(true)
[7m   [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m183[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'canTransition' does not exist on type 'RoleTransition'.

[7m183[0m       expect(transition.canTransition).toBe(true)
[7m   [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m29[0m:[93m44[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../two-factor-auth' or its corresponding type declarations.

[7m29[0m import type { TwoFactorVerification } from '../two-factor-auth'
[7m  [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m28[0m:[93m46[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../session-management' or its corresponding type declarations.

[7m28[0m import type { SessionData, DeviceInfo } from '../session-management'
[7m  [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m21[0m:[93m48[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../session-management' or its corresponding type declarations.

[7m21[0m import { createSession, validateSession } from '../session-management'
[7m  [0m [91m                                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/auth/__tests__/multi-role-auth.test.ts[0m:[93m20[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../two-factor-auth' or its corresponding type declarations.

[7m20[0m } from '../two-factor-auth'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/backup/verify.ts[0m:[93m356[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'BackupMetadata | null'.

[7m356[0m       return JSON.parse(data) as unknown
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m342[0m:[93m51[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m342[0m         if (!restored || (JSON.parse(restored) as unknown.id) !== userId) {
[7m   [0m [91m                                                  ~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m282[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'backup' is of type 'unknown'.

[7m282[0m       const testData = this.extractTestData(backup.data)
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m248[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m248[0m       const backup = JSON.parse(backupData.toString() as unknown)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m240[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'object'.

[7m240[0m       typeof data.environment === 'string'
[7m   [0m [91m                  ~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m240[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'data' is possibly 'null'.

[7m240[0m       typeof data.environment === 'string'
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m239[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'version' does not exist on type 'object'.

[7m239[0m       typeof data.version === 'string' &&
[7m   [0m [91m                  ~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m239[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'data' is possibly 'null'.

[7m239[0m       typeof data.version === 'string' &&
[7m   [0m [91m             ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m216[0m:[93m22[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(o: { [s: string]: unknown; } | ArrayLike<unknown>): [string, unknown][]', gave the following error.
    Argument of type 'object | null' is not assignable to parameter of type '{ [s: string]: unknown; } | ArrayLike<unknown>'.
      Type 'null' is not assignable to type '{ [s: string]: unknown; } | ArrayLike<unknown>'.
  Overload 2 of 2, '(o: {}): [string, any][]', gave the following error.
    Argument of type 'object | null' is not assignable to parameter of type '{}'.
      Type 'null' is not assignable to type '{}'.

[7m216[0m       Object.entries(data).every(
[7m   [0m [91m                     ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m203[0m:[93m34[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m203[0m       if (!this.verifyConfigData(data.config)) {
[7m   [0m [91m                                 ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m198[0m:[93m32[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m198[0m       if (!this.verifyFileData(data.files)) {
[7m   [0m [91m                               ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m193[0m:[93m33[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m193[0m       if (!this.verifyRedisData(data.redis)) {
[7m   [0m [91m                                ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m185[0m:[93m29[0m - [91merror[0m[90m ts(18046): [0m'data' is of type 'unknown'.

[7m185[0m         (section) => typeof data[section] === 'object',
[7m   [0m [91m                            ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m176[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type 'object'.

[7m176[0m       typeof backup.data === 'object'
[7m   [0m [91m                    ~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m176[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m176[0m       typeof backup.data === 'object'
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m175[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'environment' does not exist on type 'object'.

[7m175[0m       typeof backup.environment === 'string' &&
[7m   [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m175[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m175[0m       typeof backup.environment === 'string' &&
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m174[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'version' does not exist on type 'object'.

[7m174[0m       typeof backup.version === 'string' &&
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m174[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m174[0m       typeof backup.version === 'string' &&
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m173[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'object'.

[7m173[0m       typeof backup.timestamp === 'number' &&
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m173[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'backup' is possibly 'null'.

[7m173[0m       typeof backup.timestamp === 'number' &&
[7m   [0m [91m             ~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m114[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m114[0m       const backup = JSON.parse(data.toString() as unknown)
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m41[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m41[0m       backupDir: getEnv('BACKUP_DIR', './backups'),
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m257[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m257[0m         await this.verifyDataIntegrity(backup.data)
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/backup/verify.ts[0m:[93m33[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'redis' is declared but its value is never read.

[7m33[0m   private redis: RedisService
[7m  [0m [93m          ~~~~~[0m

[96msrc/lib/browser/setup.ts[0m:[93m65[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m65[0m     logger.error('Error setting up browser environment:', error)
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m63[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m63[0m     logger.info('Browser environment setup complete')
[7m  [0m [91m    ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m49[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m49[0m         logger.warn('Missing critical browser features:', missingCritical)
[7m  [0m [91m        ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m34[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m34[0m       logger.debug('Detected browser features:', features)
[7m  [0m [91m      ~~~~~~[0m
[96msrc/lib/browser/setup.ts[0m:[93m20[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m20[0m     logger.info('Setting up browser environment')
[7m  [0m [91m    ~~~~~~[0m

[96msrc/lib/business-strategy/index.ts[0m:[93m18[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module './services/workflow-engine' or its corresponding type declarations.

[7m18[0m export { WorkflowEngineService } from './services/workflow-engine'
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/index.ts[0m:[93m17[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module './services/user-management' or its corresponding type declarations.

[7m17[0m export { UserManagementService } from './services/user-management'
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/index.ts[0m:[93m16[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module './services/document-management' or its corresponding type declarations.

[7m16[0m export { DocumentManagementService } from './services/document-management'
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/index.ts[0m:[93m15[0m:[93m44[0m - [91merror[0m[90m ts(2307): [0mCannot find module './services/grassroots-marketing' or its corresponding type declarations.

[7m15[0m export { GrassrootsMarketingService } from './services/grassroots-marketing'
[7m  [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/index.ts[0m:[93m14[0m:[93m48[0m - [91merror[0m[90m ts(2307): [0mCannot find module './services/competitive-intelligence' or its corresponding type declarations.

[7m14[0m export { CompetitiveIntelligenceService } from './services/competitive-intelligence'
[7m  [0m [91m                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/index.ts[0m:[93m13[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module './services/market-research' or its corresponding type declarations.

[7m13[0m export { MarketResearchService } from './services/market-research'
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/index.ts[0m:[93m10[0m:[93m15[0m - [91merror[0m[90m ts(2307): [0mCannot find module './utils' or its corresponding type declarations.

[7m10[0m export * from './utils'
[7m  [0m [91m              ~~~~~~~~~[0m

[96msrc/lib/business-strategy/config/database.ts[0m:[93m15[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/database/redis' or its corresponding type declarations.

[7m15[0m import { getRedisClient } from '@/lib/database/redis'
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/config/database.ts[0m:[93m14[0m:[93m33[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/database/postgres' or its corresponding type declarations.

[7m14[0m import { getPostgresPool } from '@/lib/database/postgres'
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/config/database.ts[0m:[93m13[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/database/mongodb' or its corresponding type declarations.

[7m13[0m import { getMongoClient } from '@/lib/database/mongodb'
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/config/database.ts[0m:[93m9[0m:[93m27[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m9[0m import type { Pool } from 'pg'
[7m [0m [93m                          ~~~~[0m

[96msrc/lib/business-strategy/services/audit.ts[0m:[93m280[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m280[0m                 filter.timestamp.$lte = options.endDate
[7m   [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/audit.ts[0m:[93m277[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m277[0m                 filter.timestamp.$gte = options.startDate
[7m   [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/audit.ts[0m:[93m241[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m241[0m                 filter.timestamp.$lte = options.endDate
[7m   [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/audit.ts[0m:[93m238[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m238[0m                 filter.timestamp.$gte = options.startDate
[7m   [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/audit.ts[0m:[93m195[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m195[0m                 filter.timestamp.$lte = options.endDate
[7m   [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/audit.ts[0m:[93m192[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m192[0m                 filter.timestamp.$gte = options.startDate
[7m   [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/audit.ts[0m:[93m45[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType 'UserId | undefined' is not assignable to type 'UserId'.
  Type 'undefined' is not assignable to type 'UserId'.
    Type 'undefined' is not assignable to type 'string'.

[7m45[0m                 userId: event.userId,
[7m  [0m [91m                ~~~~~~[0m

[96msrc/lib/business-strategy/services/base-service.ts[0m:[93m86[0m:[93m17[0m - [91merror[0m[90m ts(2862): [0mType 'T' is generic and can only be indexed for reading.

[7m86[0m                 sanitized[key] = value
[7m  [0m [91m                ~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/base-service.ts[0m:[93m33[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: Date; userId?: UserId; action: string; entityType: string; entityId?: string; result: "success" | "failure" | "error"; details?: Record<string, unknown>; riskScore?: number; }' is not assignable to parameter of type 'AuditEventInput'.
  Property 'type' is missing in type '{ timestamp: Date; userId?: UserId; action: string; entityType: string; entityId?: string; result: "success" | "failure" | "error"; details?: Record<string, unknown>; riskScore?: number; }' but required in type 'AuditEventInput'.

[7m33[0m         await this.auditService.logEvent({
[7m  [0m [91m                                         ~[0m
[7m34[0m             ...params,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~[0m
[7m35[0m             timestamp: new Date(),
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m36[0m         })
[7m  [0m [91m~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/base-service.ts[0m:[93m46[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'conditions' is declared but its value is never read.

[7m46[0m         conditions?: Record<string, unknown>
[7m  [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/base-service.ts[0m:[93m45[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'action' is declared but its value is never read.

[7m45[0m         action: string,
[7m  [0m [93m        ~~~~~~[0m
[96msrc/lib/business-strategy/services/base-service.ts[0m:[93m44[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'resource' is declared but its value is never read.

[7m44[0m         resource: string,
[7m  [0m [93m        ~~~~~~~~[0m
[96msrc/lib/business-strategy/services/base-service.ts[0m:[93m43[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m43[0m         userId: UserId,
[7m  [0m [93m        ~~~~~~[0m

[96msrc/lib/business-strategy/services/index.ts[0m:[93m23[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module './factory' or its corresponding type declarations.

[7m23[0m export { ServiceFactory } from './factory'
[7m  [0m [91m                               ~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m20[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module './analytics' or its corresponding type declarations.

[7m20[0m export { AnalyticsService } from './analytics'
[7m  [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m19[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module './export' or its corresponding type declarations.

[7m19[0m export { ExportService } from './export'
[7m  [0m [91m                              ~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m18[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module './search' or its corresponding type declarations.

[7m18[0m export { SearchService } from './search'
[7m  [0m [91m                              ~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m17[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module './notification' or its corresponding type declarations.

[7m17[0m export { NotificationService } from './notification'
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m13[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module './workflow-engine' or its corresponding type declarations.

[7m13[0m export { WorkflowEngineService } from './workflow-engine'
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m12[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module './user-management' or its corresponding type declarations.

[7m12[0m export { UserManagementService } from './user-management'
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m11[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module './document-management' or its corresponding type declarations.

[7m11[0m export { DocumentManagementService } from './document-management'
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m10[0m:[93m44[0m - [91merror[0m[90m ts(2307): [0mCannot find module './grassroots-marketing' or its corresponding type declarations.

[7m10[0m export { GrassrootsMarketingService } from './grassroots-marketing'
[7m  [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m9[0m:[93m48[0m - [91merror[0m[90m ts(2307): [0mCannot find module './competitive-intelligence' or its corresponding type declarations.

[7m9[0m export { CompetitiveIntelligenceService } from './competitive-intelligence'
[7m [0m [91m                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/business-strategy/services/index.ts[0m:[93m8[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module './market-research' or its corresponding type declarations.

[7m8[0m export { MarketResearchService } from './market-research'
[7m [0m [91m                                      ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m242[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ tags: string[]; ttl: number; }' is not assignable to parameter of type 'InvalidationRule'.
  Property 'pattern' is missing in type '{ tags: string[]; ttl: number; }' but required in type 'InvalidationRule'.

[7m242[0m         await this.invalidation.set(key, value, rule)
[7m   [0m [91m                                                ~~~~[0m
[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m114[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'RedisCache' is not assignable to type 'Redis | RedisService'.
  Type 'RedisCache' is missing the following properties from type 'RedisService': getClient, subscribers, healthCheckInterval, validateConfig, and 46 more.

[7m114[0m     redis: this.cache,
[7m   [0m [91m    ~~~~~[0m
[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m12[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"advanced-cache"' has no properties in common with type 'LoggerOptions'.

[7m12[0m const logger = getLogger('advanced-cache')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/cache/advanced-cache-strategy.ts[0m:[93m9[0m:[93m16[0m - [91merror[0m[90m ts(2724): [0m'"zlib"' has no exported member named 'ungzip'. Did you mean 'unzip'?

[7m9[0m import { gzip, ungzip } from 'zlib'
[7m [0m [91m               ~~~~~~[0m

[96msrc/lib/cache/invalidation.ts[0m:[93m27[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Redis | null' is not assignable to type 'Redis'.
  Type 'null' is not assignable to type 'Redis'.

[7m27[0m     this.redis =
[7m  [0m [91m    ~~~~~~~~~~[0m

[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m265[0m:[93m11[0m - [91merror[0m[90m ts(2741): [0mProperty 'edited' is missing in type '{ id: string; sessionId: string; senderId: string; content: string; timestamp: Date; encrypted: boolean; readBy: string[]; }' but required in type 'SecureMessage'.

[7m265[0m     const message: SecureMessage = {
[7m   [0m [91m          ~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m99[0m:[93m11[0m - [91merror[0m[90m ts(2741): [0mProperty 'edited' is missing in type '{ id: string; sessionId: string; senderId: string; content: string; timestamp: Date; encrypted: false; readBy: any[]; }' but required in type 'SecureMessage'.

[7m99[0m     const welcomeMessage: SecureMessage = {
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m10[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/collaboration' or its corresponding type declarations.

[7m10[0m } from '@/types/collaboration'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m320[0m:[93m57[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'id' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m320[0m     session.participants = session.participants.filter((id) => id !== userId)
[7m   [0m [93m                                                        ~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m288[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_sessionKey' is declared but its value is never read.

[7m288[0m     const _sessionKey = await this.getSessionEncryptionKey(sessionId)
[7m   [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m256[0m:[93m71[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m256[0m     const messageId = `msg_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                      ~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m136[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m136[0m     const inviteId = `invite_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                        ~~~~~~[0m
[96msrc/lib/collaboration/collaborationManager.ts[0m:[93m78[0m:[93m74[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m78[0m     const sessionId = `collab_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m  [0m [93m                                                                         ~~~~~~[0m

[96msrc/lib/config/performance-config.ts[0m:[93m833[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"performance-config"' has no properties in common with type 'LoggerOptions'.

[7m833[0m const logger = getLogger('performance-config')
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/crypto/encryption.ts[0m:[93m133[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EncryptedData'.

[7m133[0m     const encrypted: EncryptedData = JSON.parse(encryptedString) as unknown
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/crypto/encryption.ts[0m:[93m85[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'EncryptedData'.

[7m85[0m       const encrypted: EncryptedData = JSON.parse(encryptedString) as unknown
[7m  [0m [91m            ~~~~~~~~~[0m
[96msrc/lib/crypto/encryption.ts[0m:[93m102[0m:[93m45[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedBuffer.slice' is deprecated.

[7m102[0m       const encryptedData = encryptedBuffer.slice(
[7m   [0m [93m                                            ~~~~~[0m
[96msrc/lib/crypto/encryption.ts[0m:[93m101[0m:[93m39[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedBuffer.slice' is deprecated.

[7m101[0m       const authTag = encryptedBuffer.slice(encryptedBuffer.length - 16)
[7m   [0m [93m                                      ~~~~~[0m

[96msrc/lib/crypto/example.ts[0m:[93m138[0m:[93m25[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m138[0m     const redecrypted = await crypto.decrypt(reencrypted, 'patient-data')
[7m   [0m [93m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m133[0m:[93m25[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m133[0m     const reencrypted = await crypto.encrypt(decrypted, 'patient-data')
[7m   [0m [93m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m132[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m132[0m     const decrypted = await crypto.decrypt(encrypted, 'patient-data')
[7m   [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m111[0m:[93m21[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m111[0m   const encrypted = await crypto.encrypt(sensitiveData, 'patient-data')
[7m   [0m [93m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m30[0m:[93m21[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m30[0m   const decrypted = await crypto.decrypt(encrypted, 'patient-data')
[7m  [0m [93m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/crypto/example.ts[0m:[93m25[0m:[93m21[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m25[0m   const encrypted = await crypto.encrypt(sensitiveData, 'patient-data')
[7m  [0m [93m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m745[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m745[0m       await logSecurityEvent(SecurityEventType.RECURRING_EXPORT_SCHEDULE_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m746[0m         scheduledBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m749[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m750[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m730[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m730[0m       await logSecurityEvent(SecurityEventType.RECURRING_EXPORT_SCHEDULED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m731[0m         scheduledBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m734[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m735[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m568[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m568[0m       await logSecurityEvent(SecurityEventType.BULK_IMPORT_JOB_STATUS_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m569[0m         jobId: jobId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m572[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m573[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m545[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m545[0m       await logSecurityEvent(SecurityEventType.BULK_IMPORT_JOB_STATUS_CHECK, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m546[0m         jobId: jobId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m548[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m549[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m521[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m521[0m       await logSecurityEvent(SecurityEventType.BULK_EXPORT_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m522[0m         exportedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m525[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m526[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m500[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m500[0m       await logSecurityEvent(SecurityEventType.BULK_EXPORT_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m501[0m         exportedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m505[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m506[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m385[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m385[0m       await logSecurityEvent(SecurityEventType.BULK_EXPORT_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m386[0m         exportedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m389[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m390[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m364[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m364[0m       await logSecurityEvent(SecurityEventType.BULK_EXPORT_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m365[0m         exportedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m369[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m370[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m286[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m286[0m       await logSecurityEvent(SecurityEventType.BULK_IMPORT_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m287[0m         importedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m289[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m290[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m241[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m241[0m       await logSecurityEvent(SecurityEventType.BULK_IMPORT_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m242[0m         importedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m244[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m245[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m225[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m225[0m       await logSecurityEvent(SecurityEventType.BULK_IMPORT_COMPLETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m226[0m         importedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m230[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m231[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m208[0m:[93m13[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m208[0m             await logSecurityEvent(SecurityEventType.USER_BULK_IMPORT_ERROR, {
[7m   [0m [93m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m209[0m               importedBy: initiatedBy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m213[0m               timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m214[0m             })
[7m   [0m [93m~~~~~~~~~~~~~~[0m
[96msrc/lib/data/auth0-bulk-import-export-service.ts[0m:[93m192[0m:[93m13[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m192[0m             await logSecurityEvent(SecurityEventType.USER_BULK_IMPORT_SUCCESS, {
[7m   [0m [93m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m193[0m               auth0UserId: auth0User.user_id,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m197[0m               timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m198[0m             })
[7m   [0m [93m~~~~~~~~~~~~~~[0m

[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m568[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m568[0m       await logSecurityEvent(SecurityEventType.USER_RETENTION_EXTENSION_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m569[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m573[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m574[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m552[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m552[0m       await logSecurityEvent(SecurityEventType.USER_RETENTION_EXTENDED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m553[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m557[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m558[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m468[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m468[0m     await logSecurityEvent(SecurityEventType.DATA_RETENTION_POLICY_UPDATED, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m469[0m       updatedPolicy: this.defaultPolicy,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m470[0m       timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m471[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m447[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m447[0m       await logSecurityEvent(SecurityEventType.USER_PURGE_NOTIFICATION_SENT, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m448[0m         userId: userRecord.auth0UserId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m451[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m452[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m419[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m419[0m       await logSecurityEvent(SecurityEventType.USER_PURGE_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m420[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m422[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m423[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m404[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m404[0m       await logSecurityEvent(SecurityEventType.USER_PURGED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m405[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m408[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m409[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m278[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m278[0m       await logSecurityEvent(SecurityEventType.USER_RESTORE_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m279[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m282[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m283[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m264[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m264[0m       await logSecurityEvent(SecurityEventType.USER_RESTORED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m265[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m267[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m268[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m214[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m214[0m       await logSecurityEvent(SecurityEventType.USER_SOFT_DELETE_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m215[0m         userId: deleteRequest.userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m219[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m220[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/data/auth0-soft-delete-service.ts[0m:[93m197[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m197[0m       await logSecurityEvent(SecurityEventType.USER_SOFT_DELETED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m198[0m         userId: deleteRequest.userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m203[0m         timestamp: now.toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m204[0m       })
[7m   [0m [93m~~~~~~~~[0m

[96msrc/lib/database/connection.ts[0m:[93m4[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mongoose' or its corresponding type declarations.

[7m4[0m import mongoose from 'mongoose'
[7m [0m [91m                     ~~~~~~~~~~[0m
[96msrc/lib/database/connection.ts[0m:[93m89[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m89[0m         postgresPool.on('error', (err) => {
[7m  [0m [93m                                  ~~~[0m
[96msrc/lib/database/connection.ts[0m:[93m45[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m45[0m         mongoose.connection.on('error', (err) => {
[7m  [0m [93m                                         ~~~[0m
[96msrc/lib/database/connection.ts[0m:[93m5[0m:[93m30[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m5[0m import { Pool, Client } from 'pg'
[7m [0m [93m                             ~~~~[0m

[96msrc/lib/database/indexingStrategy.ts[0m:[93m274[0m:[93m11[0m - [91merror[0m[90m ts(2783): [0m'table' is specified more than once, so this usage will be overwritten.

[7m274[0m           table: pattern.tables[0], // Assume first table for now
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/database/indexingStrategy.ts[0m:[93m47[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'indexHistory' is declared but its value is never read.

[7m47[0m   private indexHistory = new Map<
[7m  [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/database/indexingStrategy.ts[0m:[93m45[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'config' is declared but its value is never read.

[7m45[0m   private config: DatabaseConfig
[7m  [0m [93m          ~~~~~~[0m

[96msrc/lib/database/mongodb/schemas.ts[0m:[93m4[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mongoose' or its corresponding type declarations.

[7m4[0m import mongoose from 'mongoose'
[7m [0m [91m                     ~~~~~~~~~~[0m

[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m152[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'database' does not exist on type 'OptimizedPoolConfig'.

[7m152[0m         database: this.config.database || 'pixelated',
[7m   [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m151[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'host' does not exist on type 'OptimizedPoolConfig'.

[7m151[0m         host: this.config.host || 'localhost',
[7m   [0m [91m                          ~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m12[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"connection-pool"' has no properties in common with type 'LoggerOptions'.

[7m12[0m const logger = getLogger('connection-pool')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m141[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m141[0m       this.pool.on('error', (error, client) => {
[7m   [0m [93m                                    ~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m141[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'error' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m141[0m       this.pool.on('error', (error, client) => {
[7m   [0m [93m                             ~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m131[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m131[0m       this.pool.on('remove', (client) => {
[7m   [0m [93m                              ~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m124[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'client' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m124[0m       this.pool.on('connect', (client) => {
[7m   [0m [93m                               ~~~~~~[0m
[96msrc/lib/db/connection-pool-optimizer.ts[0m:[93m6[0m:[93m46[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { Pool, PoolClient, PoolConfig } from 'pg'
[7m [0m [93m                                             ~~~~[0m

[96msrc/lib/db/conversations.ts[0m:[93m148[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'user_id' is missing in type 'WithId<Document>' but required in type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }'.

[7m148[0m   return conversations as Conversation[]
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m126[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m126[0m   await createAuditLog({
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m119[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m119[0m     .deleteOne({ _id: id, user_id: userId })
[7m   [0m [91m                 ~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m106[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'user_id' is missing in type 'WithId<Document>' but required in type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }'.

[7m106[0m   return result.value as Conversation
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m94[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m94[0m   await createAuditLog({
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m84[0m:[93m9[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 2 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 3 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions): Promise<...>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m84[0m       { _id: id, user_id: userId },
[7m  [0m [91m        ~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m69[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ _id: ObjectId; user_id: string; title?: string; last_message_at?: string; created_at?: string; updated_at?: string; }' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property '_id' are incompatible.
    Type 'ObjectId' is not comparable to type 'string'.

[7m69[0m   return newConversation as Conversation
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m57[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m57[0m   await createAuditLog({
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m49[0m:[93m16[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ _id?: string | undefined; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' is not assignable to parameter of type 'OptionalId<Document>'.
  Type '{ _id?: string | undefined; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }' is not assignable to type '{ _id?: ObjectId | undefined; }'.
    Types of property '_id' are incompatible.
      Type 'string | undefined' is not assignable to type 'ObjectId | undefined'.
        Type 'string' is not assignable to type 'ObjectId'.

[7m49[0m     .insertOne(conversation)
[7m  [0m [91m               ~~~~~~~~~~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m35[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m35[0m     .findOne({ _id: id, user_id: userId })
[7m  [0m [91m               ~~~[0m
[96msrc/lib/db/conversations.ts[0m:[93m23[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'user_id' is missing in type 'WithId<Document>' but required in type '{ _id: string; user_id: string; title?: string | undefined; last_message_at?: string | undefined; created_at?: string | undefined; updated_at?: string | undefined; }'.

[7m23[0m   return conversations as Conversation[]
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/db/index.ts[0m:[93m483[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'recommendations' does not exist on type '{ sessionId: string; therapistId: string; overallBiasScore: number; alertLevel: string; confidence: number; layerResults: Record<string, unknown>; detectedBiases: string[]; demographics: Record<...>; contentHash: string; processingTimeMs: number; }'.

[7m483[0m         analysisData.recommendations,
[7m   [0m [91m                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/index.ts[0m:[93m352[0m:[93m21[0m - [91merror[0m[90m ts(2551): [0mProperty 'yearsExperience' does not exist on type '{ bio?: string | undefined; specializations?: string[] | undefined; years_experience?: number | undefined; certifications?: string[] | undefined; languages?: string[] | undefined; timezone?: string | undefined; }'. Did you mean 'years_experience'?

[7m352[0m         profileData.yearsExperience,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/index.ts[0m:[93m230[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m230[0m     return result.rows.map((row) => row.name)
[7m   [0m [93m                            ~~~[0m
[96msrc/lib/db/index.ts[0m:[93m6[0m:[93m47[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { Pool, PoolClient, QueryResult } from 'pg'
[7m [0m [93m                                              ~~~~[0m

[96msrc/lib/db/messages.ts[0m:[93m147[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'is_flagged' does not exist in type 'Partial<{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }>'.

[7m147[0m     is_flagged: true,
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m133[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>' to type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }': conversation_id, role, content

[7m133[0m   return result.value as Message
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m120[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m120[0m   await createAuditLog({
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m110[0m:[93m9[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 2 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions & { ...; }): Promise<...>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 3 of 4, '(filter: Filter<Document>, update: Document[] | UpdateFilter<Document>, options: FindOneAndUpdateOptions): Promise<...>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m110[0m       { _id: id, conversation_id: conversationId },
[7m   [0m [91m        ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m100[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m100[0m     .findOne({ _id: conversationId, user_id: userId })
[7m   [0m [91m               ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m84[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ _id: ObjectId; conversation_id: string; role: string; content: string; created_at?: string; }' to type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property '_id' are incompatible.
    Type 'ObjectId' is not comparable to type 'string'.

[7m84[0m   return newMessage as Message
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m71[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m71[0m   await createAuditLog({
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m58[0m:[93m72[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ _id?: string | undefined; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' is not assignable to parameter of type 'OptionalId<Document>'.
  Type '{ _id?: string | undefined; conversation_id: string; role: string; content: string; created_at?: string | undefined; }' is not assignable to type '{ _id?: ObjectId | undefined; }'.
    Types of property '_id' are incompatible.
      Type 'string | undefined' is not assignable to type 'ObjectId | undefined'.
        Type 'string' is not assignable to type 'ObjectId'.

[7m58[0m   const result = await mongoClient.db.collection('messages').insertOne(message)
[7m  [0m [91m                                                                       ~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m51[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m51[0m     .findOne({ _id: message.conversation_id, user_id: userId })
[7m  [0m [91m               ~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m37[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }': conversation_id, role, content

[7m37[0m   return messages as Message[]
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/messages.ts[0m:[93m22[0m:[93m16[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 6, '(filter: Filter<Document>): Promise<WithId<Document> | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 2 of 6, '(filter: Filter<Document>): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.
  Overload 3 of 6, '(filter: Filter<Document>, options?: (Omit<FindOneOptions, "timeoutMode"> & Abortable) | undefined): Promise<Document | null>', gave the following error.
    Type 'string' is not assignable to type 'Condition<ObjectId> | undefined'.

[7m22[0m     .findOne({ _id: conversationId, user_id: userId })
[7m  [0m [91m               ~~~[0m

[96msrc/lib/db/optimized-queries.ts[0m:[93m620[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'string'.

[7m620[0m       (sum, table) => sum + parseInt(table.rows),
[7m   [0m [91m                                     ~~~~~~~~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m10[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"optimized-queries"' has no properties in common with type 'LoggerOptions'.

[7m10[0m const logger = getLogger('optimized-queries')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m374[0m:[93m19[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m374[0m             (sum, day) => sum + parseFloat(day.avg_score),
[7m   [0m [93m                  ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m374[0m:[93m14[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m374[0m             (sum, day) => sum + parseFloat(day.avg_score),
[7m   [0m [93m             ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m370[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m370[0m           recentWeek.reduce((sum, day) => sum + parseFloat(day.avg_score), 0) /
[7m   [0m [93m                                  ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m370[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m370[0m           recentWeek.reduce((sum, day) => sum + parseFloat(day.avg_score), 0) /
[7m   [0m [93m                             ~~~[0m
[96msrc/lib/db/optimized-queries.ts[0m:[93m6[0m:[93m41[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { PoolClient, QueryResult } from 'pg'
[7m [0m [93m                                        ~~~~[0m

[96msrc/lib/db/pool-events.ts[0m:[93m12[0m:[93m15[0m - [91merror[0m[90m ts(2459): [0mModule '"./connection-pool-optimizer"' declares 'PoolMetrics' locally, but it is not exported.

[7m12[0m import type { PoolMetrics } from './connection-pool-optimizer'
[7m  [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/db/pool-events.ts[0m:[93m11[0m:[93m33[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m11[0m import type { PoolClient } from 'pg'
[7m  [0m [93m                                ~~~~[0m

[96msrc/lib/db/ai/repository.ts[0m:[93m624[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'ObjectId' is of type 'unknown'.

[7m624[0m       query = { _id: new ObjectId(techniqueId) }
[7m   [0m [91m                         ~~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m556[0m:[93m27[0m - [91merror[0m[90m ts(2749): [0m'ObjectId' refers to a value, but is being used as a type here. Did you mean 'typeof ObjectId'?

[7m556[0m       .filter(Boolean) as ObjectId[]
[7m   [0m [91m                          ~~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m550[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'ObjectId' is of type 'unknown'.

[7m550[0m           return new ObjectId(id)
[7m   [0m [91m                     ~~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m235[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type '{}'.

[7m235[0m       return mongodb.getDb()
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m234[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'connect' does not exist on type '{}'.

[7m234[0m       await mongodb.connect()
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m231[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type '{}'.

[7m231[0m       return mongodb.getDb()
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m1092[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1092[0m     return results.map((doc) => ({
[7m    [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m967[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m967[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m886[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m886[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m810[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m810[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m717[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m717[0m         pastTechniques: techniqueHistory.map((doc) => ({
[7m   [0m [93m                                              ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m690[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m690[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m674[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m674[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m656[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m656[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m583[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m583[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m563[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m563[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m529[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m529[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m485[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m485[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m460[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m460[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m439[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m417[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m417[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m394[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m394[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m371[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m371[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m
[96msrc/lib/db/ai/repository.ts[0m:[93m348[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m348[0m     return results.map((doc) => ({
[7m   [0m [93m                        ~~~[0m

[96msrc/lib/db/ai/types.ts[0m:[93m2[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../../auth/index"' has no exported member 'User'.

[7m2[0m import type { User } from '../../auth/index'
[7m [0m [91m              ~~~~[0m

[96msrc/lib/db/migrations/20250320_add_ai_performance_metrics.ts[0m:[93m35[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'TemplateStringsArray' is not assignable to parameter of type 'string'.

[7m35[0m   await sql.unsafe`
[7m  [0m [91m                  ~[0m
[7m36[0m     DROP TABLE IF EXISTS ai_performance_metrics;
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m37[0m   `
[7m  [0m [91m~~~[0m
[96msrc/lib/db/migrations/20250320_add_ai_performance_metrics.ts[0m:[93m7[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'TemplateStringsArray' is not assignable to parameter of type 'string'.

[7m  7[0m   await sql.unsafe`
[7m   [0m [91m                  ~[0m
[7m  8[0m     CREATE TABLE IF NOT EXISTS ai_performance_metrics (
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 28[0m     CREATE INDEX IF NOT EXISTS idx_ai_perf_success ON ai_performance_metrics(success);
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 29[0m   `
[7m   [0m [91m~~~[0m

[96msrc/lib/db/security/initialize.ts[0m:[93m37[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 3-5 arguments, but got 1.

[7m37[0m     await createAuditLog({
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/db/security/initialize.ts[0m:[93m19[0m:[93m11[0m - [91merror[0m[90m ts(2554): [0mExpected 3-5 arguments, but got 1.

[7m19[0m     await createAuditLog({
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/productionManager.ts[0m:[93m6[0m:[93m53[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/deployment' or its corresponding type declarations.

[7m6[0m import type { DeploymentConfig, RollbackPlan } from '@/types/deployment'
[7m [0m [91m                                                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m711[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'env' is declared but its value is never read.

[7m711[0m     this.environments.forEach((env, name) => {
[7m   [0m [93m                               ~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m389[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m389[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m360[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'environment' is declared but its value is never read.

[7m360[0m     environment: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m169[0m:[93m77[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m169[0m     const deploymentId = `deploy_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                            ~~~~~~[0m
[96msrc/lib/deployment/productionManager.ts[0m:[93m64[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'healthChecks' is declared but its value is never read.

[7m64[0m   private healthChecks = new Map<string, DeploymentHealth>()
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m62[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m                                                             ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m40[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m25[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1526[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1526[0m export { FailoverState, FailoverEvent, CircuitBreakerConfig, RegionMetrics }
[7m    [0m [91m         ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1216[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m1216[0m       const queueUrl = this.config.getFailoverConfig().sqsQueueUrl
[7m    [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1196[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m1196[0m       const topicArn = this.config.getFailoverConfig().snsTopicArn
[7m    [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1145[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEnvironment' does not exist on type 'ConfigurationManager'.

[7m1145[0m             { Name: 'Environment', Value: this.config.getEnvironment() },
[7m    [0m [91m                                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1136[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'getEnvironment' does not exist on type 'ConfigurationManager'.

[7m1136[0m             { Name: 'Environment', Value: this.config.getEnvironment() },
[7m    [0m [91m                                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1064[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m1064[0m         const health = await this.healthMonitor.getRegionHealth(region)
[7m    [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m734[0m:[93m34[0m - [91merror[0m[90m ts(2551): [0mProperty 'getDNSConfig' does not exist on type 'ConfigurationManager'. Did you mean 'getConfig'?

[7m734[0m       const config = this.config.getDNSConfig()
[7m   [0m [91m                                 ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m710[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m710[0m       const maxLag = this.config.getFailoverConfig().maxDataSyncLag
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m578[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m578[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m573[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m573[0m         error.message,
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m567[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m567[0m       this.failoverState.reason = `Failover failed: ${error.message}`
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m435[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m435[0m         const maxLag = this.config.getFailoverConfig().maxDataSyncLag
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m425[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m425[0m         const health = await this.healthMonitor.getRegionHealth(region)
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m371[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m371[0m       const config = this.config.getFailoverConfig()
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m337[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m337[0m       const primaryHealth = await this.healthMonitor.getRegionHealth(
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m318[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m318[0m     const config = this.config.getFailoverConfig()
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m287[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegionHealth' does not exist on type 'HealthMonitor'.

[7m287[0m         const health = await this.healthMonitor.getRegionHealth(region)
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m273[0m:[93m40[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m273[0m       return { healthy: false, reason: error.message }
[7m   [0m [91m                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m227[0m:[93m44[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m227[0m         message: `Readiness check error: ${error.message}`,
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m176[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m176[0m           message: `Data sync lag check failed: ${error.message}`,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m160[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getFailoverConfig' does not exist on type 'ConfigurationManager'.

[7m160[0m         const threshold = this.config.getFailoverConfig().maxDataSyncLag
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m157[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m157[0m     this.healthMonitor.registerCheck('data-sync-lag', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m152[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m152[0m           message: `Failover readiness check failed: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m142[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m142[0m     this.healthMonitor.registerCheck('failover-readiness', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m71[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getBackupRegions' does not exist on type 'ConfigurationManager'.

[7m71[0m     this.backupRegions = config.getBackupRegions()
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m70[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m70[0m     this.currentPrimaryRegion = config.getPrimaryRegion()
[7m  [0m [91m                                       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m63[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m63[0m       primaryRegion: config.getPrimaryRegion(),
[7m  [0m [91m                            ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m58[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m58[0m       region: config.getPrimaryRegion(),
[7m  [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m55[0m:[93m59[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m55[0m     this.lambdaClient = new LambdaClient({ region: config.getPrimaryRegion() })
[7m  [0m [91m                                                          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m54[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m54[0m     this.sqsClient = new SQSClient({ region: config.getPrimaryRegion() })
[7m  [0m [91m                                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m53[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPrimaryRegion' does not exist on type 'ConfigurationManager'.

[7m53[0m     this.snsClient = new SNSClient({ region: config.getPrimaryRegion() })
[7m  [0m [91m                                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m50[0m:[93m30[0m - [91merror[0m[90m ts(2559): [0mType '"AutomatedFailoverOrchestrator"' has no properties in common with type 'Partial<LoggerOptions>'.

[7m50[0m     this.logger = new Logger('AutomatedFailoverOrchestrator')
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m16[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-cloudwatch' or its corresponding type declarations.

[7m16[0m } from '@aws-sdk/client-cloudwatch'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m12[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-route-53' or its corresponding type declarations.

[7m12[0m } from '@aws-sdk/client-route-53'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m8[0m:[93m45[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-lambda' or its corresponding type declarations.

[7m8[0m import { LambdaClient, InvokeCommand } from '@aws-sdk/client-lambda'
[7m [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m7[0m:[93m47[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-sqs' or its corresponding type declarations.

[7m7[0m import { SQSClient, SendMessageCommand } from '@aws-sdk/client-sqs'
[7m [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m6[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@aws-sdk/client-sns' or its corresponding type declarations.

[7m6[0m import { SNSClient, PublishCommand } from '@aws-sdk/client-sns'
[7m [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m1416[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'monitoringPeriod' is declared but its value is never read.

[7m1416[0m   private monitoringPeriod: number
[7m    [0m [93m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/AutomatedFailoverOrchestrator.ts[0m:[93m32[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isActive' is declared but its value is never read.

[7m32[0m   private isActive = false
[7m  [0m [93m          ~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m12[0m:[93m24[0m - [91merror[0m[90m ts(2614): [0mModule '"@google-cloud/compute"' has no exported member 'Storage'. Did you mean to use 'import Storage from "@google-cloud/compute"' instead?

[7m12[0m import { Compute, DNS, Storage } from '@google-cloud/compute'
[7m  [0m [91m                       ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m12[0m:[93m19[0m - [91merror[0m[90m ts(2614): [0mModule '"@google-cloud/compute"' has no exported member 'DNS'. Did you mean to use 'import DNS from "@google-cloud/compute"' instead?

[7m12[0m import { Compute, DNS, Storage } from '@google-cloud/compute'
[7m  [0m [91m                  ~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m12[0m:[93m10[0m - [91merror[0m[90m ts(2614): [0mModule '"@google-cloud/compute"' has no exported member 'Compute'. Did you mean to use 'import Compute from "@google-cloud/compute"' instead?

[7m12[0m import { Compute, DNS, Storage } from '@google-cloud/compute'
[7m  [0m [91m         ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CloudProviderManager.ts[0m:[93m679[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'getGCPRegionName' is declared but its value is never read.

[7m679[0m   private getGCPRegionName(location: string): string {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m428[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'escalationRules' is missing in type '{ enabled: true; channels: string[]; severityLevels: string[]; }' but required in type '{ enabled: boolean; channels: string[]; severityLevels: string[]; escalationRules: Record<string, unknown>; }'.

[7m428[0m             alerting: {
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m399[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ regions: { capacity: { minInstances: number; maxInstances: number; desiredInstances: number; }; id: string; name: string; provider: "aws" | "gcp" | "azure"; location: string; availabilityZones: string[]; priority: number; complianceRequirements: string[]; networking: { ...; }; }[]; }' is missing the following properties from type 'DeploymentConfig': globalServices, edgeComputing, dataSync, failover

[7m399[0m           deployment: {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m385[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'escalationRules' is missing in type '{ enabled: true; channels: string[]; severityLevels: string[]; }' but required in type '{ enabled: boolean; channels: string[]; severityLevels: string[]; escalationRules: Record<string, unknown>; }'.

[7m385[0m             alerting: {
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m359[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ regions: { capacity: { minInstances: number; maxInstances: number; desiredInstances: number; }; id: string; name: string; provider: "aws" | "gcp" | "azure"; location: string; availabilityZones: string[]; priority: number; complianceRequirements: string[]; networking: { ...; }; }[]; }' is missing the following properties from type 'DeploymentConfig': globalServices, edgeComputing, dataSync, failover

[7m359[0m           deployment: {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m349[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'escalationRules' is missing in type '{ enabled: false; channels: never[]; severityLevels: never[]; }' but required in type '{ enabled: boolean; channels: string[]; severityLevels: string[]; escalationRules: Record<string, unknown>; }'.

[7m349[0m             alerting: { enabled: false, channels: [], severityLevels: [] },
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m323[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ regions: { capacity: { minInstances: number; maxInstances: number; desiredInstances: number; }; id: string; name: string; provider: "aws" | "gcp" | "azure"; location: string; availabilityZones: string[]; priority: number; complianceRequirements: string[]; networking: { ...; }; }[]; }' is missing the following properties from type 'DeploymentConfig': globalServices, edgeComputing, dataSync, failover

[7m323[0m           deployment: {
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m207[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m207[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/ConfigurationManager.ts[0m:[93m170[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m170[0m   private isInitialized = false
[7m   [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1376[0m:[93m22[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1376[0m export { SyncStatus, DataDistribution }
[7m    [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1376[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1376[0m export { SyncStatus, DataDistribution }
[7m    [0m [91m         ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1113[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: any; user_id: any; region: any; event_type: any; event_data: string; session_id: any; ip_address: any; user_agent: any; }' is not assignable to parameter of type 'never'.

[7m1113[0m           analytics.push({
[7m    [0m [91m                         ~[0m
[7m1114[0m             timestamp: analytic.timestamp || new Date(),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1121[0m             user_agent: analytic.userAgent || '',
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1122[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1094[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m1094[0m       const regions = this.config.getRegions()
[7m    [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1063[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: Date; region: any; metric_name: string; metric_value: number; tags: string; }' is not assignable to parameter of type 'never'.

[7m1063[0m           metrics.push({
[7m    [0m [91m                       ~[0m
[7m1064[0m             timestamp: new Date(),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1068[0m             tags: JSON.stringify({ source: 'redis' }),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1069[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1052[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m1052[0m       const regions = this.config.getRegions()
[7m    [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m1002[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1002[0m             [error.message, log.id],
[7m    [0m [91m             ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m835[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m835[0m               error.message,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m832[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m832[0m               conversation._id,
[7m   [0m [91m              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m820[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m820[0m               conversation._id,
[7m   [0m [91m              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m797[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m797[0m                   message._id,
[7m   [0m [91m                  ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m759[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m759[0m       const regions = this.config.getRegions()
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m715[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m715[0m               error.message,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m712[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m712[0m               session._id,
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m700[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m700[0m               session._id,
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m668[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m668[0m       const regions = this.config.getRegions()
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m622[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m622[0m               error.message,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m619[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m619[0m               user._id,
[7m   [0m [91m              ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m610[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ObjectId' is not assignable to parameter of type 'string'.

[7m610[0m             await this.logSync('users', 'sync', user._id, region, 'completed')
[7m   [0m [91m                                                ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m568[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'getSyncConfig' does not exist on type 'ConfigurationManager'. Did you mean 'getConfig'?

[7m568[0m       const syncConfig = this.config.getSyncConfig()
[7m   [0m [91m                                     ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m567[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m567[0m       const regions = this.config.getRegions()
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m530[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m530[0m           message: `Redis health check error: ${error.message}`,
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m512[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m512[0m                 message: `Redis error: ${error.message}`,
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m488[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m488[0m     this.healthMonitor.registerCheck('redis', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m483[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m483[0m           message: `MongoDB health check error: ${error.message}`,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m465[0m:[93m44[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m465[0m                 message: `MongoDB error: ${error.message}`,
[7m   [0m [91m                                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m441[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m441[0m     this.healthMonitor.registerCheck('mongodb', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m436[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m436[0m           message: `CockroachDB error: ${error.message}`,
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m423[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m423[0m     this.healthMonitor.registerCheck('cockroachdb', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m393[0m:[93m36[0m - [91merror[0m[90m ts(2551): [0mProperty 'getSyncConfig' does not exist on type 'ConfigurationManager'. Did you mean 'getConfig'?

[7m393[0m     const syncConfig = this.config.getSyncConfig()
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m308[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'getClickHouseConfig' does not exist on type 'ConfigurationManager'.

[7m308[0m       const clickhouseConfig = this.config.getClickHouseConfig()
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m278[0m:[93m28[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 8, '(options: RedisOptions): Redis', gave the following error.
    Object literal may only specify known properties, and 'retryDelayOnFailover' does not exist in type 'RedisOptions'.
  Overload 2 of 8, '(port: number): Redis', gave the following error.
    Argument of type '{ host: any; port: any; password: any; db: any; maxRetriesPerRequest: number; retryDelayOnFailover: number; enableReadyCheck: boolean; maxmemoryPolicy: string; }' is not assignable to parameter of type 'number'.
  Overload 3 of 8, '(path: string): Redis', gave the following error.
    Argument of type '{ host: any; port: any; password: any; db: any; maxRetriesPerRequest: number; retryDelayOnFailover: number; enableReadyCheck: boolean; maxmemoryPolicy: string; }' is not assignable to parameter of type 'string'.

[7m278[0m         const client = new Redis({
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m276[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRedisConfig' does not exist on type 'ConfigurationManager'.

[7m276[0m         const redisConfig = this.config.getRedisConfig(region)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m272[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m272[0m     const regions = this.config.getRegions()
[7m   [0m [91m                                ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m246[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'getMongoDBConfig' does not exist on type 'ConfigurationManager'.

[7m246[0m         const mongoConfig = this.config.getMongoDBConfig(region)
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m242[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m242[0m     const regions = this.config.getRegions()
[7m   [0m [91m                                ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m76[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'getCockroachDBConfig' does not exist on type 'ConfigurationManager'.

[7m76[0m       const cockroachConfig = this.config.getCockroachDBConfig()
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m31[0m:[93m30[0m - [91merror[0m[90m ts(2559): [0mType '"CrossRegionDataSyncManager"' has no properties in common with type 'Partial<LoggerOptions>'.

[7m31[0m     this.logger = new Logger('CrossRegionDataSyncManager')
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m8[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'cockroach' or its corresponding type declarations.

[7m8[0m import * as cockroach from 'cockroach'
[7m [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m5[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@clickhouse/client' or its corresponding type declarations.

[7m5[0m import { createClient } from '@clickhouse/client'
[7m [0m [91m                             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m431[0m:[93m15[0m - [93mwarning[0m[90m ts(6133): [0m'_result' is declared but its value is never read.

[7m431[0m         const _result = await this.cockroachClient.query('SELECT 1')
[7m   [0m [93m              ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/CrossRegionDataSyncManager.ts[0m:[93m24[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m24[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m1045[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1045[0m       return { success: false, error: error.message }
[7m    [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m1023[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1023[0m       return { success: false, error: error.message }
[7m    [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m997[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m997[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m991[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m991[0m             `Throughput ${throughput.toFixed(0)} below minimum ${minThroughput}`,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m986[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m986[0m             `Response time ${responseTime.toFixed(0)}ms exceeds maximum ${maxResponseTime}ms`,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m954[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m954[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m924[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m924[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m895[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m895[0m       return { success: false, errors: [error.message] }
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m872[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m872[0m           validationResults.push(`âœ— ${validationStep.name}: ${error.message}`)
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m799[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m799[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m534[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m534[0m         errors: [error.message],
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m373[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m373[0m       this.emit('deployment-failed', { planId, error: error.message })
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m365[0m:[93m31[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m365[0m         execution.errors.push(error.message)
[7m   [0m [91m                              ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m310[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'on' does not exist on type 'CloudProviderManager'.

[7m310[0m     this.cloudProviderManager.on('deployment-failed', (data) => {
[7m   [0m [91m                              ~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m306[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'on' does not exist on type 'CloudProviderManager'.

[7m306[0m     this.cloudProviderManager.on('deployment-complete', (data) => {
[7m   [0m [91m                              ~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m132[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m132[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m310[0m:[93m56[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m310[0m     this.cloudProviderManager.on('deployment-failed', (data) => {
[7m   [0m [93m                                                       ~~~~[0m
[96msrc/lib/deployment/multi-region/DeploymentOrchestrator.ts[0m:[93m306[0m:[93m58[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m306[0m     this.cloudProviderManager.on('deployment-complete', (data) => {
[7m   [0m [93m                                                         ~~~~[0m

[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m3109[0m:[93m53[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m3109[0m       this.emit('node-failed', { locationId, error: error.message })
[7m    [0m [91m                                                    ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m3105[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m3105[0m         metadata: { ...currentStatus.metadata, error: error.message },
[7m    [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2454[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2454[0m       throw new Error(`GCP Edge deployment failed: ${error.message}`, {
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2429[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2429[0m       throw new Error(`Azure Edge deployment failed: ${error.message}`, {
[7m    [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2404[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2404[0m       throw new Error(`AWS Lambda deployment failed: ${error.message}`, {
[7m    [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2374[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2374[0m       throw new Error(`Cloudflare deployment failed: ${error.message}`, {
[7m    [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2343[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2343[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2337[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2337[0m         metadata: { error: error.message },
[7m    [0m [91m                           ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2246[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2246[0m       throw new Error(`Deployment failed: ${error.message}`, { cause: error })
[7m    [0m [91m                                            ~~~~~[0m
[96msrc/lib/deployment/multi-region/EdgeComputingManager.ts[0m:[93m2164[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m2164[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m    [0m [91m                                                ~~~~~[0m

[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m279[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m279[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m100[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m100[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m517[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'requestType' is declared but its value is never read.

[7m517[0m     requestType: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m410[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'requestType' is declared but its value is never read.

[7m410[0m     requestType: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/GlobalTrafficRoutingManager.ts[0m:[93m352[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'requestType' is declared but its value is never read.

[7m352[0m     requestType: string,
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m247[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m247[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m111[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m111[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/HealthMonitor.ts[0m:[93m78[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m78[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m297[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m297[0m       throw new Error(`Service configuration failed: ${error.message}`, {
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m237[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m237[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m230[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m230[0m         errors: [error.message],
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m171[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m171[0m       throw new Error(`Deployment failed: ${error.message}`, { cause: error })
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m124[0m:[93m49[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m124[0m       throw new Error(`Initialization failed: ${error.message}`, {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m94[0m:[93m35[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 0.

[7m94[0m     this.deploymentOrchestrator = new DeploymentOrchestrator()
[7m  [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m93[0m:[93m26[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m93[0m     this.healthMonitor = new HealthMonitor()
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m91[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'DeploymentConfig' is not assignable to parameter of type 'MultiRegionConfig'.
  Type 'DeploymentConfig' is missing the following properties from type 'MultiRegionConfig': deployment, trafficRouting, environments, featureFlags, and 3 more.

[7m91[0m     this.configurationManager = new ConfigurationManager(config)
[7m  [0m [91m                                                         ~~~~~~[0m
[96msrc/lib/deployment/multi-region/MultiRegionDeploymentManager.ts[0m:[93m84[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'deploymentOrchestrator' is declared but its value is never read.

[7m84[0m   private deploymentOrchestrator: DeploymentOrchestrator
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1559[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1559[0m   LoadBalancerConfig,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1558[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1558[0m   ServiceStats,
[7m    [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1557[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1557[0m   DiscoveryOptions,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1556[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1556[0m   ServiceInstance,
[7m    [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1555[0m:[93m3[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m1555[0m   ServiceRegistration,
[7m    [0m [91m  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1192[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'map' does not exist on type 'string | ServiceInstance[]'.
  Property 'map' does not exist on type 'string'.

[7m1192[0m           regions: [...new Set(instances.map((i) => i.region))],
[7m    [0m [91m                                         ~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1188[0m:[93m24[0m - [91merror[0m[90m ts(2538): [0mType 'ServiceInstance[]' cannot be used as an index type.

[7m1188[0m         stats.services[name] = {
[7m    [0m [91m                       ~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1186[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type 'string | ServiceInstance[]'.
  Property 'filter' does not exist on type 'string'.

[7m1186[0m         const unhealthy = instances.filter((i) => i.status !== 'healthy').length
[7m    [0m [91m                                    ~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1185[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'filter' does not exist on type 'string | ServiceInstance[]'.
  Property 'filter' does not exist on type 'string'.

[7m1185[0m         const healthy = instances.filter((i) => i.status === 'healthy').length
[7m    [0m [91m                                  ~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m375[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'getServiceDiscoveryConfig' does not exist on type 'ConfigurationManager'.

[7m375[0m     const config = this.config.getServiceDiscoveryConfig()
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m364[0m:[93m73[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m364[0m             message: `Service health check failed for ${serviceName}: ${error.message}`,
[7m   [0m [91m                                                                        ~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m336[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m336[0m       this.healthMonitor.registerCheck(`service-${serviceName}`, async () => {
[7m   [0m [91m                         ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m269[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m269[0m           message: `Service discovery check failed: ${error.message}`,
[7m   [0m [91m                                                      ~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m243[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'registerCheck' does not exist on type 'HealthMonitor'.

[7m243[0m     this.healthMonitor.registerCheck('service-discovery', async () => {
[7m   [0m [91m                       ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m222[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'getServices' does not exist on type 'ConfigurationManager'.

[7m222[0m     const services = this.config.getServices()
[7m   [0m [91m                                 ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m78[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'getServiceDiscoveryConfig' does not exist on type 'ConfigurationManager'.

[7m78[0m     const discoveryConfig = this.config.getServiceDiscoveryConfig()
[7m  [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m77[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'getRegions' does not exist on type 'ConfigurationManager'.

[7m77[0m     const regions = this.config.getRegions()
[7m  [0m [91m                                ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m35[0m:[93m30[0m - [91merror[0m[90m ts(2559): [0mType '"ServiceDiscoveryManager"' has no properties in common with type 'Partial<LoggerOptions>'.

[7m35[0m     this.logger = new Logger('ServiceDiscoveryManager')
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m8[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module './DNSClient' or its corresponding type declarations.

[7m8[0m import { DNSClient } from './DNSClient'
[7m [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m7[0m:[93m33[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'zookeeper' or its corresponding type declarations.

[7m7[0m import { ZooKeeperClient } from 'zookeeper'
[7m [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m6[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'etcd3' or its corresponding type declarations.

[7m6[0m import { Etcd3 } from 'etcd3'
[7m [0m [91m                      ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m5[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'consul' or its corresponding type declarations.

[7m5[0m import { Consul, ConsulOptions } from 'consul'
[7m [0m [91m                                      ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1383[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'circuitBreaker' is declared but its value is never read.

[7m1383[0m   private circuitBreaker: any
[7m    [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1382[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'healthCheck' is declared but its value is never read.

[7m1382[0m   private healthCheck: any
[7m    [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1380[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'serviceName' is declared but its value is never read.

[7m1380[0m   private serviceName: string
[7m    [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1192[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'i' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1192[0m           regions: [...new Set(instances.map((i) => i.region))],
[7m    [0m [93m                                              ~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1186[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'i' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1186[0m         const unhealthy = instances.filter((i) => i.status !== 'healthy').length
[7m    [0m [93m                                            ~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m1185[0m:[93m43[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'i' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1185[0m         const healthy = instances.filter((i) => i.status === 'healthy').length
[7m    [0m [93m                                          ~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m775[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'check' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m775[0m       status: service.Checks?.every((check) => check.Status === 'passing')
[7m   [0m [93m                                     ~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m771[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m771[0m         service.Service.Tags?.find((tag) => tag.startsWith('version:'))?.split(
[7m   [0m [93m                                    ~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m763[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'service' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m763[0m     return services.map((service) => ({
[7m   [0m [93m                         ~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m25[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m25[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/ServiceDiscoveryManager.ts[0m:[93m22[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'dnsClient' is declared but its value is never read.

[7m22[0m   private dnsClient: DNSClient
[7m  [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/deployment/multi-region/index.ts[0m:[93m365[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'DeploymentOrchestrator'. Either declare one or provide an initializer.

[7m365[0m   DeploymentOrchestrator,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m364[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'HealthMonitor'. Either declare one or provide an initializer.

[7m364[0m   HealthMonitor,
[7m   [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m363[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'ConfigurationManager'. Either declare one or provide an initializer.

[7m363[0m   ConfigurationManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m362[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'ServiceDiscoveryManager'. Either declare one or provide an initializer.

[7m362[0m   ServiceDiscoveryManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m361[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'AutomatedFailoverOrchestrator'. Either declare one or provide an initializer.

[7m361[0m   AutomatedFailoverOrchestrator,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m360[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'CrossRegionDataSyncManager'. Either declare one or provide an initializer.

[7m360[0m   CrossRegionDataSyncManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m359[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'GlobalTrafficRoutingManager'. Either declare one or provide an initializer.

[7m359[0m   GlobalTrafficRoutingManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m358[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'EdgeComputingManager'. Either declare one or provide an initializer.

[7m358[0m   EdgeComputingManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m357[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'CloudProviderManager'. Either declare one or provide an initializer.

[7m357[0m   CloudProviderManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m356[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'MultiRegionDeploymentManager'. Either declare one or provide an initializer.

[7m356[0m   MultiRegionDeploymentManager,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m333[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MultiRegionDeploymentManager'.

[7m333[0m   const deploymentManager = new MultiRegionDeploymentManager(
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m326[0m:[93m36[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AutomatedFailoverOrchestrator'.

[7m326[0m   const failoverOrchestrator = new AutomatedFailoverOrchestrator(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m323[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ServiceDiscoveryManager'.

[7m323[0m   const serviceDiscovery = new ServiceDiscoveryManager(config, healthMonitor)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m320[0m:[93m31[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrossRegionDataSyncManager'.

[7m320[0m   const dataSyncManager = new CrossRegionDataSyncManager(config, healthMonitor)
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m317[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'HealthMonitor'.

[7m317[0m   const healthMonitor = new HealthMonitor(config)
[7m   [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m309[0m:[93m22[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ConfigurationManager'.

[7m309[0m   const config = new ConfigurationManager()
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m307[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MultiRegionConfig'.

[7m307[0m   configOverrides?: Partial<MultiRegionConfig>,
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m68[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./ConfigurationManager"' has no exported member 'DatabaseConfig'. Did you mean to use 'import DatabaseConfig from "./ConfigurationManager"' instead?

[7m68[0m   DatabaseConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m67[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./ConfigurationManager"' has no exported member 'SyncConfig'. Did you mean to use 'import SyncConfig from "./ConfigurationManager"' instead?

[7m67[0m   SyncConfig,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m62[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./GlobalTrafficRoutingManager"' has no exported member 'LatencyTarget'. Did you mean to use 'import LatencyTarget from "./GlobalTrafficRoutingManager"' instead?

[7m62[0m   LatencyTarget,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m61[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./GlobalTrafficRoutingManager"' has no exported member 'TrafficPolicy'. Did you mean to use 'import TrafficPolicy from "./GlobalTrafficRoutingManager"' instead?

[7m61[0m   TrafficPolicy,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m60[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./GlobalTrafficRoutingManager"' has no exported member 'RoutingRule'. Did you mean to use 'import RoutingRule from "./GlobalTrafficRoutingManager"' instead?

[7m60[0m   RoutingRule,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m56[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./EdgeComputingManager"' has no exported member 'EdgeConfig'. Did you mean to use 'import EdgeConfig from "./EdgeComputingManager"' instead?

[7m56[0m   EdgeConfig,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m55[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./EdgeComputingManager"' has no exported member 'EdgeDeployment'. Did you mean to use 'import EdgeDeployment from "./EdgeComputingManager"' instead?

[7m55[0m   EdgeDeployment,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m54[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./EdgeComputingManager"' has no exported member 'EdgeNode'. Did you mean to use 'import EdgeNode from "./EdgeComputingManager"' instead?

[7m54[0m   EdgeNode,
[7m  [0m [91m  ~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m50[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./CloudProviderManager"' has no exported member 'ResourceConfig'. Did you mean to use 'import ResourceConfig from "./CloudProviderManager"' instead?

[7m50[0m   ResourceConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m49[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./CloudProviderManager"' has no exported member 'RegionConfig'. Did you mean to use 'import RegionConfig from "./CloudProviderManager"' instead?

[7m49[0m   RegionConfig,
[7m  [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m48[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./CloudProviderManager"' has no exported member 'CloudProvider'. Did you mean to use 'import CloudProvider from "./CloudProviderManager"' instead?

[7m48[0m   CloudProvider,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m44[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./HealthMonitor"' has no exported member 'HealthCheckResult'. Did you mean to use 'import HealthCheckResult from "./HealthMonitor"' instead?

[7m44[0m   HealthCheckResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m43[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./HealthMonitor"' has no exported member 'HealthCheck'. Did you mean to use 'import HealthCheck from "./HealthMonitor"' instead?

[7m43[0m   HealthCheck,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m42[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./HealthMonitor"' has no exported member 'HealthStatus'. Did you mean to use 'import HealthStatus from "./HealthMonitor"' instead?

[7m42[0m   HealthStatus,
[7m  [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m38[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./DeploymentOrchestrator"' has no exported member 'RollbackConfig'. Did you mean to use 'import RollbackConfig from "./DeploymentOrchestrator"' instead?

[7m38[0m   RollbackConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m37[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./DeploymentOrchestrator"' has no exported member named 'DeploymentResult'. Did you mean 'DeploymentPhaseResult'?

[7m37[0m   DeploymentResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/deployment/multi-region/index.ts[0m:[93m36[0m:[93m3[0m - [91merror[0m[90m ts(2614): [0mModule '"./DeploymentOrchestrator"' has no exported member 'DeploymentConfig'. Did you mean to use 'import DeploymentConfig from "./DeploymentOrchestrator"' instead?

[7m36[0m   DeploymentConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m100[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m100[0m               this.handleSessionCompletion(sessionData.sessionId)
[7m   [0m [91m                                                       ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m99[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m99[0m             if (sessionData && sessionData.sessionId) {
[7m  [0m [91m                                           ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m86[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m86[0m             this.trackActiveSession(sessionData.sessionId)
[7m  [0m [91m                                                ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m85[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m85[0m           if (sessionData && sessionData.sessionId) {
[7m  [0m [91m                                         ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m74[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m74[0m             this.handleSessionUpdate(sessionData.sessionId)
[7m  [0m [91m                                                 ~~~~~~~~~[0m
[96msrc/lib/documentation/DocumentationSystem.ts[0m:[93m73[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type '{}'.

[7m73[0m           if (sessionData && sessionData.sessionId) {
[7m  [0m [91m                                         ~~~~~~~~~[0m

[96msrc/lib/documentation/useDocumentation.ts[0m:[93m419[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m419[0m             ? { errors: rawResult.errors }
[7m   [0m [91m                        ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m418[0m:[93m29[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m418[0m           ...(Array.isArray(rawResult.errors)
[7m   [0m [91m                            ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m417[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m417[0m           ...(rawResult.data !== undefined ? { data: rawResult.data } : {}),
[7m   [0m [91m                                                     ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m417[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m417[0m           ...(rawResult.data !== undefined ? { data: rawResult.data } : {}),
[7m   [0m [91m              ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m410[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m410[0m               ? rawResult.metadata
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m409[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m409[0m             rawResult.metadata !== null
[7m   [0m [91m            ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m408[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m408[0m             typeof rawResult.metadata === 'object' &&
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m405[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m405[0m               ? rawResult.format
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m404[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m404[0m             typeof rawResult.format === 'string'
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m402[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m402[0m             typeof rawResult.success === 'boolean' ? rawResult.success : false,
[7m   [0m [91m                                                     ~~~~~~~~~[0m
[96msrc/lib/documentation/useDocumentation.ts[0m:[93m402[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'rawResult' is of type 'unknown'.

[7m402[0m             typeof rawResult.success === 'boolean' ? rawResult.success : false,
[7m   [0m [91m                   ~~~~~~~~~[0m

[96msrc/lib/ehr/types.ts[0m:[93m141[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m141[0m   baseUrl: z.string().url(),
[7m   [0m [93m                      ~~~[0m

[96msrc/lib/export/index.node.ts[0m:[93m16[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'pdfkit' or its corresponding type declarations.

[7m16[0m import PDFDocument from 'pdfkit'
[7m  [0m [91m                        ~~~~~~~~[0m
[96msrc/lib/export/index.node.ts[0m:[93m17[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'archiver'. '/app/node_modules/.pnpm/archiver@7.0.1/node_modules/archiver/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/archiver` if it exists or add a new declaration (.d.ts) file containing `declare module 'archiver';`

[7m17[0m import archiver from 'archiver'
[7m  [0m [93m                     ~~~~~~~~~~[0m

[96msrc/lib/fhe/enhanced-service.ts[0m:[93m128[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '(encryptedData: string, operation: FHEOperation | string, params?: Record<string, unknown>) => Promise<unknown>' is not assignable to type '(encryptedData: string, operation: string, params?: Record<string, unknown> | undefined) => Promise<FHEOperationResult<string>>'.
  Type 'Promise<unknown>' is not assignable to type 'Promise<FHEOperationResult<string>>'.
    Type 'unknown' is not assignable to type 'FHEOperationResult<string>'.

[7m128[0m     enhancedService.processEncrypted = async (
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/exports.ts[0m:[93m81[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./index"' has no exported member named 'FHEService'. Did you mean 'fheService'?

[7m81[0m export { FHEService } from './index'
[7m  [0m [91m         ~~~~~~~~~~[0m
[96msrc/lib/fhe/exports.ts[0m:[93m71[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'initialize' does not exist on type 'FHESystem'.

[7m71[0m   await fheService.initialize({
[7m  [0m [91m                   ~~~~~~~~~~[0m

[96msrc/lib/fhe/fhe-factory.ts[0m:[93m331[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m331[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m325[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m325[0m       const result = await sealOperations.rotate(ciphertext, steps)
[7m   [0m [91m                                                 ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m305[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m305[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m299[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m299[0m       const result = await sealOperations.polynomial(ciphertext, coefficients)
[7m   [0m [91m                                                     ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m279[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m279[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m273[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m273[0m       const result = await sealOperations.negate(ciphertext)
[7m   [0m [91m                                                 ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m256[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m256[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m248[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m248[0m         aCiphertext as string,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m222[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m222[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m214[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m214[0m         aCiphertext as string,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m188[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m188[0m       return createEncryptedData(result.result)
[7m   [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m180[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m180[0m         aCiphertext as string,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m154[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'SealCipherText'.
  Type '{}' is missing the following properties from type 'SealCipherText': copy, delete

[7m154[0m       return (await sealService.decrypt(ciphertext)) as T
[7m   [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/lib/fhe/fhe-factory.ts[0m:[93m133[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'SealCipherText' is not assignable to parameter of type 'string'.

[7m133[0m       return createEncryptedData(encrypted, data as number[])
[7m   [0m [91m                                 ~~~~~~~~~[0m

[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1664[0m:[93m34[0m - [91merror[0m[90m ts(2551): [0mProperty 'MAX_KEY_AGE_DAYS' does not exist on type '{ readonly KEY_ROTATION_PERIOD_DAYS: 7; readonly MAX_KEY_AGE_MS: number; readonly KEY_DERIVATION_ITERATIONS: 100000; readonly SECURE_RANDOM_BYTES: 32; readonly LOCK_TIMEOUT_MS: number; ... 14 more ...; readonly REQUIRED_ENV_VARS: readonly [...]; }'. Did you mean 'MAX_KEY_AGE_MS'?

[7m1664[0m       if (!HIPAA_SECURITY_CONFIG.MAX_KEY_AGE_DAYS) {
[7m    [0m [91m                                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1420[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'actor' does not exist in type 'AuditEvent'.

[7m1420[0m           actor: 'system',
[7m    [0m [91m          ~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1248[0m:[93m11[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types '2555' and '0' have no overlap.

[7m1248[0m       if (auditRetentionDays === 0) {
[7m    [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1060[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'MAX_KEY_AGE_DAYS' does not exist on type '{ readonly KEY_ROTATION_PERIOD_DAYS: 7; readonly MAX_KEY_AGE_MS: number; readonly KEY_DERIVATION_ITERATIONS: 100000; readonly SECURE_RANDOM_BYTES: 32; readonly LOCK_TIMEOUT_MS: number; ... 14 more ...; readonly REQUIRED_ENV_VARS: readonly [...]; }'. Did you mean 'MAX_KEY_AGE_MS'?

[7m1060[0m       const maxKeyAge = HIPAA_SECURITY_CONFIG.MAX_KEY_AGE_DAYS || 90
[7m    [0m [91m                                              ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m1009[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'actor' does not exist in type 'AuditEvent'.

[7m1009[0m           actor: 'system',
[7m    [0m [91m          ~~~~~[0m
[96msrc/lib/fhe/hipaa-monitoring.ts[0m:[93m11[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'aws-sdk' or its corresponding type declarations.

[7m11[0m import * as AWS from 'aws-sdk'
[7m  [0m [91m                     ~~~~~~~~~[0m

[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m436[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m436[0m           decodedData = parsed.data
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m435[0m:[93m35[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m435[0m         if (parsed.data && typeof parsed.data === 'string') {
[7m   [0m [91m                                  ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m435[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m435[0m         if (parsed.data && typeof parsed.data === 'string') {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m395[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m395[0m         rotResult = await this.sealOps.rotate(serializedCiphertext, steps)
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m387[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m387[0m           serializedCiphertext,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m380[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m380[0m         negResult = await this.sealOps.negate(serializedCiphertext)
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m373[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m373[0m           serializedCiphertext,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m364[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m364[0m           serializedCiphertext,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m357[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'SealCipherText'.

[7m357[0m         addResult = await this.sealOps.add(serializedCiphertext, addend)
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m417[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'tokens' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m417[0m     let tokens
[7m   [0m [93m        ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m351[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'rotResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m351[0m     let rotResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m350[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'steps' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m350[0m     let steps
[7m   [0m [93m        ~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m349[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'polyResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m349[0m     let polyResult
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m348[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'coefficients' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m348[0m     let coefficients
[7m   [0m [93m        ~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m347[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'negResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m347[0m     let negResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m346[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'multResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m346[0m     let multResult
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m345[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'multiplier' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m345[0m     let multiplier
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m344[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'subResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m344[0m     let subResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m343[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'subtrahend' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m343[0m     let subtrahend
[7m   [0m [93m        ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m342[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'addResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m342[0m     let addResult
[7m   [0m [93m        ~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m341[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'addend' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m341[0m     let addend
[7m   [0m [93m        ~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m221[0m:[93m13[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'parsedData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m221[0m         let parsedData
[7m   [0m [93m            ~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m213[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'opResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m213[0m       let opResult
[7m   [0m [93m          ~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m212[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'categoryResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m212[0m       let categoryResult
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/homomorphic-ops.ts[0m:[93m211[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'sentimentResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m211[0m       let sentimentResult
[7m   [0m [93m          ~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/index.ts[0m:[93m68[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m68[0m       data: string,
[7m  [0m [93m      ~~~~[0m

[96msrc/lib/fhe/key-rotation.ts[0m:[93m13[0m:[93m17[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'aws-sdk' or its corresponding type declarations.

[7m13[0m import AWS from 'aws-sdk'
[7m  [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/fhe/key-rotation.ts[0m:[93m12[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'aws-sdk' or its corresponding type declarations.

[7m12[0m import type { KMS, CloudWatch } from 'aws-sdk'
[7m  [0m [91m                                     ~~~~~~~~~[0m

[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m788[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'determineSecurityLevel' is declared but its value is never read.

[7m788[0m   private determineSecurityLevel(complexity: number): SecurityLevel {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m548[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'basePreset' is declared but its value is never read.

[7m548[0m     basePreset: string,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m474[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'basePreset' is declared but its value is never read.

[7m474[0m     basePreset: string,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/fhe/parameter-optimizer.ts[0m:[93m442[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'basePreset' is declared but its value is never read.

[7m442[0m     basePreset: string,
[7m   [0m [93m    ~~~~~~~~~~[0m

[96msrc/lib/fhe/pattern-recognition-factory.ts[0m:[93m107[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'severityScore' is missing in type '{ id: string; riskFactor: string; correlatedFactors: { factor: string; strength: number; }[]; confidence: number; significance: string; }' but required in type 'RiskCorrelation'.

[7m107[0m       {
[7m   [0m [91m      ~[0m
[7m108[0m         id: nanoid(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m112[0m         significance: 'Strong correlation detected',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m113[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/fhe/pattern-recognition-factory.ts[0m:[93m83[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'number'.

[7m83[0m         significance: 'Medium significance',
[7m  [0m [91m        ~~~~~~~~~~~~[0m

[96msrc/lib/fhe/seal-context.ts[0m:[93m197[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'schemeType' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m197[0m     let schemeType
[7m   [0m [93m        ~~~~~~~~~~[0m

[96msrc/lib/fhe/test-seal-integration.ts[0m:[93m94[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'SealCipherText'.

[7m94[0m       const decryptedMult = await service.decrypt(multResult.result)
[7m  [0m [91m                                                  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/test-seal-integration.ts[0m:[93m78[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'SealCipherText'.

[7m78[0m       const decryptedAdd = await service.decrypt(addResult.result)
[7m  [0m [91m                                                 ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/__tests__/key-rotation.test.ts[0m:[93m20[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m20[0m     ;(KeyRotationService as unknown).instance = undefined
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m111[0m:[93m50[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m111[0m       await fheService.decrypt(encryptedTenant1, tenant2.tenantId)
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m99[0m:[93m59[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m99[0m     const decrypted = await fheService.decrypt(encrypted, tenant1.tenantId)
[7m  [0m [91m                                                          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m95[0m:[93m58[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m95[0m     const encrypted = await fheService.encrypt(testData, tenant1.tenantId)
[7m  [0m [91m                                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m72[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isMultiTenantEnabled' does not exist on type 'FHESystem'.

[7m72[0m     expect(fheService.isMultiTenantEnabled()).toBe(true)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m71[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'setMultiTenantEnabled' does not exist on type 'FHESystem'.

[7m71[0m     fheService.setMultiTenantEnabled(true)
[7m  [0m [91m               ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m68[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isMultiTenantEnabled' does not exist on type 'FHESystem'.

[7m68[0m     expect(fheService.isMultiTenantEnabled()).toBe(false)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m67[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'setMultiTenantEnabled' does not exist on type 'FHESystem'.

[7m67[0m     fheService.setMultiTenantEnabled(false)
[7m  [0m [91m               ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m64[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isMultiTenantEnabled' does not exist on type 'FHESystem'.

[7m64[0m     expect(fheService.isMultiTenantEnabled()).toBe(true)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m50[0m:[93m59[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m50[0m     encryptedTenant1 = await fheService.encrypt(testData, tenant1.tenantId)
[7m  [0m [91m                                                          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m39[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'initialize' does not exist on type 'FHESystem'.

[7m39[0m     await fheService.initialize({
[7m  [0m [91m                     ~~~~~~~~~~[0m
[96msrc/lib/fhe/__tests__/multi-tenant-isolation.test.ts[0m:[93m15[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../tenant-manager' or its corresponding type declarations.

[7m15[0m import { tenantManager } from '../tenant-manager'
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/hooks/useMultidimensionalEmotions.ts[0m:[93m3[0m:[93m46[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/ai/temporal/types' or its corresponding type declarations.

[7m3[0m import type { MultidimensionalPattern } from '@/lib/ai/temporal/types'
[7m [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/hooks/useMultidimensionalEmotions.ts[0m:[93m2[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"@/lib/ai/emotions/dimensionalTypes"' has no exported member named 'DimensionalEmotionMap'. Did you mean 'DimensionalEmotion'?

[7m2[0m import type { DimensionalEmotionMap } from '@/lib/ai/emotions/dimensionalTypes'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/jobs/queue.ts[0m:[93m280[0m:[93m58[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m280[0m           .map((jobStr: string) => JSON.parse(jobStr) as unknown.id)
[7m   [0m [91m                                                         ~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m278[0m:[93m38[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m278[0m               (JSON.parse(jobStr) as unknown.status) === JobStatus.CANCELLED,
[7m   [0m [91m                                     ~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m247[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'unknown[]' is not assignable to type 'Job<unknown>[]'.
  Type 'unknown' is not assignable to type 'Job<unknown>'.

[7m247[0m     return jobStrings.map((jobString) => JSON.parse(jobString) as unknown)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m241[0m:[93m36[0m - [91merror[0m[90m ts(2693): [0m'unknown' only refers to a type, but is being used as a value here.

[7m241[0m             (JSON.parse(jobStr) as unknown.status) === JobStatus.CANCELLED,
[7m   [0m [91m                                   ~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m202[0m:[93m25[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'Job<unknown> | null'.

[7m202[0m     return jobString ? (JSON.parse(jobString) as unknown) : null
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m145[0m:[93m9[0m - [91merror[0m[90m ts(2698): [0mSpread types may only be created from object types.

[7m145[0m         ...(JSON.parse(currentJobString) as unknown),
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m117[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'Job<unknown>'.

[7m117[0m     const job: Job = JSON.parse(jobString[0].value) as unknown
[7m   [0m [91m          ~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m258[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'jobStr' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m258[0m         jobIds = pendingJobs.map((jobStr) => {
[7m   [0m [93m                                  ~~~~~~[0m
[96msrc/lib/jobs/queue.ts[0m:[93m219[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m219[0m         jobStrings = pendingJobsWithScores.map((item) => {
[7m   [0m [93m                                                ~~~~[0m

[96msrc/lib/jobs/worker.ts[0m:[93m199[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ format: "json" | "csv" | "pdf" | undefined; includeDetails: boolean; groupBy?: string; filters?: Record<string, unknown>; }' is not assignable to parameter of type '{ format?: "json" | "csv" | undefined; }'.
  Types of property 'format' are incompatible.
    Type '"json" | "csv" | "pdf" | undefined' is not assignable to type '"json" | "csv" | undefined'.
      Type '"pdf"' is not assignable to type '"json" | "csv" | undefined'.

[7m199[0m             safeOptions,
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/lib/jobs/worker.ts[0m:[93m193[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'BiasReport | { summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }' is not assignable to type 'BiasReport | undefined'.
  Type '{ summary: { sessionCount: number; averageBiasScore: number; }; performance: Record<string, unknown>; alerts: Record<string, number>; }' is missing the following properties from type 'BiasReport': reportId, title, description, createdAt, data

[7m193[0m           report = await biasDetectionEngine.generateBiasReport(
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/jobs/worker.ts[0m:[93m155[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyzeSessionsBatch' does not exist on type 'BiasDetectionEngine'. Did you mean 'analyzeSession'?

[7m155[0m           results = await biasDetectionEngine.analyzeSessionsBatch(
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/logging/performance-logger.ts[0m:[93m127[0m:[93m45[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m127[0m   public async cleanup(retentionDays = 30): void {
[7m   [0m [91m                                            ~~~~[0m
[96msrc/lib/logging/performance-logger.ts[0m:[93m41[0m:[93m55[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m41[0m   public async logMetric(metric: PerformanceMetrics): void {
[7m  [0m [91m                                                      ~~~~[0m

[96msrc/lib/metaaligner/__tests__/adaptive-selection-integration.test.ts[0m:[93m515[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'result1' is declared but its value is never read.

[7m515[0m       const result1 = await adaptiveSelector.selectObjectives('Hello')
[7m   [0m [93m            ~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/adaptive-selection-integration.test.ts[0m:[93m16[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'ContextDetectionResult' is declared but its value is never read.

[7m16[0m import { ContextDetector, type ContextDetectionResult } from '../prioritization/context-detector'
[7m  [0m [93m                               ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m667[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'to' does not exist on type '{}'.

[7m667[0m     expect(result.contextDetectionResult.metadata.transition?.to).toBe(
[7m   [0m [91m                                                              ~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m664[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'from' does not exist on type '{}'.

[7m664[0m     expect(result.contextDetectionResult.metadata.transition?.from).toBe(
[7m   [0m [91m                                                              ~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m518[0m:[93m25[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m518[0m           expect(typeof (result as unknown).explanation).toBe('string')
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m517[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m517[0m           expect((result as unknown).explanation).toBeTruthy()
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m516[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m516[0m           expect((result as unknown).confidence).toBeLessThanOrEqual(1)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m515[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m515[0m           expect((result as unknown).confidence).toBeGreaterThanOrEqual(0)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m514[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m514[0m           expect((result as unknown).score).toBeLessThanOrEqual(1)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m513[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m513[0m           expect((result as unknown).score).toBeGreaterThanOrEqual(0)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m512[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m512[0m           expect((result as unknown).objectiveId).toBe(objectiveId)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m408[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m408[0m         aiService: failingAIService,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m267[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/app/src/lib/ai/models/types").AIService' is not assignable to parameter of type 'import("/app/src/lib/ai/models/ai-types").AIService'.
  Type 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m267[0m         baseAIService,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m261[0m:[93m14[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m261[0m       expect((response as unknown).choices?.[0]?.message?.content).toBeDefined()
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m260[0m:[93m14[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m260[0m       expect((response as unknown).content).toBeDefined()
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m238[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/app/src/lib/ai/models/types").AIService' is not assignable to parameter of type 'import("/app/src/lib/ai/models/ai-types").AIService'.
  Type 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m238[0m         baseAIService,
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m72[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType 'AIService' is missing the following properties from type 'AIService': createStreamingChatCompletion, dispose

[7m72[0m       aiService: mockAIService,
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m50[0m:[93m5[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'createStreamingChatCompletion' does not exist in type 'Partial<AIService>'. Did you mean to write 'createChatCompletion'?

[7m50[0m     createStreamingChatCompletion: vi.fn(),
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m17[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m17[0m // @ts-expect-error: Type declarations may be missing for test context
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m15[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m15[0m // @ts-expect-error: Type declarations may be missing for test context
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m6[0m:[93m37[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/models/types"' has no exported member 'AICompletion'.

[7m6[0m import type { AIMessage, AIService, AICompletion } from '../../ai/models/types'
[7m [0m [91m                                    ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/__tests__/integration.test.ts[0m:[93m6[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/models/types"' has no exported member 'AIMessage'.

[7m6[0m import type { AIMessage, AIService, AICompletion } from '../../ai/models/types'
[7m [0m [91m              ~~~~~~~~~[0m

[96msrc/lib/metaaligner/api/unified-api.ts[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../core/objective-interfaces"' has no exported member 'AlignmentMetrics'.

[7m10[0m   AlignmentMetrics,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/batch/batch-processor.ts[0m:[93m77[0m:[93m30[0m - [91merror[0m[90m ts(2532): [0mObject is possibly 'undefined'.

[7m77[0m     if (this.queue.length >= this.config.batchSize) {
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/batch/batch-processor.ts[0m:[93m52[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'api' is declared but its value is never read.

[7m52[0m   private api: IUnifiedMetaAlignerAPI
[7m  [0m [93m          ~~~[0m

[96msrc/lib/metaaligner/context/context-injector.ts[0m:[93m47[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'detectedContext' does not exist in type 'UnifiedContext'.

[7m47[0m         detectedContext,
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m282[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m282[0m       confidence: 0.85,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m247[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m247[0m       confidence: 0.85,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m212[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m212[0m     confidence: 0.85,
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m194[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m194[0m       confidence: 0.95,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m184[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m184[0m       confidence: 0.85,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m164[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m164[0m       confidence: 0.85,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m144[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m144[0m       confidence: 0.85,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m115[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m115[0m     confidence: 0.85,
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m463[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'jsonData' is declared but its value is never read.

[7m463[0m       const jsonData = exportVisualizationDataForGraphing(suite)
[7m   [0m [93m            ~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting-benchmark.ts[0m:[93m8[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'ObjectiveId' is declared but its value is never read.

[7m8[0m import { ObjectiveId } from '../config/mapping-config'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m627[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m627[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m595[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m595[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m589[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m589[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m558[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m558[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m543[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m543[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m528[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m528[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m514[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m514[0m         confidence: 0.3, // Low confidence
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m487[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m487[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m460[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'weights' does not exist on type 'never'.

[7m460[0m         const currWeights = results[i].weights
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m459[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'weights' does not exist on type 'never'.

[7m459[0m         const prevWeights = results[i - 1].weights
[7m   [0m [91m                                           ~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m454[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WeightUpdateResult' is not assignable to parameter of type 'never'.

[7m454[0m         results.push(result)
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m450[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m450[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m421[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m421[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m400[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m400[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m385[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m385[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m379[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m379[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m364[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m364[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m352[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m352[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m328[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m328[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m312[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m312[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m287[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m287[0m           confidence: 0.85,
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m260[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m260[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m254[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m254[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m228[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m228[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m222[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m222[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m201[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m201[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m195[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m195[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m180[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m180[0m         confidence: 0.86, // Slightly different confidence
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m174[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m174[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m159[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m159[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m153[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m153[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m130[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m130[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m124[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m124[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m106[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m106[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m100[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m100[0m         confidence: 0.85,
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m84[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m84[0m         confidence: 0.95,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m76[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m76[0m         confidence: 0.8,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m63[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m63[0m         confidence: 0.5, // Below threshold (0.8)
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m48[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'confidence' does not exist in type 'AlignmentContext'.

[7m48[0m         confidence: 0.95,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m426[0m:[93m21[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m426[0m         for (const [key, weight] of Object.entries(result.weights)) {
[7m   [0m [93m                    ~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m204[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'result1' is declared but its value is never read.

[7m204[0m       const result1 = engine.calculateDynamicWeights(context1)
[7m   [0m [93m            ~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m4[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'DEFAULT_DYNAMIC_WEIGHTING_CONFIG' is declared but its value is never read.

[7m4[0m   DEFAULT_DYNAMIC_WEIGHTING_CONFIG,
[7m [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.test.ts[0m:[93m1[0m:[93m44[0m - [93mwarning[0m[90m ts(6133): [0m'vi' is declared but its value is never read.

[7m1[0m import { describe, it, expect, beforeEach, vi } from 'vitest'
[7m [0m [93m                                           ~~[0m

[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m471[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'AlignmentContext'.

[7m471[0m       confidence: context.confidence,
[7m   [0m [91m                          ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m267[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, number>' is missing the following properties from type '{ correctness: number; informativeness: number; professionalism: number; empathy: number; safety: number; bias_detection?: number | undefined; cultural_sensitivity?: number | undefined; }': [ObjectiveId.CORRECTNESS], [ObjectiveId.INFORMATIVENESS], [ObjectiveId.PROFESSIONALISM], [ObjectiveId.EMPATHY], [ObjectiveId.SAFETY]

[7m267[0m       newWeights = this.normalizeWeights(newWeights)
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m257[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, number>' is missing the following properties from type '{ correctness: number; informativeness: number; professionalism: number; empathy: number; safety: number; bias_detection?: number | undefined; cultural_sensitivity?: number | undefined; }': [ObjectiveId.CORRECTNESS], [ObjectiveId.INFORMATIVENESS], [ObjectiveId.PROFESSIONALISM], [ObjectiveId.EMPATHY], [ObjectiveId.SAFETY]

[7m257[0m         newWeights = previousWeights
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m241[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, number>' is missing the following properties from type '{ correctness: number; informativeness: number; professionalism: number; empathy: number; safety: number; bias_detection?: number | undefined; cultural_sensitivity?: number | undefined; }': [ObjectiveId.CORRECTNESS], [ObjectiveId.INFORMATIVENESS], [ObjectiveId.PROFESSIONALISM], [ObjectiveId.EMPATHY], [ObjectiveId.SAFETY]

[7m241[0m         newWeights = guardedWeights
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m224[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, number>' is missing the following properties from type '{ correctness: number; informativeness: number; professionalism: number; empathy: number; safety: number; bias_detection?: number | undefined; cultural_sensitivity?: number | undefined; }': [ObjectiveId.CORRECTNESS], [ObjectiveId.INFORMATIVENESS], [ObjectiveId.PROFESSIONALISM], [ObjectiveId.EMPATHY], [ObjectiveId.SAFETY]

[7m224[0m         newWeights = this.applyBlending(
[7m   [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m211[0m:[93m7[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, number>' is missing the following properties from type '{ correctness: number; informativeness: number; professionalism: number; empathy: number; safety: number; bias_detection?: number | undefined; cultural_sensitivity?: number | undefined; }': [ObjectiveId.CORRECTNESS], [ObjectiveId.INFORMATIVENESS], [ObjectiveId.PROFESSIONALISM], [ObjectiveId.EMPATHY], [ObjectiveId.SAFETY]

[7m211[0m       newWeights = this.applyBlending(newWeights, previousWeights)
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m185[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'AlignmentContext'.

[7m185[0m         confidence: context.confidence,
[7m   [0m [91m                            ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m173[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'AlignmentContext'.

[7m173[0m         `Crisis override applied (confidence: ${context.confidence.toFixed(2)})`,
[7m   [0m [91m                                                        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m169[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'AlignmentContext'.

[7m169[0m       context.confidence >= this.config.crisisOverrideThreshold
[7m   [0m [91m              ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/core/dynamic-weighting.ts[0m:[93m10[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'ObjectiveId' is declared but its value is never read.

[7m10[0m import { ObjectiveId } from '../config/mapping-config'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/core/objective-metrics.test.ts[0m:[93m305[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: Date; objectiveResults: { correctness: { score: number; objectiveId: string; criteriaScores: Record<string, number>; confidence: number; explanation?: string; metadata: EvaluationMetadata; }; }; ... 4 more ...; evaluationContext: AlignmentContext; }' is not assignable to parameter of type 'never'.

[7m305[0m         evaluations.push(evaluation)
[7m   [0m [91m                         ~~~~~~~~~~[0m

[96msrc/lib/metaaligner/core/objective-weighting.ts[0m:[93m218[0m:[93m10[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'ContextualObjectiveWeights' to type 'Record<string, number>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Index signature for type 'string' is missing in type 'ContextualObjectiveWeights'.

[7m218[0m         (contextual as Record<string, number>)[objectiveId] ?? base
[7m   [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/error-handling/circuit-breaker.ts[0m:[93m34[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'lastError' is declared but its value is never read.

[7m34[0m   private lastError: Error | null = null
[7m  [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/metaaligner/formats/conversion.ts[0m:[93m37[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ enhancedResponse: string; originalResponse: string; alignment: { evaluation: Record<string | number | symbol, unknown>; metrics: Record<string | number | symbol, unknown>; enhanced: boolean; enhancementAttempts: number; }; errors?: { ...; }[] | undefined; version?: string | undefined; }' is not assignable to type 'UnifiedProcessingResponse'.
  The types of 'alignment.evaluation' are incompatible between these types.
    Type 'Record<string | number | symbol, unknown>' is missing the following properties from type 'AlignmentEvaluationResult': overallScore, objectiveResults, weights, normalizedScores, and 3 more.

[7m37[0m   return validateData(UnifiedProcessingResponseSchema, data)
[7m  [0m [91m  ~~~~~~[0m

[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m44[0m:[93m16[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m44[0m     metrics: z.record(z.unknown()), // This could be more specific if AlignmentMetrics has a Zod schema
[7m  [0m [91m               ~~~~~~[0m
[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m43[0m:[93m19[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m43[0m     evaluation: z.record(z.unknown()), // This could be more specific if AlignmentEvaluationResult has a Zod schema
[7m  [0m [91m                  ~~~~~~[0m
[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m14[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m14[0m   metadata: z.record(z.unknown()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/formats/schemas.ts[0m:[93m13[0m:[93m35[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m13[0m   content: z.union([z.string(), z.record(z.unknown())]),
[7m  [0m [91m                                  ~~~~~~[0m

[96msrc/lib/metaaligner/formats/validation.ts[0m:[93m24[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m24[0m         `Validation failed: ${error.errors.map((e) => e.message).join(', ')}`,
[7m  [0m [91m                                    ~~~~~~[0m
[96msrc/lib/metaaligner/formats/validation.ts[0m:[93m24[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m24[0m         `Validation failed: ${error.errors.map((e) => e.message).join(', ')}`,
[7m  [0m [93m                                                ~[0m

[96msrc/lib/metaaligner/objectives/objective-injector.ts[0m:[93m40[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'objectives' does not exist in type 'UnifiedContext'.

[7m40[0m         objectives: resolvedObjectives,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/metaaligner/objectives/objective-injector.ts[0m:[93m7[0m:[93m47[0m - [91merror[0m[90m ts(2307): [0mCannot find module './objectives' or its corresponding type declarations.

[7m7[0m import { CORE_MENTAL_HEALTH_OBJECTIVES } from './objectives'
[7m [0m [91m                                              ~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m286[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m286[0m             ? parsed.metadata.relatedTopics
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m285[0m:[93m40[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m285[0m           relatedTopics: Array.isArray(parsed.metadata?.relatedTopics)
[7m   [0m [91m                                       ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m283[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m283[0m             ? parsed.metadata.practicalApplications
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m281[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m281[0m             parsed.metadata?.practicalApplications,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m278[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m278[0m             Math.min(1, parsed.metadata?.conceptualDepth || 0.5),
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m273[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m273[0m           ? parsed.priorKnowledgeRequired
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m272[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m272[0m         priorKnowledgeRequired: Array.isArray(parsed.priorKnowledgeRequired)
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m270[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m270[0m           parsed.recommendedResources,
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m267[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m267[0m           ? parsed.learningObjectives
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m266[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m266[0m         learningObjectives: Array.isArray(parsed.learningObjectives)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m264[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m264[0m         complexity: this.validateComplexity(parsed.complexity),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m262[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m262[0m         confidence: Math.max(0, Math.min(1, parsed.confidence || 0.8)),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m261[0m:[93m32[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m261[0m         isEducational: Boolean(parsed.isEducational),
[7m   [0m [91m                               ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/EducationalContextRecognizer.ts[0m:[93m246[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'createChatCompletion' does not exist on type '{}'.

[7m246[0m     const response = await this.config.aiService.createChatCompletion(
[7m   [0m [91m                                                 ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m468[0m:[93m24[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'UserProfile'.

[7m468[0m     const userProfile: UserProfile = {
[7m   [0m [91m                       ~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m364[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'to' does not exist on type '{}'.

[7m364[0m     expect(result.contextDetectionResult.metadata.transition?.to).toBe(
[7m   [0m [91m                                                              ~~[0m
[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m361[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'from' does not exist on type '{}'.

[7m361[0m     expect(result.contextDetectionResult.metadata.transition?.from).toBe(
[7m   [0m [91m                                                              ~~~~[0m
[96msrc/lib/metaaligner/prioritization/adaptive-selector.test.ts[0m:[93m29[0m:[93m3[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'createStreamingChatCompletion' does not exist in type 'AIService'. Did you mean to write 'createChatCompletion'?

[7m29[0m   createStreamingChatCompletion: vi.fn(),
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/adaptive-selector.ts[0m:[93m157[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ objectives: Record<string, number>; contextualWeights: {}; globalSettings: { enableDynamicWeighting: boolean; enableContextualAdjustment: boolean; minObjectiveScore: number; maxObjectiveScore: number; normalizationMethod: number; aggregationMethod: number; }; }' is not assignable to parameter of type 'ObjectiveConfiguration'.
  The types of 'globalSettings.normalizationMethod' are incompatible between these types.
    Type 'number' is not assignable to type 'NormalizationMethod'.

[7m157[0m         objectiveConfig,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/adaptive-selector.ts[0m:[93m134[0m:[93m33[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ weights: { [x: string]: number; }; details: { strategy: string; reason: string; }; }' to type 'WeightCalculationResult' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ weights: { [x: string]: number; }; details: { strategy: string; reason: string; }; }' is missing the following properties from type 'WeightCalculationResult': strategy, confidence, metadata

[7m134[0m       weightCalculationResult = {
[7m   [0m [91m                                ~[0m
[7m135[0m         weights: { ...defaults },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m139[0m         },
[7m   [0m [91m~~~~~~~~~~[0m
[7m140[0m       } as WeightCalculationResult
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m615[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrisisDetectionResult'.

[7m615[0m       const crisisResult: CrisisDetectionResult = {
[7m   [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m255[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrisisDetectionResult'.

[7m255[0m         const crisisResult: CrisisDetectionResult = {
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m213[0m:[93m49[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrisisDetectionResult'.

[7m213[0m           (result.metadata['crisisAnalysis'] as CrisisDetectionResult)
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m156[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrisisDetectionResult'.

[7m156[0m         const crisisResult: CrisisDetectionResult = {
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m122[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'CrisisDetectionResult'.

[7m122[0m         const crisisResult: CrisisDetectionResult = {
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-detector.test.ts[0m:[93m26[0m:[93m3[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'createStreamingChatCompletion' does not exist in type 'AIService'. Did you mean to write 'createChatCompletion'?

[7m26[0m   createStreamingChatCompletion: vi.fn(),
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/context-transition-detector.test.ts[0m:[93m728[0m:[93m26[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(prev: ContextEvent, curr: ContextEvent): ContextTransition' of 'detectContextTransition' is deprecated.

[7m728[0m       const transition = detectContextTransition(prev, curr)
[7m   [0m [93m                         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-transition-detector.test.ts[0m:[93m704[0m:[93m26[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(prev: ContextEvent, curr: ContextEvent): ContextTransition' of 'detectContextTransition' is deprecated.

[7m704[0m       const transition = detectContextTransition(prev, curr)
[7m   [0m [93m                         ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-transition-detector.test.ts[0m:[93m4[0m:[93m3[0m - [93mwarning[0m[90m ts(6385): [0m'detectContextTransition' is deprecated.

[7m4[0m   detectContextTransition,
[7m [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/context-transition-detector.test.ts[0m:[93m1[0m:[93m44[0m - [93mwarning[0m[90m ts(6133): [0m'vi' is declared but its value is never read.

[7m1[0m import { describe, it, expect, beforeEach, vi } from 'vitest'
[7m [0m [93m                                           ~~[0m

[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m648[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m648[0m             parsed.metadata?.ageAppropriateness,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m645[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m645[0m             ? parsed.metadata.relatedTopics
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m644[0m:[93m40[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m644[0m           relatedTopics: Array.isArray(parsed.metadata?.relatedTopics)
[7m   [0m [91m                                       ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m642[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m642[0m             ? parsed.metadata.practicalApplications
[7m   [0m [91m              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m640[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m640[0m             parsed.metadata?.practicalApplications,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m637[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m637[0m             Math.min(1, parsed.metadata?.conceptualDepth || 0.5),
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m632[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m632[0m           ? parsed.priorKnowledgeRequired
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m631[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m631[0m         priorKnowledgeRequired: Array.isArray(parsed.priorKnowledgeRequired)
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m627[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m627[0m           ? parsed.recommendedResources
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m626[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m626[0m         recommendedResources: Array.isArray(parsed.recommendedResources)
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m624[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m624[0m           ? parsed.learningObjectives
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m623[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m623[0m         learningObjectives: Array.isArray(parsed.learningObjectives)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m622[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m622[0m         topicArea: this.validateTopicArea(parsed.topicArea),
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m621[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m621[0m         complexity: this.validateComplexity(parsed.complexity),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m620[0m:[93m55[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m620[0m         educationalType: this.validateEducationalType(parsed.educationalType),
[7m   [0m [91m                                                      ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m619[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m619[0m         confidence: Math.max(0, Math.min(1, parsed.confidence || 0.5)),
[7m   [0m [91m                                            ~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/educational-context-recognizer.ts[0m:[93m618[0m:[93m32[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m618[0m         isEducational: Boolean(parsed.isEducational),
[7m   [0m [91m                               ~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/objective-switcher.test.ts[0m:[93m10[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'ObjectivePriority' is declared but its value is never read.

[7m10[0m import type { ObjectivePriority } from './context-objective-mapping'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/objective-switcher.test.ts[0m:[93m6[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'ObjectiveSwitcherConfig' is declared but its value is never read.

[7m6[0m   type ObjectiveSwitcherConfig,
[7m [0m [93m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/objective-switcher.test.ts[0m:[93m5[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'SwitchMetadata' is declared but its value is never read.

[7m5[0m   type SwitchMetadata,
[7m [0m [93m       ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/objective-switcher.test.ts[0m:[93m4[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'ObjectiveSwitchObserver' is declared but its value is never read.

[7m4[0m   ObjectiveSwitchObserver,
[7m [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/objective-switcher.ts[0m:[93m194[0m:[93m72[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m194[0m     const auditId = `switch_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                       ~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/objective-weighting-strategy.ts[0m:[93m48[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'params.customFactors' is possibly 'undefined'.

[7m48[0m       obj.key in params.customFactors
[7m  [0m [91m                 ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m1580[0m:[93m38[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types '"medium" | "low"' and '"critical"' have no overlap.

[7m1580[0m     if (result.urgency === 'high' || result.urgency === 'critical') {
[7m    [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m479[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisInterventionFlagged' does not exist on type '{ emotionalIndicators: string[]; copingCapacity: "high" | "medium" | "low"; socialSupport: "unknown" | "strong" | "moderate" | "limited"; immediateNeeds: string[]; triggerEvents?: string[] | undefined; resilientFactors?: string[] | undefined; }'.

[7m479[0m       result.metadata.crisisInterventionFlagged = true
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m478[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requiresHumanReview' does not exist on type '{ emotionalIndicators: string[]; copingCapacity: "high" | "medium" | "low"; socialSupport: "unknown" | "strong" | "moderate" | "limited"; immediateNeeds: string[]; triggerEvents?: string[] | undefined; resilientFactors?: string[] | undefined; }'.

[7m478[0m       result.metadata.requiresHumanReview = true
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m477[0m:[93m29[0m - [91merror[0m[90m ts(2739): [0mType '{}' is missing the following properties from type '{ emotionalIndicators: string[]; copingCapacity: "high" | "medium" | "low"; socialSupport: "unknown" | "strong" | "moderate" | "limited"; immediateNeeds: string[]; triggerEvents?: string[] | undefined; resilientFactors?: string[] | undefined; }': emotionalIndicators, copingCapacity, socialSupport, immediateNeeds

[7m477[0m       if (!result.metadata) result.metadata = {}
[7m   [0m [91m                            ~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m462[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisInterventionFlagged' does not exist on type '{ emotionalIndicators: string[]; copingCapacity: "high" | "medium" | "low"; socialSupport: "unknown" | "strong" | "moderate" | "limited"; immediateNeeds: string[]; triggerEvents?: string[] | undefined; resilientFactors?: string[] | undefined; }'.

[7m462[0m       result.metadata.crisisInterventionFlagged = true
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m461[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'requiresHumanReview' does not exist on type '{ emotionalIndicators: string[]; copingCapacity: "high" | "medium" | "low"; socialSupport: "unknown" | "strong" | "moderate" | "limited"; immediateNeeds: string[]; triggerEvents?: string[] | undefined; resilientFactors?: string[] | undefined; }'.

[7m461[0m       result.metadata.requiresHumanReview = true
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/support-context-identifier.ts[0m:[93m460[0m:[93m29[0m - [91merror[0m[90m ts(2739): [0mType '{}' is missing the following properties from type '{ emotionalIndicators: string[]; copingCapacity: "high" | "medium" | "low"; socialSupport: "unknown" | "strong" | "moderate" | "limited"; immediateNeeds: string[]; triggerEvents?: string[] | undefined; resilientFactors?: string[] | undefined; }': emotionalIndicators, copingCapacity, socialSupport, immediateNeeds

[7m460[0m       if (!result.metadata) result.metadata = {}
[7m   [0m [91m                            ~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m577[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '"test2"' is not assignable to type 'ObjectiveKey'.

[7m577[0m         { key: 'test2', priority: 2, weight: 0 },
[7m   [0m [91m          ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m576[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '"test1"' is not assignable to type 'ObjectiveKey'.

[7m576[0m         { key: 'test1', priority: 1, weight: 0 },
[7m   [0m [91m          ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m544[0m:[93m9[0m - [91merror[0m[90m ts(1117): [0mAn object literal cannot have multiple properties with the same name.

[7m544[0m         verbosityLevel: 'detailed', // Boosts informativeness (would override)
[7m   [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m505[0m:[93m46[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"conciseness"' have no overlap.

[7m505[0m       const conciseness = result.find(obj => obj.key === 'conciseness')!
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m475[0m:[93m42[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"clarity"' have no overlap.

[7m475[0m       const clarity = result.find(obj => obj.key === 'clarity')!
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m458[0m:[93m42[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"clarity"' have no overlap.

[7m458[0m       const clarity = result.find(obj => obj.key === 'clarity')!
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m415[0m:[93m46[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"conciseness"' have no overlap.

[7m415[0m       const conciseness = result.find(obj => obj.key === 'conciseness')!
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m342[0m:[93m59[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"conciseness"' have no overlap.

[7m342[0m       const baseline = createBaseObjectives().find(obj => obj.key === 'conciseness')!
[7m   [0m [91m                                                          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m341[0m:[93m46[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"conciseness"' have no overlap.

[7m341[0m       const conciseness = result.find(obj => obj.key === 'conciseness')!
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m291[0m:[93m33[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"warmth"' have no overlap.

[7m291[0m       expect(result.find(obj => obj.key === 'warmth')).toBeUndefined()
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m257[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"warmth"' is not assignable to type 'ObjectiveKey'.

[7m257[0m     { key: 'warmth', priority: 7, weight: 0.1 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m256[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"clarity"' is not assignable to type 'ObjectiveKey'.

[7m256[0m     { key: 'clarity', priority: 6, weight: 0.1 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m255[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"conciseness"' is not assignable to type 'ObjectiveKey'.

[7m255[0m     { key: 'conciseness', priority: 5, weight: 0.1 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m254[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"informativeness"' is not assignable to type 'ObjectiveKey'.

[7m254[0m     { key: 'informativeness', priority: 4, weight: 0.15 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m253[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"correctness"' is not assignable to type 'ObjectiveKey'.

[7m253[0m     { key: 'correctness', priority: 3, weight: 0.15 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m252[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"safety"' is not assignable to type 'ObjectiveKey'.

[7m252[0m     { key: 'safety', priority: 2, weight: 0.2 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m251[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '"empathy"' is not assignable to type 'ObjectiveKey'.

[7m251[0m     { key: 'empathy', priority: 1, weight: 0.2 },
[7m   [0m [91m      ~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m342[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'baseline' is declared but its value is never read.

[7m342[0m       const baseline = createBaseObjectives().find(obj => obj.key === 'conciseness')!
[7m   [0m [93m            ~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m9[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'VerbosityLevel' is declared but its value is never read.

[7m9[0m   type VerbosityLevel,
[7m [0m [93m       ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.test.ts[0m:[93m7[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'SupportStyle' is declared but its value is never read.

[7m7[0m   type SupportStyle,
[7m [0m [93m       ~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/prioritization/user-preferences.ts[0m:[93m452[0m:[93m7[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"conciseness"' have no overlap.

[7m452[0m       obj.key === 'conciseness'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/prioritization/user-preferences.ts[0m:[93m434[0m:[93m7[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'ObjectiveKey' and '"clarity"' have no overlap.

[7m434[0m       obj.key === 'clarity'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m349[0m:[93m87[0m - [91merror[0m[90m ts(18046): [0m'enhancedResult' is of type 'unknown'.

[7m349[0m             explanation: `Score improved from ${originalResult.score.toFixed(3)} to ${enhancedResult.score.toFixed(3)}`,
[7m   [0m [91m                                                                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m340[0m:[93m34[0m - [91merror[0m[90m ts(18046): [0m'enhancedResult' is of type 'unknown'.

[7m340[0m         const scoreImprovement = enhancedResult.score - originalResult.score
[7m   [0m [91m                                 ~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m164[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m164[0m           finalEvaluation.overallScore - initialEvaluation.overallScore
[7m   [0m [91m                                                           ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m164[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m164[0m           finalEvaluation.overallScore - initialEvaluation.overallScore
[7m   [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m162[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m162[0m         enhancedScore: finalEvaluation.overallScore.toFixed(3),
[7m   [0m [91m                                       ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m161[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m161[0m         originalScore: initialEvaluation.overallScore.toFixed(3),
[7m   [0m [91m                                         ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m118[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m118[0m           score: initialEvaluation.overallScore,
[7m   [0m [91m                                   ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m113[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'overallScore' does not exist on type 'EvaluationResponse'.

[7m113[0m         initialEvaluation.overallScore <
[7m   [0m [91m                          ~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../core/objectives"' has no exported member 'AlignmentMetrics'.

[7m9[0m   AlignmentMetrics,
[7m [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/metaaligner/processing/enhancement-pipeline.ts[0m:[93m8[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../core/objectives"' has no exported member 'AlignmentEvaluationResult'.

[7m8[0m   AlignmentEvaluationResult,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/streaming/streaming-handler.ts[0m:[93m42[0m:[93m16[0m - [91merror[0m[90m ts(2416): [0mProperty 'processStream' in type 'StreamingHandler' is not assignable to the same property in base type 'IStreamingHandler'.
  Type '(request: UnifiedProcessingRequest, onChunk: (chunk: UnifiedProcessingResponse) => void, onError: (error: Error) => void) => Promise<...>' is not assignable to type '(request: UnifiedProcessingRequest, onChunk: (chunk: UnifiedProcessingResponse) => void) => Promise<void>'.
    Target signature provides too few arguments. Expected 3 or more, but got 2.

[7m42[0m   public async processStream(
[7m  [0m [91m               ~~~~~~~~~~~~~[0m

[96msrc/lib/middleware/audit-logging.ts[0m:[93m225[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m225[0m         userRole = session.user.role || 'user'
[7m   [0m [91m                           ~~~~[0m
[96msrc/lib/middleware/audit-logging.ts[0m:[93m224[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m224[0m         userId = session.user.id
[7m   [0m [91m                         ~~~~[0m
[96msrc/lib/middleware/audit-logging.ts[0m:[93m223[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m223[0m       if (session?.user?.id) {
[7m   [0m [91m                   ~~~~[0m
[96msrc/lib/middleware/audit-logging.ts[0m:[93m222[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m222[0m       const session = await getSession(request)
[7m   [0m [91m                                       ~~~~~~~[0m

[96msrc/lib/middleware/csrf.ts[0m:[93m154[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to parameter of type 'import("astro").AstroCookies'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
      Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m154[0m         setCSRFCookie(cookies, csrfToken, config)
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/lib/middleware/csrf.ts[0m:[93m79[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '"none" | "strict" | "lax"' is not assignable to type 'boolean | "Lax" | "Strict" | "None" | undefined'.
  Type '"none"' is not assignable to type 'boolean | "Lax" | "Strict" | "None" | undefined'. Did you mean '"None"'?

[7m79[0m     sameSite: config.cookieSameSite,
[7m  [0m [91m    ~~~~~~~~[0m

[96msrc/lib/middleware/index.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'contentTypeMiddleware'.

[7m15[0m   contentTypeMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'securityHeadersMiddleware'.

[7m14[0m   securityHeadersMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'csrfMiddleware'.

[7m13[0m   csrfMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'corsMiddleware'.

[7m12[0m   corsMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'loggingMiddleware'.

[7m11[0m   loggingMiddleware,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m10[0m:[93m35[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'sequence'.

[7m10[0m export const middlewareSequence = sequence(
[7m  [0m [91m                                  ~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m1[0m:[93m46[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareNext'.

[7m1[0m import type { APIContext, MiddlewareHandler, MiddlewareNext } from 'astro'
[7m [0m [91m                                             ~~~~~~~~~~~~~~[0m
[96msrc/lib/middleware/index.ts[0m:[93m1[0m:[93m27[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareHandler'.

[7m1[0m import type { APIContext, MiddlewareHandler, MiddlewareNext } from 'astro'
[7m [0m [91m                          ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/middleware/logging.ts[0m:[93m33[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m33[0m       userId = session.user.id
[7m  [0m [91m                       ~~~~[0m
[96msrc/lib/middleware/logging.ts[0m:[93m32[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m32[0m     if (session?.user?.id) {
[7m  [0m [91m                 ~~~~[0m
[96msrc/lib/middleware/logging.ts[0m:[93m31[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m31[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m

[96msrc/lib/middleware/rate-limit.ts[0m:[93m140[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m140[0m       const role = session?.user?.role || 'anonymous'
[7m   [0m [91m                            ~~~~[0m
[96msrc/lib/middleware/rate-limit.ts[0m:[93m139[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m139[0m       const session = await getSession(request)
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/middleware/rate-limit.ts[0m:[93m58[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'userLimits' is declared but its value is never read.

[7m58[0m   private readonly userLimits: Record<string, number>
[7m  [0m [93m                   ~~~~~~~~~~[0m
[96msrc/lib/middleware/rate-limit.ts[0m:[93m57[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'windowMs' is declared but its value is never read.

[7m57[0m   private readonly windowMs: number
[7m  [0m [93m                   ~~~~~~~~[0m
[96msrc/lib/middleware/rate-limit.ts[0m:[93m56[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'defaultLimit' is declared but its value is never read.

[7m56[0m   private readonly defaultLimit: number
[7m  [0m [93m                   ~~~~~~~~~~~~[0m

[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m399[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m399[0m       notifications.push(this.sendWebhookNotification(alert))
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m395[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m395[0m       notifications.push(this.sendEmailNotification(alert))
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m391[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<void>' is not assignable to parameter of type 'never'.

[7m391[0m       notifications.push(this.sendSlackNotification(alert))
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'openai' or its corresponding type declarations.

[7m2[0m import { OpenAI } from 'openai'
[7m [0m [91m                       ~~~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m238[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m238[0m       id: `pattern_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                              ~~~~~~[0m
[96msrc/lib/monitoring/ai-monitoring-service.ts[0m:[93m217[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m217[0m       id: `anomaly_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                              ~~~~~~[0m

[96msrc/lib/monitoring/auth0-activity-tracking-service.ts[0m:[93m621[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m621[0m     await logSecurityEvent(SecurityEventType.CONFIGURATION_CHANGED, {
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m622[0m       configType: 'activity_tracking',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m624[0m       timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m625[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/lib/monitoring/auth0-activity-tracking-service.ts[0m:[93m598[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m598[0m       await logSecurityEvent(SecurityEventType.SESSION_TERMINATION_ERROR, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m599[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m602[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m603[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/monitoring/auth0-activity-tracking-service.ts[0m:[93m584[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m584[0m       await logSecurityEvent(SecurityEventType.SESSION_TERMINATED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m585[0m         userId: userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m587[0m         timestamp: new Date().toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m588[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/monitoring/auth0-activity-tracking-service.ts[0m:[93m373[0m:[93m11[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m373[0m           await logSecurityEvent(securityEvent.type, {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m374[0m             userId: securityEvent.userId,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m381[0m             timestamp: securityEvent.timestamp.toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m382[0m           })
[7m   [0m [93m~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/auth0-activity-tracking-service.ts[0m:[93m358[0m:[93m13[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m358[0m             await logSecurityEvent(SecurityEventType.AUTHENTICATION_SUCCESS, {
[7m   [0m [93m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m359[0m               userId: log.user_id,
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m363[0m               timestamp: new Date(String(log.date || '')).toISOString()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m364[0m             })
[7m   [0m [93m~~~~~~~~~~~~~~[0m

[96msrc/lib/monitoring/azure-insights.ts[0m:[93m19[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../config/azure.config' or its corresponding type declarations.

[7m19[0m       const module = await import('../../config/azure.config')
[7m  [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/monitoring/performanceMonitor.ts[0m:[93m552[0m:[93m31[0m - [91merror[0m[90m ts(2683): [0m'this' implicitly has type 'any' because it does not have a type annotation.

[7m552[0m     trends: ReturnType<typeof this.getPerformanceTrends>
[7m   [0m [91m                              ~~~~[0m
[96msrc/lib/monitoring/performanceMonitor.ts[0m:[93m9[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/monitoring' or its corresponding type declarations.

[7m9[0m } from '@/types/monitoring'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/performanceMonitor.ts[0m:[93m359[0m:[93m61[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m359[0m       id: `alert_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,
[7m   [0m [93m                                                            ~~~~~~[0m

[96msrc/lib/monitoring/service.ts[0m:[93m214[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(resource: PerformanceResourceTiming) => void' is not assignable to parameter of type '(value: PerformanceEntry, index: number, array: PerformanceEntry[]) => void'.
  Types of parameters 'resource' and 'value' are incompatible.
    Type 'PerformanceEntry' is missing the following properties from type 'PerformanceResourceTiming': connectEnd, connectStart, decodedBodySize, domainLookupEnd, and 15 more.

[7m214[0m     metrics.resources.forEach((resource: PerformanceResourceTiming) => {
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m156[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m156[0m         entries.forEach((entry) => {
[7m   [0m [93m                         ~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m154[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m154[0m       new PerformanceObserver((entryList) => {
[7m   [0m [93m                               ~~~~~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m148[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m148[0m         entries.forEach((entry) => {
[7m   [0m [93m                         ~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m146[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m146[0m       new PerformanceObserver((entryList) => {
[7m   [0m [93m                               ~~~~~~~~~[0m
[96msrc/lib/monitoring/service.ts[0m:[93m139[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m139[0m       new PerformanceObserver((entryList) => {
[7m   [0m [93m                               ~~~~~~~~~[0m

[96msrc/lib/monitoring/setup.ts[0m:[93m3[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/analytics/service' or its corresponding type declarations.

[7m3[0m import { AnalyticsService } from '@/lib/analytics/service'
[7m [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/monitoring/setup.ts[0m:[93m78[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m78[0m         list.getEntries().forEach((entry) => {
[7m  [0m [93m                                   ~~~~~[0m
[96msrc/lib/monitoring/setup.ts[0m:[93m77[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'list' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m77[0m       const observer = new PerformanceObserver((list) => {
[7m  [0m [93m                                                ~~~~[0m
[96msrc/lib/monitoring/setup.ts[0m:[93m26[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'redis' is declared but its value is never read.

[7m26[0m   private redis: RedisService
[7m  [0m [93m          ~~~~~[0m

[96msrc/lib/patient/patientManager.ts[0m:[93m315[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'therapistId' does not exist in type 'PatientUpdateData'.

[7m315[0m         { therapistId: toTherapistId },
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m10[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/patient' or its corresponding type declarations.

[7m10[0m } from '@/types/patient'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m352[0m:[93m73[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m352[0m     const reportId = `report_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`
[7m   [0m [93m                                                                        ~~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m178[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pDiag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m178[0m           patient.diagnosis.some((pDiag) =>
[7m   [0m [93m                                  ~~~~~[0m
[96msrc/lib/patient/patientManager.ts[0m:[93m111[0m:[93m56[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m111[0m     return `P${Date.now()}${Math.random().toString(36).substr(2, 5).toUpperCase()}`
[7m   [0m [93m                                                       ~~~~~~[0m

[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m347[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m347[0m       return true
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m344[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m344[0m         return false
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m324[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'void'.

[7m324[0m       return destination
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m320[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m320[0m       return true
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m311[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'boolean' is not assignable to type 'void'.

[7m311[0m       return true
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/polyfills/browser-polyfills.ts[0m:[93m300[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'void'.

[7m300[0m       return destination
[7m   [0m [91m      ~~~~~~[0m

[96msrc/lib/rate-limiting/analytics.ts[0m:[93m537[0m:[93m25[0m - [91merror[0m[90m ts(2556): [0mA spread argument must either have a tuple type or be passed to a rest parameter.

[7m537[0m         await redis.del(...keysToDelete)
[7m   [0m [91m                        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m425[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'defaultRuleSets'.

[7m425[0m     for (const ruleSet of defaultRuleSets) {
[7m   [0m [91m                          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m354[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'alert.details.errorRate' is of type 'unknown'.

[7m354[0m           alert.details.errorRate > thresholds.errorRate
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m349[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'alert.details.blockPercentage' is of type 'unknown'.

[7m349[0m           alert.details.blockPercentage > thresholds.blockedPercentage
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m343[0m:[93m35[0m - [91merror[0m[90m ts(18046): [0m'alert.details.blockedRate' is of type 'unknown'.

[7m343[0m         return !thresholds.rps || alert.details.blockedRate > thresholds.rps
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m145[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ hour: number; totalRequests: number; blockedRequests: number; attackDetections: number; errors: number; }' is not assignable to parameter of type 'never'.

[7m145[0m         hourlyData.push({
[7m   [0m [91m                        ~[0m
[7m146[0m           hour,
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m150[0m           errors: parseInt(data.error_total || '0'),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m151[0m         })
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m110[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'hourlyData' does not exist on type 'RateLimitAnalytics'.

[7m110[0m             analyticsEntry.hourlyData = hourlyData
[7m   [0m [91m                           ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m20[0m:[93m14[0m - [91merror[0m[90m ts(2395): [0mIndividual declarations in merged declaration 'RateLimitAnalytics' must be all exported or all local.

[7m20[0m export class RateLimitAnalytics {
[7m  [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'RateLimitAnalytics'.

[7m9[0m   RateLimitAnalytics,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/analytics.ts[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2395): [0mIndividual declarations in merged declaration 'RateLimitAnalytics' must be all exported or all local.

[7m9[0m   RateLimitAnalytics,
[7m [0m [91m  ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/rate-limiting/config.ts[0m:[93m309[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ enableAnalytics: boolean; enabled?: boolean | undefined; defaultWindowMs?: number | undefined; enableAttackDetection?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'enabled' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.

[7m309[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/config.ts[0m:[93m302[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ enableAttackDetection: boolean; enabled?: boolean | undefined; defaultWindowMs?: number | undefined; enableAnalytics?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'enabled' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.

[7m302[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/config.ts[0m:[93m295[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ defaultWindowMs: number; enabled?: boolean | undefined; enableAttackDetection?: boolean | undefined; enableAnalytics?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'enabled' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.

[7m295[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/config.ts[0m:[93m288[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ enabled: boolean; defaultWindowMs?: number | undefined; enableAttackDetection?: boolean | undefined; enableAnalytics?: boolean | undefined; }' is not assignable to type '{ enabled: boolean; defaultWindowMs: number; enableAttackDetection: boolean; enableAnalytics: boolean; }'.
  Types of property 'defaultWindowMs' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.

[7m288[0m     config.global = {
[7m   [0m [91m    ~~~~~~~~~~~~~[0m

[96msrc/lib/rate-limiting/index.ts[0m:[93m200[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'getMergedConfig'. Either declare one or provide an initializer.

[7m200[0m   getMergedConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m199[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'getConfigFromEnv'. Either declare one or provide an initializer.

[7m199[0m   getConfigFromEnv,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m198[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'getEnvironmentConfig'. Either declare one or provide an initializer.

[7m198[0m   getEnvironmentConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m197[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultWebSocketConfig'. Either declare one or provide an initializer.

[7m197[0m   defaultWebSocketConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m196[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultBetterAuthConfig'. Either declare one or provide an initializer.

[7m196[0m   defaultBetterAuthConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m195[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultDDoSConfig'. Either declare one or provide an initializer.

[7m195[0m   defaultDDoSConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m194[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultBypassRules'. Either declare one or provide an initializer.

[7m194[0m   defaultBypassRules,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m193[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultRuleSets'. Either declare one or provide an initializer.

[7m193[0m   defaultRuleSets,
[7m   [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m192[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'defaultRateLimitConfig'. Either declare one or provide an initializer.

[7m192[0m   defaultRateLimitConfig,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m189[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'createComprehensiveRateLimitMiddleware'. Either declare one or provide an initializer.

[7m189[0m   createComprehensiveRateLimitMiddleware,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m188[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'createBetterAuthRateLimitMiddleware'. Either declare one or provide an initializer.

[7m188[0m   createBetterAuthRateLimitMiddleware,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m187[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'createRateLimitMiddleware'. Either declare one or provide an initializer.

[7m187[0m   createRateLimitMiddleware,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m185[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'rateLimitAnalytics'. Either declare one or provide an initializer.

[7m185[0m   rateLimitAnalytics,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m184[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'RateLimitAnalytics'. Either declare one or provide an initializer.

[7m184[0m   RateLimitAnalytics,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m183[0m:[93m3[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'DistributedRateLimiter'. Either declare one or provide an initializer.

[7m183[0m   DistributedRateLimiter,
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m173[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m173[0m     recentAlerts: (await rateLimitAnalytics.getRecentAlerts(10)).length,
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m172[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m172[0m     monitors: (rateLimitAnalytics as unknown).monitors?.length || 0,
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m172[0m:[93m15[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m172[0m     monitors: (rateLimitAnalytics as unknown).monitors?.length || 0,
[7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m171[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'defaultRuleSets'.

[7m171[0m     rules: defaultRuleSets.reduce((total, set) => total + set.rules.length, 0),
[7m   [0m [91m           ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m170[0m:[93m14[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getMergedConfig'.

[7m170[0m     enabled: getMergedConfig().global.enabled,
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m165[0m:[93m5[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m165[0m     rateLimitAnalytics.getRealTimeMetrics(),
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m161[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m161[0m   analytics: Awaited<ReturnType<typeof rateLimitAnalytics.getRealTimeMetrics>>
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m122[0m:[93m32[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m122[0m     const recentAlerts = await rateLimitAnalytics.getRecentAlerts(10)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m119[0m:[93m8[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m119[0m       (rateLimitAnalytics as unknown as { monitors?: unknown[] }).monitors
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m116[0m:[93m30[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'rateLimitAnalytics'.

[7m116[0m     const analyticsHealthy = rateLimitAnalytics !== undefined
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m114[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'redis'.

[7m114[0m     const redisHealthy = (await redis.ping()) === 'PONG'
[7m   [0m [91m                                ~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m95[0m:[93m10[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createRateLimitMiddleware'.

[7m95[0m   return createRateLimitMiddleware({
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m92[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createBetterAuthRateLimitMiddleware'.

[7m92[0m     return createBetterAuthRateLimitMiddleware(betterAuthConfig)
[7m  [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m82[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createComprehensiveRateLimitMiddleware'.

[7m82[0m     return createComprehensiveRateLimitMiddleware({
[7m  [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m41[0m:[93m3[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'RateLimitAnalytics'.

[7m41[0m   RateLimitAnalytics,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m14[0m:[93m10[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'RateLimitAnalytics'.

[7m14[0m export { RateLimitAnalytics, rateLimitAnalytics } from './analytics'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m171[0m:[93m43[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'set' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m171[0m     rules: defaultRuleSets.reduce((total, set) => total + set.rules.length, 0),
[7m   [0m [93m                                          ~~~[0m
[96msrc/lib/rate-limiting/index.ts[0m:[93m171[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'total' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m171[0m     rules: defaultRuleSets.reduce((total, set) => total + set.rules.length, 0),
[7m   [0m [93m                                   ~~~~~[0m

[96msrc/lib/rate-limiting/middleware.ts[0m:[93m424[0m:[93m26[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RateLimitBypassRule'.

[7m424[0m   const authBypassRules: RateLimitBypassRule[] = []
[7m   [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/middleware.ts[0m:[93m25[0m:[93m3[0m - [91merror[0m[90m ts(2741): [0mProperty 'ruleSets' is missing in type '{}' but required in type 'RateLimitMiddlewareConfig'.

[7m25[0m   config: RateLimitMiddlewareConfig = {},
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/middleware.ts[0m:[93m431[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m431[0m         custom: async (context) => {
[7m   [0m [93m                       ~~~~~~~[0m

[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m244[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'identifier' is declared but its value is never read.

[7m244[0m     identifier: string,
[7m   [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m99[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'rule' is declared but its value is never read.

[7m99[0m     rule: RateLimitRule,
[7m  [0m [93m    ~~~~[0m
[96msrc/lib/rate-limiting/rate-limiter.ts[0m:[93m25[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m25[0m   constructor(private config: RateLimitConfig) { }
[7m  [0m [93m                      ~~~~~~[0m

[96msrc/lib/rate-limiting/__tests__/rate-limiter.test.ts[0m:[93m36[0m:[93m47[0m - [93mwarning[0m[90m ts(6133): [0m'sec' is declared but its value is never read.

[7m36[0m       setex: vi.fn().mockImplementation((key, sec, val) => {
[7m  [0m [93m                                              ~~~[0m

[96msrc/lib/repositories/emotionsRepository.ts[0m:[93m1[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../ai/emotions/dimensionalTypes"' has no exported member named 'DimensionalEmotionMap'. Did you mean 'DimensionalEmotion'?

[7m1[0m import type { DimensionalEmotionMap } from '../ai/emotions/dimensionalTypes'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/research/services/AnonymizationPipelineService.ts[0m:[93m147[0m:[93m48[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m147[0m       throw new Error(`Anonymization failed: ${error.message}`, { cause: error })
[7m   [0m [91m                                               ~~~~~[0m
[96msrc/lib/research/services/AnonymizationPipelineService.ts[0m:[93m452[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'k' is declared but its value is never read.

[7m452[0m     k: number,
[7m   [0m [93m    ~[0m

[96msrc/lib/research/services/EvidenceGenerationService.ts[0m:[93m40[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'queryEngine' is declared but its value is never read.

[7m40[0m   private queryEngine: ResearchQueryEngine
[7m  [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/research/services/EvidenceGenerationService.ts[0m:[93m39[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'patternService' is declared but its value is never read.

[7m39[0m   private patternService: PatternDiscoveryService
[7m  [0m [93m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m532[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m532[0m       results.errors.push(`Key rotation failed: ${error.message}`)
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m471[0m:[93m57[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m471[0m       results.errors.push(`Policy application failed: ${error.message}`)
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m457[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m457[0m               `Deletion failed for ${dataType}: ${error.message}`,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m444[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m444[0m               `Anonymization failed for ${dataType}: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m234[0m:[93m9[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'clientId' does not exist in type 'AuditLog'. Did you mean to write 'clientIds'?

[7m234[0m         clientId,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m219[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'createDecipher' does not exist on type 'typeof import("crypto")'. Did you mean 'createDecipheriv'?

[7m219[0m       const decipher = crypto.createDecipher(metadataObj.algorithm, key)
[7m   [0m [91m                              ~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m183[0m:[93m9[0m - [91merror[0m[90m ts(2561): [0mObject literal may only specify known properties, but 'clientId' does not exist in type 'AuditLog'. Did you mean to write 'clientIds'?

[7m183[0m         clientId,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m164[0m:[93m29[0m - [91merror[0m[90m ts(2551): [0mProperty 'createCipher' does not exist on type 'typeof import("crypto")'. Did you mean 'createCipheriv'?

[7m164[0m       const cipher = crypto.createCipher(this.config.encryptionAlgorithm, key)
[7m   [0m [91m                            ~~~~~~~~~~~~[0m
[96msrc/lib/research/services/HIPAADataService.ts[0m:[93m217[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_iv' is declared but its value is never read.

[7m217[0m       const _iv = Buffer.from(metadataObj.iv, 'hex')
[7m   [0m [93m            ~~~[0m

[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m581[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ clusterId: string; centroid: { [k: string]: number; }; members: string[]; size: number; characteristics: Record<string, { mean: number; stdDev: number; min: number; max: number; }>; }[]' is not assignable to type 'ClusterPattern[]'.
  Type '{ clusterId: string; centroid: { [k: string]: number; }; members: string[]; size: number; characteristics: Record<string, { mean: number; stdDev: number; min: number; max: number; }>; }' is not assignable to type 'ClusterPattern'.
    Types of property 'characteristics' are incompatible.
      Type 'Record<string, { mean: number; stdDev: number; min: number; max: number; }>' is not assignable to type 'Record<string, { mean: number; stdDev: number; distribution: Record<string, number>; }>'.
        'string' index signatures are incompatible.
          Property 'distribution' is missing in type '{ mean: number; stdDev: number; min: number; max: number; }' but required in type '{ mean: number; stdDev: number; distribution: Record<string, number>; }'.

[7m581[0m     return clusters.map((cluster, index) => ({
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m246[0m:[93m35[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type '{}' is missing the following properties from type 'Record<string, unknown>[]': length, pop, push, concat, and 35 more.

[7m246[0m     return this.performClustering(result.data, features)
[7m   [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m214[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type '{}' is missing the following properties from type 'Record<string, unknown>[]': length, pop, push, concat, and 35 more.

[7m214[0m         const metricAnomalies = this.detectAnomalies(result.data, metric)
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m180[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type '{}' is missing the following properties from type 'Record<string, unknown>[]': length, pop, push, concat, and 35 more.

[7m180[0m         const trend = this.calculateTrend(result.data, metric)
[7m   [0m [91m                                          ~~~~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m179[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m179[0m       if (result.data && result.data.length > 0) {
[7m   [0m [91m                                     ~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m147[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'map' does not exist on type '{}'.

[7m147[0m     return result.data.map((row: Record<string, unknown>) => ({
[7m   [0m [91m                       ~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m93[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: CorrelationPattern | TrendPattern | AnomalyPattern | ClusterPattern; }[]' is not assignable to type '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: Record<string, unknown>; visualization?: { type: "line" | "bar" | "scatter" | "heatmap" | "boxplot"; data: Record<...>[]; config: Record<...>; } | undefined; }[]'.
  Type '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: CorrelationPattern | TrendPattern | AnomalyPattern | ClusterPattern; }' is not assignable to type '{ id: string; description: string; confidence: number; statisticalSignificance: number; supportingData: Record<string, unknown>; visualization?: { type: "line" | "bar" | "scatter" | "heatmap" | "boxplot"; data: Record<...>[]; config: Record<...>; } | undefined; }'.
    Types of property 'supportingData' are incompatible.
      Type 'CorrelationPattern | TrendPattern | AnomalyPattern | ClusterPattern' is not assignable to type 'Record<string, unknown>'.
        Type 'CorrelationPattern' is not assignable to type 'Record<string, unknown>'.
          Index signature for type 'string' is missing in type 'CorrelationPattern'.

[7m93[0m         patterns: sortedPatterns.map((p, index) => ({
[7m  [0m [91m        ~~~~~~~~[0m
[96msrc/lib/research/services/PatternDiscoveryService.ts[0m:[93m603[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m603[0m       let index
[7m   [0m [93m          ~~~~~[0m

[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m679[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType 'AnonymizationAuditLog[]' is missing the following properties from type '{ kAnonymity: number; differentialPrivacyEpsilon: number; noiseLevel: number; suppressionRate: number; }': kAnonymity, differentialPrivacyEpsilon, noiseLevel, suppressionRate

[7m679[0m         anonymizationAudit: anonymizedData.auditLog,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m669[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{}' is not assignable to parameter of type 'ResearchDataPoint[]'.
  Type '{}' is missing the following properties from type 'ResearchDataPoint[]': length, pop, push, concat, and 35 more.

[7m669[0m         result.data,
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m130[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{}'.

[7m130[0m         resultSize: anonymizedResult.data?.length || 0,
[7m   [0m [91m                                           ~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m484[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m484[0m     userId: string,
[7m   [0m [93m    ~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngine.ts[0m:[93m39[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'hipaaService' is declared but its value is never read.

[7m39[0m   private hipaaService: HIPAADataService
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m712[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Break down complex queries into smaller, more focused analyses"' is not assignable to parameter of type 'never'.

[7m712[0m         'Break down complex queries into smaller, more focused analyses',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m705[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Similar queries detected. Consider reusing previous results when appropriate"' is not assignable to parameter of type 'never'.

[7m705[0m         'Similar queries detected. Consider reusing previous results when appropriate',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m699[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Consider adding more specific filters to reduce query execution time"' is not assignable to parameter of type 'never'.

[7m699[0m         'Consider adding more specific filters to reduce query execution time',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m684[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"High information loss due to anonymization. Results may be less precise."' is not assignable to parameter of type 'never'.

[7m684[0m         'High information loss due to anonymization. Results may be less precise.',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m676[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Query may take longer than expected to execute."' is not assignable to parameter of type 'never'.

[7m676[0m       warnings.push('Query may take longer than expected to execute.')
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m671[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"No results found for query. Consider broadening search criteria."' is not assignable to parameter of type 'never'.

[7m671[0m         'No results found for query. Consider broadening search criteria.',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m623[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"outcome_data_access"' is not assignable to parameter of type 'never'.

[7m623[0m     if (sql.includes('outcome')) permissions.push('outcome_data_access')
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m622[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"user_data_access"' is not assignable to parameter of type 'never'.

[7m622[0m     if (sql.includes('user_')) permissions.push('user_data_access')
[7m   [0m [91m                                                ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m621[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"session_data_access"' is not assignable to parameter of type 'never'.

[7m621[0m     if (sql.includes('session_')) permissions.push('session_data_access')
[7m   [0m [91m                                                   ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m620[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"emotional_data_access"' is not assignable to parameter of type 'never'.

[7m620[0m       permissions.push('emotional_data_access')
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m558[0m:[93m59[0m - [91merror[0m[90m ts(2339): [0mProperty 'anonymizeSessionData' does not exist on type 'AnonymizationPipelineService'.

[7m558[0m         const result = await anonymizationPipelineService.anonymizeSessionData(
[7m   [0m [91m                                                          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m469[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m469[0m         `session_date BETWEEN $${paramIndex} AND $${paramIndex + 1}`,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m460[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m460[0m         conditions.push(`primary_condition = $${paramIndex}`)
[7m   [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m413[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; value: string; }' is not assignable to parameter of type 'never'.

[7m413[0m       entities.push({ type: 'data_type', value: 'therapeutic_session' })
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m411[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; value: string; }' is not assignable to parameter of type 'never'.

[7m411[0m       entities.push({ type: 'condition', value: 'depression' })
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m409[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; value: string; }' is not assignable to parameter of type 'never'.

[7m409[0m       entities.push({ type: 'condition', value: 'anxiety' })
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m164[0m:[93m45[0m - [91merror[0m[90m ts(2339): [0mProperty 'message' does not exist on type '{}'.

[7m164[0m         `Query translation failed: ${error?.message ?? 'Unknown error'}`,
[7m   [0m [91m                                            ~~~~~~~[0m
[96msrc/lib/research/services/ResearchQueryEngineService.ts[0m:[93m15[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./ConsentManagementService"' has no exported member named 'consentManagementService'. Did you mean 'ConsentManagementService'?

[7m15[0m import { consentManagementService } from './ConsentManagementService'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/breach-notification.ts[0m:[93m417[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m417[0m     await redis.hset(monthKey, {
[7m   [0m [91m                ~~~~[0m

[96msrc/lib/security/dlp-integration.ts[0m:[93m150[0m:[93m35[0m - [91merror[0m[90m ts(18048): [0m'ctx.request' is possibly 'undefined'.

[7m150[0m               action: `download ${ctx.request.url}`,
[7m   [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/security/dlp-integration.ts[0m:[93m130[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'ctx.request' is possibly 'undefined'.

[7m130[0m         ctx.request.headers.get('content-disposition')?.includes('attachment')
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/security/dlp-integration.ts[0m:[93m129[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'ctx.request' is possibly 'undefined'.

[7m129[0m         ctx.request.url.includes('/export/') ||
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/security/dlp-integration.ts[0m:[93m125[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m125[0m       const userId = ctx.locals?.user?.id || 'unknown'
[7m   [0m [91m                                       ~~[0m

[96msrc/lib/security/encryptionManager.ts[0m:[93m289[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Uint8Array<ArrayBuffer>' is not assignable to parameter of type 'ArrayBuffer'.
  Type 'Uint8Array<ArrayBuffer>' is missing the following properties from type 'ArrayBuffer': maxByteLength, resizable, resize, detached, and 2 more.

[7m289[0m     return this.arrayBufferToBase64(tag)
[7m   [0m [91m                                    ~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m243[0m:[93m65[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ArrayBuffer | Uint8Array<ArrayBuffer>' is not assignable to parameter of type 'ArrayBuffer'.
  Type 'Uint8Array<ArrayBuffer>' is missing the following properties from type 'ArrayBuffer': maxByteLength, resizable, resize, detached, and 2 more.

[7m243[0m       const combined = this.combineCiphertextAndTag(ciphertext, tag)
[7m   [0m [91m                                                                ~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m200[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Uint8Array<ArrayBuffer>' is not assignable to parameter of type 'ArrayBuffer'.
  Type 'Uint8Array<ArrayBuffer>' is missing the following properties from type 'ArrayBuffer': maxByteLength, resizable, resize, detached, and 2 more.

[7m200[0m       iv: this.arrayBufferToBase64(iv),
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m50[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'keyRotationDays' is specified more than once, so this usage will be overwritten.

[7m50[0m       keyRotationDays: 90,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m6[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/types/crypto' or its corresponding type declarations.

[7m6[0m import type { CryptoKeyPair } from '@/types/crypto'
[7m [0m [91m                                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/encryptionManager.ts[0m:[93m109[0m:[93m67[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m109[0m     const keyId = `key_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                                  ~~~~~~[0m

[96msrc/lib/security/phiDetection.ts[0m:[93m469[0m:[93m48[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PHIEntity[]'.

[7m469[0m     return detector['fallbackRedaction'](text, entities)
[7m   [0m [91m                                               ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m465[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'entities' is of type 'unknown'.

[7m465[0m     if (entities.length === 0) {
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m313[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(text: string) => PHIEntity[]' is not assignable to parameter of type '(...args: unknown[]) => unknown'.
  Types of parameters 'text' and 'args' are incompatible.
    Type 'unknown' is not assignable to type 'string'.

[7m313[0m   private fallbackDetection = memoize((text: string): PHIEntity[] => {
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m265[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'PHIEntity[]'.

[7m265[0m         entities,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m252[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'PHIEntity[]'.

[7m252[0m           redactedText = await this.redactText(text, entities)
[7m   [0m [91m                                                     ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m247[0m:[93m30[0m - [91merror[0m[90m ts(18046): [0m'entities' is of type 'unknown'.

[7m247[0m       const hasDetectedPHI = entities.length > 0
[7m   [0m [91m                             ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m213[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'PHIEntity[]'.

[7m213[0m         entities = this.fallbackDetection(text)
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/security/phiDetection.ts[0m:[93m388[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'match' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m388[0m       let match
[7m   [0m [93m          ~~~~~[0m

[96msrc/lib/security/secrets-manager.ts[0m:[93m9[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"secrets-manager"' has no properties in common with type 'LoggerOptions'.

[7m9[0m const logger = getLogger('secrets-manager')
[7m [0m [91m                         ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/token.encryption.ts[0m:[93m105[0m:[93m46[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedData.slice' is deprecated.

[7m105[0m       const encryptedContent = encryptedData.slice(0, -16)
[7m   [0m [93m                                             ~~~~~[0m
[96msrc/lib/security/token.encryption.ts[0m:[93m104[0m:[93m37[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'encryptedData.slice' is deprecated.

[7m104[0m       const authTag = encryptedData.slice(-16)
[7m   [0m [93m                                    ~~~~~[0m

[96msrc/lib/security/verification.ts[0m:[93m46[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m46[0m     const decoded = JSON.parse(atob(token) as unknown)
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/verification.ts[0m:[93m23[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m23[0m       ...JSON.parse(JSON.stringify(payload) as unknown),
[7m  [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m76[0m:[93m30[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m76[0m       const sanitizedEntry = (auditLoggingService as unknown).sanitizeEntry({
[7m  [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m74[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'object'.

[7m74[0m       const hashSpy = vi.spyOn(auditLoggingService as unknown, 'hashValue')
[7m  [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m62[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'object'.

[7m62[0m         auditLoggingService as unknown,
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/audit.logging.test.ts[0m:[93m57[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'loggedEntry' is of type 'unknown'.

[7m57[0m       expect(loggedEntry.details.password).toBe('[REDACTED]')
[7m  [0m [91m             ~~~~~~~~~~~[0m

[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m305[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m305[0m       ;(redis.get as unknown)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m301[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m301[0m       ;(redis.keys as unknown).mockResolvedValue([
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m288[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m288[0m       ;(redis.keys as unknown).mockRejectedValue(new Error('Redis error'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m276[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m276[0m       ;(redis.get as unknown)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m272[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m272[0m       ;(redis.keys as unknown).mockResolvedValue([
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m242[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m242[0m       ;(redis.get as unknown).mockRejectedValue(new Error('Redis error'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m233[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m233[0m       ;(redis.get as unknown).mockResolvedValue(null)
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m221[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m221[0m       ;(redis.get as unknown).mockResolvedValue(
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m154[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ affectedUsers: unknown[]; type: "unauthorized_access"; severity: "high"; description: string; affectedData: string[]; detectionMethod: string; remediation: string; }' is not assignable to parameter of type 'Omit<BreachDetails, "id" | "timestamp" | "notificationStatus">'.
  Types of property 'affectedUsers' are incompatible.
    Type 'unknown[]' is not assignable to type 'string[]'.
      Type 'unknown' is not assignable to type 'string'.

[7m154[0m       await BreachNotificationSystem.reportBreach(largeBreachDetails)
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m136[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m136[0m       ;(sendEmail as unknown).mockRejectedValue(new Error('Email error'))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m128[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m128[0m       ;(auth['getUserById'] as unknown).mockResolvedValue({ id: 'user1' }) // User without email
[7m   [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m97[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m97[0m       ;(redis['set'] as unknown).mockRejectedValue(new Error('Redis error'))
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m67[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m67[0m     ;(sendEmail as unknown).mockResolvedValue(undefined)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m66[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m66[0m     ;(FHE['encrypt'] as unknown).mockResolvedValue('encrypted_data')
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m65[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m65[0m     ;(auth['getUserById'] as unknown).mockResolvedValue(mockUser)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m64[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m64[0m     ;(redis['keys'] as unknown).mockResolvedValue([])
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m63[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m63[0m     ;(redis['get'] as unknown).mockResolvedValue(null)
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m62[0m:[93m6[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m62[0m     ;(redis['set'] as unknown).mockResolvedValue('OK')
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/__tests__/breach-notification.test.ts[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"@/lib/fhe"' has no exported member 'FHE'.

[7m3[0m import { FHE } from '@/lib/fhe'
[7m [0m [91m         ~~~[0m

[96msrc/lib/security/__tests__/security-scanning.test.ts[0m:[93m35[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'baseline' is of type 'unknown'.

[7m35[0m       expect(baseline.baseline.security_policies).toBeDefined()
[7m  [0m [91m             ~~~~~~~~[0m
[96msrc/lib/security/__tests__/security-scanning.test.ts[0m:[93m34[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'baseline' is of type 'unknown'.

[7m34[0m       expect(baseline.baseline).toBeDefined()
[7m  [0m [91m             ~~~~~~~~[0m
[96msrc/lib/security/__tests__/security-scanning.test.ts[0m:[93m33[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'baseline' is of type 'unknown'.

[7m33[0m       expect(baseline.version).toBeDefined()
[7m  [0m [91m             ~~~~~~~~[0m

[96msrc/lib/security/baa/BaaDocumentGenerator.ts[0m:[93m30[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'BaaStatus'.

[7m30[0m       status: BaaStatus.DRAFT,
[7m  [0m [91m              ~~~~~~~~~[0m

[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m57[0m - [91merror[0m[90m ts(2322): [0mType '"TELEMEDICINE"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m39[0m - [91merror[0m[90m ts(2322): [0mType '"DATA_ANALYTICS"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m22[0m - [91merror[0m[90m ts(2322): [0mType '"CLOUD_SERVICE"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m                     ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m529[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '"EHR_VENDOR"' is not assignable to type 'BusinessAssociateType'.

[7m529[0m       ['EHR_VENDOR', 'CLOUD_SERVICE', 'DATA_ANALYTICS', 'TELEMEDICINE'],
[7m   [0m [91m       ~~~~~~~~~~~~[0m
[96msrc/lib/security/baa/BaaTemplateService.ts[0m:[93m503[0m:[93m28[0m - [91merror[0m[90m ts(18048): [0m'template.tags' is possibly 'undefined'.

[7m503[0m       if (criteria.tag && !template.tags.includes(criteria.tag)) {
[7m   [0m [91m                           ~~~~~~~~~~~~~[0m

[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m550[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"annual"' is not assignable to parameter of type '"monthly" | "once" | "quarterly" | "annually" | "semi_annually" | "biannually"'.

[7m550[0m       'annual',
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/lib/security/baa/ComplianceVerificationService.ts[0m:[93m529[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"annual"' is not assignable to parameter of type '"monthly" | "once" | "quarterly" | "annually" | "semi_annually" | "biannually"'.

[7m529[0m       'annual',
[7m   [0m [91m      ~~~~~~~~[0m

[96msrc/lib/security/backup/index.ts[0m:[93m97[0m:[93m30[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.
    Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'ArrayBufferView<ArrayBuffer>'.
        Types of property 'buffer' are incompatible.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength
  Overload 2 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.
    Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'ArrayBufferView<ArrayBuffer>'.
        Types of property 'buffer' are incompatible.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m97[0m           { name: 'AES-GCM', iv },
[7m  [0m [91m                             ~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m84[0m:[93m11[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.
    Argument of type 'Uint8Array<ArrayBufferLike>' is not assignable to parameter of type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'ArrayBufferView<ArrayBuffer>'.
        Types of property 'buffer' are incompatible.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m84[0m           key,
[7m  [0m [91m          ~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m65[0m:[93m30[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.
    Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'ArrayBufferView<ArrayBuffer>'.
        Types of property 'buffer' are incompatible.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength
  Overload 2 of 2, '(algorithm: AlgorithmIdentifier | RsaOaepParams | AesCtrParams | AesCbcParams | AesGcmParams, key: CryptoKey, data: BufferSource): Promise<...>', gave the following error.
    Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'ArrayBufferView<ArrayBuffer>'.
        Types of property 'buffer' are incompatible.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m65[0m           { name: 'AES-GCM', iv },
[7m  [0m [91m                             ~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m59[0m:[93m11[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.
    Argument of type 'Uint8Array<ArrayBufferLike>' is not assignable to parameter of type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'ArrayBufferView<ArrayBuffer>'.
        Types of property 'buffer' are incompatible.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m59[0m           key,
[7m  [0m [91m          ~~~[0m
[96msrc/lib/security/backup/index.ts[0m:[93m458[0m:[93m11[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m458[0m         ? await dlpService.scanContent(new TextDecoder().decode(data), {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m459[0m             userId: 'system',
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m461[0m             metadata: { mode: 'backup' },
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m462[0m           })
[7m   [0m [93m~~~~~~~~~~~~[0m

[96msrc/lib/security/consent/ConsentService.ts[0m:[93m109[0m:[93m14[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ id: string; consentTypeId: string; optionName: string; description: string; isRequired: boolean; defaultValue: string; displayOrder: number; createdAt: string; updatedAt: string; }[]' to type 'ConsentOption[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; consentTypeId: string; optionName: string; description: string; isRequired: boolean; defaultValue: string; displayOrder: number; createdAt: string; updatedAt: string; }' is not comparable to type 'ConsentOption'.
    Types of property 'defaultValue' are incompatible.
      Type 'string' is not comparable to type 'boolean'.

[7m109[0m       return data.map((option: unknown) => ({
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m110[0m         id: (option as Record<string, unknown>)['id'] as string,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m130[0m         updatedAt: (option as Record<string, unknown>)['updated_at'] as string,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m131[0m       })) as ConsentOption[]
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/pii/index.ts[0m:[93m15[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../fhe/fhe-service' or its corresponding type declarations.

[7m15[0m import type { RealFHEService } from '../../fhe/fhe-service'
[7m  [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/pii/middleware.ts[0m:[93m123[0m:[93m3[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(context: APIContext, next: MiddlewareNext) => Promise<any>' is not assignable to parameter of type 'MiddlewareHandler'.
  Types of parameters 'context' and 'context' are incompatible.
    Type 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/types/public/context").APIContext' is not assignable to type 'import("astro").APIContext'.
      The types returned by 'cookies.get(...)' are incompatible between these types.
        Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
          Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m123[0m   async (context: APIContext, next: MiddlewareNext) => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/pii/middleware.ts[0m:[93m12[0m:[93m27[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareNext'.

[7m12[0m import type { APIContext, MiddlewareNext } from 'astro'
[7m  [0m [91m                          ~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1476[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1476[0m   get config(): ResponseOrchestratorConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1461[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1461[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1417[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1417[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1343[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1343[0m       logger.error('Failed to get active responses', { error: error.message })
[7m    [0m [91m                                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1326[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1326[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1308[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1308[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1279[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1279[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1193[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1193[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1163[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1163[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m1125[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1125[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m625[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m625[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m504[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m504[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m491[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m491[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m451[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m451[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m400[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m400[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m293[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m293[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m261[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m261[0m       logger.error('Failed to setup Redis pub/sub', { error: error.message })
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m254[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m254[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m250[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m250[0m           const responseData = JSON.parse(message)
[7m   [0m [91m                                          ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m242[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m242[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m238[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m238[0m           const threatData = JSON.parse(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m221[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m221[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m195[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m195[0m         `Failed to initialize response orchestrator: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m192[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m192[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m147[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m147[0m   constructor(private config: ResponseOrchestratorConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m141[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m141[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m140[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'responsesCollection' has no initializer and is not definitely assigned in the constructor.

[7m140[0m   private responsesCollection: Collection<ThreatResponse>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m139[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m139[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m138[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m138[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/AutomatedThreatResponseOrchestrator.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1289[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1289[0m   get config(): EdgeDetectionConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1272[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1272[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1259[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'shutdown' does not exist on type 'BiasDetectionEngine'.

[7m1259[0m       await this.biasDetector.shutdown()
[7m    [0m [91m                              ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1227[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'DetectionInput'.

[7m1227[0m       const bPriority = priorityOrder[b.metadata?.priority || 'medium']
[7m    [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1226[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'DetectionInput'.

[7m1226[0m       const aPriority = priorityOrder[a.metadata?.priority || 'medium']
[7m    [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1220[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'metadata' does not exist in type 'DetectionInput'.

[7m1220[0m       metadata: { ...input.context, priority, requestId },
[7m    [0m [91m      ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1153[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1153[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1114[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1114[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1104[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1104[0m             error: error.message,
[7m    [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1101[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ input: DetectionInput; }' is not assignable to parameter of type '{ id: string; input: DetectionInput; priority?: "high" | "medium" | "low" | undefined; }'.
  Property 'id' is missing in type '{ input: DetectionInput; }' but required in type '{ id: string; input: DetectionInput; priority?: "high" | "medium" | "low" | undefined; }'.

[7m1101[0m           return await this.processDetectionRequest({ input })
[7m    [0m [91m                                                    ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m1055[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m1055[0m       this.cache.delete(firstKey)
[7m    [0m [91m                        ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m924[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m924[0m               value: input.data.process_id,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m914[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m914[0m               value: input.data.hash,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m904[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m904[0m               value: input.data.user_id,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m894[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m894[0m               value: input.data.ip_address,
[7m   [0m [91m              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m786[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m786[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m704[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m704[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m688[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyze' does not exist on type 'BiasDetectionEngine'.

[7m688[0m       const biasResult = await this.biasDetector.analyze({
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m614[0m:[93m5[0m - [91merror[0m[90m ts(2739): [0mType 'Record<string, ModelResult>' is missing the following properties from type '{ anomaly: ModelResult; classification: ModelResult; clustering: ModelResult; prediction: ModelResult; }': anomaly, classification, clustering, prediction

[7m614[0m     return results
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m608[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'startTime'.

[7m608[0m           processing_time: Date.now() - startTime,
[7m   [0m [91m                                        ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m595[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m595[0m           error: error.message,
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m534[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m534[0m     return features.slice(0, 10)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m516[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m516[0m     return features.slice(0, 10)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m498[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m498[0m     return features.slice(0, 10)
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m480[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{}[]' is not assignable to type 'number[]'.
  Type '{}' is not assignable to type 'number'.

[7m480[0m     return features.slice(0, 10) // Ensure consistent length
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m457[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m457[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m420[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m420[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m312[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m312[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m301[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m301[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m297[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m297[0m           const update = JSON.parse(message)
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m287[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m287[0m               error: error.message,
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m283[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m283[0m             const request = JSON.parse(message)
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m262[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m262[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m221[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m221[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m209[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m209[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m173[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m173[0m         `Failed to initialize edge threat detection: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m168[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m168[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m124[0m:[93m13[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m124[0m     private config: EdgeDetectionConfig,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/EdgeThreatDetectionSystem.ts[0m:[93m567[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m567[0m         const prediction = (await model.predict(inputTensor)) as tf.Tensor
[7m   [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1972[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isValidEmail' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1972[0m           return this.isValidEmail(value)
[7m    [0m [91m                      ~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1970[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isValidURL' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1970[0m           return this.isValidURL(value)
[7m    [0m [91m                      ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1968[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'isValidHash' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1968[0m           return this.isValidHash(value)
[7m    [0m [91m                      ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1808[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ insertOne: { document: ThreatIndicator; }; }' is not assignable to parameter of type 'never'.

[7m1808[0m           operations.push({
[7m    [0m [91m                          ~[0m
[7m1809[0m             insertOne: {
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1811[0m             },
[7m    [0m [91m~~~~~~~~~~~~~~[0m
[7m1812[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1787[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ updateOne: { filter: { id: string; }; update: { $set: { confidence: number; severity: "high" | "medium" | "low" | "critical"; threat_type: string; description: string; last_seen: Date; tags: string[]; attributes: Record<...>; relationships: ThreatRelationship[]; raw_data: Record<...> | undefined; }; }; }; }' is not assignable to parameter of type 'never'.

[7m1787[0m           operations.push({
[7m    [0m [91m                          ~[0m
[7m1788[0m             updateOne: {
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1803[0m             },
[7m    [0m [91m~~~~~~~~~~~~~~[0m
[7m1804[0m           })
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1593[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateIndicator' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1593[0m       return this.validateIndicator(indicator, transformation.parameters)
[7m    [0m [91m                  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1577[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'getIPGeolocation' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1577[0m         indicator.attributes.geolocation = await this.getIPGeolocation(
[7m    [0m [91m                                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1554[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'normalizeIndicatorValue' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1554[0m         indicator.value = this.normalizeIndicatorValue(
[7m    [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1541[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'evaluateFilterCondition' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1541[0m       return this.evaluateFilterCondition(fieldValue, transformation.parameters)
[7m    [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1538[0m:[93m27[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'ThreatIndicator' to type 'Record<string, unknown>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Index signature for type 'string' is missing in type 'ThreatIndicator'.

[7m1538[0m       const fieldValue = (indicator as Record<string, unknown>)[
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1521[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapConfidence' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1521[0m         indicator.confidence = this.mapConfidence(
[7m    [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1516[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSeverity' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1516[0m         indicator.severity = this.mapSeverity(
[7m    [0m [91m                                  ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1201[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapMISPToThreatType' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1201[0m         threat_type: this.mapMISPToThreatType(attribute),
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1200[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapMISPToSeverity' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1200[0m         severity: this.mapMISPToSeverity(attribute),
[7m    [0m [91m                       ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1199[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapMISPToConfidence' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1199[0m         confidence: this.mapMISPToConfidence(attribute),
[7m    [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1197[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"email" | "file" | "url" | "domain" | "hash" | "behavior" | "ip" | "vulnerability"'.

[7m1197[0m         type: indicatorType,
[7m    [0m [91m        ~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1092[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSTIXReliability' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1092[0m         source_reliability: this.mapSTIXReliability(
[7m    [0m [91m                                 ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1080[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'extractThreatTypeFromSTIX' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1080[0m         threat_type: this.extractThreatTypeFromSTIX(stixObject),
[7m    [0m [91m                          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1077[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSTIXSeverity' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1077[0m         severity: this.mapSTIXSeverity(
[7m    [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1074[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'mapSTIXConfidence' does not exist on type 'ExternalThreatFeedIntegration'.

[7m1074[0m         confidence: this.mapSTIXConfidence(
[7m    [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1072[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"email" | "file" | "url" | "domain" | "hash" | "behavior" | "ip" | "vulnerability"'.

[7m1072[0m         type: indicatorType,
[7m    [0m [91m        ~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m988[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m988[0m           indicators = await this.processXMLData(rawData, feed)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m985[0m:[93m50[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m985[0m           indicators = await this.processCSVData(rawData, feed)
[7m   [0m [91m                                                 ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m832[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m832[0m       await this.updateFeedStatus(feedId, 'error')
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m774[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedAfterSync' does not exist on type 'ExternalThreatFeedIntegration'.

[7m774[0m       await this.updateFeedAfterSync(feedId, result)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m735[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'meetsQualityThresholds' does not exist on type 'ExternalThreatFeedIntegration'.

[7m735[0m       if (!this.meetsQualityThresholds(qualityMetrics)) {
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m711[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m711[0m       await this.updateFeedStatus(feedId, 'active')
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m701[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'createSkippedResult' does not exist on type 'ExternalThreatFeedIntegration'.

[7m701[0m         return this.createSkippedResult(resultId, feedId, startTime)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m674[0m:[93m58[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m674[0m       logger.error('Failed to add threat feed', { error: error.message })
[7m   [0m [91m                                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m609[0m:[93m10[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m609[0m     this.updateFeedStatus(feedId, 'error').catch((err: unknown) => {
[7m   [0m [91m         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m510[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m510[0m     return token
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m507[0m:[93m56[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string | number | Buffer<ArrayBufferLike>'.
  Type 'null' is not assignable to type 'string | number | Buffer<ArrayBufferLike>'.

[7m507[0m       await this.redis.setex(tokenKey, expiresIn - 60, token) // Refresh 1 minute early
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m507[0m:[93m40[0m - [91merror[0m[90m ts(18048): [0m'expiresIn' is possibly 'undefined'.

[7m507[0m       await this.redis.setex(tokenKey, expiresIn - 60, token) // Refresh 1 minute early
[7m   [0m [91m                                       ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m450[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'string'.

[7m450[0m           password: auth.credentials.password,
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m449[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'string'.

[7m449[0m           username: auth.credentials.username,
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m441[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'AxiosHeaderValue | undefined'.

[7m441[0m         client.defaults.headers.common['X-API-Key'] = auth.credentials.api_key
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m362[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateFeedStatus' does not exist on type 'ExternalThreatFeedIntegration'.

[7m362[0m           await this.updateFeedStatus(statusData.feed_id, statusData.status)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m361[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m361[0m           const statusData = JSON.parse(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m348[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m348[0m           const syncData = JSON.parse(message)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m272[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'startSyncProcessing' does not exist on type 'ExternalThreatFeedIntegration'.

[7m272[0m       this.startSyncProcessing()
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m224[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m224[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m223[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'syncResultsCollection' has no initializer and is not definitely assigned in the constructor.

[7m223[0m   private syncResultsCollection: Collection<FeedSyncResult>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m222[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'indicatorsCollection' has no initializer and is not definitely assigned in the constructor.

[7m222[0m   private indicatorsCollection: Collection<ThreatIndicator>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m221[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'feedsCollection' has no initializer and is not definitely assigned in the constructor.

[7m221[0m   private feedsCollection: Collection<ThreatFeed>
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m220[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m220[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m219[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m219[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m1390[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m1390[0m     data: string,
[7m    [0m [93m    ~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m547[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_requestsThisDay' is declared but its value is never read.

[7m547[0m     let _requestsThisDay = 0
[7m   [0m [93m        ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m546[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_requestsThisHour' is declared but its value is never read.

[7m546[0m     let _requestsThisHour = 0
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m545[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_requestsThisMinute' is declared but its value is never read.

[7m545[0m     let _requestsThisMinute = 0
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m229[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'activeSyncs' is declared but its value is never read.

[7m229[0m   private activeSyncs = new Map<string, Promise<void>>()
[7m   [0m [93m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m228[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isProcessing' is declared but its value is never read.

[7m228[0m   private isProcessing = false
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ExternalThreatFeedIntegration.ts[0m:[93m227[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'syncQueue' is declared but its value is never read.

[7m227[0m   private syncQueue: string[] = []
[7m   [0m [93m          ~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m807[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m807[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m772[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m772[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m753[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m753[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m713[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m713[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m701[0m:[93m42[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m701[0m       this.emit('health:error', { error: error.message, region: this.region })
[7m   [0m [91m                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m698[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m698[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m650[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m650[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m609[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m609[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m574[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m574[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m549[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m549[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m501[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m501[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m482[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m482[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m416[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m416[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m407[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'created_at' does not exist in type 'OptionalId<ThreatIntelligence>'.

[7m407[0m           created_at: new Date(),
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m294[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m294[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m237[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m237[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m228[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m228[0m               this.handleIncomingThreat(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m219[0m:[93m35[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m219[0m         this.handleIncomingThreat(message)
[7m   [0m [91m                                  ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m202[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m202[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m164[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m164[0m         `Failed to initialize threat intelligence network: ${error.message}`,
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m160[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m160[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m122[0m:[93m24[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 8, '(path: string, options: RedisOptions): Redis', gave the following error.
    Object literal may only specify known properties, and 'retryDelayOnFailover' does not exist in type 'RedisOptions'.
  Overload 2 of 8, '(port: number, options: RedisOptions): Redis', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.
  Overload 3 of 8, '(port: number, host: string): Redis', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'number'.

[7m122[0m       this.redis = new Redis(this.config.redis.url, {
[7m   [0m [91m                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m98[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'sharingCollection' has no initializer and is not definitely assigned in the constructor.

[7m98[0m   private sharingCollection: Collection<any>
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m97[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'threatsCollection' has no initializer and is not definitely assigned in the constructor.

[7m97[0m   private threatsCollection: Collection<ThreatIntelligence>
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m96[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m96[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m95[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m95[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m94[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m94[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m14[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m14[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/GlobalThreatIntelligenceNetwork.ts[0m:[93m13[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../encryption' or its corresponding type declarations.

[7m13[0m import { encrypt, decrypt } from '../encryption'
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1799[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1799[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1774[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1774[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1769[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'Document[]' is not assignable to type '{ _id: string; count: number; }[]'.
  Type 'Document' is missing the following properties from type '{ _id: string; count: number; }': _id, count

[7m1769[0m         confidence_distribution: confidenceDistribution,
[7m    [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1717[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1717[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1703[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m1703[0m         if (query.endDate) filter.timestamp.$lte = query.endDate
[7m    [0m [91m                           ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1702[0m:[93m30[0m - [91merror[0m[90m ts(18046): [0m'filter.timestamp' is of type 'unknown'.

[7m1702[0m         if (query.startDate) filter.timestamp.$gte = query.startDate
[7m    [0m [91m                             ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1671[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1671[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1651[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1651[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1645[0m:[93m17[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 3, '(filter: Filter<ThreatCorrelation>, options?: (FindOptions & Abortable) | undefined): FindCursor<WithId<ThreatCorrelation>>', gave the following error.
    Type 'string' is not assignable to type 'Condition<"behavioral" | "temporal" | "attribution" | "spatial"> | undefined'.
  Overload 2 of 3, '(filter: Filter<ThreatCorrelation>, options?: (FindOptions & Abortable) | undefined): FindCursor<Document>', gave the following error.
    Type 'string' is not assignable to type 'Condition<"behavioral" | "temporal" | "attribution" | "spatial"> | undefined'.

[7m1645[0m         .find({ correlation_type: type })
[7m    [0m [91m                ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1629[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1629[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1603[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'created_at' does not exist in type 'OptionalId<ThreatCorrelation>'.

[7m1603[0m         created_at: new Date(),
[7m    [0m [91m        ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1427[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | { name?: string | undefined; coordinates?: { latitude: number; longitude: number; } | undefined; } | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m1427[0m       location: threat.location?.name || threat.location,
[7m    [0m [91m      ~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1373[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ latitude: number; longitude: number; } | undefined' is not assignable to parameter of type 'DistanceCoordinates'.
  Type 'undefined' is not assignable to type 'DistanceCoordinates'.

[7m1373[0m         const distance = this.calculateDistance(coordinates[i], coordinates[j])
[7m    [0m [91m                                                ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1335[0m:[93m16[0m - [91merror[0m[90m ts(2538): [0mType '{}' cannot be used as an index type.

[7m1335[0m         groups[value].push(item)
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1334[0m:[93m32[0m - [91merror[0m[90m ts(2538): [0mType '{}' cannot be used as an index type.

[7m1334[0m         groups[value] = groups[value] || []
[7m    [0m [91m                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1334[0m:[93m16[0m - [91merror[0m[90m ts(2538): [0mType '{}' cannot be used as an index type.

[7m1334[0m         groups[value] = groups[value] || []
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1321[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1321[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1233[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1233[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1220[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationResult' is not assignable to parameter of type 'AttributionCorrelationResult'.
  Types of property 'confidence_factors' are incompatible.
    Type 'Record<string, number> | undefined' is not assignable to type 'Record<string, number>'.
      Type 'undefined' is not assignable to type 'Record<string, number>'.

[7m1220[0m               this.generateAttributionRecommendations(correlation),
[7m    [0m [91m                                                      ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1181[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1181[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m996[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m996[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m842[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ latitude: number; longitude: number; } | undefined' is not assignable to parameter of type 'DistanceCoordinates'.
  Type 'undefined' is not assignable to type 'DistanceCoordinates'.

[7m842[0m         const distance = this.calculateDistance(coordinates[i], coordinates[j])
[7m   [0m [91m                                                ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m823[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m823[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m738[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ latitude: number; longitude: number; } | undefined' is not assignable to parameter of type 'DistanceCoordinates'.
  Type 'undefined' is not assignable to type 'DistanceCoordinates'.

[7m738[0m           threat.location?.coordinates,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m710[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m710[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m659[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m659[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m655[0m:[93m9[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'time_span'. Either declare one or provide an initializer.

[7m655[0m         time_span,
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m532[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m532[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m483[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m483[0m       logger.error('Failed to analyze correlations', { error: error.message })
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m425[0m:[93m61[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m425[0m       logger.error('Failed to get threats by IDs', { error: error.message })
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m409[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m409[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m360[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m360[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m335[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m335[0m       logger.error('Failed to setup Redis pub/sub', { error: error.message })
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m328[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m328[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m324[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m324[0m           const threatData = JSON.parse(message)
[7m   [0m [91m                                        ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m307[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m307[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m277[0m:[93m60[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m277[0m         `Failed to initialize threat correlation engine: ${error.message}`,
[7m   [0m [91m                                                           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m274[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m274[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m224[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m224[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m223[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'correlationsCollection' has no initializer and is not definitely assigned in the constructor.

[7m223[0m   private correlationsCollection: Collection<ThreatCorrelation>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m222[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'threatsCollection' has no initializer and is not definitely assigned in the constructor.

[7m222[0m   private threatsCollection: Collection<ThreatData>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m221[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m221[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m220[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m220[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m1757[0m:[93m12[0m - [93mwarning[0m[90m ts(6385): [0m'(options?: CountOptions | undefined): Promise<number>' is deprecated.

[7m1757[0m           .count(),
[7m    [0m [93m           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatCorrelationEngine.ts[0m:[93m904[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threats' is declared but its value is never read.

[7m904[0m     threats: ThreatData[],
[7m   [0m [93m    ~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1551[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1551[0m   get config(): ThreatHuntingSystemConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1536[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1536[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1493[0m:[93m65[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1493[0m       logger.error('Failed to get hunting statistics', { error: error.message })
[7m    [0m [91m                                                                ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1441[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1441[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1419[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1419[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1404[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1404[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1373[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1373[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1349[0m:[93m61[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1349[0m       logger.error('Failed to process hunt queue', { error: error.message })
[7m    [0m [91m                                                            ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1340[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1340[0m             error: error.message,
[7m    [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1298[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1298[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1261[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1261[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1234[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1234[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m825[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"file"' is not assignable to type '"process" | "file_hash" | "log_entry" | "network_connection" | "registry_key" | "user_activity"'.

[7m825[0m               type: 'file',
[7m   [0m [91m              ~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m552[0m:[93m48[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m552[0m             message: `Hunt execution failed: ${error.message}`,
[7m   [0m [91m                                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m537[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m537[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m406[0m:[93m61[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m406[0m       logger.error('Failed to create threat hunt', { error: error.message })
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m347[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m347[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m310[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m310[0m       logger.error('Failed to setup Redis pub/sub', { error: error.message })
[7m   [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m303[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m303[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m299[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m299[0m           const dataInfo = JSON.parse(message)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m291[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m291[0m             error: error.message,
[7m   [0m [91m                   ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m287[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m287[0m           const huntData = JSON.parse(message)
[7m   [0m [91m                                      ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m270[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m270[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m235[0m:[93m56[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m235[0m         `Failed to initialize threat hunting system: ${error.message}`,
[7m   [0m [91m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m232[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m232[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m184[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m184[0m   constructor(private config: ThreatHuntingSystemConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m178[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m178[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m177[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'falsePositivesCollection' has no initializer and is not definitely assigned in the constructor.

[7m177[0m   private falsePositivesCollection: Collection<FalsePositive>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m176[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'resultsCollection' has no initializer and is not definitely assigned in the constructor.

[7m176[0m   private resultsCollection: Collection<HuntResult>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m175[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'huntsCollection' has no initializer and is not definitely assigned in the constructor.

[7m175[0m   private huntsCollection: Collection<ThreatHunt>
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m174[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m174[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m173[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m173[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatHuntingSystem.ts[0m:[93m1165[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'executionLog' is declared but its value is never read.

[7m1165[0m     executionLog: ExecutionLogEntry[],
[7m    [0m [93m    ~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1330[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1330[0m   get config(): ThreatIntelligenceDatabaseConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1315[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1315[0m       logger.error('Error during shutdown', { error: error.message })
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1291[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1291[0m       logger.error('Failed to import STIX objects', { error: error.message })
[7m    [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1250[0m:[93m62[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1250[0m       logger.error('Failed to export STIX objects', { error: error.message })
[7m    [0m [91m                                                             ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1193[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1193[0m         error: error.message,
[7m    [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1143[0m:[93m59[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1143[0m       logger.error('Failed to perform indexing', { error: error.message })
[7m    [0m [91m                                                          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1117[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1117[0m               error: error.message,
[7m    [0m [91m                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1059[0m:[93m58[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1059[0m       logger.error('Failed to process malware', { error: error.message })
[7m    [0m [91m                                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m1021[0m:[93m60[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1021[0m       logger.error('Failed to process indicator', { error: error.message })
[7m    [0m [91m                                                           ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m979[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m979[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m881[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m881[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m811[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m811[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m802[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'collection_id' does not exist in type 'WithoutId<TAXIIManifestEntry>'.

[7m802[0m           collection_id: collectionId,
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m783[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m783[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m711[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m711[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m689[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m689[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m657[0m:[93m64[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m657[0m       logger.error('Failed to get TAXII collections', { error: error.message })
[7m   [0m [91m                                                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m629[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m629[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m557[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m557[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m428[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m428[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m309[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m309[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m267[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m267[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m224[0m:[93m63[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m224[0m         `Failed to initialize threat intelligence database: ${error.message}`,
[7m   [0m [91m                                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m221[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m221[0m         error: error.message,
[7m   [0m [91m               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m172[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m172[0m   constructor(private config: ThreatIntelligenceDatabaseConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m168[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m168[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m167[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'manifestCollection' has no initializer and is not definitely assigned in the constructor.

[7m167[0m   private manifestCollection: Collection<TAXIIManifestEntry>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m166[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'collectionsCollection' has no initializer and is not definitely assigned in the constructor.

[7m166[0m   private collectionsCollection: Collection<DatabaseCollection>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m165[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'stixCollection' has no initializer and is not definitely assigned in the constructor.

[7m165[0m   private stixCollection: Collection<DatabaseThreatIntelligence>
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m164[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m164[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m163[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m163[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m14[0m:[93m34[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../encryption' or its corresponding type declarations.

[7m14[0m import { encrypt, decrypt } from '../encryption'
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatIntelligenceDatabase.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../audit-logging' or its corresponding type declarations.

[7m13[0m import { auditLog } from '../audit-logging'
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m1918[0m:[93m7[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m1918[0m   get config(): ThreatValidationSystemConfig {
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m805[0m:[93m63[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'threatData'.

[7m805[0m       const patternCheck = await this.validateAgainstPatterns(threatData)
[7m   [0m [91m                                                              ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m786[0m:[93m70[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'threatData'.

[7m786[0m       const crossRefCheck = await this.crossReferenceExternalSources(threatData)
[7m   [0m [91m                                                                     ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m768[0m:[93m64[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'threatData'.

[7m768[0m       const consistencyCheck = await this.checkDataConsistency(threatData)
[7m   [0m [91m                                                               ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m715[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m715[0m     if (validation.validation_types.includes('compliance')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m703[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m703[0m     if (validation.validation_types.includes('reliability')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m691[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m691[0m     if (validation.validation_types.includes('timeliness')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m679[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m679[0m     if (validation.validation_types.includes('completeness')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m667[0m:[93m20[0m - [91merror[0m[90m ts(2551): [0mProperty 'validation_types' does not exist on type 'ThreatValidation'. Did you mean 'validation_type'?

[7m667[0m     if (validation.validation_types.includes('accuracy')) {
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m500[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"accuracy" | "completeness" | "timeliness" | "reliability" | "compliance"'.

[7m500[0m         validation_type: queueItem.validation_types[0] || 'accuracy',
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m308[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m308[0m           const completionData = JSON.parse(message)
[7m   [0m [91m                                            ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m293[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Error | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m293[0m           const validationData = JSON.parse(message)
[7m   [0m [91m                                            ~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m184[0m:[93m23[0m - [91merror[0m[90m ts(2300): [0mDuplicate identifier 'config'.

[7m184[0m   constructor(private config: ThreatValidationSystemConfig) {
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m178[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m178[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m177[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'validationHistoryCollection' has no initializer and is not definitely assigned in the constructor.

[7m177[0m   private validationHistoryCollection: Collection<ValidationHistoryEntry>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m176[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'threatDataCollection' has no initializer and is not definitely assigned in the constructor.

[7m176[0m   private threatDataCollection: Collection<ThreatData>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m175[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'queueCollection' has no initializer and is not definitely assigned in the constructor.

[7m175[0m   private queueCollection: Collection<ValidationQueueItem>
[7m   [0m [91m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m174[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'validationsCollection' has no initializer and is not definitely assigned in the constructor.

[7m174[0m   private validationsCollection: Collection<ThreatValidation>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m173[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m173[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/security/threat-intelligence/ThreatValidationSystem.ts[0m:[93m172[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m172[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m635[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'stix_taxii' does not exist on type 'ThreatIntelligenceDatabaseConfig'.

[7m635[0m     !threatIntelDatabaseConfig.stix_taxii.taxii_username
[7m   [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m634[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'stix_taxii' does not exist on type 'ThreatIntelligenceDatabaseConfig'.

[7m634[0m     threatIntelDatabaseConfig.stix_taxii.enabled &&
[7m   [0m [91m                              ~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m456[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'limit' does not exist in type 'FeedFilters'.

[7m456[0m           limit: 1000,
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m420[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'published' does not exist in type 'FeedFilters'.

[7m420[0m           published: true,
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m66[0m:[93m5[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'algorithm' does not exist in type '{ enabled: boolean; key: string; }'.

[7m66[0m     algorithm: 'aes-256-gcm',
[7m  [0m [91m    ~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m10[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./AutomatedThreatResponseOrchestrator"' has no exported member named 'AutomatedThreatResponseOrchestratorConfig'. Did you mean 'AutomatedThreatResponseOrchestrator'?

[7m10[0m import { AutomatedThreatResponseOrchestratorConfig } from './AutomatedThreatResponseOrchestrator'
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./ThreatCorrelationEngine"' has no exported member named 'ThreatCorrelationEngineConfig'. Did you mean 'CorrelationEngineConfig'?

[7m9[0m import { ThreatCorrelationEngineConfig } from './ThreatCorrelationEngine'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m8[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./EdgeThreatDetectionSystem"' has no exported member named 'EdgeThreatDetectionSystemConfig'. Did you mean 'EdgeThreatDetectionSystem'?

[7m8[0m import { EdgeThreatDetectionSystemConfig } from './EdgeThreatDetectionSystem'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"./GlobalThreatIntelligenceNetwork"' has no exported member named 'GlobalThreatIntelligenceNetworkConfig'. Did you mean 'GlobalThreatIntelligenceNetwork'?

[7m7[0m import { GlobalThreatIntelligenceNetworkConfig } from './GlobalThreatIntelligenceNetwork'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/config.ts[0m:[93m128[0m:[93m58[0m - [93mwarning[0m[90m ts(6133): [0m'location' is declared but its value is never read.

[7m128[0m   edge_locations: baseConfig.regions.edge_locations.map((location, index) => ({
[7m   [0m [93m                                                         ~~~~~~~~[0m

[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m942[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './ThreatCorrelationEngine' has already exported a member named 'ThreatData'. Consider explicitly re-exporting to resolve the ambiguity.

[7m942[0m export * from './ThreatValidationSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m941[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m941[0m export * from './ExternalThreatFeedIntegration'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m940[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m940[0m export * from './ThreatHuntingSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m940[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './AutomatedThreatResponseOrchestrator' has already exported a member named 'ExecutionLogEntry'. Consider explicitly re-exporting to resolve the ambiguity.

[7m940[0m export * from './ThreatHuntingSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m937[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m937[0m export * from './ThreatCorrelationEngine'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m936[0m:[93m1[0m - [91merror[0m[90m ts(2308): [0mModule './GlobalThreatIntelligenceNetwork' has already exported a member named 'ThreatIndicator'. Consider explicitly re-exporting to resolve the ambiguity.

[7m936[0m export * from './EdgeThreatDetectionSystem'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m198[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m198[0m       const edgeDetection = new EdgeThreatDetectionSystem(
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m199[0m         this.networkConfig.edge,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m200[0m       )
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m28[0m:[93m8[0m - [91merror[0m[90m ts(2613): [0mModule '"/app/src/lib/security/threat-intelligence/ExternalThreatFeedIntegration"' has no default export. Did you mean to use 'import { ExternalThreatFeedIntegration } from "/app/src/lib/security/threat-intelligence/ExternalThreatFeedIntegration"' instead?

[7m28[0m import ExternalThreatFeedIntegration, {
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m23[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./AutomatedThreatResponseOrchestrator"' has no exported member named 'AutomatedThreatResponseOrchestratorConfig'. Did you mean 'AutomatedThreatResponseOrchestrator'?

[7m23[0m   AutomatedThreatResponseOrchestratorConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./ThreatCorrelationEngine"' has no exported member named 'ThreatCorrelationEngineConfig'. Did you mean 'CorrelationEngineConfig'?

[7m17[0m   ThreatCorrelationEngineConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./EdgeThreatDetectionSystem"' has no exported member named 'EdgeThreatDetectionSystemConfig'. Did you mean 'EdgeThreatDetectionSystem'?

[7m14[0m   EdgeThreatDetectionSystemConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m11[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"./GlobalThreatIntelligenceNetwork"' has no exported member named 'GlobalThreatIntelligenceNetworkConfig'. Did you mean 'GlobalThreatIntelligenceNetwork'?

[7m11[0m   GlobalThreatIntelligenceNetworkConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m376[0m:[93m58[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m376[0m     responseOrchestrator.on('response:triggered', async (event) => {
[7m   [0m [93m                                                         ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m371[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m371[0m     huntingSystem.on('hunt:completed', async (event) => {
[7m   [0m [93m                                              ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m366[0m:[93m56[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m366[0m     validationSystem.on('validation:completed', async (event) => {
[7m   [0m [93m                                                       ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m361[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m361[0m     feedIntegration.on('feed:sync_completed', async (event) => {
[7m   [0m [93m                                                     ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m356[0m:[93m48[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m356[0m     edgeDetection.on('threat:detected', async (event) => {
[7m   [0m [93m                                               ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m351[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m351[0m     globalNetwork.on('threat:correlated', async (event) => {
[7m   [0m [93m                                                 ~~~~~[0m
[96msrc/lib/security/threat-intelligence/index.ts[0m:[93m347[0m:[93m48[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m347[0m     globalNetwork.on('threat:detected', async (event) => {
[7m   [0m [93m                                               ~~~~~[0m

[96msrc/lib/server-only/MentalLLaMAPythonBridge.ts[0m:[93m10[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'baseLogger'.

[7m10[0m const logger = baseLogger
[7m  [0m [91m               ~~~~~~~~~~[0m
[96msrc/lib/server-only/MentalLLaMAPythonBridge.ts[0m:[93m6[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../types/index.ts' or its corresponding type declarations.

[7m6[0m } from '../types/index.ts'
[7m [0m [91m       ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/ComponentIntegrationService.ts[0m:[93m31[0m:[93m47[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ type: "line" | "bar" | "pie" | "scatter"; category?: "progress" | "sessions" | "emotions" | "outcomes" | undefined; timeRange?: number | undefined; clientId?: string | undefined; sessionId?: string | undefined; dataPoints?: number | undefined; }' to type 'Record<string, string>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'timeRange' is incompatible with index signature.
    Type 'number' is not comparable to type 'string'.

[7m31[0m       const queryParams = new URLSearchParams(params as Record<string, string>)
[7m  [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/bias-detection-optimized.ts[0m:[93m481[0m:[93m9[0m - [91merror[0m[90m ts(2740): [0mType '{}' is missing the following properties from type '{ total_analyses: number; avg_bias_score: number; high_alerts: number; low_alerts: number; last_analysis: string | null; trend: "stable" | "improving" | "worsening"; }': total_analyses, avg_bias_score, high_alerts, low_alerts, and 2 more.

[7m481[0m         return cached
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/services/bias-detection-optimized.ts[0m:[93m12[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"bias-detection"' has no properties in common with type 'LoggerOptions'.

[7m12[0m const logger = getLogger('bias-detection')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/cdn-optimizer.ts[0m:[93m293[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: string | undefined; } | undefined' is not assignable to parameter of type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: "png" | "jpeg" | "webp" | "avif" | undefined; } | undefined'.
  Type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: string | undefined; }' is not assignable to type '{ width?: number | undefined; height?: number | undefined; quality?: number | undefined; format?: "png" | "jpeg" | "webp" | "avif" | undefined; }'.
    Types of property 'format' are incompatible.
      Type 'string | undefined' is not assignable to type '"png" | "jpeg" | "webp" | "avif" | undefined'.
        Type 'string' is not assignable to type '"png" | "jpeg" | "webp" | "avif" | undefined'.

[7m293[0m         this.optimizeImage(asset.path, asset.options),
[7m   [0m [91m                                       ~~~~~~~~~~~~~[0m
[96msrc/lib/services/cdn-optimizer.ts[0m:[93m9[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"cdn-optimizer"' has no properties in common with type 'LoggerOptions'.

[7m9[0m const logger = getLogger('cdn-optimizer')
[7m [0m [91m                         ~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/emotion-tracking-types.ts[0m:[93m41[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m41[0m   timestamp: z.string().datetime(),
[7m  [0m [93m                        ~~~~~~~~[0m
[96msrc/lib/services/emotion-tracking-types.ts[0m:[93m25[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m25[0m   timestamp: z.string().datetime(),
[7m  [0m [93m                        ~~~~~~~~[0m

[96msrc/lib/services/health-monitor.ts[0m:[93m224[0m:[93m52[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m224[0m         message: _error instanceof Error ? _String(error) : 'Disk check failed',
[7m   [0m [91m                                                   ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m224[0m:[93m44[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m224[0m         message: _error instanceof Error ? _String(error) : 'Disk check failed',
[7m   [0m [91m                                           ~~~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m189[0m:[93m45[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m189[0m           _error instanceof Error ? _String(error) : 'Memory check failed',
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m189[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m189[0m           _error instanceof Error ? _String(error) : 'Memory check failed',
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m149[0m:[93m45[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m149[0m           _error instanceof Error ? _String(error) : 'System check failed',
[7m   [0m [91m                                            ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m149[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m149[0m           _error instanceof Error ? _String(error) : 'System check failed',
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m77[0m:[93m56[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'error'.

[7m77[0m             message: _error instanceof Error ? _String(error) : 'Unknown error',
[7m  [0m [91m                                                       ~~~~~[0m
[96msrc/lib/services/health-monitor.ts[0m:[93m77[0m:[93m48[0m - [91merror[0m[90m ts(2304): [0mCannot find name '_String'.

[7m77[0m             message: _error instanceof Error ? _String(error) : 'Unknown error',
[7m  [0m [91m                                               ~~~~~~~[0m

[96msrc/lib/services/integration-test.ts[0m:[93m290[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'biasScore' does not exist on type 'BiasAnalysisResult'.

[7m290[0m         biasResult?.biasScore !== undefined
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m267[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'Date'.

[7m267[0m         timestamp: Date.now(),
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m242[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeText' does not exist on type 'MultidimensionalEmotionMapper'.

[7m242[0m       const emotionResult = await this.emotionMapper.analyzeText(sessionText)
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m216[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeText' does not exist on type 'MultidimensionalEmotionMapper'.

[7m216[0m       const result = await this.emotionMapper.analyzeText(testText, {
[7m   [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m202[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'biasScore' does not exist on type 'BiasAnalysisResult'.

[7m202[0m         typeof result.biasScore === 'number'
[7m   [0m [91m                      ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m200[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'biasScore' does not exist on type 'BiasAnalysisResult'.

[7m200[0m         result.biasScore !== undefined &&
[7m   [0m [91m               ~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m197[0m:[93m59[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ messages: { content: string; role: string; }[]; sessionId: string; timestamp: number; }' is not assignable to parameter of type 'TherapeuticSession'.
  Type '{ messages: { content: string; role: string; }[]; sessionId: string; timestamp: number; }' is missing the following properties from type 'TherapeuticSession': sessionDate, participantDemographics, scenario, content, and 5 more.

[7m197[0m       const result = await this.biasEngine.analyzeSession(sessionData)
[7m   [0m [91m                                                          ~~~~~~~~~~~[0m
[96msrc/lib/services/integration-test.ts[0m:[93m164[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"medium"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m164[0m         securityLevel: 'medium',
[7m   [0m [91m        ~~~~~~~~~~~~~[0m

[96msrc/lib/services/phase3-integration-test.ts[0m:[93m474[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'EventType'.

[7m474[0m               type: 'concurrency_test' as unknown as string,
[7m   [0m [91m              ~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m317[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'emotionResult' is of type 'unknown'.

[7m317[0m         emotionResult['primary'] !== undefined &&
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m304[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"medium"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m304[0m         securityLevel: 'medium',
[7m   [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m292[0m:[93m40[0m - [91merror[0m[90m ts(2551): [0mProperty 'sendNotification' does not exist on type 'NotificationService'. Did you mean 'getNotifications'?

[7m292[0m         await this.notificationService.sendNotification({
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m285[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'emotionResult' is of type 'unknown'.

[7m285[0m           emotionPrimary: emotionResult['primary'],
[7m   [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m280[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'event' does not exist in type '{ type: EventType; priority: EventPriority; timestamp: number; properties: any; metadata: any; userId?: string | undefined; sessionId?: string | undefined; }'.

[7m280[0m         event: 'cross_service_test',
[7m   [0m [91m        ~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m261[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'Date'.

[7m261[0m         timestamp: Date.now(),
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m200[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'EmailService'.

[7m200[0m         this.emailService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m199[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'ContactService'.

[7m199[0m         this.contactService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                            ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m198[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'NotificationService'.

[7m198[0m         this.notificationService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                                 ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m197[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'AnalyticsService'.

[7m197[0m         this.analyticsService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m195[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthCheck' does not exist on type 'MemoryService'.

[7m195[0m         this.memoryService.healthCheck?.() || Promise.resolve(true),
[7m   [0m [91m                           ~~~~~~~~~~~[0m
[96msrc/lib/services/phase3-integration-test.ts[0m:[93m62[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'retryAttempts' does not exist in type 'RedisServiceConfig'.

[7m62[0m       retryAttempts: 3,
[7m  [0m [91m      ~~~~~~~~~~~~~[0m

[96msrc/lib/services/analytics/AnalyticsService.mock.ts[0m:[93m13[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'options' is declared but its value is never read.

[7m13[0m   private options: AnalyticsServiceOptions
[7m  [0m [93m          ~~~~~~~[0m

[96msrc/lib/services/analytics/AnalyticsService.ts[0m:[93m30[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m30[0m   return `event_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                           ~~~~~~[0m

[96msrc/lib/services/backup/index.ts[0m:[93m47[0m:[93m41[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m47[0m     emailRecipients: z.array(z.string().email()).optional(),
[7m  [0m [93m                                        ~~~~~[0m

[96msrc/lib/services/contact/ContactService.ts[0m:[93m227[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m227[0m         const validationError = error.errors[0]
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/lib/services/contact/ContactService.ts[0m:[93m19[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m19[0m     .email('Invalid email format')
[7m  [0m [93m     ~~~~~[0m

[96msrc/lib/services/contact/__tests__/ContactService.test.ts[0m:[93m47[0m:[93m55[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m47[0m const MockedEmailService = EmailService as unknown as vi.MockedClass<
[7m  [0m [91m                                                      ~~[0m

[96msrc/lib/services/email/EmailService.ts[0m:[93m38[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m38[0m   metadata: z.record(z.string()).optional(),
[7m  [0m [91m              ~~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m28[0m:[93m20[0m - [91merror[0m[90m ts(2554): [0mExpected 2-3 arguments, but got 1.

[7m28[0m   templateModel: z.record(z.unknown()),
[7m  [0m [91m                   ~~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m26[0m:[93m18[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m26[0m   to: z.string().email(),
[7m  [0m [93m                 ~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m19[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m19[0m   replyTo: z.string().email().optional(),
[7m  [0m [93m                      ~~~~~[0m
[96msrc/lib/services/email/EmailService.ts[0m:[93m18[0m:[93m20[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m18[0m   from: z.string().email(),
[7m  [0m [93m                   ~~~~~[0m

[96msrc/lib/services/notification/pushUtils.ts[0m:[93m49[0m:[93m35[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(format: "jwk", keyData: JsonWebKey, algorithm: AlgorithmIdentifier | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | AesKeyAlgorithm | KmacImportParams, extractable: boolean, keyUsages: KeyUsage[]): Promise<...>', gave the following error.
    Argument of type '"pkcs8"' is not assignable to parameter of type '"jwk"'.
  Overload 2 of 2, '(format: "raw" | "pkcs8" | "raw-public" | "raw-secret" | "raw-seed" | "spki", keyData: BufferSource, algorithm: AlgorithmIdentifier | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | AesKeyAlgorithm | KmacImportParams, extractable: boolean, keyUsages: KeyUsage[]): Promise<...>', gave the following error.
    Argument of type 'Uint8Array<ArrayBufferLike>' is not assignable to parameter of type 'BufferSource'.
      Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'Uint8Array<ArrayBuffer> | DataView<ArrayBuffer>'.
        Type 'Uint8Array<ArrayBufferLike>' is not assignable to type 'Uint8Array<ArrayBuffer>'.
          Type 'ArrayBufferLike' is not assignable to type 'ArrayBuffer'.
            Type 'SharedArrayBuffer' is missing the following properties from type 'ArrayBuffer': resizable, resize, detached, transfer, transferToFixedLength

[7m49[0m   const privateKey = await subtle.importKey(
[7m  [0m [91m                                  ~~~~~~~~~[0m

[96msrc/lib/services/notification/__tests__/NotificationService.test.ts[0m:[93m311[0m:[93m23[0m - [91merror[0m[90m ts(2551): [0mProperty 'hget' does not exist on type 'Redis | { get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<...>; ... 22 more ...; emit: () => boolean; }'. Did you mean 'get'?
  Property 'hget' does not exist on type '{ get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<1 | 0>; ... 22 more ...; emit: () => boolean; }'.

[7m311[0m       vi.mocked(redis.hget).mockResolvedValueOnce(null)
[7m   [0m [91m                      ~~~~[0m
[96msrc/lib/services/notification/__tests__/NotificationService.test.ts[0m:[93m299[0m:[93m23[0m - [91merror[0m[90m ts(2551): [0mProperty 'hget' does not exist on type 'Redis | { get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<...>; ... 22 more ...; emit: () => boolean; }'. Did you mean 'get'?
  Property 'hget' does not exist on type '{ get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<1 | 0>; ... 22 more ...; emit: () => boolean; }'.

[7m299[0m       vi.mocked(redis.hget).mockResolvedValueOnce(JSON.stringify(notification))
[7m   [0m [91m                      ~~~~[0m
[96msrc/lib/services/notification/__tests__/NotificationService.test.ts[0m:[93m267[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'rpoplpush' does not exist on type 'Redis | { get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<...>; ... 22 more ...; emit: () => boolean; }'.
  Property 'rpoplpush' does not exist on type '{ get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<1 | 0>; ... 22 more ...; emit: () => boolean; }'.

[7m267[0m       vi.mocked(redis.rpoplpush).mockResolvedValueOnce(
[7m   [0m [91m                      ~~~~~~~~~[0m
[96msrc/lib/services/notification/__tests__/NotificationService.test.ts[0m:[93m237[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'rpoplpush' does not exist on type 'Redis | { get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<...>; ... 22 more ...; emit: () => boolean; }'.
  Property 'rpoplpush' does not exist on type '{ get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<1 | 0>; ... 22 more ...; emit: () => boolean; }'.

[7m237[0m       expect(redis.rpoplpush).toHaveBeenCalledWith(
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/services/notification/__tests__/NotificationService.test.ts[0m:[93m231[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'rpoplpush' does not exist on type 'Redis | { get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<...>; ... 22 more ...; emit: () => boolean; }'.
  Property 'rpoplpush' does not exist on type '{ get: (key: string) => Promise<string | null>; set: (key: string, value: string, ..._args: (string | number)[]) => Promise<string>; del: (key: string) => Promise<1 | 0>; ... 22 more ...; emit: () => boolean; }'.

[7m231[0m       vi.mocked(redis.rpoplpush).mockImplementation(async () => {
[7m   [0m [91m                      ~~~~~~~~~[0m
[96msrc/lib/services/notification/__tests__/NotificationService.test.ts[0m:[93m126[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'queueEmail' does not exist in type '{ upsertTemplate: (template: unknown) => Promise<void>; }'.

[7m126[0m       queueEmail: vi.fn(),
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/lib/services/notification/__tests__/WebSocketServer.test.ts[0m:[93m292[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m292[0m         logger.createBuildSafeLogger('websocket').error,
[7m   [0m [91m        ~~~~~~[0m
[96msrc/lib/services/notification/__tests__/WebSocketServer.test.ts[0m:[93m186[0m:[93m44[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/lib/supabase' or its corresponding type declarations.

[7m186[0m       const { mongoClient } = await import('@/lib/supabase')
[7m   [0m [91m                                           ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/notification/__tests__/WebSocketServer.test.ts[0m:[93m107[0m:[93m9[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'logger'.

[7m107[0m         logger.createBuildSafeLogger('websocket').info,
[7m   [0m [91m        ~~~~~~[0m

[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m345[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type 'MongoClientBridge'.

[7m345[0m     const db = mongoClient.getDb()
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m300[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type 'MongoClientBridge'.

[7m300[0m   const db = mongoClient.getDb()
[7m   [0m [91m                         ~~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m267[0m:[93m30[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '{ id: string; name: string; description: string; level: number; }'.

[7m267[0m       { userId: processedBy, role: 'system' as const },
[7m   [0m [91m                             ~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m244[0m:[93m30[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '{ id: string; name: string; description: string; level: number; }'.

[7m244[0m       { userId: processedBy, role: 'system' as const },
[7m   [0m [91m                             ~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m177[0m:[93m37[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '{ id: string; name: string; description: string; level: number; }'.

[7m177[0m       { userId: params.processedBy, role: 'system' as const },
[7m   [0m [91m                                    ~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m158[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type 'MongoClientBridge'.

[7m158[0m     const db = mongoClient.getDb()
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m126[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type 'MongoClientBridge'.

[7m126[0m     const db = mongoClient.getDb()
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m88[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type 'MongoClientBridge'.

[7m88[0m     const db = mongoClient.getDb()
[7m  [0m [91m                           ~~~~~[0m
[96msrc/lib/services/patient-rights/dataDeleteService.ts[0m:[93m67[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'getDb' does not exist on type 'MongoClientBridge'.

[7m67[0m     const db = mongoClient.getDb()
[7m  [0m [91m                           ~~~~~[0m

[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m237[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m237[0m       await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m158[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m158[0m         await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m152[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m152[0m       await expect(key).toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m138[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m138[0m         await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m129[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m129[0m         await expect(key).toEqual(expect.objectContaining({ exists: true }))
[7m   [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/CacheInvalidation.integration.test.ts[0m:[93m70[0m:[93m9[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m70[0m         await expect(key).not.toEqual(expect.objectContaining({ exists: true }))
[7m  [0m [93m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m241[0m:[93m11[0m - [91merror[0m[90m ts(2740): [0mType '{ type: string; confidence: number; intensity: number; }[]' is missing the following properties from type 'EmotionVector': joy, sadness, anger, fear, and 4 more.

[7m241[0m           emotions: [{ type: 'anxiety', confidence: 0.9, intensity: 0.8 }],
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m240[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'Date' is not assignable to type 'string'.

[7m240[0m           timestamp: new Date(),
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m234[0m:[93m11[0m - [91merror[0m[90m ts(2740): [0mType '{ type: string; confidence: number; intensity: number; }[]' is missing the following properties from type 'EmotionVector': joy, sadness, anger, fear, and 4 more.

[7m234[0m           emotions: [{ type: 'anxiety', confidence: 0.8, intensity: 0.7 }],
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m233[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'Date' is not assignable to type 'string'.

[7m233[0m           timestamp: new Date(),
[7m   [0m [91m          ~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m9[0m:[93m23[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ExtendedFHEService'.

[7m9[0m const mockFHEService: ExtendedFHEService = {
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m4[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"@/lib/ai/emotions/types"' has no exported member 'TherapySession'.

[7m4[0m   TherapySession,
[7m [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/PatternRecognition.integration.test.ts[0m:[93m1[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"@/lib/ai/services/PatternRecognitionFactory"' has no exported member named 'PatternRecognitionService'. Did you mean 'createPatternRecognitionService'?

[7m1[0m import { PatternRecognitionService } from '@/lib/ai/services/PatternRecognitionFactory'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/RedisService.integration.test.ts[0m:[93m10[0m:[93m11[0m - [91merror[0m[90m ts(2694): [0mNamespace 'jest' has no exported member 'CustomMatcherResult'.

[7m10[0m   ): jest.CustomMatcherResult {
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m265[0m:[93m19[0m - [91merror[0m[90m ts(2694): [0mNamespace 'jest' has no exported member 'CustomMatcherResult'.

[7m265[0m   ): Promise<jest.CustomMatcherResult> {
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m236[0m:[93m51[0m - [91merror[0m[90m ts(2694): [0mNamespace 'jest' has no exported member 'CustomMatcherResult'.

[7m236[0m   async toExistInRedis(key: string): Promise<jest.CustomMatcherResult> {
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m210[0m:[93m19[0m - [91merror[0m[90m ts(2694): [0mNamespace 'jest' has no exported member 'CustomMatcherResult'.

[7m210[0m   ): Promise<jest.CustomMatcherResult> {
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m196[0m:[93m11[0m - [91merror[0m[90m ts(2694): [0mNamespace 'jest' has no exported member 'CustomMatcherResult'.

[7m196[0m   ): jest.CustomMatcherResult {
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/redis/__tests__/test-utils.ts[0m:[93m161[0m:[93m3[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m161[0m   await redis.disconnect()
[7m   [0m [93m  ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/services/redis/__tests__/vitest.config.ts[0m:[93m12[0m:[93m5[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  The last overload gave the following error.
    Object literal may only specify known properties, and 'poolOptions' does not exist in type 'InlineConfig'.

[7m12[0m     poolOptions: {
[7m  [0m [91m    ~~~~~~~~~~~[0m

[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m511[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'never[]' is not assignable to type '{ [value: string]: { count: number; averageBias: number; }; }'.
  Index signature for type 'string' is missing in type 'never[]'.

[7m511[0m           intersectional: [],
[7m   [0m [91m          ~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m498[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'totalAlerts' does not exist in type 'BiasDashboardSummary'.

[7m498[0m           totalAlerts: 0,
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'AnalysisCompleteWebSocketEvent'.

[7m19[0m   AnalysisCompleteWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'SystemStatusWebSocketEvent'.

[7m18[0m   SystemStatusWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'DashboardUpdateWebSocketEvent'.

[7m17[0m   DashboardUpdateWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'BiasAlertWebSocketEvent'.

[7m16[0m   BiasAlertWebSocketEvent,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../../ai/bias-detection/types"' has no exported member 'WebSocketMessage'.

[7m15[0m   WebSocketMessage,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/services/websocket/BiasWebSocketServer.ts[0m:[93m839[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m839[0m     return `client_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                              ~~~~~~[0m

[96msrc/lib/state/jotai-persistence.ts[0m:[93m242[0m:[93m36[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 3, '(getStringStorage: () => AsyncStringStorage, options?: JsonStorageOptions | undefined): AsyncStorage<Value>', gave the following error.
    Type 'unknown' is not assignable to type 'AsyncStringStorage'.
  Overload 2 of 3, '(getStringStorage: () => SyncStringStorage, options?: JsonStorageOptions | undefined): SyncStorage<Value>', gave the following error.
    Type 'unknown' is not assignable to type 'SyncStringStorage'.

[7m242[0m     createJSONStorage<Value>(() => storage as unknown),
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m132[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'StoredState<Value>'.

[7m132[0m       const storedState: StoredState<Value> = JSON.parse(decrypted) as unknown
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m122[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m122[0m           decrypted = await decrypt(serialized)
[7m   [0m [91m                            ~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m105[0m:[93m28[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m105[0m         serialized = await encrypt(serialized)
[7m   [0m [91m                           ~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.

[7m61[0m       ttl: options.ttl ?? undefined,
[7m  [0m [91m      ~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m296[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'syncSubscriptions' is declared but its value is never read.

[7m296[0m   private syncSubscriptions: Map<string, () => void> = new Map()
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/state/jotai-persistence.ts[0m:[93m213[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m213[0m     key: string,
[7m   [0m [93m    ~~~[0m

[96msrc/lib/stores/fhe-store.ts[0m:[93m328[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'EncryptedData<unknown>'.

[7m328[0m                   encryptedData,
[7m   [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m316[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'EncryptedData<unknown>'.

[7m316[0m                   encryptedData,
[7m   [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m307[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m307[0m               : isEncryptedData(encryptedMessage)
[7m   [0m [91m                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m304[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m304[0m               ? isEncryptedData(JSON.parse(encryptedMessage) as unknown)
[7m   [0m [91m                ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m294[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType 'FHEOperationResult<string>' is missing the following properties from type 'HomomorphicOperationResult': operationType, timestamp

[7m294[0m           result = await fheService.processEncrypted(
[7m   [0m [91m          ~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m238[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'EncryptedData<unknown>'.

[7m238[0m         const decrypted = await fheService.decrypt(encryptedData)
[7m   [0m [91m                                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m233[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m233[0m             : isEncryptedData(encryptedMessage)
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m230[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'isEncryptedData'.

[7m230[0m             ? isEncryptedData(JSON.parse(encryptedMessage) as unknown)
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m443[0m:[93m26[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m443[0m         const newKeyId = await keyRotationService.getActiveKeyId()
[7m   [0m [93m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/stores/fhe-store.ts[0m:[93m135[0m:[93m23[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m135[0m         const keyId = await keyRotationService.getActiveKeyId()
[7m   [0m [93m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/stores/journal-research/notificationStore.ts[0m:[93m52[0m:[93m59[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m52[0m           id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
[7m  [0m [93m                                                          ~~~~~~[0m
[96msrc/lib/stores/journal-research/notificationStore.ts[0m:[93m44[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'get' is declared but its value is never read.

[7m44[0m     (set, get) => ({
[7m  [0m [93m          ~~~[0m

[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m503[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'optimizationHistory' does not exist on type 'TestSuiteManager'.

[7m503[0m       lastRun: this.optimizationHistory.length > 0 ? new Date() : undefined,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m62[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'enableCI' is specified more than once, so this usage will be overwritten.

[7m62[0m       enableCI: true,
[7m  [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'environments' is specified more than once, so this usage will be overwritten.

[7m61[0m       environments: ['development', 'staging', 'production'],
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m56[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'performance' is specified more than once, so this usage will be overwritten.

[7m 56[0m       performance: {
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[7m 57[0m         maxResponseTime: 100,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 59[0m         maxCpuUsage: 80, // %
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 60[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m50[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'coverage' is specified more than once, so this usage will be overwritten.

[7m 50[0m       coverage: {
[7m   [0m [91m      ~~~~~~~~~~~[0m
[7m 51[0m         statements: 90,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 54[0m         lines: 90,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m 55[0m       },
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m49[0m:[93m7[0m - [91merror[0m[90m ts(2783): [0m'layers' is specified more than once, so this usage will be overwritten.

[7m49[0m       layers: ['unit', 'integration', 'e2e', 'performance', 'security'],
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m6[0m:[93m27[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/testing"' has no exported member 'CoverageReport'.

[7m6[0m import type { TestResult, CoverageReport } from '@/types/testing'
[7m [0m [91m                          ~~~~~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m6[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"@/types/testing"' has no exported member 'TestResult'.

[7m6[0m import type { TestResult, CoverageReport } from '@/types/testing'
[7m [0m [91m              ~~~~~~~~~~[0m
[96msrc/lib/testing/comprehensiveTestSuite.ts[0m:[93m44[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'testResults' is declared but its value is never read.

[7m44[0m   private testResults = new Map<string, TestResult>()
[7m  [0m [93m          ~~~~~~~~~~~[0m

[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m200[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'responseTime' does not exist on type 'never'.

[7m200[0m             responseTimes.push(result.responseTime)
[7m   [0m [91m                                      ~~~~~~~~~~~~[0m
[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m198[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type 'never'.

[7m198[0m           if (result.success) {
[7m   [0m [91m                     ~~~~~~~[0m
[96msrc/lib/testing/performance-benchmarks.ts[0m:[93m191[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<{ success: boolean; responseTime: number; }>' is not assignable to parameter of type 'never'.

[7m191[0m         batchPromises.push(requestPromise)
[7m   [0m [91m                           ~~~~~~~~~~~~~~[0m

[96msrc/lib/testing/test-helpers.ts[0m:[93m319[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type 'never'.

[7m319[0m           error: result.error,
[7m   [0m [91m                        ~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m317[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type 'never'.

[7m317[0m           success: result.success,
[7m   [0m [91m                          ~~~~~~~[0m
[96msrc/lib/testing/test-helpers.ts[0m:[93m298[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Promise<{ result: { success: boolean; error?: undefined; } | { success: boolean; error: unknown; }; executionTime: number; }>' is not assignable to parameter of type 'never'.

[7m298[0m         this.measureExecutionTime(async () => {
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m299[0m           try {
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m304[0m           }
[7m   [0m [91m~~~~~~~~~~~[0m
[7m305[0m         }),
[7m   [0m [91m~~~~~~~~~~[0m

[96msrc/lib/threat-detection/response-orchestration.ts[0m:[93m859[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m859[0m   constructor(private config: OrchestrationConfig) {
[7m   [0m [93m                      ~~~~~~[0m

[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m282[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'mockClear' does not exist on type '{ (input: URL | RequestInfo, init?: RequestInit | undefined): Promise<Response>; (input: URL | RequestInfo, init?: RequestInit | undefined): Promise<...>; (input: string | ... 1 more ... | Request, init?: RequestInit | undefined): Promise<...>; }'.

[7m282[0m       global.fetch.mockClear()
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m32[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'EventEmitter<any>' is not assignable to parameter of type 'AdvancedResponseOrchestrator'.
  Type 'EventEmitter<any>' is missing the following properties from type 'AdvancedResponseOrchestrator': redis, mongoClient, responseExecutor, decisionEngine, and 35 more.

[7m32[0m       mockOrchestrator,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m3[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'ioredis-mock' or its corresponding type declarations.

[7m3[0m import { Redis } from 'ioredis-mock'
[7m [0m [91m                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m2[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'mongodb-memory-server' or its corresponding type declarations.

[7m2[0m import { MongoMemoryServer } from 'mongodb-memory-server'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m629[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m629[0m       expect(metrics.some((m) => m.name === 'recent_metric')).toBe(true)
[7m   [0m [93m                           ~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m628[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m628[0m       expect(metrics.some((m) => m.name === 'old_metric')).toBe(false)
[7m   [0m [93m                           ~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m352[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'inv' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m352[0m         (inv) => inv.threatId === threatData.threatId,
[7m   [0m [93m         ~~~[0m
[96msrc/lib/threat-detection/__tests__/phase8-integration.test.ts[0m:[93m346[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'm' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m346[0m       const threatMetric = metrics.find((m) => m.name === 'threats_detected')
[7m   [0m [93m                                         ~[0m

[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1936[0m:[93m62[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m1936[0m     return `graph_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m    [0m [93m                                                             ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1935[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'generateGraphId' is declared but its value is never read.

[7m1935[0m   private generateGraphId(): string {
[7m    [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1932[0m:[93m65[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m1932[0m     return `analysis_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m    [0m [93m                                                                ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1931[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'generateAnalysisId' is declared but its value is never read.

[7m1931[0m   private generateAnalysisId(): string {
[7m    [0m [93m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1928[0m:[93m64[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m1928[0m     return `anomaly_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m    [0m [93m                                                               ~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1923[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'generateProfileId' is declared but its value is never read.

[7m1923[0m   private generateProfileId(userId: string): string {
[7m    [0m [93m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1630[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'modelPath' is declared but its value is never read.

[7m1630[0m   constructor(private modelPath: string) {
[7m    [0m [93m                      ~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1618[0m:[93m13[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'maxSamples' is declared but its value is never read.

[7m1618[0m     private maxSamples: number,
[7m    [0m [93m            ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1617[0m:[93m13[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'nEstimators' is declared but its value is never read.

[7m1617[0m     private nEstimators: number,
[7m    [0m [93m            ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1353[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'zScoreNormalize' is declared but its value is never read.

[7m1353[0m   private zScoreNormalize(
[7m    [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m1337[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'minMaxNormalize' is declared but its value is never read.

[7m1337[0m   private minMaxNormalize(
[7m    [0m [93m          ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/behavioral/behavioral-analysis-service.ts[0m:[93m107[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'riskCalculator' is declared but its value is never read.

[7m107[0m   private riskCalculator!: RiskCalculator
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/api-middleware.ts[0m:[93m255[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m255[0m     req: Request,
[7m   [0m [93m    ~~~[0m

[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m403[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m403[0m       const db = await mongoClient.db('threat_intelligence')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m368[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m368[0m       return { success: false, error: error.message }
[7m   [0m [91m                                      ~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m358[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m358[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m315[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ type: string; message: string; severity: string; timestamp: Date; }' is not assignable to parameter of type 'never'.

[7m315[0m       insights.push({
[7m   [0m [91m                    ~[0m
[7m316[0m         type: 'high_risk_activity',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m319[0m         timestamp: new Date(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m320[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m259[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m259[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m228[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m228[0m       const db = await mongoClient.db('security_logs')
[7m   [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m98[0m:[93m36[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Db' has no call signatures.

[7m98[0m       const db = await mongoClient.db('threat_intelligence')
[7m  [0m [91m                                   ~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m59[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m59[0m       return { success: false, error: error.message, riskScore: 0 }
[7m  [0m [91m                                      ~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m446[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'rateLimiter' is declared but its value is never read.

[7m446[0m   rateLimiter: unknown,
[7m   [0m [93m  ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/production-system.ts[0m:[93m445[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'orchestrator' is declared but its value is never read.

[7m445[0m   orchestrator: unknown,
[7m   [0m [93m  ~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/threat-detection-service.ts[0m:[93m76[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'rateLimiter' is declared but its value is never read.

[7m76[0m   private rateLimiter: DistributedRateLimiter
[7m  [0m [93m          ~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m611[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'identifier' is declared but its value is never read.

[7m611[0m   identifier: string,
[7m   [0m [93m  ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m325[0m:[93m12[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(ip: string): boolean' of 'isSuspiciousIPSync' is deprecated.

[7m325[0m     return isSuspiciousIPSync(ip)
[7m   [0m [93m           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m296[0m:[93m12[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(ip: string): boolean' of 'isSuspiciousIPSync' is deprecated.

[7m296[0m     return isSuspiciousIPSync(ip)
[7m   [0m [93m           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/integrations/utils.ts[0m:[93m59[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m59[0m   return `${prefix}${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                              ~~~~~~[0m

[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m636[0m:[93m12[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'WithId<Document>[]' to type 'ModelConfig[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'WithId<Document>' is missing the following properties from type 'ModelConfig': modelId, modelPath, modelType, inputShape, outputShape

[7m636[0m     return (await collection.find().toArray()) as ModelConfig[]
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m579[0m:[93m38[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type 'FeatureSet'.

[7m579[0m     return data ? JSON.parse(data) : null
[7m   [0m [91m                                     ~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m551[0m:[93m7[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'serverStatus' does not exist in type 'ModelHealthReport'.

[7m551[0m       serverStatus: 'healthy',
[7m   [0m [91m      ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m476[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'val' is of type 'unknown'.

[7m476[0m       outputs.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) /
[7m   [0m [91m                                                  ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m476[0m:[93m36[0m - [91merror[0m[90m ts(18046): [0m'sum' is of type 'unknown'.

[7m476[0m       outputs.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) /
[7m   [0m [91m                                   ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m476[0m:[93m7[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m476[0m       outputs.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) /
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m67[0m - [91merror[0m[90m ts(2304): [0mCannot find name '________'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0).slice(________) / outputs.length
[7m   [0m [91m                                                                  ~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m53[0m - [91merror[0m[90m ts(18046): [0m'val' is of type 'unknown'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0).slice(________) / outputs.length
[7m   [0m [91m                                                    ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'sum' is of type 'unknown'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0).slice(________) / outputs.length
[7m   [0m [91m                                              ~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m474[0m:[93m18[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m474[0m     const mean = outputs.reduce((sum, val) => sum + val, 0).slice(________) / outputs.length
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m446[0m:[93m43[0m - [91merror[0m[90m ts(18046): [0m'b' is of type 'unknown'.

[7m446[0m       return outputs.reduce((a, b) => a + b, 0) / outputs.length
[7m   [0m [91m                                          ~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m446[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'a' is of type 'unknown'.

[7m446[0m       return outputs.reduce((a, b) => a + b, 0) / outputs.length
[7m   [0m [91m                                      ~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m446[0m:[93m14[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m446[0m       return outputs.reduce((a, b) => a + b, 0) / outputs.length
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m405[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m405[0m             config.parameters.bins,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m403[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'createBinnedFeatures' does not exist on type 'ModelServingServer'.

[7m403[0m           engineered = this.createBinnedFeatures(
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m400[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'createInteractionFeatures' does not exist on type 'ModelServingServer'.

[7m400[0m           engineered = this.createInteractionFeatures(engineered)
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m396[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m396[0m             config.parameters.degree,
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m394[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'createPolynomialFeatures' does not exist on type 'ModelServingServer'.

[7m394[0m           engineered = this.createPolynomialFeatures(
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m391[0m:[93m29[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m391[0m     for (const technique of config.techniques) {
[7m   [0m [91m                            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m378[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m378[0m         return this.robustNormalize(data, config.parameters)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m378[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'robustNormalize' does not exist on type 'ModelServingServer'.

[7m378[0m         return this.robustNormalize(data, config.parameters)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m376[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m376[0m         return this.zScoreNormalize(data, config.parameters)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m376[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'zScoreNormalize' does not exist on type 'ModelServingServer'.

[7m376[0m         return this.zScoreNormalize(data, config.parameters)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m374[0m:[93m43[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m374[0m         return this.minMaxNormalize(data, config.parameters)
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m374[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'minMaxNormalize' does not exist on type 'ModelServingServer'.

[7m374[0m         return this.minMaxNormalize(data, config.parameters)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m372[0m:[93m13[0m - [91merror[0m[90m ts(18048): [0m'config' is possibly 'undefined'.

[7m372[0m     switch (config.method) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m359[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyConfidenceCalibration' does not exist on type 'ModelServingServer'.

[7m359[0m       processed = await this.applyConfidenceCalibration(
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m351[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyEnsembleAggregation' does not exist on type 'ModelServingServer'.

[7m351[0m       processed = this.applyEnsembleAggregation(
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m346[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'applyThresholding' does not exist on type 'ModelServingServer'.

[7m346[0m       processed = this.applyThresholding(processed, config.thresholding)
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m320[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateData' does not exist on type 'ModelServingServer'.

[7m320[0m       const validation = await this.validateData(
[7m   [0m [91m                                    ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m216[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'TensorLike | WebGLData | WebGPUData'.

[7m216[0m         const inputTensor = tf.tensor(processedInput, [1, ...config.inputShape])
[7m   [0m [91m                                      ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m215[0m:[93m36[0m - [91merror[0m[90m ts(2345): [0mArgument of type '() => Promise<unknown>' is not assignable to parameter of type 'string | ScopeFn<TensorContainer>'.
  Type '() => Promise<unknown>' is not assignable to type 'ScopeFn<TensorContainer>'.
    Type 'Promise<unknown>' is not assignable to type 'TensorContainer'.
      Type 'Promise<unknown>' is not assignable to type 'Tensor<Rank> | TensorContainerObject | TensorContainerArray | Float32Array<ArrayBufferLike> | Int32Array<...> | Uint8Array<...>'.
        Type 'Promise<unknown>' is not assignable to type 'TensorContainerObject'.
          Index signature for type 'string' is missing in type 'Promise<unknown>'.

[7m215[0m       const output = await tf.tidy(async () => {
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m128[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'monitoring' has no initializer and is not definitely assigned in the constructor.

[7m128[0m   private monitoring: ModelMonitoring
[7m   [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m127[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'modelRegistry' has no initializer and is not definitely assigned in the constructor.

[7m127[0m   private modelRegistry: ModelRegistry
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m126[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'featureStore' has no initializer and is not definitely assigned in the constructor.

[7m126[0m   private featureStore: FeatureStore
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m125[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m125[0m   private mongoClient: MongoClient
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m124[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m124[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m664[0m:[93m13[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'redis' is declared but its value is never read.

[7m664[0m     private redis: Redis,
[7m   [0m [93m            ~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m600[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'featureSetId' is declared but its value is never read.

[7m600[0m     featureSetId: string,
[7m   [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m532[0m:[93m61[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m532[0m     return `pred_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                            ~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m217[0m:[93m31[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m217[0m         const outputTensor = (await model.predict(inputTensor)) as tf.Tensor
[7m   [0m [93m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m215[0m:[93m22[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m215[0m       const output = await tf.tidy(async () => {
[7m   [0m [93m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m216[0m         const inputTensor = tf.tensor(processedInput, [1, ...config.inputShape])
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m219[0m         return arr as unknown
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m220[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m179[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m179[0m       await model.predict(warmupInput)
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/ml-model-serving/model-server.ts[0m:[93m126[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'featureStore' is declared but its value is never read.

[7m126[0m   private featureStore: FeatureStore
[7m   [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/monitoring/ai-enhanced-monitoring.ts[0m:[93m270[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_memory' is declared but its value is never read.

[7m270[0m       const _memory = await this.redis.memory('USAGE', '*')
[7m   [0m [93m            ~~~~~~~[0m

[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m20[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../metrics-utils' or its corresponding type declarations.

[7m20[0m } from '../metrics-utils'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../alert-utils' or its corresponding type declarations.

[7m15[0m } from '../alert-utils'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m9[0m:[93m43[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../enhanced-monitoring-service' or its corresponding type declarations.

[7m9[0m import { EnhancedMonitoringService } from '../enhanced-monitoring-service'
[7m [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m826[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m826[0m       results.forEach((result, index) => {
[7m   [0m [93m                               ~~~~~[0m
[96msrc/lib/threat-detection/monitoring/__tests__/monitoring.test.ts[0m:[93m826[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'result' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m826[0m       results.forEach((result, index) => {
[7m   [0m [93m                       ~~~~~~[0m

[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1982[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m1982[0m   constructor(private config: PropagationConfig) {
[7m    [0m [93m                      ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1787[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m1787[0m   constructor(private config: NoveltyConfig) {
[7m    [0m [93m                      ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m1467[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty '_mongoClient' is declared but its value is never read.

[7m1467[0m   constructor(private _mongoClient: MongoClient) { }
[7m    [0m [93m                      ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m942[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'context' is declared but its value is never read.

[7m942[0m     context: SecurityContext,
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m941[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'threats' is declared but its value is never read.

[7m941[0m     threats: Threat[],
[7m   [0m [93m    ~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m821[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'currentFeatures' is declared but its value is never read.

[7m821[0m     currentFeatures: ThreatFeatures,
[7m   [0m [93m    ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m513[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'extractSeasonalPatternsFromComponents' is declared but its value is never read.

[7m513[0m   private async extractSeasonalPatternsFromComponents(
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m211[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'modelRegistry' is declared but its value is never read.

[7m211[0m   private modelRegistry!: ModelRegistry
[7m   [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m210[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'riskAssessor' is declared but its value is never read.

[7m210[0m   private riskAssessor!: RiskAssessor
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m34[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m34[0m   return `${prefix}${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                              ~~~~~~[0m
[96msrc/lib/threat-detection/predictive/predictive-threat-intelligence.ts[0m:[93m3[0m:[93m10[0m - [93mwarning[0m[90m ts(6133): [0m'_secureId' is declared but its value is never read.

[7m3[0m function _secureId(prefix = ''): string {
[7m [0m [93m         ~~~~~~~~~[0m

[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m1213[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'parameters' is declared but its value is never read.

[7m1213[0m     parameters: Record<string, unknown>,
[7m    [0m [93m    ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/threat-hunting-service.ts[0m:[93m186[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'initializeServices' is declared but its value is never read.

[7m186[0m   private async initializeServices(): Promise<void> {
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1342[0m:[93m61[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'HuntFinding[] | { errors: string[]; data: unknown[]; }' is not assignable to parameter of type 'Record<string, unknown>[]'.
  Type 'HuntFinding[]' is not assignable to type 'Record<string, unknown>[]'.
    Type 'HuntFinding' is not assignable to type 'Record<string, unknown>'.
      Index signature for type 'string' is missing in type 'HuntFinding'.

[7m1342[0m       const patternAnalysis = await service.analyzePatterns(huntResults)
[7m    [0m [91m                                                            ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1317[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'id' does not exist on type '{ errors: string[]; }'.

[7m1317[0m         investigationId: investigation.id,
[7m    [0m [91m                                       ~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1297[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'analysis.patterns' is of type 'unknown'.

[7m1297[0m       expect(analysis?.patterns[0].confidence).toBe(0.95)
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1296[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'analysis.patterns' is of type 'unknown'.

[7m1296[0m       expect(analysis?.patterns[0].type).toBe('attack_chain')
[7m    [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1292[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m1292[0m       const analysis = await service.analyzeTimeline(timeline.id)
[7m    [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1267[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m1267[0m         await service.addTimelineEvent(timeline.id, event)
[7m    [0m [91m                                       ~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1239[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'id' does not exist on type '{ errors: string[]; }'.

[7m1239[0m       expect(huntQuery.investigationId).toBe(investigation.id)
[7m    [0m [91m                                                           ~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1234[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'id' does not exist on type '{ errors: string[]; }'.

[7m1234[0m         investigationId: investigation.id,
[7m    [0m [91m                                       ~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1156[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'id' does not exist on type '{ errors: string[]; }'.

[7m1156[0m         expect(result.id).toBeDefined()
[7m    [0m [91m                      ~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1155[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'title' does not exist on type '{ errors: string[]; }'.

[7m1155[0m         expect(result.title).toBe(`Investigation ${index}`)
[7m    [0m [91m                      ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1128[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'analysis' is possibly 'null'.

[7m1128[0m       expect(analysis.patterns).toHaveLength(0)
[7m    [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1127[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'analysis' is possibly 'null'.

[7m1127[0m       expect(analysis.errors).toContain('Timeline not found')
[7m    [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1117[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type 'HuntFinding[] | { errors: string[]; data: unknown[]; }'.
  Property 'data' does not exist on type 'HuntFinding[]'.

[7m1117[0m       expect(results.data).toHaveLength(0)
[7m    [0m [91m                     ~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m1116[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'HuntFinding[] | { errors: string[]; data: unknown[]; }'.
  Property 'errors' does not exist on type 'HuntFinding[]'.

[7m1116[0m       expect(results.errors).toContain('Query execution failed')
[7m    [0m [91m                     ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m991[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'predictions.predictions' is of type 'unknown'.

[7m991[0m       expect(predictions.predictions[0].confidence).toBe(0.8)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m990[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'predictions.predictions' is of type 'unknown'.

[7m990[0m       expect(predictions.predictions[0].threatLevel).toBe('high')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m926[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'analysis.anomalies' is of type 'unknown'.

[7m926[0m       expect(analysis.anomalies[0].severity).toBe('high')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m925[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'analysis.patterns' is of type 'unknown'.

[7m925[0m       expect(analysis.patterns[0].confidence).toBe(0.85)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m870[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'results.pagination' is of type 'unknown'.

[7m870[0m       expect(results.pagination.total).toBe(0)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m856[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'results.data' is of type 'unknown'.

[7m856[0m       expect(results.data[0].ip).toBe('192.168.1.100')
[7m   [0m [91m             ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m855[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'results.data' is of type 'unknown'.

[7m855[0m       expect(results.data[0].event).toBe('brute_force_attack')
[7m   [0m [91m             ~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m828[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'results.pagination' is of type 'unknown'.

[7m828[0m       expect(results.pagination.limit).toBe(50)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m827[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'results.pagination' is of type 'unknown'.

[7m827[0m       expect(results.pagination.page).toBe(1)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m826[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'results.pagination' is of type 'unknown'.

[7m826[0m       expect(results.pagination.total).toBe(2)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m781[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'exported.data' is of type 'unknown'.

[7m781[0m       expect(exported.data.events).toHaveLength(1)
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m781[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'exported' is possibly 'null'.

[7m781[0m       expect(exported.data.events).toHaveLength(1)
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m780[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'exported.data' is of type 'unknown'.

[7m780[0m       expect(exported.data.title).toBe(timeline.title)
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m780[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'exported' is possibly 'null'.

[7m780[0m       expect(exported.data.title).toBe(timeline.title)
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m779[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'exported' is possibly 'null'.

[7m779[0m       expect(exported.data).toBeDefined()
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m778[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'exported' is possibly 'null'.

[7m778[0m       expect(exported.format).toBe('json')
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m754[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'analysis.patterns' is of type 'unknown'.

[7m754[0m       expect(analysis.patterns[0].confidence).toBe(0.9)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m754[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'analysis' is possibly 'null'.

[7m754[0m       expect(analysis.patterns[0].confidence).toBe(0.9)
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m753[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'analysis.patterns' is of type 'unknown'.

[7m753[0m       expect(analysis.patterns[0].type).toBe('temporal')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m753[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'analysis' is possibly 'null'.

[7m753[0m       expect(analysis.patterns[0].type).toBe('temporal')
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m752[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'analysis' is possibly 'null'.

[7m752[0m       expect(analysis.patterns).toHaveLength(2)
[7m   [0m [91m             ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m699[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'updatedTimeline.events' is of type 'unknown'.

[7m699[0m       expect(updatedTimeline.events[0].user).toBe(eventData.user)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m699[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'updatedTimeline' is possibly 'null'.

[7m699[0m       expect(updatedTimeline.events[0].user).toBe(eventData.user)
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m698[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'updatedTimeline.events' is of type 'unknown'.

[7m698[0m       expect(updatedTimeline.events[0].event).toBe(eventData.event)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m698[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'updatedTimeline' is possibly 'null'.

[7m698[0m       expect(updatedTimeline.events[0].event).toBe(eventData.event)
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m697[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'updatedTimeline.events' is of type 'unknown'.

[7m697[0m       expect(updatedTimeline.events[0].timestamp).toBe(eventData.timestamp)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m697[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'updatedTimeline' is possibly 'null'.

[7m697[0m       expect(updatedTimeline.events[0].timestamp).toBe(eventData.timestamp)
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m696[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'updatedTimeline' is possibly 'null'.

[7m696[0m       expect(updatedTimeline.events).toHaveLength(1)
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m639[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'scheduled' is possibly 'null'.

[7m639[0m       expect(scheduled.enabled).toBe(scheduleData.enabled)
[7m   [0m [91m             ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m638[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'scheduled' is possibly 'null'.

[7m638[0m       expect(scheduled.nextRun).toBe(scheduleData.nextRun)
[7m   [0m [91m             ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m637[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'scheduled' is possibly 'null'.

[7m637[0m       expect(scheduled.frequency).toBe(scheduleData.frequency)
[7m   [0m [91m             ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m567[0m:[93m9[0m - [91merror[0m[90m ts(18048): [0m'service.config.maxResultsPerQuery' is possibly 'undefined'.

[7m567[0m         service.config.maxResultsPerQuery - 1,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m489[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ format: string; data: Record<string, unknown>; }' is not assignable to parameter of type 'never'.

[7m489[0m         exports.push(exported)
[7m   [0m [91m                     ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m371[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'status' does not exist on type '{ errors: string[]; }'.

[7m371[0m       expect(investigation.status).toBe('active')
[7m   [0m [91m                           ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m370[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'priority' does not exist on type '{ errors: string[]; }'.

[7m370[0m       expect(investigation.priority).toBe(investigationData.priority)
[7m   [0m [91m                           ~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m369[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'title' does not exist on type '{ errors: string[]; }'.

[7m369[0m       expect(investigation.title).toBe(investigationData.title)
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m255[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'closedInvestigation' is possibly 'null'.

[7m255[0m       expect(closedInvestigation.lessonsLearned).toBe(
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m252[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'closedInvestigation' is possibly 'null'.

[7m252[0m       expect(closedInvestigation.resolutionNotes).toBe(
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m251[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'closedInvestigation' is possibly 'null'.

[7m251[0m       expect(closedInvestigation.resolvedBy).toBe(resolutionData.resolvedBy)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m250[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'closedInvestigation' is possibly 'null'.

[7m250[0m       expect(closedInvestigation.resolution).toBe(resolutionData.resolution)
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m249[0m:[93m14[0m - [91merror[0m[90m ts(18047): [0m'closedInvestigation' is possibly 'null'.

[7m249[0m       expect(closedInvestigation.status).toBe('resolved')
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m176[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'createdAt' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'createdAt' does not exist on type '{ errors: string[]; }'.

[7m176[0m       expect(investigation.createdAt).toBeDefined()
[7m   [0m [91m                           ~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m175[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'status' does not exist on type '{ errors: string[]; }'.

[7m175[0m       expect(investigation.status).toBe('active')
[7m   [0m [91m                           ~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m174[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'title' does not exist on type '{ errors: string[]; }'.

[7m174[0m       expect(investigation.title).toBe(investigationData.title)
[7m   [0m [91m                           ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/__tests__/threat-hunting.test.ts[0m:[93m173[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'Record<string, unknown> | { errors: string[]; }'.
  Property 'id' does not exist on type '{ errors: string[]; }'.

[7m173[0m       expect(investigation.id).toBe('inv_1')
[7m   [0m [91m                           ~~[0m

[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m104[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'items' is of type 'unknown'.

[7m104[0m       frequency: items.length,
[7m   [0m [91m                 ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m87[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'items' is of type 'unknown'.

[7m87[0m     const sorted = items
[7m  [0m [91m                   ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m85[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'items' is of type 'unknown'.

[7m85[0m     if (items.length < 3) continue
[7m  [0m [91m        ~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m11[0m:[93m37[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'ThreatFinding'.

[7m11[0m import { ThreatData, ThreatPattern, ThreatFinding } from '../types'
[7m  [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m11[0m:[93m22[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'ThreatPattern'.

[7m11[0m import { ThreatData, ThreatPattern, ThreatFinding } from '../types'
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m11[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../types"' has no exported member 'ThreatData'.

[7m11[0m import { ThreatData, ThreatPattern, ThreatFinding } from '../types'
[7m  [0m [91m         ~~~~~~~~~~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m109[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m109[0m       related_threats: sorted.map((s) => s.id),
[7m   [0m [93m                                   ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m97[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m       ...sorted.map((s) => new Date(s.timestamp).getTime()),
[7m  [0m [93m                     ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m94[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m94[0m       ...sorted.map((s) => new Date(s.timestamp).getTime()),
[7m  [0m [93m                     ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m90[0m:[93m13[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'b' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m         (a, b) =>
[7m  [0m [93m            ~[0m
[96msrc/lib/threat-detection/threat-hunting/utils/threat-data-utils.ts[0m:[93m90[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m         (a, b) =>
[7m  [0m [93m         ~[0m

[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1500[0m:[93m54[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1500[0m       issues.push('Environment validation error: ' + error.message)
[7m    [0m [91m                                                     ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1491[0m:[93m53[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1491[0m         issues.push('MongoDB connection failed: ' + error.message)
[7m    [0m [91m                                                    ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1485[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m1485[0m         issues.push('Redis connection failed: ' + error.message)
[7m    [0m [91m                                                  ~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1115[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'Db'.

[7m1115[0m   private db: Db
[7m    [0m [91m              ~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1114[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m1114[0m   private mongoClient: MongoClient
[7m    [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/config/ThreatIntelligenceConfig.ts[0m:[93m1113[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m1113[0m   private redis: Redis
[7m    [0m [91m          ~~~~~[0m

[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1326[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationPattern | null' is not assignable to parameter of type 'WithoutId<Document>'.
  Type 'null' is not assignable to type 'WithoutId<Document>'.

[7m1326[0m         .replaceOne({ patternId: pattern.patternId }, pattern, { upsert: true })
[7m    [0m [91m                                                      ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1326[0m:[93m34[0m - [91merror[0m[90m ts(18047): [0m'pattern' is possibly 'null'.

[7m1326[0m         .replaceOne({ patternId: pattern.patternId }, pattern, { upsert: true })
[7m    [0m [91m                                 ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1322[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationPattern | null' is not assignable to parameter of type 'CorrelationPattern'.
  Type 'null' is not assignable to type 'CorrelationPattern'.

[7m1322[0m       this.correlationPatterns.set(pattern.patternId, pattern)
[7m    [0m [91m                                                      ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1322[0m:[93m36[0m - [91merror[0m[90m ts(18047): [0m'pattern' is possibly 'null'.

[7m1322[0m       this.correlationPatterns.set(pattern.patternId, pattern)
[7m    [0m [91m                                   ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1319[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationPattern | null' is not assignable to parameter of type 'CorrelationPattern'.
  Type 'null' is not assignable to type 'CorrelationPattern'.

[7m1319[0m       pattern.trend = await this.analyzePatternTrend(pattern)
[7m    [0m [91m                                                     ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1319[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'pattern' is possibly 'null'.

[7m1319[0m       pattern.trend = await this.analyzePatternTrend(pattern)
[7m    [0m [91m      ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1306[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type '"behavioral" | "temporal" | "attribution" | "spatial"'.

[7m1306[0m           patternType: patternInfo.type,
[7m    [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1031[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m1031[0m       return similarThreatData
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m1008[0m:[93m15[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'GlobalThreatIntelligence'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m1008[0m               targetThreat,
[7m    [0m [91m              ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m995[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'GlobalThreatIntelligence'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m995[0m           targetThreat,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m759[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m759[0m       return similarThreats
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m679[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | boolean | undefined' is not assignable to type 'boolean'.
  Type 'undefined' is not assignable to type 'boolean'.

[7m679[0m     return (
[7m   [0m [91m    ~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m492[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'never'.

[7m492[0m           matrix[i][j] = Math.min(
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m484[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number' is not assignable to type 'never'.

[7m484[0m       matrix[0][j] = j
[7m   [0m [91m      ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m480[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'number[]' is not assignable to type 'never'.

[7m480[0m       matrix[i] = [i]
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m199[0m:[93m57[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'CorrelationPattern'.
  Type 'WithId<Document>' is missing the following properties from type 'CorrelationPattern': patternId, patternType, description, confidence, and 6 more.

[7m199[0m         this.correlationPatterns.set(pattern.patternId, pattern)
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m75[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m75[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m74[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m74[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m73[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/correlation/ThreatCorrelationEngine.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m17[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/correlation/index.ts[0m:[93m8[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m8[0m export { ThreatCorrelationEngine } from './ThreatCorrelationEngine'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m930[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m930[0m         data: threats,
[7m   [0m [91m        ~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m758[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'GlobalThreatIntelligence[]'.
  Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m758[0m       return threats
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m649[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document> | null' is not assignable to type 'GlobalThreatIntelligence | null'.
  Type 'WithId<Document>' is not assignable to type 'GlobalThreatIntelligence | null'.
    Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m649[0m       return threat
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m621[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document> | null' is not assignable to type 'GlobalThreatIntelligence | null'.
  Type 'WithId<Document>' is not assignable to type 'GlobalThreatIntelligence | null'.
    Type 'WithId<Document>' is missing the following properties from type 'GlobalThreatIntelligence': intelligenceId, threatId, globalThreatId, regions, and 8 more.

[7m621[0m       return threat
[7m   [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m101[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m101[0m   private redis: Redis
[7m   [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m100[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m100[0m   private db: Db
[7m   [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m99[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m99[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/database/ThreatIntelligenceDatabase.ts[0m:[93m915[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_totalCount' is declared but its value is never read.

[7m915[0m       const _totalCount = await threatsCollection.countDocuments(searchQuery)
[7m   [0m [93m            ~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/database/index.ts[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m7[0m export { ThreatIntelligenceDatabase } from './ThreatIntelligenceDatabase'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m1143[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatContext'.

[7m1143[0m   context: ThreatContext
[7m    [0m [91m           ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m520[0m:[93m66[0m - [91merror[0m[90m ts(2551): [0mProperty 'threatData' does not exist on type 'RealTimeThreatData'. Did you mean 'threatId'?

[7m520[0m       this.emit('detection_error', { error, threatId: threatData.threatData })
[7m   [0m [91m                                                                 ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m491[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'number'.
  Type 'string' is not assignable to type 'number'.

[7m491[0m         severity: finalResult.severity,
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m398[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'regions' does not exist on type 'EdgeDetectionConfig'.

[7m398[0m       for (const region of this.config.regions || []) {
[7m   [0m [91m                                       ~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m65[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m65[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m16[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m705[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m705[0m       const prediction = (await predictionModel.predict(input)) as tf.Tensor
[7m   [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m641[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m641[0m       const prediction = (await classificationModel.predict(input)) as tf.Tensor
[7m   [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m601[0m:[93m27[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m601[0m       const prediction = (await anomalyModel.predict(input)) as tf.Tensor
[7m   [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/edge/EdgeThreatDetectionSystem.ts[0m:[93m68[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'detectionThresholds' is declared but its value is never read.

[7m68[0m   private detectionThresholds: DetectionThresholds
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1900[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1900[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1889[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1889[0m           {
[7m    [0m [91m          ~[0m
[7m1890[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1894[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1895[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1796[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1796[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1785[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1785[0m           {
[7m    [0m [91m          ~[0m
[7m1786[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1790[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1791[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1669[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1669[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1658[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1658[0m           {
[7m    [0m [91m          ~[0m
[7m1659[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1663[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1664[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1541[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1541[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1530[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1530[0m           {
[7m    [0m [91m          ~[0m
[7m1531[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1535[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1536[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1413[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1413[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1402[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1402[0m           {
[7m    [0m [91m          ~[0m
[7m1403[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1407[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1408[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1285[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1285[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m1274[0m:[93m11[0m - [91merror[0m[90m ts(2739): [0mType '{ indicatorType: any; value: any; confidence: any; firstSeen: Date; lastSeen: Date; }' is missing the following properties from type 'GlobalThreatIndicator': indicatorId, sourceRegion, metadata

[7m1274[0m           {
[7m    [0m [91m          ~[0m
[7m1275[0m             indicatorType: item.indicatorType as any,
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m ...[0m
[7m1279[0m             lastSeen: new Date(item.timestamp),
[7m    [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m1280[0m           },
[7m    [0m [91m~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m78[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'httpClient' has no initializer and is not definitely assigned in the constructor.

[7m78[0m   private httpClient: AxiosInstance
[7m  [0m [91m          ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m77[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m77[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m76[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m76[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m75[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m75[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m16[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedProcessingResult'.

[7m16[0m   FeedProcessingResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedSubscription'.

[7m15[0m   FeedSubscription,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedItem'.

[7m14[0m   FeedItem,
[7m  [0m [91m  ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m13[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'FeedConfig'.

[7m13[0m   FeedConfig,
[7m  [0m [91m  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/feeds/ExternalThreatFeedIntegration.ts[0m:[93m83[0m:[93m23[0m - [93mwarning[0m[90m ts(6138): [0mProperty 'config' is declared but its value is never read.

[7m83[0m   constructor(private config: FeedConfig) {
[7m  [0m [93m                      ~~~~~~[0m

[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m688[0m:[93m52[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m688[0m         this.validationSystem.getValidationMetrics(region),
[7m   [0m [91m                                                   ~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m655[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateIntelligence' does not exist on type 'ThreatValidationSystem'.

[7m655[0m         await this.validationSystem.validateIntelligence(intelligence)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m274[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'validateIntelligence' does not exist on type 'ThreatValidationSystem'.

[7m274[0m         await this.validationSystem.validateIntelligence(globalThreat)
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m266[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'CorrelationData' is not assignable to parameter of type 'CorrelationData[]'.
  Type 'CorrelationData' is missing the following properties from type 'CorrelationData[]': length, pop, push, concat, and 35 more.

[7m266[0m         correlationData,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m199[0m:[93m35[0m - [91merror[0m[90m ts(2693): [0m'ThreatValidationSystem' only refers to a type, but is being used as a value here.

[7m199[0m       this.validationSystem = new ThreatValidationSystem(this.config.validation)
[7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m191[0m:[93m32[0m - [91merror[0m[90m ts(2693): [0m'ThreatHuntingSystem' only refers to a type, but is being used as a value here.

[7m191[0m       this.huntingSystem = new ThreatHuntingSystem()
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m185[0m:[93m39[0m - [91merror[0m[90m ts(2693): [0m'AutomatedThreatResponseOrchestrator' only refers to a type, but is being used as a value here.

[7m185[0m       this.responseOrchestrator = new AutomatedThreatResponseOrchestrator(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m179[0m:[93m39[0m - [91merror[0m[90m ts(2693): [0m'ThreatIntelligenceDatabase' only refers to a type, but is being used as a value here.

[7m179[0m       this.intelligenceDatabase = new ThreatIntelligenceDatabase(
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m173[0m:[93m36[0m - [91merror[0m[90m ts(2693): [0m'ThreatCorrelationEngine' only refers to a type, but is being used as a value here.

[7m173[0m       this.correlationEngine = new ThreatCorrelationEngine(
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m167[0m:[93m38[0m - [91merror[0m[90m ts(2693): [0m'EdgeThreatDetectionSystem' only refers to a type, but is being used as a value here.

[7m167[0m       this.edgeDetectionSystem = new EdgeThreatDetectionSystem(
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m82[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'validationSystem' has no initializer and is not definitely assigned in the constructor.

[7m82[0m   private validationSystem: ThreatValidationSystem
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m80[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'huntingSystem' has no initializer and is not definitely assigned in the constructor.

[7m80[0m   private huntingSystem: ThreatHuntingSystem
[7m  [0m [91m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m79[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'responseOrchestrator' has no initializer and is not definitely assigned in the constructor.

[7m79[0m   private responseOrchestrator: AutomatedThreatResponseOrchestrator
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m78[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'intelligenceDatabase' has no initializer and is not definitely assigned in the constructor.

[7m78[0m   private intelligenceDatabase: ThreatIntelligenceDatabase
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m77[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'correlationEngine' has no initializer and is not definitely assigned in the constructor.

[7m77[0m   private correlationEngine: ThreatCorrelationEngine
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m76[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'edgeDetectionSystem' has no initializer and is not definitely assigned in the constructor.

[7m76[0m   private edgeDetectionSystem: EdgeThreatDetectionSystem
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m74[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m74[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m73[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m72[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m72[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m28[0m:[93m47[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../integration/ExternalThreatFeedIntegration' or its corresponding type declarations.

[7m28[0m import { ExternalThreatFeedIntegration } from '../integration/ExternalThreatFeedIntegration'
[7m  [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m430[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'edgeDetectionResult' is declared but its value is never read.

[7m430[0m     edgeDetectionResult: any,
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m88[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'isInitialized' is declared but its value is never read.

[7m88[0m   private isInitialized = false
[7m  [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m86[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'existingPredictiveService' is declared but its value is never read.

[7m86[0m   private existingPredictiveService: AdvancedPredictiveThreatIntelligence
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m85[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'existingIntelligenceService' is declared but its value is never read.

[7m85[0m   private existingIntelligenceService: ExternalThreatIntelligenceService
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/GlobalThreatIntelligenceNetwork.ts[0m:[93m74[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'db' is declared but its value is never read.

[7m74[0m   private db: Db
[7m  [0m [93m          ~~[0m

[96msrc/lib/threat-intelligence/global/types.ts[0m:[93m413[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatIndicator'.

[7m413[0m   indicators: ThreatIndicator[]
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/types.ts[0m:[93m386[0m:[93m12[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatContext'.

[7m386[0m   context: ThreatContext
[7m   [0m [91m           ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/global/types.ts[0m:[93m385[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ThreatIndicator'.

[7m385[0m   indicators: ThreatIndicator[]
[7m   [0m [91m              ~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2629[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastExecution' does not exist on type 'HuntSchedule'.

[7m2629[0m         ? new Date(schedule.lastExecution)
[7m    [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2628[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'lastExecution' does not exist on type 'HuntSchedule'.

[7m2628[0m       const lastExecution = schedule.lastExecution
[7m    [0m [91m                                     ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2615[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'HuntSchedule'.
  Type 'WithId<Document>' is missing the following properties from type 'HuntSchedule': frequency, cronExpression, timezone, enabled

[7m2615[0m           await this.executeScheduledHunt(schedule)
[7m    [0m [91m                                          ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2613[0m:[93m69[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'HuntSchedule'.
  Type 'WithId<Document>' is missing the following properties from type 'HuntSchedule': frequency, cronExpression, timezone, enabled

[7m2613[0m         const shouldExecute = await this.shouldExecuteScheduledHunt(schedule)
[7m    [0m [91m                                                                    ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2404[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'WithId<Document>[]' is not assignable to type 'HuntResult[]'.
  Type 'WithId<Document>' is missing the following properties from type 'HuntResult': resultId, huntId, timestamp, findings, metadata

[7m2404[0m       return results
[7m    [0m [91m      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2347[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2347[0m         scheduleId: schedule.scheduleId,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2339[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'parameters' does not exist on type 'HuntSchedule'.

[7m2339[0m         parameters: schedule.parameters,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2338[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'regions' does not exist on type 'HuntSchedule'.

[7m2338[0m         regions: schedule.regions,
[7m    [0m [91m                          ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2337[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntSchedule'.

[7m2337[0m         scope: schedule.scope,
[7m    [0m [91m                        ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2336[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntSchedule'.

[7m2336[0m         patternId: schedule.patternId,
[7m    [0m [91m                            ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2335[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2335[0m         huntId: `scheduled_${schedule.scheduleId}_${Date.now()}`,
[7m    [0m [91m                                      ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2335[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'huntId' does not exist in type 'HuntQuery'.

[7m2335[0m         huntId: `scheduled_${schedule.scheduleId}_${Date.now()}`,
[7m    [0m [91m        ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2331[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2331[0m         scheduleId: schedule.scheduleId,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2318[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2318[0m         { scheduleId: schedule.scheduleId },
[7m    [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2289[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntSchedule'.

[7m2289[0m     if (!schedule.patternId) {
[7m    [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2285[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2285[0m     if (!schedule.scheduleId) {
[7m    [0m [91m                  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2277[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2277[0m       return schedule.scheduleId
[7m    [0m [91m                      ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2275[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2275[0m       this.emit('hunt_scheduled', { scheduleId: schedule.scheduleId })
[7m    [0m [91m                                                         ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2273[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2273[0m       this.scheduledHunts.set(schedule.scheduleId, timeout)
[7m    [0m [91m                                       ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2268[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2268[0m             scheduleId: schedule.scheduleId,
[7m    [0m [91m                                 ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2250[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntSchedule'.

[7m2250[0m         patternId: schedule.patternId,
[7m    [0m [91m                            ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2249[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'scheduleId' does not exist on type 'HuntSchedule'.

[7m2249[0m         scheduleId: schedule.scheduleId,
[7m    [0m [91m                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m2097[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m2097[0m     return `${threat.threatType}:${indicatorKeys}`
[7m    [0m [91m                     ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m1957[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'execution'.

[7m1957[0m           huntId: execution.huntId,
[7m    [0m [91m                  ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m1950[0m:[93m9[0m - [91merror[0m[90m ts(2739): [0mType '{ family: any; campaign: string; confidence: any; }' is missing the following properties from type 'ThreatAttribution': actor, motivation, sophistication, resources, evidence

[7m1950[0m         attribution: {
[7m    [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m1949[0m:[93m18[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'execution'.

[7m1949[0m         regions: execution.regions || ['global'],
[7m    [0m [91m                 ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m411[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataSources' does not exist on type 'HuntQuery'.

[7m411[0m       dataSources.push(...query.dataSources)
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m410[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataSources' does not exist on type 'HuntQuery'.

[7m410[0m     if (query.dataSources) {
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m353[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'regions' does not exist on type 'HuntQuery'.

[7m353[0m         regions: query.regions || ['all'],
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m351[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m351[0m         scope: query.scope || ['global'],
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m347[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m347[0m         huntId: query.huntId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m326[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'customQuery' does not exist on type 'HuntQuery'.

[7m326[0m       query: query.customQuery!,
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m310[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m310[0m         throw new Error(`Hunt pattern not found: ${query.patternId}`)
[7m   [0m [91m                                                         ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m308[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m308[0m       const pattern = this.huntPatterns.get(query.patternId!)
[7m   [0m [91m                                                  ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m302[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'customQuery' does not exist on type 'HuntQuery'.

[7m302[0m       if (query.customQuery) {
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m290[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'maxResults' does not exist on type 'HuntQuery'.

[7m290[0m         maxResults: query.maxResults || 1000,
[7m   [0m [91m                          ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m289[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeout' does not exist on type 'HuntQuery'.

[7m289[0m         timeout: query.timeout || 300000, // 5 minutes default
[7m   [0m [91m                       ~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m288[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'HuntQuery'.

[7m288[0m         priority: query.priority || 'medium',
[7m   [0m [91m                        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m288[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'HuntQuery'.

[7m288[0m         priority: query.priority || 'medium',
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m271[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'HuntQuery'.

[7m271[0m         const endTime = new Date(query.timeRange.endTime)
[7m   [0m [91m                                       ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m270[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'HuntQuery'.

[7m270[0m         const startTime = new Date(query.timeRange.startTime)
[7m   [0m [91m                                         ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m269[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeRange' does not exist on type 'HuntQuery'.

[7m269[0m       if (query.timeRange) {
[7m   [0m [91m                ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m264[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m264[0m       if (query.scope && query.scope.length === 0) {
[7m   [0m [91m                               ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m264[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m264[0m       if (query.scope && query.scope.length === 0) {
[7m   [0m [91m                ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m259[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'customQuery' does not exist on type 'HuntQuery'.

[7m259[0m       if (!query.patternId && !query.customQuery) {
[7m   [0m [91m                                     ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m259[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m259[0m       if (!query.patternId && !query.customQuery) {
[7m   [0m [91m                 ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m255[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m255[0m       if (!query.huntId) {
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m247[0m:[93m64[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m247[0m       this.emit('hunt_execution_error', { error, huntId: query.huntId })
[7m   [0m [91m                                                               ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m245[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m245[0m         huntId: query.huntId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m238[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'HuntResult'.

[7m238[0m         confidence: huntResult.confidence,
[7m   [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m237[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatsDiscovered' does not exist on type 'HuntResult'.

[7m237[0m         threatsDiscovered: huntResult.threatsDiscovered,
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m236[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'executionId' does not exist on type 'HuntResult'.

[7m236[0m         executionId: huntResult.executionId,
[7m   [0m [91m                                ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m229[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'dataSources' does not exist in type 'HuntMetadata'.

[7m229[0m           dataSources: execution.dataSources,
[7m   [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m173[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'scope' does not exist on type 'HuntQuery'.

[7m173[0m         scope: query.scope,
[7m   [0m [91m                     ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m172[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'patternId' does not exist on type 'HuntQuery'.

[7m172[0m         patternId: query.patternId,
[7m   [0m [91m                         ~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m171[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntId' does not exist on type 'HuntQuery'.

[7m171[0m         huntId: query.huntId,
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m62[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m62[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m61[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m61[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m60[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m60[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m19[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m19[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'HuntExecution'.

[7m17[0m   HuntExecution,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'HuntPattern'.

[7m15[0m   HuntPattern,
[7m  [0m [91m  ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/hunting/ThreatHuntingSystem.ts[0m:[93m12[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'HuntingConfig'.

[7m12[0m   HuntingConfig,
[7m  [0m [91m  ~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1359[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m1359[0m     if (strategy.priority < 0 || strategy.priority > 100) {
[7m    [0m [91m                                          ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1359[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m1359[0m     if (strategy.priority < 0 || strategy.priority > 100) {
[7m    [0m [91m                 ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m1089[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'enabled' does not exist on type 'IntegrationEndpoint'.

[7m1089[0m         if (endpoint.enabled !== false) {
[7m    [0m [91m                     ~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m671[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m671[0m       if (action.priority < 0 || action.priority > 10) {
[7m   [0m [91m                                        ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m671[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m671[0m       if (action.priority < 0 || action.priority > 10) {
[7m   [0m [91m                 ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m599[0m:[93m14[0m - [91merror[0m[90m ts(2678): [0mType '"rate_limit"' is not comparable to type '"alert" | "block" | "isolate" | "investigate" | "mitigate"'.

[7m599[0m         case 'rate_limit':
[7m   [0m [91m             ~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m574[0m:[93m52[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m574[0m       return actions.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                                   ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m574[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseAction'.

[7m574[0m       return actions.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                      ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m548[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m548[0m             priority: 3,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m531[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m531[0m             priority: 5,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m523[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m523[0m             priority: 6,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m506[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m506[0m             priority: 7,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m494[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '"rate_limit"' is not assignable to type '"alert" | "block" | "isolate" | "investigate" | "mitigate"'.

[7m494[0m             actionType: 'rate_limit',
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m480[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m480[0m             priority: 9,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m471[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'priority' does not exist in type 'ResponseAction'.

[7m471[0m             priority: 10,
[7m   [0m [91m            ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m376[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'condition.value' is of type 'unknown'.

[7m376[0m         return value < condition.value
[7m   [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m374[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'condition.value' is of type 'unknown'.

[7m374[0m         return value > condition.value
[7m   [0m [91m                       ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m285[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m285[0m       matchingStrategies.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                                       ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m285[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'priority' does not exist on type 'ResponseStrategy'.

[7m285[0m       matchingStrategies.sort((a, b) => b.priority - a.priority)
[7m   [0m [91m                                          ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m223[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'primaryType' does not exist on type 'ResponseStrategy'.

[7m223[0m         responseType: strategy.primaryType,
[7m   [0m [91m                               ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m161[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'ResponseStrategy'.
  Type 'WithId<Document>' is missing the following properties from type 'ResponseStrategy': strategyId, threatTypes, severityLevels, responseActions, conditions

[7m161[0m         this.responseStrategies.set(strategy.strategyId, strategy)
[7m   [0m [91m                                                         ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m74[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m74[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m73[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m72[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m72[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/orchestration/AutomatedThreatResponseOrchestrator.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatResponse'.

[7m18[0m   ThreatResponse,
[7m  [0m [91m  ~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/orchestration/index.ts[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(1205): [0mRe-exporting a type when 'isolatedModules' is enabled requires using 'export type'.

[7m7[0m export { AutomatedThreatResponseOrchestrator } from './AutomatedThreatResponseOrchestrator'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m525[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m525[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m517[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'synchronizeThreat' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m517[0m       await network.synchronizeThreat(threatData)
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m485[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m485[0m       await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                              ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m458[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m458[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m449[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'getThreatById' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m449[0m       const result2 = await network.getThreatById(threatId)
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m446[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'getThreatById' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m446[0m       const result1 = await network.getThreatById(threatId)
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m438[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'GlobalThreatIntelligence'.

[7m438[0m       const successfulResults = results.filter((r) => r.status === 'processed')
[7m   [0m [91m                                                        ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m429[0m:[93m67[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m429[0m         threats.map((threat) => network.processThreatIntelligence(threat)),
[7m   [0m [91m                                                                  ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m402[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m402[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m394[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: null; threatType: string; severity?: undefined; confidence?: undefined; indicators?: undefined; } | { threatId: string; threatType: string; severity?: undefined; confidence?: undefined; indicators?: undefined; } | { ...; } | { ...; } | { ...; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: null; threatType: string; severity?: undefined; confidence?: undefined; indicators?: undefined; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m394[0m           network.processThreatIntelligence(invalidThreat),
[7m   [0m [91m                                            ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m379[0m:[93m49[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m379[0m         await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                                ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m348[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m348[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m337[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'getThreatMetrics' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m337[0m       const metrics = await network.getThreatMetrics()
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m333[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'activeRegions' does not exist on type 'HealthStatus'.

[7m333[0m       expect(healthStatus.activeRegions).toBeGreaterThan(0)
[7m   [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m332[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'message' does not exist on type 'HealthStatus'.

[7m332[0m       expect(healthStatus.message).toContain('healthy')
[7m   [0m [91m                          ~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m331[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'healthy' does not exist on type 'HealthStatus'.

[7m331[0m       expect(healthStatus.healthy).toBe(true)
[7m   [0m [91m                          ~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m324[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m324[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m315[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'correlateThreats' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m315[0m       const correlations = await network.correlateThreats([])
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m307[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'correlateThreats' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m307[0m       const correlations = await network.correlateThreats(threats)
[7m   [0m [91m                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m263[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m263[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m257[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'synchronizeThreat' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m257[0m       await expect(network.synchronizeThreat(threatData)).rejects.toThrow()
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m229[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'synchronizeThreat' does not exist on type 'GlobalThreatIntelligenceNetworkCore'.

[7m229[0m       const result = await network.synchronizeThreat(threatData)
[7m   [0m [91m                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m205[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m205[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m199[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'GlobalThreatIntelligence'.

[7m199[0m       expect(result.status).toBe('duplicate')
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m197[0m:[93m62[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m197[0m       const result = await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m194[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; firstSeen: Date; lastSeen: Date; regions: string[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m194[0m       await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                              ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m169[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: never[]; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: never[]; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m169[0m         network.processThreatIntelligence(invalidThreat),
[7m   [0m [91m                                          ~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m156[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'GlobalThreatIntelligence'.

[7m156[0m       expect(result.status).toBe('processed')
[7m   [0m [91m                    ~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m152[0m:[93m62[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; ... 4 more ...; metadata: { ...; }; }' is not assignable to parameter of type 'RealTimeThreatData'.
  Type '{ threatId: string; threatType: string; severity: string; confidence: number; indicators: { indicatorType: string; value: string; confidence: number; firstSeen: Date; lastSeen: Date; }[]; ... 4 more ...; metadata: { ...; }; }' is missing the following properties from type 'RealTimeThreatData': timestamp, region, context, source

[7m152[0m       const result = await network.processThreatIntelligence(threatData)
[7m   [0m [91m                                                             ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m119[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m119[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m109[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m109[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/tests/GlobalThreatIntelligenceNetwork.test.ts[0m:[93m89[0m:[93m17[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m89[0m       network = new GlobalThreatIntelligenceNetworkCore(mockConfig)
[7m  [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1279[0m:[93m60[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'ValidationRule'.

[7m1279[0m       !['low', 'medium', 'high', 'critical'].includes(rule.severity)
[7m    [0m [91m                                                           ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1278[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'ValidationRule'.

[7m1278[0m       rule.severity &&
[7m    [0m [91m           ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1273[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m1273[0m     if (!rule.ruleId || !rule.name || !rule.ruleType) {
[7m    [0m [91m                              ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1073[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m1073[0m           'threatType': threat.threatType,
[7m    [0m [91m                               ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1028[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m1028[0m         threatType: threat.threatType,
[7m    [0m [91m                           ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m999[0m:[93m57[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m999[0m         issues: ['Cross-reference validation error: ' + error.message],
[7m   [0m [91m                                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m926[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m926[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m910[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m910[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m879[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m879[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m855[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m855[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m826[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m826[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m811[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'getNestedValue' does not exist on type 'ThreatValidationSystemCore'.

[7m811[0m     const value = this.getNestedValue(threat, condition.field)
[7m   [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m802[0m:[93m51[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m802[0m         message: 'Condition evaluation error: ' + error.message,
[7m   [0m [91m                                                  ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m772[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m772[0m         issues: ['Rule application error: ' + error.message],
[7m   [0m [91m                                              ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m769[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m769[0m         ruleName: rule.name,
[7m   [0m [91m                       ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m759[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'severity' does not exist on type 'ValidationRule'.

[7m759[0m           severity: rule.severity,
[7m   [0m [91m                         ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m758[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'conditions' does not exist on type 'ValidationRule'. Did you mean 'condition'?

[7m758[0m           conditionsApplied: rule.conditions.length,
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m752[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m752[0m         ruleName: rule.name,
[7m   [0m [91m                       ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m739[0m:[93m36[0m - [91merror[0m[90m ts(2551): [0mProperty 'conditions' does not exist on type 'ValidationRule'. Did you mean 'condition'?

[7m739[0m       for (const condition of rule.conditions) {
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m721[0m:[93m47[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m721[0m           issues: ['Rule execution error: ' + error.message],
[7m   [0m [91m                                              ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m718[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'ValidationRule'.

[7m718[0m           ruleName: rule.name,
[7m   [0m [91m                         ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m696[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m696[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m629[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m629[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m461[0m:[93m46[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m461[0m         error: 'Format validation error: ' + error.message,
[7m   [0m [91m                                             ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m431[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m431[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m353[0m:[93m41[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m353[0m         issues: ['Validation error: ' + error.message],
[7m   [0m [91m                                        ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m342[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'GlobalThreatIntelligence'.

[7m342[0m           hasMetadata: !!threat.metadata,
[7m   [0m [91m                                ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m296[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m296[0m       if (!threat.threatType) {
[7m   [0m [91m                  ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m268[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'threatType' does not exist on type 'GlobalThreatIntelligence'.

[7m268[0m       threatType: threat.threatType,
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m223[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'validationThreshold' does not exist on type 'ValidationConfig'.

[7m223[0m       validation.isValid = overallScore >= this.config.validationThreshold
[7m   [0m [91m                                                       ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m205[0m:[93m71[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'GlobalThreatIntelligence'.

[7m205[0m         const metadataValidation = await this.validateMetadata(threat.metadata)
[7m   [0m [91m                                                                      ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m204[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type 'GlobalThreatIntelligence'.

[7m204[0m       if (threat.metadata) {
[7m   [0m [91m                 ~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m141[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'WithId<Document>' is not assignable to parameter of type 'ValidationRule'.
  Type 'WithId<Document>' is missing the following properties from type 'ValidationRule': ruleId, ruleType, condition, threshold, action

[7m141[0m         this.validationRules.set(rule.ruleId, rule)
[7m   [0m [91m                                              ~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m64[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'db' has no initializer and is not definitely assigned in the constructor.

[7m64[0m   private db: Db
[7m  [0m [91m          ~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m63[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'mongoClient' has no initializer and is not definitely assigned in the constructor.

[7m63[0m   private mongoClient: MongoClient
[7m  [0m [91m          ~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m62[0m:[93m11[0m - [91merror[0m[90m ts(2564): [0mProperty 'redis' has no initializer and is not definitely assigned in the constructor.

[7m62[0m   private redis: Redis
[7m  [0m [91m          ~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ValidationMetrics'.

[7m18[0m   ValidationMetrics,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m17[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatIndicator'.

[7m17[0m   ThreatIndicator,
[7m  [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m ts(2305): [0mModule '"../global/types"' has no exported member 'ThreatValidation'.

[7m15[0m   ThreatValidation,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m14[0m:[93m3[0m - [91merror[0m[90m ts(2724): [0m'"../global/types"' has no exported member named 'ValidationResult'. Did you mean 'ValidationRule'?

[7m14[0m   ValidationResult,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1211[0m:[93m17[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'r' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1211[0m           .map((r) => r.issues)
[7m    [0m [93m                ~[0m
[96msrc/lib/threat-intelligence/validation/ThreatValidationSystem.ts[0m:[93m1210[0m:[93m20[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'r' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m1210[0m           .filter((r) => !r.passed)
[7m    [0m [93m                   ~[0m

[96msrc/lib/tracing/config.ts[0m:[93m75[0m:[93m14[0m - [91merror[0m[90m ts(2693): [0m'Resource' only refers to a type, but is being used as a value here.

[7m75[0m   return new Resource({
[7m  [0m [91m             ~~~~~~~~[0m
[96msrc/lib/tracing/config.ts[0m:[93m79[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticResourceAttributes' is deprecated.

[7m79[0m     [SemanticResourceAttributes.SERVICE_INSTANCE_ID]: `${config.serviceName}-${Date.now()}`,
[7m  [0m [93m     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/config.ts[0m:[93m78[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticResourceAttributes' is deprecated.

[7m78[0m     [SemanticResourceAttributes.DEPLOYMENT_ENVIRONMENT]: config.environment,
[7m  [0m [93m     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/config.ts[0m:[93m77[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticResourceAttributes' is deprecated.

[7m77[0m     [SemanticResourceAttributes.SERVICE_VERSION]: config.serviceVersion,
[7m  [0m [93m     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/config.ts[0m:[93m76[0m:[93m6[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticResourceAttributes' is deprecated.

[7m76[0m     [SemanticResourceAttributes.SERVICE_NAME]: config.serviceName,
[7m  [0m [93m     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/config.ts[0m:[93m9[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticResourceAttributes' is deprecated.

[7m9[0m import { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions'
[7m [0m [93m         ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/tracing/middleware.ts[0m:[93m99[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'HTTP_RESPONSE_SIZE' does not exist on type 'SemanticAttributes'.

[7m99[0m       [SemanticAttributes.HTTP_RESPONSE_SIZE]: Number(
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m11[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MiddlewareHandler'.

[7m11[0m import type { MiddlewareHandler } from 'astro'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m99[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m99[0m       [SemanticAttributes.HTTP_RESPONSE_SIZE]: Number(
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m98[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m98[0m       [SemanticAttributes.HTTP_STATUS_CODE]: response.status,
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m68[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m68[0m       [SemanticAttributes.HTTP_ROUTE]: url.pathname,
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m67[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m67[0m       [SemanticAttributes.HTTP_TARGET]: url.pathname + url.search,
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m66[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m66[0m       [SemanticAttributes.HTTP_SCHEME]: url.protocol.replace(':', ''),
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m65[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m65[0m       [SemanticAttributes.HTTP_URL]: url.toString(),
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m64[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m64[0m       [SemanticAttributes.HTTP_METHOD]: method,
[7m  [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m25[0m:[93m69[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'next' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m export const tracingMiddleware: MiddlewareHandler = async (context, next) => {
[7m  [0m [93m                                                                    ~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m25[0m:[93m60[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'context' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m export const tracingMiddleware: MiddlewareHandler = async (context, next) => {
[7m  [0m [93m                                                           ~~~~~~~[0m
[96msrc/lib/tracing/middleware.ts[0m:[93m9[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m9[0m import { SemanticAttributes } from '@opentelemetry/semantic-conventions'
[7m [0m [93m         ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/tracing/utils.ts[0m:[93m170[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m170[0m       [SemanticAttributes.HTTP_URL]: url,
[7m   [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m169[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m169[0m       [SemanticAttributes.HTTP_METHOD]: method,
[7m   [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m163[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m163[0m         [SemanticAttributes.HTTP_URL]: url,
[7m   [0m [93m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m162[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m162[0m         [SemanticAttributes.HTTP_METHOD]: method,
[7m   [0m [93m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m143[0m:[93m8[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m143[0m       [SemanticAttributes.DB_SYSTEM]: 'postgresql',
[7m   [0m [93m       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m137[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m137[0m         [SemanticAttributes.DB_SQL_TABLE]: table,
[7m   [0m [93m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m136[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m136[0m         [SemanticAttributes.DB_OPERATION]: operation,
[7m   [0m [93m         ~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/tracing/utils.ts[0m:[93m8[0m:[93m10[0m - [93mwarning[0m[90m ts(6385): [0m'SemanticAttributes' is deprecated.

[7m8[0m import { SemanticAttributes } from '@opentelemetry/semantic-conventions'
[7m [0m [93m         ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/utils/demo-helpers.integration.test.ts[0m:[93m124[0m:[93m53[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ ok: true; text: () => Promise<string>; headers: Map<string, string>; }' to type 'Response' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ ok: true; text: () => Promise<string>; headers: Map<string, string>; }' is missing the following properties from type 'Response': redirected, status, statusText, type, and 9 more.

[7m124[0m       vi.mocked(global.fetch).mockResolvedValueOnce({
[7m   [0m [91m                                                    ~[0m
[7m125[0m         ok: true,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m127[0m         headers: new Map([['content-type', 'application/json']]),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m128[0m       } as Response)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m351[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m351[0m         {
[7m   [0m [91m        ~[0m
[7m352[0m           overall: 0.5,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m360[0m           evaluation: 0.4,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m361[0m         },
[7m   [0m [91m~~~~~~~~~[0m
[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m189[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m189[0m         biasFactors,
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m167[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m167[0m         biasFactors,
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/lib/utils/demo-helpers.test.ts[0m:[93m136[0m:[93m9[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m136[0m         biasFactors,
[7m   [0m [91m        ~~~~~~~~~~~[0m

[96msrc/lib/utils/env.ts[0m:[93m59[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'void'.

[7m59[0m       return getEnv(prop) ?? ''
[7m  [0m [91m      ~~~~~~[0m

[96msrc/lib/utils/image-optimizer.ts[0m:[93m11[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"image-optimizer"' has no properties in common with type 'LoggerOptions'.

[7m11[0m const logger = getLogger('image-optimizer')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/utils/image-optimizer.ts[0m:[93m217[0m:[93m14[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'buffer.slice' is deprecated.

[7m217[0m       buffer.slice(8, 12).toString('hex') === '41564946'
[7m   [0m [93m             ~~~~~[0m
[96msrc/lib/utils/image-optimizer.ts[0m:[93m212[0m:[93m14[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'buffer.slice' is deprecated.

[7m212[0m       buffer.slice(8, 12).toString('hex') === '57454250'
[7m   [0m [93m             ~~~~~[0m
[96msrc/lib/utils/image-optimizer.ts[0m:[93m206[0m:[93m26[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(start?: number | undefined, end?: number | undefined): Buffer<ArrayBuffer>' of 'buffer.slice' is deprecated.

[7m206[0m     const magic = buffer.slice(0, 12).toString('hex')
[7m   [0m [93m                         ~~~~~[0m

[96msrc/lib/utils/safe-fetch.ts[0m:[93m90[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'controller' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m       transform(chunk, controller) {
[7m  [0m [93m                       ~~~~~~~~~~[0m
[96msrc/lib/utils/safe-fetch.ts[0m:[93m90[0m:[93m17[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'chunk' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m90[0m       transform(chunk, controller) {
[7m  [0m [93m                ~~~~~[0m

[96msrc/lib/validation/api.ts[0m:[93m104[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m104[0m       error.errors.forEach((err) => {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/validation/api.ts[0m:[93m58[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m58[0m       error.errors.forEach((err) => {
[7m  [0m [91m            ~~~~~~[0m
[96msrc/lib/validation/api.ts[0m:[93m21[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m21[0m       error.errors.forEach((err) => {
[7m  [0m [91m            ~~~~~~[0m
[96msrc/lib/validation/api.ts[0m:[93m104[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m104[0m       error.errors.forEach((err) => {
[7m   [0m [93m                            ~~~[0m
[96msrc/lib/validation/api.ts[0m:[93m58[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m58[0m       error.errors.forEach((err) => {
[7m  [0m [93m                            ~~~[0m
[96msrc/lib/validation/api.ts[0m:[93m21[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m21[0m       error.errors.forEach((err) => {
[7m  [0m [93m                            ~~~[0m

[96msrc/lib/validation/react-hook-form.ts[0m:[93m143[0m:[93m12[0m - [91merror[0m[90m ts(2536): [0mType 'keyof T' cannot be used to index type 'Partial<Readonly<DeepMap<DeepPartial<T>, boolean>>>'.

[7m143[0m   return !!form.formState.dirtyFields[fieldName]
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m133[0m:[93m12[0m - [91merror[0m[90m ts(2536): [0mType 'keyof T' cannot be used to index type 'Partial<Readonly<DeepMap<DeepPartial<T>, boolean>>>'.

[7m133[0m   return !!form.formState.touchedFields[fieldName]
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m97[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'UseFormReturn<T, any, TFieldValues>' is not assignable to type 'UseFormReturn<T>'.
  Types of property 'handleSubmit' are incompatible.
    Type 'UseFormHandleSubmit<T, TFieldValues>' is not assignable to type 'UseFormHandleSubmit<T, T>'.
      Types of parameters 'onValid' and 'onValid' are incompatible.
        Types of parameters 'data' and 'data' are incompatible.
          Type 'TFieldValues' is not assignable to type 'T'.
            'TFieldValues' is assignable to the constraint of type 'T', but 'T' could be instantiated with a different subtype of constraint 'FieldValues'.

[7m97[0m     form,
[7m  [0m [91m    ~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m81[0m:[93m46[0m - [91merror[0m[90m ts(1361): [0m'ValidationError' cannot be used as a value because it was imported using 'import type'.

[7m81[0m         if (onError && normalized instanceof ValidationError) {
[7m  [0m [91m                                             ~~~~~~~~~~~~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m75[0m:[93m35[0m - [91merror[0m[90m ts(1361): [0m'ValidationError' cannot be used as a value because it was imported using 'import type'.

[7m75[0m         if (normalized instanceof ValidationError) {
[7m  [0m [91m                                  ~~~~~~~~~~~~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m40[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'T' is not assignable to type 'AsyncDefaultValues<T> | DefaultValues<T> | undefined'.
  Type 'FieldValues' is not assignable to type 'AsyncDefaultValues<T> | DefaultValues<T> | undefined'.

[7m40[0m     defaultValues: defaultValues as T,
[7m  [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m39[0m:[93m27[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(schema: Zod3Type<T, FieldValues>, schemaOptions?: ParseParams | undefined, resolverOptions?: NonRawResolverOptions | undefined): Resolver<...>', gave the following error.
    Argument of type 'ZodType<T, unknown, $ZodTypeInternals<T, unknown>>' is not assignable to parameter of type 'Zod3Type<T, FieldValues>'.
      Types of property '_input' are incompatible.
        Type 'unknown' is not assignable to type 'FieldValues'.
  Overload 2 of 4, '(schema: $ZodType<unknown, FieldValues, $ZodTypeInternals<unknown, FieldValues>>, schemaOptions?: ParseContext<$ZodIssue> | undefined, resolverOptions?: NonRawResolverOptions | undefined): Resolver<...>', gave the following error.
    Argument of type 'ZodType<T, unknown, $ZodTypeInternals<T, unknown>>' is not assignable to parameter of type '$ZodType<unknown, FieldValues, $ZodTypeInternals<unknown, FieldValues>>'.
      Types of property '_zod' are incompatible.
        Type '$ZodTypeInternals<T, unknown>' is not assignable to type '$ZodTypeInternals<unknown, FieldValues>'.
          Type 'unknown' is not assignable to type 'FieldValues'.

[7m39[0m     resolver: zodResolver(schema),
[7m  [0m [91m                          ~~~~~~[0m
[96msrc/lib/validation/react-hook-form.ts[0m:[93m39[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Resolver<FieldValues, any, T>' is not assignable to type 'Resolver<T, any, T>'.
  Types of parameters 'options' and 'options' are incompatible.
    Type 'ResolverOptions<T>' is not assignable to type 'ResolverOptions<FieldValues>'.
      Type 'FieldValues' is not assignable to type 'T'.
        'FieldValues' is assignable to the constraint of type 'T', but 'T' could be instantiated with a different subtype of constraint 'FieldValues'.

[7m39[0m     resolver: zodResolver(schema),
[7m  [0m [91m    ~~~~~~~~[0m

[96msrc/lib/validation/validateRequestBody.ts[0m:[93m37[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m37[0m       error.errors.forEach((err) => {
[7m  [0m [91m            ~~~~~~[0m
[96msrc/lib/validation/validateRequestBody.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'Request'.

[7m5[0m import type { Request } from 'astro'
[7m [0m [91m              ~~~~~~~[0m
[96msrc/lib/validation/validateRequestBody.ts[0m:[93m37[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'err' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m37[0m       error.errors.forEach((err) => {
[7m  [0m [93m                            ~~~[0m

[96msrc/lib/websocket/server.ts[0m:[93m47[0m:[93m13[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m47[0m             await this.handleStatusUpdate(clientId, message)
[7m  [0m [93m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m316[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m316[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m285[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m285[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m260[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m260[0m       ;(wss as unknown).broadcastToSession(sessionId, {
[7m   [0m [91m       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m257[0m:[93m8[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m257[0m       ;(wss as unknown).sessions.set(sessionId, new Set([clientId]))
[7m   [0m [91m       ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m231[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m231[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m213[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m213[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m190[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m190[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m154[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m154[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m114[0m:[93m32[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m114[0m       const handleConnection = (wss as unknown).handleConnection.bind(wss)
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m100[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ConnectionHandler'.

[7m100[0m       )?.[1] as ConnectionHandler
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m99[0m:[93m25[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ConnectionHandler'.

[7m99[0m         (call: [string, ConnectionHandler]) => call[0] === 'connection',
[7m  [0m [91m                        ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m99[0m:[93m9[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => value is any[], thisArg?: any): any[] | undefined', gave the following error.
    Argument of type '(call: [string, ConnectionHandler]) => boolean' is not assignable to parameter of type '(value: any[], index: number, obj: any[][]) => value is any[]'.
      Types of parameters 'call' and 'value' are incompatible.
        Type 'any[]' is not assignable to type '[string, ConnectionHandler]'.
          Target requires 2 element(s) but source may have fewer.
  Overload 2 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => unknown, thisArg?: any): any[] | undefined', gave the following error.
    Argument of type '(call: [string, ConnectionHandler]) => boolean' is not assignable to parameter of type '(value: any[], index: number, obj: any[][]) => unknown'.
      Types of parameters 'call' and 'value' are incompatible.
        Type 'any[]' is not assignable to type '[string, ConnectionHandler]'.
          Target requires 2 element(s) but source may have fewer.

[7m99[0m         (call: [string, ConnectionHandler]) => call[0] === 'connection',
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m83[0m:[93m19[0m - [91merror[0m[90m ts(2571): [0mObject is of type 'unknown'.

[7m83[0m     mockClients = (wss as unknown).clients
[7m  [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m72[0m:[93m25[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'MockWebSocket'.

[7m72[0m     mockWebSocket = new MockWebSocket() as WebSocket & {
[7m  [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m333[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m333[0m       await messageHandler(JSON.stringify(message))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m309[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m309[0m       await messageHandler(JSON.stringify(encryptedMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m243[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m243[0m       await messageHandler('invalid json')
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m208[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m208[0m       await messageHandler(JSON.stringify(statusMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m179[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m179[0m       await messageHandler(JSON.stringify(encryptedMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/websocket/__tests__/server.test.ts[0m:[93m149[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m149[0m       await messageHandler(JSON.stringify(chatMessage))
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/load-tests/breach-notification.load.ts[0m:[93m192[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'notificationStatus' does not exist on type 'void'.

[7m192[0m     if (statusResponse.notificationStatus === 'completed') {
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m7[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/http' or its corresponding type declarations.

[7m7[0m import type { RefinedResponse } from 'k6/http'
[7m [0m [91m                                     ~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m6[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/metrics' or its corresponding type declarations.

[7m6[0m import { Counter, Rate, Trend } from 'k6/metrics'
[7m [0m [91m                                     ~~~~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m5[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/http' or its corresponding type declarations.

[7m5[0m import http from 'k6/http'
[7m [0m [91m                 ~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m4[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6/data' or its corresponding type declarations.

[7m4[0m import { randomString } from 'k6/data'
[7m [0m [91m                             ~~~~~~~~~[0m
[96msrc/load-tests/breach-notification.load.ts[0m:[93m3[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'k6' or its corresponding type declarations.

[7m3[0m import { check, sleep } from 'k6'
[7m [0m [91m                             ~~~~[0m

[96msrc/middleware/monitoring.ts[0m:[93m51[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m51[0m       const session = JSON.parse(decodeURIComponent(sessionCookie) as unknown)
[7m  [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/middleware/upload.ts[0m:[93m15[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m15[0m   req: Request,
[7m  [0m [93m  ~~~[0m

[96msrc/pages/ai/mental-health/analyze.ts[0m:[93m19[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'chat' does not exist on type '{ adapter: MentalLLaMAAdapter; modelProvider: MentalLLaMAModelProvider; }'.

[7m19[0m     const result = await model.chat(messages)
[7m  [0m [91m                               ~~~~[0m

[96msrc/pages/api/contact.ts[0m:[93m2[0m:[93m10[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'ContactService'.

[7m2[0m import { ContactService } from '../../lib/services/contact/ContactService'
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/pages/api/evaluation.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/techniques.ts[0m:[93m125[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m125[0m     const recommendations = await recommend(recommendationRequest)
[7m   [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m115[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m115[0m     const adminService = AdminService.getInstance()
[7m   [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m98[0m:[93m33[0m - [91merror[0m[90m ts(18048): [0m'context.locals' is possibly 'undefined'.

[7m98[0m     const { userId: adminId } = context.locals.admin
[7m  [0m [91m                                ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m98[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'unknown'.

[7m98[0m     const { userId: adminId } = context.locals.admin
[7m  [0m [91m            ~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m89[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.
  Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m89[0m     context,
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m88[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'MANAGE_SESSIONS' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m88[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SESSIONS)(
[7m  [0m [91m                                                              ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m40[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m40[0m     const adminService = AdminService.getInstance()
[7m  [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m28[0m:[93m24[0m - [91merror[0m[90m ts(18048): [0m'context.locals' is possibly 'undefined'.

[7m28[0m     const { userId } = context.locals.admin
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m28[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'unknown'.

[7m28[0m     const { userId } = context.locals.admin
[7m  [0m [91m            ~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m19[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.
  Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m19[0m     context,
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m18[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'MANAGE_SESSIONS' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m18[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SESSIONS)(
[7m  [0m [91m                                                              ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/sessions.ts[0m:[93m118[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'result' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m118[0m     let result
[7m   [0m [93m        ~~~~~~[0m

[96msrc/pages/api/admin.bak/users.ts[0m:[93m113[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m113[0m     const adminService = AdminService.getInstance()
[7m   [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m96[0m:[93m33[0m - [91merror[0m[90m ts(18048): [0m'context.locals' is possibly 'undefined'.

[7m96[0m     const { userId: adminId } = context.locals.admin
[7m  [0m [91m                                ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m96[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'unknown'.

[7m96[0m     const { userId: adminId } = context.locals.admin
[7m  [0m [91m            ~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m87[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.
  Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m87[0m     context,
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m86[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'UPDATE_USER' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m86[0m   const middlewareResponse = await adminGuard(AdminPermission.UPDATE_USER)(
[7m  [0m [91m                                                              ~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m38[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getInstance' does not exist on type '{ getActiveSessions(): Promise<never[]>; }'.

[7m38[0m     const adminService = AdminService.getInstance()
[7m  [0m [91m                                      ~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m29[0m:[93m24[0m - [91merror[0m[90m ts(18048): [0m'context.locals' is possibly 'undefined'.

[7m29[0m     const { userId } = context.locals.admin
[7m  [0m [91m                       ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m29[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'unknown'.

[7m29[0m     const { userId } = context.locals.admin
[7m  [0m [91m            ~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m20[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.
  Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m20[0m     context,
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/admin.bak/users.ts[0m:[93m19[0m:[93m63[0m - [91merror[0m[90m ts(2339): [0mProperty 'VIEW_USERS' does not exist on type '{ MANAGE_SECURITY: string; }'.

[7m19[0m   const middlewareResponse = await adminGuard(AdminPermission.VIEW_USERS)(
[7m  [0m [91m                                                              ~~~~~~~~~~[0m

[96msrc/pages/api/admin.bak/backup/recovery-test.ts[0m:[93m242[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m242[0m     const userId = locals?.user?.id || 'system'
[7m   [0m [91m                                 ~~[0m
[96msrc/pages/api/admin.bak/backup/recovery-test.ts[0m:[93m192[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m192[0m     const userId = locals.user?.id ?? 'system'
[7m   [0m [91m                                ~~[0m
[96msrc/pages/api/admin.bak/backup/recovery-test.ts[0m:[93m192[0m:[93m20[0m - [91merror[0m[90m ts(18048): [0m'locals' is possibly 'undefined'.

[7m192[0m     const userId = locals.user?.id ?? 'system'
[7m   [0m [91m                   ~~~~~~[0m
[96msrc/pages/api/admin.bak/backup/recovery-test.ts[0m:[93m171[0m:[93m5[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.
  Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m171[0m     context,
[7m   [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/admin.bak/backup/recovery-test.ts[0m:[93m170[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'AdminPermission | undefined'.

[7m170[0m   const middlewareResponse = await adminGuard(AdminPermission.MANAGE_SECURITY)(
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/admin.bak/patient-rights/delete-request.ts[0m:[93m38[0m:[93m15[0m - [91merror[0m[90m ts(2551): [0mProperty 'roles' does not exist on type '{ id: string; role: string; }'. Did you mean 'role'?

[7m38[0m     if (!user.roles?.includes('admin')) {
[7m  [0m [91m              ~~~~~[0m

[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m149[0m:[93m7[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'string' to type 'AuditResource' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.

[7m149[0m       'ai-crisis-detection' as AuditResource,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m149[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AuditResource' is not assignable to parameter of type 'string'.

[7m149[0m       'ai-crisis-detection' as AuditResource,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m146[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'SYSTEM_ERROR' does not exist on type 'typeof AuditEventType'.

[7m146[0m       AuditEventType.SYSTEM_ERROR,
[7m   [0m [91m                     ~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m130[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'INFO' does not exist on type 'typeof AuditEventStatus'.

[7m130[0m         : AuditEventStatus.INFO,
[7m   [0m [91m                           ~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m128[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisDetected' does not exist on type 'CrisisDetectionResult'.

[7m128[0m       detectionResult.crisisDetected
[7m   [0m [91m                      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m126[0m:[93m7[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'string' to type 'AuditResource' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.

[7m126[0m       'ai-crisis-detection' as AuditResource,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m125[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m125[0m       userId,
[7m   [0m [91m      ~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m123[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'CRISIS_DETECTION' does not exist on type 'typeof AuditEventType'.

[7m123[0m       AuditEventType.CRISIS_DETECTION,
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m117[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisType' does not exist on type 'CrisisDetectionResult'.

[7m117[0m       crisisType: detectionResult.crisisType,
[7m   [0m [91m                                  ~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m106[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisType' does not exist on type 'CrisisDetectionResult'.

[7m106[0m         crisisType: detectionResult.crisisType,
[7m   [0m [91m                                    ~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m103[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 5 arguments, but got 1.

[7m103[0m       await crisisProtocolInstance.handleCrisis({
[7m   [0m [91m                                   ~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m98[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisType' does not exist on type 'CrisisDetectionResult'.

[7m98[0m         crisisType: detectionResult.crisisType,
[7m  [0m [91m                                    ~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m93[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'crisisDetected' does not exist on type 'CrisisDetectionResult'.

[7m93[0m     if (detectionResult.crisisDetected) {
[7m  [0m [91m                        ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m88[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m88[0m         userId: userId,
[7m  [0m [91m        ~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m82[0m:[93m36[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m82[0m     const crisisDetectionService = new CrisisDetectionService()
[7m  [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m66[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m66[0m     userId = user.id
[7m  [0m [91m    ~~~~~~[0m
[96msrc/pages/api/ai/auth0-crisis-detection.ts[0m:[93m3[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'getAIServiceByProvider' is declared but its value is never read.

[7m3[0m import { getAIServiceByProvider } from '@/lib/ai/providers'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/ai/auth0-high-risk-detections.ts[0m:[93m88[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'SYSTEM_ERROR' does not exist on type 'typeof AuditEventType'.

[7m88[0m       AuditEventType.SYSTEM_ERROR,
[7m  [0m [91m                     ~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-high-risk-detections.ts[0m:[93m73[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m73[0m       userId,
[7m  [0m [91m      ~~~~~~[0m
[96msrc/pages/api/ai/auth0-high-risk-detections.ts[0m:[93m71[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'SECURITY_EVENT' does not exist on type 'typeof AuditEventType'.

[7m71[0m       AuditEventType.SECURITY_EVENT,
[7m  [0m [91m                     ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-high-risk-detections.ts[0m:[93m67[0m:[93m43[0m - [91merror[0m[90m ts(2551): [0mProperty 'getHighRiskDetections' does not exist on type 'AIRepository'. Did you mean 'getHighRiskCrisisDetections'?

[7m67[0m     const detections = await aiRepository.getHighRiskDetections(limit, offset)
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-high-risk-detections.ts[0m:[93m49[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m49[0m     userId = user.id
[7m  [0m [91m    ~~~~~~[0m
[96msrc/pages/api/ai/auth0-high-risk-detections.ts[0m:[93m10[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'requireRole' is declared but its value is never read.

[7m10[0m import { requireRole } from '@/lib/auth/auth0-middleware'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/ai/auth0-response.ts[0m:[93m159[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m159[0m     userId = user.id
[7m   [0m [91m    ~~~~~~[0m
[96msrc/pages/api/ai/auth0-response.ts[0m:[93m119[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'locals' is declared but its value is never read.

[7m119[0m   locals,
[7m   [0m [93m  ~~~~~~[0m
[96msrc/pages/api/ai/auth0-response.ts[0m:[93m20[0m:[93m3[0m - [93mwarning[0m[90m ts(6196): [0m'AIUsage' is declared but never used.

[7m20[0m   AIUsage,
[7m  [0m [93m  ~~~~~~~[0m
[96msrc/pages/api/ai/auth0-response.ts[0m:[93m19[0m:[93m3[0m - [93mwarning[0m[90m ts(6196): [0m'AICompletion' is declared but never used.

[7m19[0m   AICompletion,
[7m  [0m [93m  ~~~~~~~~~~~~[0m

[96msrc/pages/api/ai/auth0-usage-stats.ts[0m:[93m83[0m:[93m33[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 3.

[7m83[0m     await handleApiError(error, 'ai.usage.stats', userId || 'anonymous')
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-usage-stats.ts[0m:[93m69[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"ai_usage_stats_access"' is not assignable to parameter of type 'AuditEventType'.

[7m69[0m       'ai_usage_stats_access',
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/auth0-usage-stats.ts[0m:[93m65[0m:[93m52[0m - [91merror[0m[90m ts(2554): [0mExpected 0-1 arguments, but got 2.

[7m65[0m     const stats = await getAIUsageStats(timeframe, model)
[7m  [0m [91m                                                   ~~~~~[0m
[96msrc/pages/api/ai/auth0-usage-stats.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m58[0m     userId = user.id
[7m  [0m [91m    ~~~~~~[0m
[96msrc/pages/api/ai/auth0-usage-stats.ts[0m:[93m83[0m:[93m5[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m83[0m     await handleApiError(error, 'ai.usage.stats', userId || 'anonymous')
[7m  [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/ai/completion.ts[0m:[93m328[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m328[0m       session?.user?.id || 'anonymous', // userId
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m297[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m297[0m       session?.user?.id || 'anonymous', // userId
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m259[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m259[0m               session?.user?.id || 'anonymous', // userId
[7m   [0m [91m                       ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m239[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m239[0m                 session?.user?.id || 'anonymous', // userId
[7m   [0m [91m                         ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m180[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m180[0m       session?.user?.id || 'anonymous', // userId
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m143[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'ValidationErrorDetails'.

[7m143[0m         status: validationError.status,
[7m   [0m [91m                                ~~~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m136[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type 'ValidationErrorDetails'.

[7m136[0m           error: validationError.error,
[7m   [0m [91m                                 ~~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m132[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m132[0m         session?.user?.id || 'anonymous', // userId
[7m   [0m [91m                 ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m93[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m93[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m92[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m92[0m     session = await getSession(request)
[7m  [0m [91m                               ~~~~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m34[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m34[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/completion.ts[0m:[93m33[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m33[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m

[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m248[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m248[0m       session?.user?.id || 'anonymous',
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m210[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m210[0m       session.user.id,
[7m   [0m [91m              ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m193[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m193[0m       session.user.id,
[7m   [0m [91m              ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m180[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m180[0m       userId: session.user.id,
[7m   [0m [91m                      ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m155[0m:[93m21[0m - [91merror[0m[90m ts(2551): [0mProperty 'session' does not exist on type 'SessionData'. Did you mean 'sessionId'?

[7m155[0m             session.session?.sessionId?.substring(0, 8) ||
[7m   [0m [91m                    ~~~~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m154[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m154[0m             session.user.id,
[7m   [0m [91m                    ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m142[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m142[0m         userId: session.user.id,
[7m   [0m [91m                        ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m123[0m:[93m23[0m - [91merror[0m[90m ts(2551): [0mProperty 'session' does not exist on type 'SessionData'. Did you mean 'sessionId'?

[7m123[0m               session.session?.sessionId?.substring(0, 8) ||
[7m   [0m [91m                      ~~~~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m122[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m122[0m               session.user.id,
[7m   [0m [91m                      ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m108[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m108[0m         userId: session.user.id,
[7m   [0m [91m                        ~~~~[0m
[96msrc/pages/api/ai/crisis-detection.ts[0m:[93m36[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m36[0m     session = await getSession(request)
[7m  [0m [91m                               ~~~~~~~[0m

[96msrc/pages/api/ai/intervention-analysis.ts[0m:[93m195[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m195[0m       session?.user?.id || 'anonymous',
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/intervention-analysis.ts[0m:[93m175[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m175[0m       session?.user?.id || 'anonymous',
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/intervention-analysis.ts[0m:[93m139[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m139[0m         userId: session?.user?.id || 'anonymous',
[7m   [0m [91m                         ~~~~[0m
[96msrc/pages/api/ai/intervention-analysis.ts[0m:[93m98[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m98[0m           userId: session?.user?.id,
[7m  [0m [91m                           ~~~~[0m
[96msrc/pages/api/ai/intervention-analysis.ts[0m:[93m74[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m74[0m       session?.user?.id || 'anonymous',
[7m  [0m [91m               ~~~~[0m

[96msrc/pages/api/ai/performance-metrics.ts[0m:[93m9[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m9[0m     if (session?.user?.role !== 'admin') {
[7m [0m [91m                 ~~~~[0m
[96msrc/pages/api/ai/performance-metrics.ts[0m:[93m8[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m8[0m     const session = await getSession(request)
[7m [0m [91m                                     ~~~~~~~[0m

[96msrc/pages/api/ai/response.ts[0m:[93m389[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m389[0m       session?.user?.id || 'anonymous',
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m358[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m358[0m       session?.user?.id || 'anonymous',
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m334[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m334[0m       userId: session?.user?.id || 'anonymous',
[7m   [0m [91m                       ~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m308[0m:[93m17[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'TherapeuticResponse'.

[7m308[0m     let result: TherapeuticResponse
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m294[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m294[0m       session?.user?.id || 'anonymous',
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m284[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'ResponseGenerationService'.

[7m284[0m     const responseService = new ResponseGenerationService({
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m220[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIServiceOptions'.

[7m220[0m         options?: AIServiceOptions,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m219[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIMessage'.

[7m219[0m         messages: AIMessage[],
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m205[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIStreamChunk'.

[7m205[0m           } as AIStreamChunk
[7m   [0m [91m               ~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m196[0m:[93m33[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIStreamChunk'.

[7m196[0m       ): Promise<AsyncGenerator<AIStreamChunk, void, void>> => {
[7m   [0m [91m                                ~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m195[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIServiceOptions'.

[7m195[0m         options?: AIServiceOptions,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m194[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIMessage'.

[7m194[0m         _messages: AIMessage[],
[7m   [0m [91m                   ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m136[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIServiceOptions'.

[7m136[0m         options?: AIServiceOptions,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m135[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIMessage'.

[7m135[0m         messages: AIMessage[],
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m133[0m:[93m27[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AIService'.

[7m133[0m     const serviceAdapter: AIService = {
[7m   [0m [91m                          ~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m122[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'createTogetherAIService'.

[7m122[0m     const togetherService = createTogetherAIService({
[7m   [0m [91m                            ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m89[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m89[0m     session = await getSession(request)
[7m  [0m [91m                               ~~~~~~~[0m
[96msrc/pages/api/ai/response.ts[0m:[93m18[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m18[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m

[96msrc/pages/api/ai/usage-stats.ts[0m:[93m107[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"ai.stats.error"' is not assignable to parameter of type 'AuditEventType'.

[7m107[0m       'ai.stats.error',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m84[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"ai.stats.response"' is not assignable to parameter of type 'AuditEventType'.

[7m84[0m       'ai.stats.response',
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m66[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"ai.stats.request"' is not assignable to parameter of type 'AuditEventType'.

[7m66[0m       'ai.stats.request',
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage-stats.ts[0m:[93m33[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m33[0m     session = await getSession(request)
[7m  [0m [91m                               ~~~~~~~[0m

[96msrc/pages/api/ai/usage.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'URL' is not assignable to parameter of type 'ZodType<unknown, unknown, $ZodTypeInternals<unknown, unknown>>'.
  Type 'URL' is missing the following properties from type 'ZodType<unknown, unknown, $ZodTypeInternals<unknown, unknown>>': def, type, _def, _output, and 44 more.

[7m80[0m       new URL(request.url),
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage.ts[0m:[93m79[0m:[93m11[0m - [91merror[0m[90m ts(2488): [0mType 'unknown' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m79[0m     const [params, validationError] = validateQueryParams(
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/usage.ts[0m:[93m27[0m:[93m32[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m27[0m     session = await getSession(request)
[7m  [0m [91m                               ~~~~~~~[0m

[96msrc/pages/api/ai/embeddings/batch.ts[0m:[93m131[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m131[0m         userId: session.user.id,
[7m   [0m [91m                        ~~~~[0m
[96msrc/pages/api/ai/embeddings/batch.ts[0m:[93m84[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m84[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/batch.ts[0m:[93m83[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m83[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/batch.ts[0m:[93m27[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m27[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/batch.ts[0m:[93m26[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m26[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/batch.ts[0m:[93m113[0m:[93m37[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ texts: string[]; knowledgeTypes?: ("general" | "dsm5" | "pdm2" | "clinical" | "therapeutic_technique" | "therapeutic_conversation")[] | undefined; metadataList?: Record<string, unknown>[] | undefined; model?: "all-MiniLM-L6-v2" | ... 5 more ... | undefined; }, string>' of 'validation.error.flatten' is deprecated.

[7m113[0m           details: validation.error.flatten(),
[7m   [0m [93m                                    ~~~~~~~[0m

[96msrc/pages/api/ai/embeddings/embed.ts[0m:[93m144[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m144[0m         userId: session.user.id,
[7m   [0m [91m                        ~~~~[0m
[96msrc/pages/api/ai/embeddings/embed.ts[0m:[93m94[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m94[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/embed.ts[0m:[93m93[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m93[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/embed.ts[0m:[93m29[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m29[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/embed.ts[0m:[93m28[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m28[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/embed.ts[0m:[93m125[0m:[93m37[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ text: string; knowledgeType: "general" | "dsm5" | "pdm2" | "clinical" | "therapeutic_technique" | "therapeutic_conversation"; metadata: Record<string, unknown>; model?: "all-MiniLM-L6-v2" | ... 5 more ... | undefined; }, string>' of 'validation.error.flatten' is deprecated.

[7m125[0m           details: validation.error.flatten(),
[7m   [0m [93m                                    ~~~~~~~[0m

[96msrc/pages/api/ai/embeddings/search.ts[0m:[93m138[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m138[0m         userId: session.user.id,
[7m   [0m [91m                        ~~~~[0m
[96msrc/pages/api/ai/embeddings/search.ts[0m:[93m91[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m91[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/search.ts[0m:[93m90[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m90[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/search.ts[0m:[93m27[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m27[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/search.ts[0m:[93m26[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m26[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/search.ts[0m:[93m120[0m:[93m37[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ query: string; topK: number; minSimilarity: number; includeMetadata: boolean; queryEmbedding?: number[] | undefined; knowledgeTypes?: ("general" | "dsm5" | "pdm2" | "clinical" | "therapeutic_technique" | "therapeutic_conversation")[] | undefined; }, string>' of 'validation.error.flatten' is deprecated.

[7m120[0m           details: validation.error.flatten(),
[7m   [0m [93m                                    ~~~~~~~[0m

[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m163[0m:[93m59[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m163[0m         logger.info('Knowledge loaded', { userId: session.user.id, result })
[7m   [0m [91m                                                          ~~~~[0m
[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m154[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m154[0m         logger.info('Cache cleared', { userId: session.user.id, result })
[7m   [0m [91m                                                       ~~~~[0m
[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m117[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m117[0m     if (!session?.user) {
[7m   [0m [91m                  ~~~~[0m
[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m116[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m116[0m     const session = await getSession(request)
[7m   [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m31[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m31[0m       if (!session?.user) {
[7m  [0m [91m                    ~~~~[0m
[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m30[0m:[93m40[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m30[0m       const session = await getSession(request)
[7m  [0m [91m                                       ~~~~~~~[0m
[96msrc/pages/api/ai/embeddings/status.ts[0m:[93m26[0m:[93m27[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m26[0m     const isHealthCheck = url.searchParams.get('health') === 'true'
[7m  [0m [91m                          ~~~[0m

[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m275[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'WARNING' does not exist on type 'typeof AuditEventStatus'.

[7m275[0m             status: crisisDetected ? AuditEventStatus.WARNING : AuditEventStatus.SUCCESS,
[7m   [0m [91m                                                      ~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m274[0m:[93m39[0m - [91merror[0m[90m ts(2551): [0mProperty 'AI_GENERATION' does not exist on type 'typeof AuditEventType'. Did you mean 'AI_OPERATION'?

[7m274[0m             eventType: AuditEventType.AI_GENERATION,
[7m   [0m [91m                                      ~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m273[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m273[0m             userId: session.user.id,
[7m   [0m [91m                            ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m272[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m272[0m         await createAuditLog({
[7m   [0m [91m              ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m266[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m266[0m                 userId: session.user.id,
[7m   [0m [91m                                ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m248[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m248[0m             user_id: body.user_id || session.user.id,
[7m   [0m [91m                                             ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m238[0m:[93m96[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type '[unknown, ValidationErrorDetails | null]'.

[7m238[0m             return new Response(JSON.stringify({ error: 'Invalid request', details: validation.errors }), {
[7m   [0m [91m                                                                                               ~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m237[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'valid' does not exist on type '[unknown, ValidationErrorDetails | null]'.

[7m237[0m         if (!validation.valid) {
[7m   [0m [91m                        ~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m229[0m:[93m13[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'user_query' does not exist in type 'ZodType<unknown, unknown, $ZodTypeInternals<unknown, unknown>>'.

[7m229[0m             user_query: 'string',
[7m   [0m [91m            ~~~~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m218[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'allowed' does not exist on type '{ result: RateLimitResult; headers: Headers; createErrorResponse: () => Response | null; }'.

[7m218[0m         if (!rateLimitResult.allowed) {
[7m   [0m [91m                             ~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m216[0m:[93m59[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m216[0m             session.user.role === 'admin' ? 120 : session.user.role === 'therapist' ? 80 : 40,
[7m   [0m [91m                                                          ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m216[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m216[0m             session.user.role === 'admin' ? 120 : session.user.role === 'therapist' ? 80 : 40,
[7m   [0m [91m                    ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m216[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '40 | 120 | 80' is not assignable to parameter of type '{ limits?: Record<string, number> | undefined; windowMs?: number | undefined; strictIpValidation?: boolean | undefined; trackSuspiciousActivity?: boolean | undefined; } | undefined'.
  Type '40' has no properties in common with type '{ limits?: Record<string, number> | undefined; windowMs?: number | undefined; strictIpValidation?: boolean | undefined; trackSuspiciousActivity?: boolean | undefined; }'.

[7m216[0m             session.user.role === 'admin' ? 120 : session.user.role === 'therapist' ? 80 : 40,
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m214[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m214[0m             session.user.id,
[7m   [0m [91m                    ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m205[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m205[0m         if (!session?.user) {
[7m   [0m [91m                      ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m204[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m204[0m         const session = await getSession(request)
[7m   [0m [91m                                         ~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m171[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'AI_MODEL_ACCESS' does not exist on type 'typeof AuditEventType'.

[7m171[0m             eventType: AuditEventType.AI_MODEL_ACCESS,
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m170[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m170[0m             userId: session.user.id,
[7m   [0m [91m                            ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m169[0m:[93m15[0m - [91merror[0m[90m ts(2554): [0mExpected 4-6 arguments, but got 1.

[7m169[0m         await createAuditLog({
[7m   [0m [91m              ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m159[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'allowed' does not exist on type '{ result: RateLimitResult; headers: Headers; createErrorResponse: () => Response | null; }'.

[7m159[0m         if (!rateLimitResult.allowed) {
[7m   [0m [91m                             ~~~~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m158[0m:[93m87[0m - [91merror[0m[90m ts(2559): [0mType '100' has no properties in common with type '{ limits?: Record<string, number> | undefined; windowMs?: number | undefined; strictIpValidation?: boolean | undefined; trackSuspiciousActivity?: boolean | undefined; }'.

[7m158[0m         const rateLimitResult = await applyRateLimit(session.user.id, 'pixel-status', 100)
[7m   [0m [91m                                                                                      ~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m158[0m:[93m62[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m158[0m         const rateLimitResult = await applyRateLimit(session.user.id, 'pixel-status', 100)
[7m   [0m [91m                                                             ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m150[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m150[0m         if (!session?.user) {
[7m   [0m [91m                      ~~~~[0m
[96msrc/pages/api/ai/pixel/infer.ts[0m:[93m149[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m149[0m         const session = await getSession(request)
[7m   [0m [91m                                         ~~~~~~~[0m

[96msrc/pages/api/ai/recommendations/enhanced.ts[0m:[93m98[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m98[0m       userId: sessionData.user.id,
[7m  [0m [91m                          ~~~~[0m
[96msrc/pages/api/ai/recommendations/enhanced.ts[0m:[93m66[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m66[0m     const userRole = sessionData.user?.role || 'user'
[7m  [0m [91m                                 ~~~~[0m
[96msrc/pages/api/ai/recommendations/enhanced.ts[0m:[93m57[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m57[0m     const sessionData = await getSession(request)
[7m  [0m [91m                                         ~~~~~~~[0m

[96msrc/pages/api/ai/validation/history.ts[0m:[93m59[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m59[0m       userId = sessionData.user?.id || 'system'
[7m  [0m [91m                           ~~~~[0m
[96msrc/pages/api/ai/validation/history.ts[0m:[93m44[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m44[0m       const sessionData = await getSession(request)
[7m  [0m [91m                                           ~~~~~~~[0m

[96msrc/pages/api/ai/validation/start.ts[0m:[93m29[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ get(name: string): { value: string; } | undefined; }' is not assignable to parameter of type 'Request | AstroCookies'.
  Type '{ get(name: string): { value: string; } | undefined; }' is missing the following properties from type 'AstroCookies': set, delete

[7m29[0m     const user = await getCurrentUser(cookies)
[7m  [0m [91m                                      ~~~~~~~[0m

[96msrc/pages/api/ai/validation/stop.ts[0m:[93m33[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ get(name: string): { value: string; } | undefined; }' is not assignable to parameter of type 'Request | AstroCookies'.
  Type '{ get(name: string): { value: string; } | undefined; }' is missing the following properties from type 'AstroCookies': set, delete

[7m33[0m     const user = await getCurrentUser(cookies)
[7m  [0m [91m                                      ~~~~~~~[0m

[96msrc/pages/api/analytics/comparative-progress.ts[0m:[93m68[0m:[93m43[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ anonymizedUserId: string; metricName: string; cohortId: string; dateRange: { startDate: string; endDate: string; }; }, string>' of 'validationResult.error.flatten' is deprecated.

[7m68[0m           details: validationResult.error.flatten(),
[7m  [0m [93m                                          ~~~~~~~[0m
[96msrc/pages/api/analytics/comparative-progress.ts[0m:[93m60[0m:[93m40[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ anonymizedUserId: string; metricName: string; cohortId: string; dateRange: { startDate: string; endDate: string; }; }, string>' of 'validationResult.error.flatten' is deprecated.

[7m60[0m         errors: validationResult.error.flatten(),
[7m  [0m [93m                                       ~~~~~~~[0m

[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m172[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ code: "PROCESSING_ERROR"; errorMessage: string; details: { source: string; message: string; }; }' is not assignable to type 'AnalyticsError'.
  Type '{ code: "PROCESSING_ERROR"; errorMessage: string; details: { source: string; message: string; }; }' is missing the following properties from type 'AnalyticsProcessingError': status, name, message

[7m172[0m     const apiError: AnalyticsError = {
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m114[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ code: "PROCESSING_ERROR"; errorMessage: string; details: { source: string; message: string; }; }' is not assignable to type 'AnalyticsError'.
  Type '{ code: "PROCESSING_ERROR"; errorMessage: string; details: { source: string; message: string; }; }' is missing the following properties from type 'AnalyticsProcessingError': status, name, message

[7m114[0m     const apiError: AnalyticsError = {
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/pages/api/analytics/demo-tracking.ts[0m:[93m41[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType '{ code: "VALIDATION_ERROR"; errorMessage: string; details: { field: string; message: string; }[]; }' is not assignable to type 'AnalyticsError'.
  Type '{ code: "VALIDATION_ERROR"; errorMessage: string; details: { field: string; message: string; }[]; }' is missing the following properties from type 'AnalyticsValidationError': status, name, message

[7m41[0m       const error: AnalyticsError = {
[7m  [0m [91m            ~~~~~[0m

[96msrc/pages/api/analytics/engagement.ts[0m:[93m128[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ code: "PROCESSING_ERROR"; errorMessage: string; details: { source: string; message: string; }; }' is not assignable to type 'AnalyticsError'.
  Type '{ code: "PROCESSING_ERROR"; errorMessage: string; details: { source: string; message: string; }; }' is missing the following properties from type 'AnalyticsProcessingError': status, name, message

[7m128[0m     const apiError: AnalyticsError = {
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/pages/api/analytics/engagement.ts[0m:[93m17[0m:[93m38[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'cookies' does not exist in type '{ request: Request; }'.

[7m17[0m     await requirePageAuth({ request, cookies, requestIp: request.headers.get('x-forwarded-for') })
[7m  [0m [91m                                     ~~~~~~~[0m

[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m54[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ currentEmotion: string; intensity: number; timestamp: Date; confidence: number; relatedFactors?: string[] | undefined; metadata?: Record<string | number | symbol, unknown> | undefined; } | null' is not assignable to type 'EmotionState'.
  Type 'null' is not assignable to type 'EmotionState'.

[7m54[0m       recentEmotionState,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m52[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'sessionId' is missing in type '{ id: string; clientId: string; therapistId: string; status: "active" | "completed" | "cancelled" | "scheduled"; securityLevel: "maximum" | "standard" | "enhanced"; emotionAnalysisEnabled: boolean; metadata?: Record<...> | undefined; }' but required in type 'TherapySession'.

[7m52[0m       session,
[7m  [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/analytics/treatment-forecast.ts[0m:[93m34[0m:[93m33[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ session: { id: string; clientId: string; therapistId: string; status: "active" | "completed" | "cancelled" | "scheduled"; securityLevel: "maximum" | "standard" | "enhanced"; emotionAnalysisEnabled: boolean; metadata?: Record<...> | undefined; }; ... 6 more ...; maxResults?: number | undefined; }, string>' of 'parsed.error.flatten' is deprecated.

[7m34[0m           details: parsed.error.flatten(),
[7m  [0m [93m                                ~~~~~~~[0m

[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m419[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m419[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m373[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"emotion_point_added"' is not assignable to parameter of type 'AuditEventType'.

[7m373[0m       'emotion_point_added',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m274[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m274[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m243[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"3d_emotion_visualization_access"' is not assignable to parameter of type 'AuditEventType'.

[7m243[0m       '3d_emotion_visualization_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m180[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'never'.

[7m180[0m           confidence: emotion.confidence || 0.7,
[7m   [0m [91m                              ~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m179[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m179[0m           sessionId: emotion.sessionId,
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m175[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'intensity' does not exist on type 'never'.

[7m175[0m             emotion.confidence || emotion.intensity || 0.5,
[7m   [0m [91m                                          ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m175[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'never'.

[7m175[0m             emotion.confidence || emotion.intensity || 0.5,
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m173[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'never'.

[7m173[0m           timestamp: emotion.timestamp || new Date().toISOString(),
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m172[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'emotion' does not exist on type 'never'.

[7m172[0m           emotion: emotion.primaryEmotion || emotion.emotion || 'neutral',
[7m   [0m [91m                                                     ~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m172[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'primaryEmotion' does not exist on type 'never'.

[7m172[0m           emotion: emotion.primaryEmotion || emotion.emotion || 'neutral',
[7m   [0m [91m                           ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m171[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominance' does not exist on type 'DimensionalMap'.

[7m171[0m           dominance: normalizeToRange(dimensions.dominance || 0, -1, 1),
[7m   [0m [91m                                                 ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m170[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'arousal' does not exist on type 'DimensionalMap'.

[7m170[0m           arousal: normalizeToRange(dimensions.arousal || 0, -1, 1),
[7m   [0m [91m                                               ~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m169[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'valence' does not exist on type 'DimensionalMap'.

[7m169[0m           valence: normalizeToRange(dimensions.valence || 0, -1, 1),
[7m   [0m [91m                                               ~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m168[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'never'.

[7m168[0m           id: `emotion-${emotion.id || index}`,
[7m   [0m [91m                                 ~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m147[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m147[0m               sessionId: session.sessionId,
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m145[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: any; id: string; timestamp: string; emotions: EmotionVector; dimensions: EmotionDimensions; confidence: number; metadata?: EmotionMetadata; }' is not assignable to parameter of type 'never'.

[7m145[0m             ...sessionEmotions.map((e) => ({
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m146[0m               ...e,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m147[0m               sessionId: session.sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m148[0m             })),
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m142[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m142[0m             session.sessionId,
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m140[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m140[0m         if (session.sessionId) {
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m133[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'TherapySession[]' is not assignable to type 'never[]'.
  Type 'TherapySession' is not assignable to type 'never'.

[7m133[0m       sessions = await repository.getSessions({
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m130[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ sessionId: string; }' is not assignable to type 'never'.

[7m130[0m       sessions = [{ sessionId }]
[7m   [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-3d-emotion-visualization.ts[0m:[93m129[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionAnalysis[]' is not assignable to type 'never[]'.
  Type 'EmotionAnalysis' is not assignable to type 'never'.

[7m129[0m       emotionData = await repository.getEmotionsForSession(sessionId)
[7m   [0m [91m      ~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m298[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m298[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m282[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'updatedAt' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'.

[7m282[0m           updatedAt: updatedUser.updatedAt,
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m282[0m:[93m22[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m282[0m           updatedAt: updatedUser.updatedAt,
[7m   [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m281[0m:[93m21[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m281[0m           fullName: updatedUser.fullName,
[7m   [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m280[0m:[93m17[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m280[0m           role: updatedUser.role,
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m279[0m:[93m18[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m279[0m           email: updatedUser.email,
[7m   [0m [91m                 ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m278[0m:[93m15[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m278[0m           id: updatedUser.id,
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m268[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"admin_user_update"' is not assignable to parameter of type 'AuditEventType'.

[7m268[0m       'admin_user_update',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m227[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m227[0m         'access_denied',
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m157[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m157[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m121[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"admin_user_list"' is not assignable to parameter of type 'AuditEventType'.

[7m121[0m       'admin_user_list',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-admin-users.ts[0m:[93m62[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m62[0m         'access_denied',
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m431[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty '_type' does not exist on type '{ type: string; repository: AIRepository; clientId?: string | null | undefined; startDate: Date; endDate: Date; dataPoints: number; }'.

[7m431[0m   const { _type, dataPoints } = params
[7m   [0m [91m          ~~~~~[0m
[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m389[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty '_type' does not exist on type '{ type: string; repository: AIRepository; clientId?: string | null | undefined; startDate: Date; endDate: Date; dataPoints: number; }'.

[7m389[0m   const { _type } = params
[7m   [0m [91m          ~~~~~[0m
[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m363[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ x: number; y: number; }[]' is not assignable to type 'number[]'.
  Type '{ x: number; y: number; }' is not assignable to type 'number'.

[7m363[0m               data: scatterData,
[7m   [0m [91m              ~~~~[0m
[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m200[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m200[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m169[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"analytics_charts_access"' is not assignable to parameter of type 'AuditEventType'.

[7m169[0m       'analytics_charts_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m431[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_type' is declared but its value is never read.

[7m431[0m   const { _type, dataPoints } = params
[7m   [0m [93m          ~~~~~[0m
[96msrc/pages/api/auth/auth0-analytics-charts.ts[0m:[93m389[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_type' is declared but its value is never read.

[7m389[0m   const { _type } = params
[7m   [0m [93m        ~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-callback.ts[0m:[93m139[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m139[0m         existingUser.id,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-callback.ts[0m:[93m66[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m66[0m         await auth0UserService.updateUser(existingUser.id, {
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-callback.ts[0m:[93m57[0m:[93m7[0m - [91merror[0m[90m ts(2741): [0mProperty 'lastLogin' is missing in type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataSchema | undefined; }' but required in type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'.

[7m57[0m       existingUser = await auth0UserService.createUser(
[7m  [0m [91m      ~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-carousel-content.ts[0m:[93m343[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m343[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-carousel-content.ts[0m:[93m302[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"carousel_configuration_processed"' is not assignable to parameter of type 'AuditEventType'.

[7m302[0m       'carousel_configuration_processed',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-carousel-content.ts[0m:[93m174[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m174[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-carousel-content.ts[0m:[93m141[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"carousel_content_access"' is not assignable to parameter of type 'AuditEventType'.

[7m141[0m       'carousel_content_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-engagement-analytics.ts[0m:[93m200[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m200[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-engagement-analytics.ts[0m:[93m180[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"analytics_access"' is not assignable to parameter of type 'AuditEventType'.

[7m180[0m       'analytics_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-engagement-analytics.ts[0m:[93m64[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m64[0m         'access_denied',
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-engagement-analytics.ts[0m:[93m17[0m:[93m8[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../analytics/engagement/types' or its corresponding type declarations.

[7m17[0m } from '../analytics/engagement/types'
[7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m731[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m731[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m687[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"treatment_plan_updated"' is not assignable to parameter of type 'AuditEventType'.

[7m687[0m       'treatment_plan_updated',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m608[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m608[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m574[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"treatment_plan_created"' is not assignable to parameter of type 'AuditEventType'.

[7m574[0m       'treatment_plan_created',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m526[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ clientName: string; therapistName: string; clientId: string; therapistId: string; duration: number; status: "draft" | "active" | "completed" | "paused"; goals: { id: string; title: string; ... 7 more ...; metrics?: { ...; } | undefined; }[]; ... 4 more ...; metadata?: { ...; } | undefined; }>'.

[7m526[0m           details: validationResult.error.errors,
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m454[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m454[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m421[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"treatment_plans_access"' is not assignable to parameter of type 'AuditEventType'.

[7m421[0m       'treatment_plans_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m197[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m197[0m         therapistId: user.id,
[7m   [0m [91m        ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m78[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m78[0m             date: z.string().datetime(),
[7m  [0m [93m                             ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m73[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m73[0m       nextSessionDate: z.string().datetime().optional(),
[7m  [0m [93m                                  ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m63[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m63[0m   lastModified: z.string().datetime().optional(),
[7m  [0m [93m                           ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m62[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m62[0m   createdDate: z.string().datetime().optional(),
[7m  [0m [93m                          ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m51[0m:[93m36[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m51[0m       lastActivityDate: z.string().datetime().optional(),
[7m  [0m [93m                                   ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m32[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m32[0m   targetDate: z.string().datetime(),
[7m  [0m [93m                         ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m25[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m25[0m   dueDate: z.string().datetime().optional(),
[7m  [0m [93m                      ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-enhanced-treatment-plans.ts[0m:[93m23[0m:[93m29[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m23[0m   completedDate: z.string().datetime().optional(),
[7m  [0m [93m                            ~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-multidimensional-map.ts[0m:[93m230[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m230[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-multidimensional-map.ts[0m:[93m200[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"emotion_patterns_access"' is not assignable to parameter of type 'AuditEventType'.

[7m200[0m         'emotion_patterns_access',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-multidimensional-map.ts[0m:[93m171[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"emotion_map_access"' is not assignable to parameter of type 'AuditEventType'.

[7m171[0m         'emotion_map_access',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-particle-emotion-system.ts[0m:[93m532[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'percentage' is of type 'unknown'.

[7m532[0m       cumulative += percentage
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-particle-emotion-system.ts[0m:[93m358[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m358[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-particle-emotion-system.ts[0m:[93m325[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"particle_system_update"' is not assignable to parameter of type 'AuditEventType'.

[7m325[0m       'particle_system_update',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-particle-emotion-system.ts[0m:[93m232[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m232[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-particle-emotion-system.ts[0m:[93m199[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"particle_system_access"' is not assignable to parameter of type 'AuditEventType'.

[7m199[0m       'particle_system_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-particle-emotion-system.ts[0m:[93m169[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

[7m169[0m       sessionId,
[7m   [0m [91m      ~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m357[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m357[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m341[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"preferences_reset"' is not assignable to parameter of type 'AuditEventType'.

[7m341[0m       'preferences_reset',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m330[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'preferences' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'.

[7m330[0m       (user.preferences as Record<string, unknown>) || {}
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m262[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m262[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m246[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"preferences_update"' is not assignable to parameter of type 'AuditEventType'.

[7m246[0m       'preferences_update',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m235[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'preferences' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'.

[7m235[0m       (user.preferences as Record<string, unknown>) || {}
[7m   [0m [91m            ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m162[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m162[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m146[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"preferences_access"' is not assignable to parameter of type 'AuditEventType'.

[7m146[0m       'preferences_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-preferences.ts[0m:[93m140[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'preferences' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'.

[7m140[0m     const preferences = (user.preferences as Record<string, unknown>) || {}
[7m   [0m [91m                              ~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m122[0m:[93m32[0m - [91merror[0m[90m ts(2551): [0mProperty 'user_metadata' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'. Did you mean 'userMetadata'?

[7m122[0m           profile: updatedUser.user_metadata,
[7m   [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m122[0m:[93m20[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m122[0m           profile: updatedUser.user_metadata,
[7m   [0m [91m                   ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m121[0m:[93m38[0m - [91merror[0m[90m ts(2551): [0mProperty 'email_verified' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'. Did you mean 'emailVerified'?

[7m121[0m           emailVerified: updatedUser.email_verified,
[7m   [0m [91m                                     ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m121[0m:[93m26[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m121[0m           emailVerified: updatedUser.email_verified,
[7m   [0m [91m                         ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m120[0m:[93m17[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m120[0m           role: updatedUser.role,
[7m   [0m [91m                ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m119[0m:[93m18[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m119[0m           email: updatedUser.email,
[7m   [0m [91m                 ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m118[0m:[93m15[0m - [91merror[0m[90m ts(18047): [0m'updatedUser' is possibly 'null'.

[7m118[0m           id: updatedUser.id,
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m59[0m:[93m25[0m - [91merror[0m[90m ts(2551): [0mProperty 'user_metadata' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'. Did you mean 'userMetadata'?

[7m59[0m           profile: user.user_metadata,
[7m  [0m [91m                        ~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-profile.ts[0m:[93m58[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'email_verified' does not exist on type '{ id: string | undefined; email: string | undefined; emailVerified: boolean | undefined; role: string; fullName: string | undefined; avatarUrl: string | undefined; createdAt: UserDateSchema | undefined; lastLogin: UserDateSchema | undefined; appMetadata: UserAppMetadataSchema | undefined; userMetadata: UserMetadataS...'. Did you mean 'emailVerified'?

[7m58[0m           emailVerified: user.email_verified,
[7m  [0m [91m                              ~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m321[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m321[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m297[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"recovery_test_schedule"' is not assignable to parameter of type 'AuditEventType'.

[7m297[0m         'recovery_test_schedule',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m278[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"recovery_test_config_update"' is not assignable to parameter of type 'AuditEventType'.

[7m278[0m         'recovery_test_config_update',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m259[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"recovery_test_run"' is not assignable to parameter of type 'AuditEventType'.

[7m259[0m         'recovery_test_run',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m228[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m228[0m         'access_denied',
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m168[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m168[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m144[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"recovery_test_config_get"' is not assignable to parameter of type 'AuditEventType'.

[7m144[0m         'recovery_test_config_get',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m127[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"recovery_test_get"' is not assignable to parameter of type 'AuditEventType'.

[7m127[0m         'recovery_test_get',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m104[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"recovery_tests_list"' is not assignable to parameter of type 'AuditEventType'.

[7m104[0m         'recovery_tests_list',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-recovery-tests.ts[0m:[93m76[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m76[0m         'access_denied',
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-risk-correlations.ts[0m:[93m230[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m230[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-risk-correlations.ts[0m:[93m183[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"risk_correlations_analysis"' is not assignable to parameter of type 'AuditEventType'.

[7m183[0m       'risk_correlations_analysis',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-risk-correlations.ts[0m:[93m161[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m161[0m         'access_denied',
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-risk-correlations.ts[0m:[93m79[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m79[0m         'system_error',
[7m  [0m [91m        ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-risk-correlations.ts[0m:[93m71[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m71[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-session-analysis.ts[0m:[93m171[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m171[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-session-analysis.ts[0m:[93m150[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"session_analysis_access"' is not assignable to parameter of type 'AuditEventType'.

[7m150[0m       'session_analysis_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-session-analysis.ts[0m:[93m102[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m102[0m         'access_denied',
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/auth0-session-analytics.ts[0m:[93m374[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m374[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-session-analytics.ts[0m:[93m336[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"session_analytics_fetched"' is not assignable to parameter of type 'AuditEventType'.

[7m336[0m         'session_analytics_fetched',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-session-analytics.ts[0m:[93m188[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m188[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-session-analytics.ts[0m:[93m158[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"session_analytics_saved"' is not assignable to parameter of type 'AuditEventType'.

[7m158[0m         'session_analytics_saved',
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-session-analytics.ts[0m:[93m310[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m310[0m       result.rows.forEach((row) => {
[7m   [0m [93m                           ~~~[0m
[96msrc/pages/api/auth/auth0-session-analytics.ts[0m:[93m6[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m6[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/auth/auth0-sessions.ts[0m:[93m227[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m227[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-sessions.ts[0m:[93m203[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"sessions_access"' is not assignable to parameter of type 'AuditEventType'.

[7m203[0m       'sessions_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-sessions.ts[0m:[93m196[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'import("/app/src/lib/ai/models/ai-types").TherapySession[]' is not assignable to type 'import("/app/src/lib/ai/interfaces/therapy").TherapySession[]'.
  Type 'TherapySession' is missing the following properties from type 'TherapySession': securityLevel, emotionAnalysisEnabled

[7m196[0m     const sessions: TherapySession[] = await repository.getSessions(filter)
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-sessions.ts[0m:[93m163[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"access_denied"' is not assignable to parameter of type 'AuditEventType'.

[7m163[0m             'access_denied',
[7m   [0m [91m            ~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-sessions.ts[0m:[93m157[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m157[0m           user.id,
[7m   [0m [91m          ~~~~~~~[0m

[96msrc/pages/api/auth/auth0-temporal-emotions.ts[0m:[93m250[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m250[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-temporal-emotions.ts[0m:[93m215[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"temporal_emotions_access"' is not assignable to parameter of type 'AuditEventType'.

[7m215[0m       'temporal_emotions_access',
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-temporal-emotions.ts[0m:[93m191[0m:[93m70[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m191[0m         const relationships = await analyzer.findEmotionCorrelations(clientId)
[7m   [0m [91m                                                                     ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-temporal-emotions.ts[0m:[93m167[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m167[0m           clientId,
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-temporal-emotions.ts[0m:[93m154[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m154[0m           clientId,
[7m   [0m [91m          ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-temporal-emotions.ts[0m:[93m75[0m:[93m23[0m - [91merror[0m[90m ts(18048): [0m'params' is possibly 'undefined'.

[7m75[0m     const sessionId = params['sessionId']
[7m  [0m [91m                      ~~~~~~[0m

[96msrc/pages/api/auth/auth0-todos.ts[0m:[93m168[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m168[0m       'system_error',
[7m   [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-todos.ts[0m:[93m150[0m:[93m40[0m - [91merror[0m[90m ts(18048): [0m'todo._id' is possibly 'undefined'.

[7m150[0m       { action: 'create_todo', todoId: todo._id.toString() }
[7m   [0m [91m                                       ~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-todos.ts[0m:[93m146[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"todo_create"' is not assignable to parameter of type 'AuditEventType'.

[7m146[0m       'todo_create',
[7m   [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-todos.ts[0m:[93m72[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"system_error"' is not assignable to parameter of type 'AuditEventType'.

[7m72[0m       'system_error',
[7m  [0m [91m      ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/auth0-todos.ts[0m:[93m50[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"todos_access"' is not assignable to parameter of type 'AuditEventType'.

[7m50[0m       'todos_access',
[7m  [0m [91m      ~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/profile.ts[0m:[93m210[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'USER_MODIFIED' does not exist on type 'typeof AuditEventType'.

[7m210[0m       AuditEventType.USER_MODIFIED,
[7m   [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m204[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string[]' is not assignable to type 'string | number | boolean | null | undefined'.

[7m204[0m       updates: Object.keys(auth0Updates),
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m151[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m151[0m       userId = session.user.id || (session.user as any)._id?.toString() || null
[7m   [0m [91m                                           ~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m151[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m151[0m       userId = session.user.id || (session.user as any)._id?.toString() || null
[7m   [0m [91m                       ~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m150[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m150[0m     if (session && session.user) {
[7m   [0m [91m                           ~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m113[0m:[93m7[0m - [91merror[0m[90m ts(18004): [0mNo value exists in scope for the shorthand property 'clientInfo'. Either declare one or provide an initializer.

[7m113[0m       clientInfo
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m75[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m75[0m         clientInfo,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m57[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m57[0m         clientInfo,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m33[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m33[0m       userId = session.user.id || (session.user as any)._id?.toString() || null
[7m  [0m [91m                                           ~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m33[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m33[0m       userId = session.user.id || (session.user as any)._id?.toString() || null
[7m  [0m [91m                       ~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m32[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m32[0m     if (session && session.user) {
[7m  [0m [91m                           ~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m129[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'clientInfo' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m129[0m   let clientInfo;
[7m   [0m [93m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/profile.ts[0m:[93m8[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'redactPotentialPhi' is declared but its value is never read.

[7m8[0m import { redactPotentialPhi } from '../../../lib/utils/phi-sanitizer'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/auth/refresh.ts[0m:[93m101[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m101[0m       clientInfo,
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m83[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m83[0m         clientInfo,
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/refresh.ts[0m:[93m58[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m58[0m       clientInfo,
[7m  [0m [91m      ~~~~~~~~~~[0m

[96msrc/pages/api/auth/signin.ts[0m:[93m96[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"user_logged_in"' is not assignable to parameter of type 'AuthenticationEvent'.

[7m96[0m     await updatePhase6AuthenticationProgress(user.id, 'user_logged_in')
[7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/auth/signin.ts[0m:[93m14[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'clientInfo' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m   let clientInfo;
[7m  [0m [93m      ~~~~~~~~~~[0m

[96msrc/pages/api/auth/signup.ts[0m:[93m109[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m109[0m     await updatePhase6AuthenticationProgress(user.id, 'user_registered')
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/pages/api/auth/signup.ts[0m:[93m100[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m100[0m       user.id,
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/pages/api/auth/signup.ts[0m:[93m89[0m:[93m60[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | Record<string, string | number | boolean | null | undefined> | null'.
  Type 'undefined' is not assignable to type 'string | Record<string, string | number | boolean | null | undefined> | null'.

[7m89[0m     await logSecurityEvent(SecurityEventType.USER_CREATED, user.id, {
[7m  [0m [91m                                                           ~~~~~~~[0m
[96msrc/pages/api/auth/signup.ts[0m:[93m14[0m:[93m7[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'clientInfo' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m   let clientInfo;
[7m  [0m [93m      ~~~~~~~~~~[0m

[96msrc/pages/api/auth/update-password.ts[0m:[93m72[0m:[93m5[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m72[0m     cookies.delete('auth_recovery_email')
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/auth/update-password.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m71[0m     cookies.delete('auth_recovery_token')
[7m  [0m [91m    ~~~~~~~[0m
[96msrc/pages/api/auth/update-password.ts[0m:[93m26[0m:[93m25[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m26[0m     const tokenCookie = cookies.get('auth_recovery_token')
[7m  [0m [91m                        ~~~~~~~[0m
[96msrc/pages/api/auth/update-password.ts[0m:[93m25[0m:[93m25[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m25[0m     const emailCookie = cookies.get('auth_recovery_email')
[7m  [0m [91m                        ~~~~~~~[0m
[96msrc/pages/api/auth/update-password.ts[0m:[93m71[0m:[93m5[0m - [93mwarning[0m[90m ts(7027): [0mUnreachable code detected.

[7m 71[0m     cookies.delete('auth_recovery_token')
[7m   [0m [93m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m 72[0m     cookies.delete('auth_recovery_email')
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 84[0m       },
[7m   [0m [93m~~~~~~~~[0m
[7m 85[0m     )
[7m   [0m [93m~~~~~[0m
[96msrc/pages/api/auth/update-password.ts[0m:[93m44[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_token' is declared but its value is never read.

[7m44[0m     const _token = tokenCookie.value
[7m  [0m [93m          ~~~~~~[0m
[96msrc/pages/api/auth/update-password.ts[0m:[93m43[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_email' is declared but its value is never read.

[7m43[0m     const _email = emailCookie.value
[7m  [0m [93m          ~~~~~~[0m

[96msrc/pages/api/auth/verify.ts[0m:[93m121[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m121[0m       clientInfo
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/api/auth/verify.ts[0m:[93m91[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m91[0m         clientInfo
[7m  [0m [91m        ~~~~~~~~~~[0m
[96msrc/pages/api/auth/verify.ts[0m:[93m67[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ ip: string; userAgent: string; deviceId: string; }' is not assignable to type 'string | number | boolean | null | undefined'.

[7m67[0m         clientInfo
[7m  [0m [91m        ~~~~~~~~~~[0m

[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m454[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m454[0m               details: error.errors.map((e) => ({
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m156[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m156[0m               details: error.errors.map((e) => ({
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m13[0m:[93m26[0m - [91merror[0m[90m ts(2559): [0mType '"bias-analysis-api"' has no properties in common with type 'LoggerOptions'.

[7m13[0m const logger = getLogger('bias-analysis-api')
[7m  [0m [91m                         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m454[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m454[0m               details: error.errors.map((e) => ({
[7m   [0m [93m                                         ~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m422[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_securityStart' is declared but its value is never read.

[7m422[0m     const _securityStart = Date.now()
[7m   [0m [93m          ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m156[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m156[0m               details: error.errors.map((e) => ({
[7m   [0m [93m                                         ~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m30[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m30[0m   clientId: z.string().uuid().optional(),
[7m  [0m [93m                       ~~~~[0m
[96msrc/pages/api/bias-analysis/analyze-optimized.ts[0m:[93m29[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m29[0m   therapistId: z.string().uuid().optional(),
[7m  [0m [93m                          ~~~~[0m

[96msrc/pages/api/bias-analysis/analyze.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/bias-detection/analyze.ts[0m:[93m124[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'body' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m124[0m     let body
[7m   [0m [93m        ~~~~[0m

[96msrc/pages/api/bias-detection/metrics.ts[0m:[93m37[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ format: "json" | "prometheus"; aggregation: "summary" | "raw"; timeRange?: number | undefined; metrics?: string | undefined; }>'.

[7m37[0m           details: queryResult.error.errors,
[7m  [0m [91m                                     ~~~~~~[0m
[96msrc/pages/api/bias-detection/metrics.ts[0m:[93m29[0m:[93m44[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m29[0m     const queryParams = Object.fromEntries(url.searchParams.entries())
[7m  [0m [91m                                           ~~~[0m

[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m8[0m:[93m3[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 1.

[7m  8[0m   async (sessions, update) => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m  9[0m     // Use batchAnalyzeSessions with progress callback
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 14[0m     })
[7m   [0m [91m~~~~~~[0m
[7m 15[0m   },
[7m   [0m [91m~~~[0m
[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m4[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../../../lib/ai/bias-detection/types"' has no exported member named 'BatchAnalysisResult'. Did you mean 'BiasAnalysisResult'?

[7m4[0m import type { BatchAnalysisResult } from '../../../lib/ai/bias-detection/types'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m8[0m:[93m20[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'update' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m8[0m   async (sessions, update) => {
[7m [0m [93m                   ~~~~~~[0m
[96msrc/pages/api/bias-detection/submit-batch-job.ts[0m:[93m8[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sessions' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m8[0m   async (sessions, update) => {
[7m [0m [93m         ~~~~~~~~[0m

[96msrc/pages/api/bias-detection/test-notification.ts[0m:[93m68[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'sendTestNotification' does not exist on type 'BiasDetectionEngine'.

[7m68[0m     const result = await biasDetectionEngine.sendTestNotification(
[7m  [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/bias-detection/test-notification.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m146[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'issues' does not exist on type 'never'.

[7m146[0m           (report) => report.issues && report.issues.length > 0,
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m146[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'issues' does not exist on type 'never'.

[7m146[0m           (report) => report.issues && report.issues.length > 0,
[7m   [0m [91m                             ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m144[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'never'.

[7m144[0m         latest: reports.length > 0 ? reports[0].timestamp : null,
[7m   [0m [91m                                                ~~~~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m135[0m:[93m22[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m135[0m         screenshots: report.screenshots || [],
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m134[0m:[93m16[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m134[0m         tests: report.tests || [],
[7m   [0m [91m               ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m133[0m:[93m19[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m133[0m         browsers: report.browsers || {},
[7m   [0m [91m                  ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m132[0m:[93m17[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m132[0m         issues: report.issues || [],
[7m   [0m [91m                ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m131[0m:[93m18[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m131[0m         summary: report.summary,
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m130[0m:[93m20[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m130[0m         timestamp: report.timestamp,
[7m   [0m [91m                   ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m129[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: any; summary: any; issues: any; browsers: any; tests: any; screenshots: any; }' is not assignable to parameter of type 'never'.

[7m129[0m       reports.push({
[7m   [0m [91m                   ~[0m
[7m130[0m         timestamp: report.timestamp,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m135[0m         screenshots: report.screenshots || [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m136[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m118[0m:[93m25[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m118[0m         report.issues = report.issues.filter(
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m118[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m118[0m         report.issues = report.issues.filter(
[7m   [0m [91m        ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m117[0m:[93m24[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m117[0m       if (sinceDate && report.issues) {
[7m   [0m [91m                       ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m110[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m110[0m           report.tests = report.tests.filter((test: { browser: string }) =>
[7m   [0m [91m                         ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m110[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m110[0m           report.tests = report.tests.filter((test: { browser: string }) =>
[7m   [0m [91m          ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m109[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m109[0m         if (report.tests) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m104[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m104[0m           report.issues = report.issues.filter((issue: { browser: string }) =>
[7m   [0m [91m                          ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m104[0m:[93m11[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m104[0m           report.issues = report.issues.filter((issue: { browser: string }) =>
[7m   [0m [91m          ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m103[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m103[0m         if (report.issues) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m101[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m101[0m         report.browsers = filteredBrowsers
[7m   [0m [91m        ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m96[0m:[93m26[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m96[0m           Object.entries(report.browsers || {}).filter(([key]) =>
[7m  [0m [91m                         ~~~~~~[0m
[96msrc/pages/api/browser-compatibility/data.ts[0m:[93m87[0m:[93m35[0m - [91merror[0m[90m ts(18046): [0m'report' is of type 'unknown'.

[7m87[0m       const reportDate = new Date(report.timestamp)
[7m  [0m [91m                                  ~~~~~~[0m

[96msrc/pages/api/components/analytics/charts.ts[0m:[93m375[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty '_type' does not exist on type '{ type: string; repository: AIRepository; clientId?: string | null | undefined; startDate: Date; endDate: Date; dataPoints: number; }'.

[7m375[0m   const { _type, dataPoints } = params
[7m   [0m [91m          ~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m333[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty '_type' does not exist on type '{ type: string; repository: AIRepository; clientId?: string | null | undefined; startDate: Date; endDate: Date; dataPoints: number; }'.

[7m333[0m   const { _type } = params
[7m   [0m [91m          ~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m307[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '{ x: number; y: number; }[]' is not assignable to type 'number[]'.
  Type '{ x: number; y: number; }' is not assignable to type 'number'.

[7m307[0m               data: scatterData,
[7m   [0m [91m              ~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m46[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m46[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m375[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_type' is declared but its value is never read.

[7m375[0m   const { _type, dataPoints } = params
[7m   [0m [93m          ~~~~~[0m
[96msrc/pages/api/components/analytics/charts.ts[0m:[93m333[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_type' is declared but its value is never read.

[7m333[0m   const { _type } = params
[7m   [0m [93m        ~~~~~~~~~[0m

[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m245[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m245[0m export const POST: APIRoute = protectRoute()(async (
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m150[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'never'.

[7m150[0m           confidence: emotion.confidence || 0.7,
[7m   [0m [91m                              ~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m149[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m149[0m           sessionId: emotion.sessionId,
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m145[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'intensity' does not exist on type 'never'.

[7m145[0m             emotion.confidence || emotion.intensity || 0.5,
[7m   [0m [91m                                          ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m145[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'confidence' does not exist on type 'never'.

[7m145[0m             emotion.confidence || emotion.intensity || 0.5,
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m143[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'timestamp' does not exist on type 'never'.

[7m143[0m           timestamp: emotion.timestamp || new Date().toISOString(),
[7m   [0m [91m                             ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m142[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'emotion' does not exist on type 'never'.

[7m142[0m           emotion: emotion.primaryEmotion || emotion.emotion || 'neutral',
[7m   [0m [91m                                                     ~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m142[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'primaryEmotion' does not exist on type 'never'.

[7m142[0m           emotion: emotion.primaryEmotion || emotion.emotion || 'neutral',
[7m   [0m [91m                           ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m141[0m:[93m50[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominance' does not exist on type 'DimensionalMap'.

[7m141[0m           dominance: normalizeToRange(dimensions.dominance || 0, -1, 1),
[7m   [0m [91m                                                 ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m140[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'arousal' does not exist on type 'DimensionalMap'.

[7m140[0m           arousal: normalizeToRange(dimensions.arousal || 0, -1, 1),
[7m   [0m [91m                                               ~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m139[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'valence' does not exist on type 'DimensionalMap'.

[7m139[0m           valence: normalizeToRange(dimensions.valence || 0, -1, 1),
[7m   [0m [91m                                               ~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m138[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type 'never'.

[7m138[0m           id: `emotion-${emotion.id || index}`,
[7m   [0m [91m                                 ~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m117[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m117[0m               sessionId: session.sessionId,
[7m   [0m [91m                                 ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m115[0m:[93m13[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ sessionId: any; id: string; timestamp: string; emotions: EmotionVector; dimensions: EmotionDimensions; confidence: number; metadata?: EmotionMetadata; }' is not assignable to parameter of type 'never'.

[7m115[0m             ...sessionEmotions.map((e) => ({
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m116[0m               ...e,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~[0m
[7m117[0m               sessionId: session.sessionId,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m118[0m             })),
[7m   [0m [91m~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m112[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m112[0m             session.sessionId,
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m110[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'sessionId' does not exist on type 'never'.

[7m110[0m         if (session.sessionId) {
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m103[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'TherapySession[]' is not assignable to type 'never[]'.
  Type 'TherapySession' is not assignable to type 'never'.

[7m103[0m       sessions = await repository.getSessions({
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m100[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType '{ sessionId: string; }' is not assignable to type 'never'.

[7m100[0m       sessions = [{ sessionId }]
[7m   [0m [91m                  ~~~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m99[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionAnalysis[]' is not assignable to type 'never[]'.
  Type 'EmotionAnalysis' is not assignable to type 'never'.

[7m99[0m       emotionData = await repository.getEmotionsForSession(sessionId)
[7m  [0m [91m      ~~~~~~~~~~~[0m
[96msrc/pages/api/components/emotions/3d-visualization.ts[0m:[93m51[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m51[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m427[0m:[93m21[0m - [91merror[0m[90m ts(18046): [0m'percentage' is of type 'unknown'.

[7m427[0m       cumulative += percentage
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m201[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m201[0m export const POST: APIRoute = protectRoute()(async (
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m139[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

[7m139[0m       sessionId,
[7m   [0m [91m      ~~~~~~~~~[0m
[96msrc/pages/api/components/particles/emotion-system.ts[0m:[93m79[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m79[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m529[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m529[0m export const PATCH: APIRoute = protectRoute()(async (
[7m   [0m [91m             ~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m448[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ clientName: string; therapistName: string; clientId: string; therapistId: string; duration: number; status: "draft" | "active" | "completed" | "paused"; goals: { id: string; title: string; ... 7 more ...; metrics?: { ...; } | undefined; }[]; ... 4 more ...; metadata?: { ...; } | undefined; }>'.

[7m448[0m           details: validationResult.error.errors,
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m423[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m423[0m export const POST: APIRoute = protectRoute()(async (
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m377[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty '_metrics' does not exist on type '{ id: string; title: string; description: string; targetDate: string; priority: "high" | "medium" | "low" | "urgent"; status: "completed" | "in-progress" | "not-started" | "on-hold"; progress: number; category: "social" | ... 3 more ... | "cognitive"; milestones: { ...; }[]; metrics?: { ...; } | undefined; }'.

[7m377[0m           const { _metrics, ...goalWithoutMetrics } = goal
[7m   [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m138[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m138[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m   [0m [91m             ~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m71[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m71[0m             date: z.string().datetime(),
[7m  [0m [93m                             ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m66[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m66[0m       nextSessionDate: z.string().datetime().optional(),
[7m  [0m [93m                                  ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m56[0m:[93m28[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m56[0m   lastModified: z.string().datetime().optional(),
[7m  [0m [93m                           ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m55[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m55[0m   createdDate: z.string().datetime().optional(),
[7m  [0m [93m                          ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m44[0m:[93m36[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m44[0m       lastActivityDate: z.string().datetime().optional(),
[7m  [0m [93m                                   ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m25[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m25[0m   targetDate: z.string().datetime(),
[7m  [0m [93m                         ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m18[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m18[0m   dueDate: z.string().datetime().optional(),
[7m  [0m [93m                      ~~~~~~~~[0m
[96msrc/pages/api/components/treatment-plans/enhanced.ts[0m:[93m16[0m:[93m29[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m16[0m   completedDate: z.string().datetime().optional(),
[7m  [0m [93m                            ~~~~~~~~[0m

[96msrc/pages/api/components/ui/carousel-content.ts[0m:[93m143[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m143[0m export const POST: APIRoute = protectRoute()(async (
[7m   [0m [91m             ~~~~[0m
[96msrc/pages/api/components/ui/carousel-content.ts[0m:[93m58[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m58[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/crisis/session-flags.ts[0m:[93m289[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m289[0m       updatedBy: sessionData.user.id,
[7m   [0m [91m                             ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m275[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m275[0m       sessionData.user.id,
[7m   [0m [91m                  ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m226[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m226[0m     const userRole = sessionData.user.user_metadata?.['role']
[7m   [0m [91m                                 ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m214[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m214[0m export const PUT = async ({ request }: APIContext) => {
[7m   [0m [91m                                       ~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m189[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m189[0m       createdBy: sessionData.user.id,
[7m   [0m [91m                             ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m174[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m174[0m       sessionData.user.id,
[7m   [0m [91m                  ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m118[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m118[0m     const userRole = sessionData.user.user_metadata?.['role']
[7m   [0m [91m                                 ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m106[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m106[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m81[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m81[0m       sessionData.user.id,
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m80[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserSessionStatus' does not exist on type 'CrisisSessionFlaggingService'.

[7m80[0m     const status = await flaggingService.getUserSessionStatus(
[7m  [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m77[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m77[0m       sessionData.user.id,
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m67[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'getUserSessionStatus' does not exist on type 'CrisisSessionFlaggingService'.

[7m67[0m       const status = await flaggingService.getUserSessionStatus(userId)
[7m  [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m51[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m51[0m         userId !== sessionData.user.id &&
[7m  [0m [91m                               ~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m39[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPendingCrisisFlags' does not exist on type 'CrisisSessionFlaggingService'.

[7m39[0m       const flags = await flaggingService.getPendingCrisisFlags()
[7m  [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/crisis/session-flags.ts[0m:[93m8[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const GET = async ({ request }: APIContext) => {
[7m [0m [91m                                       ~~~~~~~~~~[0m

[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m10[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchParams' does not exist on type 'URL | undefined'.

[7m10[0m     const { searchParams } = url
[7m  [0m [91m            ~~~~~~~~~~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m173[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m173[0m       patterns: patternsResult.rows.map((row) => ({
[7m   [0m [93m                                         ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m169[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m169[0m       distribution: distributionResult.rows.map((row) => ({
[7m   [0m [93m                                                 ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m162[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m162[0m       demographics: demographicResult.rows.map((row) => ({
[7m   [0m [93m                                                ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m154[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m154[0m       historical: historicalResult.rows.map((row) => ({
[7m   [0m [93m                                             ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m130[0m:[93m42[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m130[0m       patterns: patternsResult.rows.map((row) => ({
[7m   [0m [93m                                         ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m126[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m126[0m       distribution: distributionResult.rows.map((row) => ({
[7m   [0m [93m                                                 ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m119[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m119[0m       demographics: demographicResult.rows.map((row) => ({
[7m   [0m [93m                                                ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/analytics.ts[0m:[93m111[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m111[0m       historical: historicalResult.rows.map((row) => ({
[7m   [0m [93m                                             ~~~[0m

[96msrc/pages/api/dashboard/bias-detection/summary.ts[0m:[93m82[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m82[0m       activeAlerts: alertsResult.rows.map((row) => ({
[7m  [0m [93m                                           ~~~[0m
[96msrc/pages/api/dashboard/bias-detection/summary.ts[0m:[93m75[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m75[0m       recentAnalyses: recentAnalysesResult.rows.map((row) => ({
[7m  [0m [93m                                                     ~~~[0m

[96msrc/pages/api/demos/bias-detection/analyze.ts[0m:[93m198[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m198[0m export const GET: APIRoute = async () => {
[7m   [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/analyze.ts[0m:[93m81[0m:[93m7[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m81[0m       biasFactors,
[7m  [0m [91m      ~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/analyze.ts[0m:[93m16[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m16[0m export const POST: APIRoute = async ({ request }) => {
[7m  [0m [91m                   ~~~~~~~~[0m

[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m281[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m281[0m export const GET: APIRoute = async () => {
[7m   [0m [91m                  ~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m261[0m:[93m45[0m - [91merror[0m[90m ts(18046): [0m'scenario.expectedBiasReduction' is of type 'unknown'.

[7m261[0m       content += `   Expected Reduction: ${(scenario.expectedBiasReduction * 100).toFixed(1)}%\n`
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m256[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'CounterfactualScenario[]' to type 'Record<string, unknown>[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'CounterfactualScenario' is not comparable to type 'Record<string, unknown>'.
    Index signature for type 'string' is missing in type 'CounterfactualScenario'.

[7m256[0m     const scenarios = exportData.counterfactualScenarios as Array<
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m257[0m       Record<string, unknown>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m258[0m     >
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m215[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m215[0m     csvRows.push(`Historical,7-Day Trend,${historical.sevenDayTrend},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m214[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m214[0m     csvRows.push(`Historical,Percentile Rank,${historical.percentileRank},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m213[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m213[0m     csvRows.push(`Historical,30-Day Average,${historical.thirtyDayAverage},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m205[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m205[0m         `Counterfactual,Likelihood ${index + 1},${scenario.likelihood},${scenario.description}`,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m202[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m202[0m         `Counterfactual,Scenario ${index + 1},${scenario.expectedBiasReduction},${scenario.change}`,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m197[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'CounterfactualScenario[]' to type 'Record<string, unknown>[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'CounterfactualScenario' is not comparable to type 'Record<string, unknown>'.
    Index signature for type 'string' is missing in type 'CounterfactualScenario'.

[7m197[0m     const scenarios = exportData.counterfactualScenarios as Array<
[7m   [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m198[0m       Record<string, unknown>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m199[0m     >
[7m   [0m [91m~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m191[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m191[0m       `Interactive,Consistency Score,${layers.interactive.counterfactualAnalysis.consistencyScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m188[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m188[0m       `Interactive,Bias Detected,${layers.interactive.counterfactualAnalysis.biasDetected},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m185[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m185[0m       `Interactive,Scenarios Analyzed,${layers.interactive.counterfactualAnalysis.scenariosAnalyzed},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m181[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m181[0m       `Model,Calibration,${layers.modelLevel.fairnessMetrics.calibration},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m178[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m178[0m       `Model,Equalized Odds,${layers.modelLevel.fairnessMetrics.equalizedOdds},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m175[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m175[0m       `Model,Demographic Parity,${layers.modelLevel.fairnessMetrics.demographicParity},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m171[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m171[0m       `Preprocessing,Cultural Bias,${layers.preprocessing.linguisticBias.culturalBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m168[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m168[0m       `Preprocessing,Age Bias,${layers.preprocessing.linguisticBias.ageBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m165[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m165[0m       `Preprocessing,Racial Bias,${layers.preprocessing.linguisticBias.racialBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m162[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m162[0m       `Preprocessing,Gender Bias,${layers.preprocessing.linguisticBias.genderBiasScore},`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m157[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m157[0m     csvRows.push(`Analysis,Session ID,${analysis.sessionId},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m156[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m156[0m     csvRows.push(`Analysis,Confidence,${analysis.confidence},`)
[7m   [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m154[0m       `Analysis,Overall Bias Score,${analysis.overallBiasScore},${analysis.alertLevel}`,
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m148[0m:[93m16[0m - [91merror[0m[90m ts(2345): [0mArgument of type '"Category,Metric,Value,Details"' is not assignable to parameter of type 'never'.

[7m148[0m   csvRows.push('Category,Metric,Value,Details')
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m105[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ analysis: BiasAnalysisResults | undefined; counterfactualScenarios: CounterfactualScenario[] | undefined; historicalComparison: HistoricalComparison | undefined; metadata: { ...; }; timestamp: string; sessionId: string; }' is not assignable to parameter of type 'ExportData'.
  Types of property 'analysis' are incompatible.
    Type 'BiasAnalysisResults | undefined' is not assignable to type 'BiasAnalysisResults'.
      Type 'undefined' is not assignable to type 'BiasAnalysisResults'.

[7m105[0m         const txtData = convertToText(filteredExportData)
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m94[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ analysis: BiasAnalysisResults | undefined; counterfactualScenarios: CounterfactualScenario[] | undefined; historicalComparison: HistoricalComparison | undefined; metadata: { ...; }; timestamp: string; sessionId: string; }' is not assignable to parameter of type 'ExportData'.
  Types of property 'analysis' are incompatible.
    Type 'BiasAnalysisResults | undefined' is not assignable to type 'BiasAnalysisResults'.
      Type 'undefined' is not assignable to type 'BiasAnalysisResults'.

[7m94[0m         const csvData = convertToCSV(filteredExportData)
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/export.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'HistoricalComparison | null' is not assignable to parameter of type 'HistoricalComparison'.
  Type 'null' is not assignable to type 'HistoricalComparison'.

[7m61[0m       historicalComparison as HistoricalComparison | null,
[7m  [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/demos/bias-detection/websocket.ts[0m:[93m135[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m135[0m export const POST: APIRoute = async ({ request }) => {
[7m   [0m [91m                   ~~~~~~~~[0m
[96msrc/pages/api/demos/bias-detection/websocket.ts[0m:[93m148[0m:[93m76[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m148[0m               connectionId: `ws_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
[7m   [0m [93m                                                                           ~~~~~~[0m

[96msrc/pages/api/documentation/generate.ts[0m:[93m131[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'generateDocumentation' does not exist on type 'DocumentationService'.

[7m131[0m     const result = await documentationService.generateDocumentation(
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/documentation/generate.ts[0m:[93m79[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ get: (name: string) => { value: any; } | undefined; }' is not assignable to parameter of type 'Request | AstroCookies'.
  Type '{ get: (name: string) => { value: any; } | undefined; }' is missing the following properties from type 'AstroCookies': set, delete

[7m79[0m     const user = await getCurrentUser(cookies)
[7m  [0m [91m                                      ~~~~~~~[0m
[96msrc/pages/api/documentation/generate.ts[0m:[93m66[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m66[0m export const POST = async ({ request }: APIContext) => {
[7m  [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/documentation/generate.ts[0m:[93m64[0m:[93m55[0m - [91merror[0m[90m ts(2554): [0mExpected 0 arguments, but got 2.

[7m64[0m const documentationService = new DocumentationService(repository, aiService)
[7m  [0m [91m                                                      ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/emotions/dimensional.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2724): [0m'"../../../lib/ai/emotions/dimensionalTypes"' has no exported member named 'DimensionalEmotionMap'. Did you mean 'DimensionalEmotion'?

[7m5[0m import type { DimensionalEmotionMap } from '../../../lib/ai/emotions/dimensionalTypes'
[7m [0m [91m              ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/emotions/multidimensional-map.ts[0m:[93m25[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m25[0m export const GET: APIRoute = protectRoute()(async (context: AuthAPIContext) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/emotions/real-time-analysis.ts[0m:[93m82[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'analyzeText' does not exist on type 'MultidimensionalEmotionMapper'.

[7m82[0m     const emotionResult = await emotionMapper.analyzeText(text, {
[7m  [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/pages/api/emotions/real-time-analysis.ts[0m:[93m42[0m:[93m27[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m42[0m     const sessionCookie = cookies.get('session')
[7m  [0m [91m                          ~~~~~~~[0m

[96msrc/pages/api/emotions/session-analysis.ts[0m:[93m21[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '(context: BaseAPIContext) => Promise<Response>' is not assignable to type 'APIRoute'.
  Types of parameters 'context' and 'context' are incompatible.
    Property 'props' is missing in type 'APIContext' but required in type 'BaseAPIContext<Record<string, unknown>, Record<string, string | undefined>>'.

[7m21[0m export const GET: APIRoute = protectRoute()(async ({ locals, request }) => {
[7m  [0m [91m             ~~~[0m

[96msrc/pages/api/examples/profiling-demo.ts[0m:[93m20[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m20[0m export const GET = async (_) => {
[7m  [0m [93m                          ~[0m

[96msrc/pages/api/export/conversation.ts[0m:[93m238[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'JSON' does not exist on type 'typeof ExportFormat | typeof ExportFormat'.
  Property 'JSON' does not exist on type 'typeof ExportFormat'.

[7m238[0m       return ExportFormat.JSON
[7m   [0m [91m                          ~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m229[0m:[93m43[0m - [91merror[0m[90m ts(2749): [0m'ExportFormat' refers to a value, but is being used as a type here. Did you mean 'typeof ExportFormat'?

[7m229[0m function mapExportFormat(format: string): ExportFormat {
[7m   [0m [91m                                          ~~~~~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m218[0m:[93m11[0m - [91merror[0m[90m ts(2749): [0m'ExportFormat' refers to a value, but is being used as a type here. Did you mean 'typeof ExportFormat'?

[7m218[0m   format: ExportFormat,
[7m   [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m131[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m131[0m       session.user.id,
[7m   [0m [91m              ~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m114[0m:[93m53[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'RealFHEService' is not assignable to parameter of type 'FHEServiceInterface'.
  Property 'encryptData' is missing in type 'RealFHEService' but required in type 'FHEServiceInterface'.

[7m114[0m     const exportService = ExportService.getInstance(fheService)
[7m   [0m [91m                                                    ~~~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m93[0m:[93m56[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m93[0m     const hasAccess = await checkSessionAccess(session.user.id, sessionId)
[7m  [0m [91m                                                       ~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m70[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m70[0m export const POST: APIRoute = async ({ request }) => {
[7m  [0m [91m                   ~~~~~~~~[0m
[96msrc/pages/api/export/conversation.ts[0m:[93m14[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIRoute'.

[7m14[0m export const GET: APIRoute = async ({ request }) => {
[7m  [0m [91m                  ~~~~~~~~[0m

[96msrc/pages/api/export/download/[id].ts[0m:[93m79[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m79[0m     await recordDownloadAction(session.user.id, id)
[7m  [0m [91m                                       ~~~~[0m
[96msrc/pages/api/export/download/[id].ts[0m:[93m61[0m:[93m55[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m61[0m     const hasAccess = await checkExportAccess(session.user.id, id)
[7m  [0m [91m                                                      ~~~~[0m
[96msrc/pages/api/export/download/[id].ts[0m:[93m34[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m34[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m

[96msrc/pages/api/fhe/process.ts[0m:[93m66[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"high"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m66[0m         securityLevel: 'high',
[7m  [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/process.ts[0m:[93m63[0m:[93m21[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Boolean' has no call signatures.

[7m63[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/process.ts[0m:[93m63[0m:[93m21[0m - [91merror[0m[90m ts(2341): [0mProperty 'isInitialized' is private and only accessible within class 'RealFHEService'.

[7m63[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/process.ts[0m:[93m17[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m17[0m     const rateLimitResult = await rateLimit.check(clientIp, 'anonymous')
[7m  [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m58[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"high"' is not assignable to type '"tc128" | "tc192" | "tc256"'.

[7m58[0m         securityLevel: 'high',
[7m  [0m [91m        ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m55[0m:[93m21[0m - [91merror[0m[90m ts(2349): [0mThis expression is not callable.
  Type 'Boolean' has no call signatures.

[7m55[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m55[0m:[93m21[0m - [91merror[0m[90m ts(2341): [0mProperty 'isInitialized' is private and only accessible within class 'RealFHEService'.

[7m55[0m     if (!fheService.isInitialized()) {
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m43[0m:[93m26[0m - [91merror[0m[90m ts(18048): [0m'cookies' is possibly 'undefined'.

[7m43[0m     const sessionToken = cookies.get('session')
[7m  [0m [91m                         ~~~~~~~[0m
[96msrc/pages/api/fhe/rotate-keys.ts[0m:[93m17[0m:[93m29[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m17[0m     const rateLimitResult = await rateLimit.check(
[7m  [0m [93m                            ~~~~~~~~~~~~~~~~~~~~~~[0m
[7m18[0m       request.headers.get('x-forwarded-for') || 'anonymous',
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m19[0m       'key-rotation',
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~[0m
[7m20[0m     )
[7m  [0m [93m~~~~~[0m

[96msrc/pages/api/goals/[id].ts[0m:[93m49[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title: string; description: string; category: GoalCategory; status: GoalStatus; progress: number; checkpoints: { id: string; description: string; isCompleted: boolean; completedAt?: number | undefined; notes?: string | undefined; }[]; ... 4 more ...; notes?: string | undefined; }>'.

[7m49[0m           details: parsed.error.errors,
[7m  [0m [91m                                ~~~~~~[0m

[96msrc/pages/api/goals/index.ts[0m:[93m59[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title: string; description: string; category: GoalCategory; status: GoalStatus; progress: number; checkpoints: { id: string; description: string; isCompleted: boolean; completedAt?: number | undefined; notes?: string | undefined; }[]; ... 4 more ...; notes?: string | undefined; }>'.

[7m59[0m           details: parsed.error.errors,
[7m  [0m [91m                                ~~~~~~[0m
[96msrc/pages/api/goals/index.ts[0m:[93m33[0m:[93m13[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(entries: typeof GoalStatus, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>' of 'z.nativeEnum' is deprecated.

[7m33[0m   status: z.nativeEnum(GoalStatus),
[7m  [0m [93m            ~~~~~~~~~~[0m
[96msrc/pages/api/goals/index.ts[0m:[93m32[0m:[93m15[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(entries: typeof GoalCategory, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>' of 'z.nativeEnum' is deprecated.

[7m32[0m   category: z.nativeEnum(GoalCategory),
[7m  [0m [93m              ~~~~~~~~~~[0m

[96msrc/pages/api/memory/list.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'keyof Memory | undefined'.

[7m33[0m       sortBy: sortBy as string,
[7m  [0m [91m      ~~~~~~[0m
[96msrc/pages/api/memory/list.ts[0m:[93m20[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'userId' does not exist on type 'unknown'.

[7m20[0m     const {userId} = session
[7m  [0m [91m           ~~~~~~[0m

[96msrc/pages/api/mental-health/chat.ts[0m:[93m555[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m555[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/mental-health/crisis-detection.ts[0m:[93m599[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m599[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/preferences.ts[0m:[93m119[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m119[0m     const result = await service.updatePreferences?.(userId, preferences)
[7m   [0m [91m                                                     ~~~~~~[0m
[96msrc/pages/api/notifications/preferences.ts[0m:[93m28[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'getPreferences' does not exist on type 'NotificationService'.

[7m28[0m     const preferences = await notificationService.getPreferences(
[7m  [0m [91m                                                  ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/preferences.ts[0m:[93m8[0m:[93m40[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const GET = async ({ request }: APIContext) => {
[7m [0m [91m                                       ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/register.ts[0m:[93m48[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'boolean'.

[7m48[0m       authResult.user?.id,
[7m  [0m [91m                 ~~~~[0m
[96msrc/pages/api/notifications/register.ts[0m:[93m12[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'authenticated' does not exist on type 'boolean'.

[7m12[0m     if (!authResult?.authenticated) {
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/register.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/send-test.ts[0m:[93m28[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'boolean'.

[7m28[0m     if (!authResult.user?.isAdmin) {
[7m  [0m [91m                    ~~~~[0m
[96msrc/pages/api/notifications/send-test.ts[0m:[93m12[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'authenticated' does not exist on type 'boolean'.

[7m12[0m     if (!authResult?.authenticated) {
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/send-test.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/notifications/unregister.ts[0m:[93m28[0m:[93m65[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'boolean'.

[7m28[0m     await notificationService.removePushSubscription(authResult.user?.id)
[7m  [0m [91m                                                                ~~~~[0m
[96msrc/pages/api/notifications/unregister.ts[0m:[93m12[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'authenticated' does not exist on type 'boolean'.

[7m12[0m     if (!authResult?.authenticated) {
[7m  [0m [91m                     ~~~~~~~~~~~~~[0m
[96msrc/pages/api/notifications/unregister.ts[0m:[93m8[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m8[0m export const POST = async ({ request }: APIContext) => {
[7m [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/patient-rights/cancel-export.ts[0m:[93m24[0m:[93m39[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ exportId: string; reason?: string | undefined; }, string>' of 'validation.error.flatten' is deprecated.

[7m24[0m       const errors = validation.error.flatten()
[7m  [0m [93m                                      ~~~~~~~[0m

[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m60[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormat: "json" | "csv" | "fhir" | "ccd" | "hl7"; dataSections: string[]; recipientType: "patient" | "provider" | "research"; recipientName: string; recipientEmail: string; includeEncryptionKey: boolean; notes?: string | undefined; }>'.

[7m60[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m52[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormat: "json" | "csv" | "fhir" | "ccd" | "hl7"; dataSections: string[]; recipientType: "patient" | "provider" | "research"; recipientName: string; recipientEmail: string; includeEncryptionKey: boolean; notes?: string | undefined; }>'.

[7m52[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m36[0m:[93m31[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'AuthUser'.

[7m36[0m       !(session as unknown as AuthUser).permissions?.includes(
[7m  [0m [91m                              ~~~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m26[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'verifySession' does not exist on type '{ getCurrentUser: (context: Request | AstroCookies) => Promise<{ id: string; role: string; } | null>; isAuthenticated: (context: Request | AstroCookies) => Promise<...>; hasRole: (context: Request | AstroCookies, role: string) => Promise<...>; }'.

[7m26[0m     const session = await auth.verifySession(request)
[7m  [0m [91m                               ~~~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/create-export.ts[0m:[93m18[0m:[93m30[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m18[0m   recipientEmail: z.string().email('Valid email address is required'),
[7m  [0m [93m                             ~~~~~[0m

[96msrc/pages/api/patient-rights/download-export.ts[0m:[93m37[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; token: string; }>'.

[7m37[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/download-export.ts[0m:[93m30[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; token: string; }>'.

[7m30[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m

[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m57[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; format: "json" | "csv" | "pdf" | "xml"; includeCategories?: string[] | undefined; dateRange?: { start?: string | undefined; end?: string | undefined; } | undefined; }>'.

[7m57[0m       const errorMessage = validationResult.error.errors
[7m  [0m [91m                                                  ~~~~~~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m12[0m:[93m13[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(values: readonly ["json", "csv", "xml", "pdf"], params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>', gave the following error.
    Object literal may only specify known properties, and 'errorMap' does not exist in type '{ error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; }'.
  Overload 2 of 2, '(entries: Readonly<Record<string, EnumValue>>, params?: string | { error?: string | $ZodErrorMap<$ZodIssueInvalidValue<unknown>> | undefined; message?: string | undefined; } | undefined): ZodEnum<...>', gave the following error.
    Argument of type 'string[]' is not assignable to parameter of type 'Readonly<Record<string, EnumValue>>'.
      Index signature for type 'string' is missing in type 'string[]'.

[7m12[0m   format: z.enum(['json', 'csv', 'xml', 'pdf'], {
[7m  [0m [91m            ~~~~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m58[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m58[0m         .map((e) => e.message)
[7m  [0m [93m              ~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m27[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m27[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-request.ts[0m:[93m11[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m11[0m   patientId: z.string().uuid({ message: 'Patient ID must be a valid UUID' }),
[7m  [0m [93m                        ~~~~[0m

[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m63[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m63[0m         permissions: user.permissions,
[7m  [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m57[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m57[0m       user.permissions?.includes('admin:patient-rights')
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m56[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m56[0m       user.permissions?.includes('data:export:read') ||
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m38[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; }>'.

[7m38[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m31[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; }>'.

[7m31[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m16[0m:[93m5[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'permissions' must be of type 'string[]', but here has type 'string[] | undefined'.

[7m16[0m     permissions?: string[]
[7m  [0m [91m    ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m16[0m:[93m5[0m - [91merror[0m[90m ts(2687): [0mAll declarations of 'permissions' must have identical modifiers.

[7m16[0m     permissions?: string[]
[7m  [0m [91m    ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m52[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'downloadUrl' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m                                                   ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m27[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'estimatedCompletionTime' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m                          ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m17[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'progress' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m                ~~~~~~~~[0m
[96msrc/pages/api/patient-rights/export-status.ts[0m:[93m81[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'status' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m81[0m     let status, progress, estimatedCompletionTime, downloadUrl
[7m  [0m [93m        ~~~~~~[0m

[96msrc/pages/api/patient-rights/get-export-status.ts[0m:[93m38[0m:[93m39[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(): $ZodFlattenedError<{ exportId: string; }, string>' of 'validation.error.flatten' is deprecated.

[7m38[0m       const errors = validation.error.flatten()
[7m  [0m [93m                                      ~~~~~~~[0m

[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m83[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormats: ("json" | "csv" | "pdf" | "xml")[]; dataSections: string[]; recipientType: "patient" | "provider" | "third-party"; recipientDetails: { name: string; email: string; organization?: string | undefined; phone?: string | undefined; }; encryptionRequested: boolean; urgencyLevel: ...'.

[7m83[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m76[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; dataFormats: ("json" | "csv" | "pdf" | "xml")[]; dataSections: string[]; recipientType: "patient" | "provider" | "third-party"; recipientDetails: { name: string; email: string; organization?: string | undefined; phone?: string | undefined; }; encryptionRequested: boolean; urgencyLevel: ...'.

[7m76[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m56[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m56[0m         permissions: user.permissions,
[7m  [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m51[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m51[0m       user.permissions?.includes('admin:patient-rights')
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m50[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'permissions' does not exist on type '{ id: string; role: string; }'.

[7m50[0m       user.permissions?.includes('data:export:create') ||
[7m  [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'permissions' must be of type 'string[]', but here has type 'string[] | undefined'.

[7m11[0m     permissions?: string[]
[7m  [0m [91m    ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(2687): [0mAll declarations of 'permissions' must have identical modifiers.

[7m11[0m     permissions?: string[]
[7m  [0m [91m    ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/initiate-export.ts[0m:[93m27[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m27[0m     email: z.string().email('Valid email is required'),
[7m  [0m [93m                      ~~~~~[0m

[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m86[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m86[0m     const userId = sessionData.user.id
[7m  [0m [91m                               ~~~~[0m
[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m70[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m70[0m     if (!sessionData || !sessionData.user) {
[7m  [0m [91m                                     ~~~~[0m
[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m49[0m:[93m15[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ patientId: string; formats: ("json" | "csv" | "pdf")[]; dataTypes: string[]; reason: string; priority: "high" | "normal"; }>'.

[7m49[0m       const { errors } = parseResult.error
[7m  [0m [91m              ~~~~~~[0m
[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m25[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m
[96msrc/pages/api/patient-rights/request-export.ts[0m:[93m10[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m10[0m   patientId: z.string().uuid('Patient ID must be a valid UUID'),
[7m  [0m [93m                        ~~~~[0m

[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m66[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; status: "pending" | "completed" | "cancelled" | "failed" | "processing" | "delivered"; notes?: string | undefined; completionDetails?: { downloadUrl?: string | undefined; expiresAt?: string | undefined; encryptionKeyUrl?: string | undefined; fileSize?: number | undefined; fileChecksum?: ...'.

[7m66[0m           errors: validationResult.error.errors,
[7m  [0m [91m                                         ~~~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m58[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ exportId: string; status: "pending" | "completed" | "cancelled" | "failed" | "processing" | "delivered"; notes?: string | undefined; completionDetails?: { downloadUrl?: string | undefined; expiresAt?: string | undefined; encryptionKeyUrl?: string | undefined; fileSize?: number | undefined; fileChecksum?: ...'.

[7m58[0m         errors: validationResult.error.errors,
[7m  [0m [91m                                       ~~~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m42[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m42[0m     const { user } = sessionData
[7m  [0m [91m            ~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m35[0m:[93m38[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m35[0m     if (!sessionData || !sessionData.user) {
[7m  [0m [91m                                     ~~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m24[0m:[93m36[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m24[0m       encryptionKeyUrl: z.string().url().optional(),
[7m  [0m [93m                                   ~~~[0m
[96msrc/pages/api/patient-rights/update-export.ts[0m:[93m22[0m:[93m31[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; pattern?: RegExp | undefined; hostname?: RegExp | undefined; protocol?: RegExp | undefined; normalize?: boolean | undefined; error?: string | ... 1 more ... | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m22[0m       downloadUrl: z.string().url().optional(),
[7m  [0m [93m                              ~~~[0m

[96msrc/pages/api/pattern-analysis/cross-session.ts[0m:[93m35[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m35[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/api/pattern-analysis/risk-correlations.ts[0m:[93m30[0m:[93m9[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'requestBody' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m30[0m     let requestBody
[7m  [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/api/psychology/analyze.ts[0m:[93m551[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m551[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/psychology/frameworks.ts[0m:[93m741[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m741[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m479[0m:[93m209[0m - [91merror[0m[90m ts(2339): [0mProperty 'challenges' does not exist on type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.

[7m479[0m         currentSituation: `Client presents for session ${sessionContext.sessionNumber} with ongoing concerns about ${body.context}. ${clientProfile.challenges ? 'Current challenges include: ' + clientProfile.challenges.join(', ') + '.' : ''}`,
[7m   [0m [91m                                                                                                                                                                                                                ~~~~~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m479[0m:[93m149[0m - [91merror[0m[90m ts(2339): [0mProperty 'challenges' does not exist on type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.

[7m479[0m         currentSituation: `Client presents for session ${sessionContext.sessionNumber} with ongoing concerns about ${body.context}. ${clientProfile.challenges ? 'Current challenges include: ' + clientProfile.challenges.join(', ') + '.' : ''}`,
[7m   [0m [91m                                                                                                                                                    ~~~~~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m425[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m425[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m263[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ age: number; gender: string; background: string; presenting_concern?: string | undefined; name: string; presentingConcern: string; history: string; challenges: string[]; } | { age: number; gender: string; ... 5 more ...; challenges: string[]; } | { ...; }' is not assignable to type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.
  Property 'currentSituation' is missing in type '{ age: number; gender: string; background: string; presenting_concern?: string; name: string; presentingConcern: string; history: string; challenges: string[]; }' but required in type '{ name: string; age: number; gender: string; background: string; presentingConcern: string; history: string; currentSituation: string; }'.

[7m263[0m   return {
[7m   [0m [91m  ~~~~~~[0m
[96msrc/pages/api/psychology/generate-scenario.ts[0m:[93m251[0m:[93m63[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m251[0m   return `scenario_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m   [0m [93m                                                              ~~~~~~[0m

[96msrc/pages/api/psychology/parse.ts[0m:[93m309[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'APIContext'.

[7m309[0m export const POST = async ({ request }: APIContext) => {
[7m   [0m [91m                                        ~~~~~~~~~~[0m

[96msrc/pages/api/session/analytics.ts[0m:[93m173[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m173[0m     const userRole = session.user.role
[7m   [0m [91m                             ~~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m172[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m172[0m     const userId = session.user._id.toString()
[7m   [0m [91m                           ~~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m137[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m137[0m     const session = await getSession(request)
[7m   [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m63[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m63[0m     const userRole = session.user.role
[7m  [0m [91m                             ~~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m62[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m62[0m     const userId = session.user._id.toString()
[7m  [0m [91m                           ~~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m13[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m13[0m     const session = await getSession(request)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m215[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m215[0m       result.rows.forEach((row) => {
[7m   [0m [93m                           ~~~[0m
[96msrc/pages/api/session/analytics.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/comparison.ts[0m:[93m153[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m153[0m       const comparisons = result.rows.map((row) => ({
[7m   [0m [93m                                           ~~~[0m
[96msrc/pages/api/session/comparison.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/progress.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/skills.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/session/snapshots.ts[0m:[93m48[0m:[93m28[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'client' used before its declaration.

[7m48[0m       const result = await client.query(query, [
[7m  [0m [91m                           ~~~~~~[0m
[96msrc/pages/api/session/snapshots.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/pages/api/sessions/index.ts[0m:[93m155[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType 'import("/app/src/lib/ai/models/ai-types").TherapySession[]' is not assignable to type 'import("/app/src/lib/ai/interfaces/therapy").TherapySession[]'.
  Type 'TherapySession' is missing the following properties from type 'TherapySession': securityLevel, emotionAnalysisEnabled

[7m155[0m     const sessions: TherapySession[] = await repository.getSessions(filter)
[7m   [0m [91m          ~~~~~~~~[0m

[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m328[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m328[0m     await threatDetectionSystem.intelligenceService.updateConfiguration({
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m273[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type '{ success: boolean; request?: AuthenticatedRequest | undefined; response?: Response | undefined; error?: string | undefined; }'.

[7m273[0m     if (!authResult.success || !authResult.user?.isAdmin) {
[7m   [0m [91m                                           ~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m218[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m218[0m             await threatDetectionSystem.intelligenceService.lookupIOC(
[7m   [0m [91m                                        ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m93[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'intelligenceService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m93[0m     const results = await threatDetectionSystem.intelligenceService.lookupIOC(
[7m  [0m [91m                                                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m33[0m:[93m21[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m33[0m     const refresh = url.searchParams.get('refresh') === 'true'
[7m  [0m [91m                    ~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m28[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m28[0m     const type = url.searchParams.get('type') as
[7m  [0m [91m                 ~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m27[0m:[93m23[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m27[0m     const indicator = url.searchParams.get('indicator')
[7m  [0m [91m                      ~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m301[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m301[0m     const _redisClient = redis
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m300[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m300[0m     const _mongoClient = mongoClient
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m183[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m183[0m     const _redisClient = redis
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m182[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m182[0m     const _mongoClient = mongoClient
[7m   [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m68[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_redisClient' is declared but its value is never read.

[7m68[0m     const _redisClient = redis
[7m  [0m [93m          ~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/intelligence.ts[0m:[93m67[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_mongoClient' is declared but its value is never read.

[7m67[0m     const _mongoClient = mongoClient
[7m  [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m156[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntingService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m156[0m       await threatDetectionSystem.huntingService.getInvestigationResult(
[7m   [0m [91m                                  ~~~~~~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m119[0m:[93m29[0m - [91merror[0m[90m ts(18048): [0m'url' is possibly 'undefined'.

[7m119[0m     const investigationId = url.searchParams.get('id')
[7m   [0m [91m                            ~~~[0m
[96msrc/pages/api/threat-detection/phase8/investigate.ts[0m:[93m66[0m:[93m35[0m - [91merror[0m[90m ts(2339): [0mProperty 'huntingService' does not exist on type '{ threatDetection: ProductionThreatDetectionService; monitoring: ProductionMonitoringService; hunting: ProductionHuntingService; intelligence: ProductionIntelligenceService; processRequest(request: unknown): Promise<...>; getSystemHealth(): Promise<...>; getSystemStatistics(): Promise<...>; }'.

[7m66[0m       await threatDetectionSystem.huntingService.startInvestigation({
[7m  [0m [91m                                  ~~~~~~~~~~~~~~[0m

[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m43[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'getStatus' does not exist on type 'ProductionIntelligenceService'.

[7m43[0m         threatDetectionSystem.intelligence.getStatus(),
[7m  [0m [91m                                           ~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m42[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'getStatus' does not exist on type 'ProductionHuntingService'.

[7m42[0m         threatDetectionSystem.hunting.getStatus(),
[7m  [0m [91m                                      ~~~~~~~~~[0m
[96msrc/pages/api/threat-detection/phase8/status.ts[0m:[93m41[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'getStatus' does not exist on type 'ProductionMonitoringService'.

[7m41[0m         threatDetectionSystem.monitoring.getStatus(),
[7m  [0m [91m                                         ~~~~~~~~~[0m

[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m113[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'planId' does not exist on type 'Record<string, string | undefined> | undefined'.

[7m113[0m     const { planId } = params
[7m   [0m [91m            ~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m106[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Record<string, unknown> | undefined'.

[7m106[0m     const { user } = locals
[7m   [0m [91m            ~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m60[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'planId' does not exist on type 'Record<string, string | undefined> | undefined'.

[7m60[0m     const { planId } = params
[7m  [0m [91m            ~~~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m53[0m:[93m13[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'Record<string, unknown> | undefined'.

[7m53[0m     const { user } = locals
[7m  [0m [91m            ~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m23[0m:[93m18[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m23[0m   id: z.string().uuid().optional(),
[7m  [0m [93m                 ~~~~[0m
[96msrc/pages/api/treatment-plans/[planId].ts[0m:[93m12[0m:[93m18[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; version?: "v1" | "v8" | "v2" | "v3" | "v4" | "v5" | "v6" | "v7" | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m12[0m   id: z.string().uuid().optional(),
[7m  [0m [93m                 ~~~~[0m

[96msrc/pages/api/treatment-plans/index.ts[0m:[93m93[0m:[93m43[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<{ title: string; status: "Completed" | "Draft" | "Active" | "Discontinued" | "Archived"; goals: { description: string; status: "Not Started" | "In Progress" | "Achieved" | "Partially Achieved" | "Not Achieved"; objectives: { ...; }[]; targetDate?: string | ... 1 more ... | undefined; }[]; diagnosis?: string...'.

[7m93[0m           details: validationResult.error.errors,
[7m  [0m [91m                                          ~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m38[0m:[93m23[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m38[0m   endDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                      ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m37[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m37[0m   startDate: z.string().datetime().optional(),
[7m  [0m [93m                        ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m21[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m21[0m   targetDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                         ~~~~~~~~[0m
[96msrc/pages/api/treatment-plans/index.ts[0m:[93m11[0m:[93m26[0m - [93mwarning[0m[90m ts(6385): [0m'(params?: string | { abort?: boolean | undefined; local?: boolean | undefined; offset?: boolean | undefined; precision?: number | null | undefined; error?: string | $ZodErrorMap<$ZodIssueInvalidStringFormat> | undefined; message?: string | undefined; } | undefined): ZodString' is deprecated.

[7m11[0m   targetDate: z.string().datetime().optional().nullable(),
[7m  [0m [93m                         ~~~~~~~~[0m

[96msrc/pages/api/v1/profile/index.ts[0m:[93m127[0m:[93m45[0m - [91merror[0m[90m ts(18048): [0m'updatedUser.email' is possibly 'undefined'.

[7m127[0m           fullName: updatedUser.fullName || updatedUser.email.split('@')[0],
[7m   [0m [91m                                            ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/api/v1/profile/index.ts[0m:[93m47[0m:[93m45[0m - [91merror[0m[90m ts(18048): [0m'userProfile.email' is possibly 'undefined'.

[7m47[0m           fullName: userProfile.fullName || userProfile.email.split('@')[0],
[7m  [0m [91m                                            ~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m103[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m103[0m         userId: session.user.id,
[7m   [0m [91m                        ~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m97[0m:[93m91[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m97[0m     logger.info('WebSocket connection opened', { connectionId, sessionId, userId: session.user.id })
[7m  [0m [91m                                                                                          ~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m95[0m:[93m23[0m - [91merror[0m[90m ts(18048): [0m'context.url' is possibly 'undefined'.

[7m95[0m     const sessionId = context.url.searchParams.get('sessionId') || crypto.randomUUID()
[7m  [0m [91m                      ~~~~~~~~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m93[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'getWebSocket' does not exist on type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>'.

[7m93[0m     const { socket, response } = Astro.getWebSocket(context)
[7m  [0m [91m                                       ~~~~~~~~~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m82[0m:[93m30[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'Request'.
  Type 'APIContext' is missing the following properties from type 'Request': cache, credentials, destination, headers, and 16 more.

[7m82[0m         await applyRateLimit(context, 'pixel-ws', { points: 1 })
[7m  [0m [91m                             ~~~~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m76[0m:[93m19[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m76[0m     if (!session?.user) {
[7m  [0m [91m                  ~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m74[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'APIContext' is not assignable to parameter of type 'string'.

[7m74[0m     const session = await getSession(context)
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m163[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'error' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m163[0m     socket.onerror = error => {
[7m   [0m [93m                     ~~~~~[0m
[96msrc/pages/api/ws/pixel/multimodal-stream.ts[0m:[93m112[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m112[0m     socket.onmessage = async event => {
[7m   [0m [93m                             ~~~~~[0m

[96msrc/plugins/index.ts[0m:[93m5[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'AstroIntegration'.

[7m5[0m import type { AstroIntegration } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~~~~[0m

[96msrc/plugins/remark-directive-sugar.ts[0m:[93m83[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"paragraph"' is not assignable to type '"textDirective" | "leafDirective" | "containerDirective"'.

[7m83[0m               directiveNode.type = 'paragraph'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/plugins/remark-directive-sugar.ts[0m:[93m70[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"paragraph"' is not assignable to type '"textDirective" | "leafDirective" | "containerDirective"'.

[7m70[0m               directiveNode.type = 'paragraph'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/plugins/remark-directive-sugar.ts[0m:[93m57[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '"paragraph"' is not assignable to type '"textDirective" | "leafDirective" | "containerDirective"'.

[7m57[0m               directiveNode.type = 'paragraph'
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/plugins/remark-directive-sugar.ts[0m:[93m47[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 3 arguments, but got 2.

[7m47[0m     visit(tree, (node: any) => {
[7m  [0m [91m    ~~~~~[0m

[96msrc/routes/businessIntelligenceRoutes.ts[0m:[93m14[0m:[93m84[0m - [91merror[0m[90m ts(2304): [0mCannot find name '________'.

[7m14[0m       const marketData = await biService.getMarketData(symbol.toUpperCase()).slice(________)
[7m  [0m [91m                                                                                   ~~~~~~~~[0m
[96msrc/routes/businessIntelligenceRoutes.ts[0m:[93m14[0m:[93m78[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type 'Promise<MarketData>'.

[7m14[0m       const marketData = await biService.getMarketData(symbol.toUpperCase()).slice(________)
[7m  [0m [91m                                                                             ~~~~~[0m
[96msrc/routes/businessIntelligenceRoutes.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/routes/fileRoutes.ts[0m:[93m317[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m317[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m298[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'FileMetadata'.

[7m298[0m       const files: FileMetadata[] = result.rows.map((row) => ({
[7m   [0m [91m                   ~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m294[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | 20 | ParsedQs | (string | ParsedQs)[]' is not assignable to parameter of type 'string | ParsedQs | (string | ParsedQs)[]'.
  Type 'number' is not assignable to type 'string | ParsedQs | (string | ParsedQs)[]'.

[7m294[0m       params.push(limit, offset)
[7m   [0m [91m                  ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m263[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m263[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m244[0m:[93m20[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'FileMetadata'.

[7m244[0m       const files: FileMetadata[] = result.rows.map((row) => ({
[7m   [0m [91m                   ~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m240[0m:[93m19[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | ParsedQs | 50 | (string | ParsedQs)[]' is not assignable to parameter of type 'string'.
  Type 'ParsedQs' is not assignable to type 'string'.

[7m240[0m       params.push(limit, offset)
[7m   [0m [91m                  ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m236[0m:[93m21[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(string | ParsedQs)[]' is not assignable to parameter of type 'string'.

[7m236[0m         params.push(tags)
[7m   [0m [91m                    ~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m213[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m213[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m196[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m196[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m175[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m175[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m152[0m:[93m47[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m152[0m   router.delete('/:fileId/versions/:version', async (req, res) => {
[7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m147[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m147[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m125[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m125[0m       res.status(500).json({ error: error.message })
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m104[0m:[93m53[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m104[0m   router.get('/:fileId/versions/:version/download', async (req, res) => {
[7m   [0m [91m                                                    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m99[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m99[0m       res.status(500).json({ error: error.message })
[7m  [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m83[0m:[93m44[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m83[0m   router.get('/:fileId/versions/:version', async (req, res) => {
[7m  [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m78[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m78[0m       res.status(500).json({ error: error.message })
[7m  [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m64[0m:[93m35[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m64[0m   router.get('/:fileId/versions', async (req, res) => {
[7m  [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m59[0m:[93m37[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m59[0m       res.status(500).json({ error: error.message })
[7m  [0m [91m                                    ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m39[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'error' is of type 'unknown'.

[7m39[0m         res.status(500).json({ error: error.message })
[7m  [0m [91m                                      ~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m17[0m:[93m5[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m17[0m     async (req, res) => {
[7m  [0m [91m    ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m298[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m298[0m       const files: FileMetadata[] = result.rows.map((row) => ({
[7m   [0m [93m                                                     ~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m244[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m244[0m       const files: FileMetadata[] = result.rows.map((row) => ({
[7m   [0m [93m                                                     ~~~[0m
[96msrc/routes/fileRoutes.ts[0m:[93m5[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m5[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/services/BusinessIntelligenceService.ts[0m:[93m487[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ date: Date; predictedPrice: number; confidence: number; }' is not assignable to parameter of type 'never'.

[7m487[0m       predictions.push({
[7m   [0m [91m                       ~[0m
[7m488[0m         date: new Date(Date.now() + i * 86400000),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m490[0m         confidence: 0.7 + Math.random() * 0.2,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m491[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m456[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '{ id: string; type: string; title: string; description: string; severity: string; source: string; timestamp: Date; isRead: boolean; actionUrl: string; }[]' is not assignable to type 'BusinessAlert[]'.
  Type '{ id: string; type: string; title: string; description: string; severity: string; source: string; timestamp: Date; isRead: boolean; actionUrl: string; }' is not assignable to type 'BusinessAlert'.
    Types of property 'type' are incompatible.
      Type 'string' is not assignable to type '"risk" | "market_change" | "competitor_activity" | "opportunity"'.

[7m456[0m     return [
[7m   [0m [91m    ~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m323[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ predictions: never[]; trend: string; confidence: number; }' is not assignable to type '{ predictions: { date: Date; predictedPrice: number; confidence: number; }[]; trend: "up" | "stable" | "down"; confidence: number; }'.
  Types of property 'trend' are incompatible.
    Type 'string' is not assignable to type '"up" | "stable" | "down"'.

[7m323[0m       return this.getDemoMarketForecast(symbol, days)
[7m   [0m [91m      ~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m320[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ predictions: never[]; trend: string; confidence: number; }' is not assignable to type '{ predictions: { date: Date; predictedPrice: number; confidence: number; }[]; trend: "up" | "stable" | "down"; confidence: number; }'.
  Types of property 'trend' are incompatible.
    Type 'string' is not assignable to type '"up" | "stable" | "down"'.

[7m320[0m       return this.generateMarketForecast(response.data, days)
[7m   [0m [91m      ~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m541[0m:[93m40[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m541[0m   private async generateMarketForecast(data: any, days: number) {
[7m   [0m [93m                                       ~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m534[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'industry' is declared but its value is never read.

[7m534[0m     industry: string,
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m526[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'industry' is declared but its value is never read.

[7m526[0m     industry: string,
[7m   [0m [93m    ~~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m484[0m:[93m33[0m - [93mwarning[0m[90m ts(6133): [0m'symbol' is declared but its value is never read.

[7m484[0m   private getDemoMarketForecast(symbol: string, days: number) {
[7m   [0m [93m                                ~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m453[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m453[0m     userId: string,
[7m   [0m [93m    ~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m431[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'userId' is declared but its value is never read.

[7m431[0m     userId: string,
[7m   [0m [93m    ~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m405[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'industry' is declared but its value is never read.

[7m405[0m   private getDemoMarketOpportunities(industry: string): MarketOpportunity[] {
[7m   [0m [93m                                     ~~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m380[0m:[93m37[0m - [93mwarning[0m[90m ts(6133): [0m'industry' is declared but its value is never read.

[7m380[0m   private getDemoCompetitorAnalysis(industry: string): CompetitorAnalysis[] {
[7m   [0m [93m                                    ~~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m375[0m:[93m31[0m - [93mwarning[0m[90m ts(6133): [0m'industry' is declared but its value is never read.

[7m375[0m   private getDemoMarketTrends(industry: string): MarketData[] {
[7m   [0m [93m                              ~~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m339[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'opportunities' is declared but its value is never read.

[7m339[0m       const opportunities = await this.getMarketOpportunities(industry)
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m260[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m260[0m       return result.rows.map((row) => ({
[7m   [0m [93m                              ~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m199[0m:[93m33[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m199[0m         return result.rows.map((row) => ({
[7m   [0m [93m                                ~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m167[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m167[0m       return result.rows.map((row) => ({
[7m   [0m [93m                              ~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m136[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m136[0m       return result.rows.map((row) => ({
[7m   [0m [93m                              ~~~[0m
[96msrc/services/BusinessIntelligenceService.ts[0m:[93m2[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m2[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/services/DocumentService.ts[0m:[93m164[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m164[0m     return result.rows.map((row) => ({
[7m   [0m [93m                            ~~~[0m
[96msrc/services/DocumentService.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/services/DocumentVersioningService.ts[0m:[93m390[0m:[93m34[0m - [93mwarning[0m[90m ts(6133): [0m'buffer' is declared but its value is never read.

[7m390[0m   private async generateChecksum(buffer: Buffer): Promise<string> {
[7m   [0m [93m                                 ~~~~~~[0m
[96msrc/services/DocumentVersioningService.ts[0m:[93m381[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m381[0m     const folders = foldersResult.rows.map((row) => ({
[7m   [0m [93m                                            ~~~[0m
[96msrc/services/DocumentVersioningService.ts[0m:[93m353[0m:[93m57[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m353[0m     const files: FileMetadata[] = filesResult.rows.map((row) => ({
[7m   [0m [93m                                                        ~~~[0m
[96msrc/services/DocumentVersioningService.ts[0m:[93m221[0m:[93m66[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'row' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m221[0m     const versions: DocumentVersion[] = versionsResult.rows.map((row) => ({
[7m   [0m [93m                                                                 ~~~[0m
[96msrc/services/DocumentVersioningService.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/services/EmailService.ts[0m:[93m74[0m:[93m27[0m - [91merror[0m[90m ts(2551): [0mProperty 'createTransporter' does not exist on type 'typeof import("/app/node_modules/.pnpm/@types+nodemailer@7.0.4/node_modules/@types/nodemailer/index")'. Did you mean 'createTransport'?

[7m74[0m         return nodemailer.createTransporter({
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/EmailService.ts[0m:[93m63[0m:[93m27[0m - [91merror[0m[90m ts(2551): [0mProperty 'createTransporter' does not exist on type 'typeof import("/app/node_modules/.pnpm/@types+nodemailer@7.0.4/node_modules/@types/nodemailer/index")'. Did you mean 'createTransport'?

[7m63[0m         return nodemailer.createTransporter({
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/EmailService.ts[0m:[93m55[0m:[93m27[0m - [91merror[0m[90m ts(2551): [0mProperty 'createTransporter' does not exist on type 'typeof import("/app/node_modules/.pnpm/@types+nodemailer@7.0.4/node_modules/@types/nodemailer/index")'. Did you mean 'createTransport'?

[7m55[0m         return nodemailer.createTransporter({
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~[0m
[96msrc/services/EmailService.ts[0m:[93m46[0m:[93m27[0m - [91merror[0m[90m ts(2551): [0mProperty 'createTransporter' does not exist on type 'typeof import("/app/node_modules/.pnpm/@types+nodemailer@7.0.4/node_modules/@types/nodemailer/index")'. Did you mean 'createTransport'?

[7m46[0m         return nodemailer.createTransporter({
[7m  [0m [91m                          ~~~~~~~~~~~~~~~~~[0m

[96msrc/services/auth0.service.ts[0m:[93m412[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m412[0m       await logSecurityEvent(SecurityEventType.ROLE_ASSIGNED, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m413[0m         userId,
[7m   [0m [93m~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m415[0m         auth0RoleId: targetRole.id
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m416[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/services/auth0.service.ts[0m:[93m127[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m127[0m       await logSecurityEvent(SecurityEventType.LOGIN, {
[7m   [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m128[0m         userId: userResponse.sub, // Auth0 v5 uses 'sub' for user ID in user info
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m130[0m         method: 'password'
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m131[0m       })
[7m   [0m [93m~~~~~~~~[0m
[96msrc/services/auth0.service.ts[0m:[93m94[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'connectToDatabase' is declared but its value is never read.

[7m94[0m   private async connectToDatabase(): Promise<Db> {
[7m  [0m [93m                ~~~~~~~~~~~~~~~~~[0m

[96msrc/services/crisisEventDb.ts[0m:[93m1[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m1[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/services/socketService.ts[0m:[93m9[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'db' is declared but its value is never read.

[7m9[0m     private db: Pool
[7m [0m [93m            ~~[0m
[96msrc/services/socketService.ts[0m:[93m8[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'redis' is declared but its value is never read.

[7m8[0m     private redis: Redis
[7m [0m [93m            ~~~~~[0m
[96msrc/services/socketService.ts[0m:[93m4[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m4[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/services/websocketClient.ts[0m:[93m2[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"./socketService.js"' has no exported member 'DocumentChangeEvent'.

[7m2[0m import { DocumentChangeEvent } from './socketService.js'
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/services/websocketClient.ts[0m:[93m4[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'SocketAuth' is declared but never used.

[7m4[0m interface SocketAuth {
[7m [0m [93m          ~~~~~~~~~~[0m

[96msrc/simulator/components/index.ts[0m:[93m11[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"./ScenarioSelector"' has no exported member 'default'.

[7m11[0m export { default as ScenarioSelector } from './ScenarioSelector'
[7m  [0m [91m         ~~~~~~~[0m
[96msrc/simulator/components/index.ts[0m:[93m6[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"./SimulationContainer"' has no exported member 'default'.

[7m6[0m export { default as SimulationContainer } from './SimulationContainer'
[7m [0m [91m         ~~~~~~~[0m

[96msrc/simulator/hooks/useAnonymizedMetrics.ts[0m:[93m44[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'SetStateAction<Omit<SimpleMetrics, "updateMetrics">>'.

[7m44[0m         setMetrics(parsedMetrics)
[7m  [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m113[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m113[0m             }, 0) / analysis.emotions.length
[7m   [0m [91m                                      ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m97[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'reduce' does not exist on type 'EmotionVector'.

[7m97[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m93[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m93[0m             }, 0) / analysis.emotions.length
[7m  [0m [91m                                      ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m76[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'reduce' does not exist on type 'EmotionVector'.

[7m76[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m72[0m:[93m39[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m72[0m             }, 0) / analysis.emotions.length
[7m  [0m [91m                                      ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m55[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'reduce' does not exist on type 'EmotionVector'.

[7m55[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m52[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type 'EmotionVector'.

[7m52[0m         if (analysis.emotions.length > 0) {
[7m  [0m [91m                              ~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m31[0m:[93m11[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'RealFHEService' is not assignable to parameter of type 'FHESystem'.
  Property 'verifySender' is missing in type 'RealFHEService' but required in type 'FHESystem'.

[7m31[0m           fheService,
[7m  [0m [91m          ~~~~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m12[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'updateEmotionState' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m12[0m   const { updateEmotionState } = useSimulatorContext()
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m97[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                           ~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m97[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m97[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                      ~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m76[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m76[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                           ~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m76[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m76[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                      ~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m55[0m:[93m44[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'emotion' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                           ~~~~~~~[0m
[96msrc/simulator/hooks/useEmotionDetection.ts[0m:[93m55[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m55[0m             analysis.emotions.reduce((sum, emotion) => {
[7m  [0m [93m                                      ~~~[0m

[96msrc/simulator/hooks/useSimulator.ts[0m:[93m322[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'response' is declared but its value is never read.

[7m322[0m   response: string,
[7m   [0m [93m  ~~~~~~~~[0m
[96msrc/simulator/hooks/useSimulator.ts[0m:[93m41[0m:[93m26[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m41[0m         const scenario = await getScenarioById(scenarioId)
[7m  [0m [93m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'startListening' is used before being assigned.

[7m237[0m     startListening,
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'startListening' used before its declaration.

[7m237[0m     startListening,
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m221[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type '() => void'.

[7m221[0m         recognitionRef.current.onend = null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m220[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type '(event: SpeechRecognitionErrorEvent) => void'.

[7m220[0m         recognitionRef.current.onerror = null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m219[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'null' is not assignable to type '(event: SpeechRecognitionEvent) => void'.

[7m219[0m         recognitionRef.current.onresult = null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m205[0m:[93m9[0m - [91merror[0m[90m ts(18047): [0m'recognitionRef.current' is possibly 'null'.

[7m205[0m         recognitionRef.current.start()
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m139[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'length' does not exist on type '{ [index: number]: { [index: number]: { transcript: string; }; isFinal: boolean; }; }'.

[7m139[0m       for (let i = event.resultIndex; i < event.results.length; i++) {
[7m   [0m [91m                                                        ~~~~~~[0m
[96msrc/simulator/hooks/useSpeechRecognition.ts[0m:[93m127[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'SpeechRecognitionInterface | null' is not assignable to type 'SpeechRecognition | null'.
  Type 'SpeechRecognitionInterface' is missing the following properties from type 'SpeechRecognition': onresult, onerror, onend

[7m127[0m     recognitionRef.current = createSpeechRecognition(enhancedConfig)
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/services/FeedbackService.ts[0m:[93m722[0m:[93m7[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m722[0m       prediction.dispose()
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m718[0m:[93m36[0m - [91merror[0m[90m ts(18046): [0m'prediction' is of type 'unknown'.

[7m718[0m       const predictionData = await prediction.data()
[7m   [0m [91m                                   ~~~~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m717[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'predict' does not exist on type '{}'.

[7m717[0m       const prediction = this.techniqueModel.predict(features) as unknown // tf.Tensor
[7m   [0m [91m                                             ~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m342[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'null'.
  Type 'string' is not assignable to type 'null'.

[7m342[0m         therapeuticSuggestions = response.choices?.[0]?.message?.content || null
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/services/FeedbackService.ts[0m:[93m13[0m:[93m41[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../lib/ai/mental-llama/MentalLLaMAAdapter' or its corresponding type declarations.

[7m13[0m import type { MentalLLaMAAdapter } from '../../lib/ai/mental-llama/MentalLLaMAAdapter'
[7m  [0m [91m                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/services/WebRTCService.ts[0m:[93m477[0m:[93m17[0m - [93mwarning[0m[90m ts(6133): [0m'handleReceivedIceCandidate' is declared but its value is never read.

[7m477[0m   private async handleReceivedIceCandidate(
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/services/WebRTCService.ts[0m:[93m21[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'lastIceCandidate' is declared but its value is never read.

[7m21[0m   private lastIceCandidate: RTCIceCandidate | null = null
[7m  [0m [93m          ~~~~~~~~~~~~~~~~[0m

[96msrc/test/utils/astro.ts[0m:[93m47[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ props: Record<string, unknown>; request: Request; url: URL; redirect: Mock<Procedure>; response: Response; slots: {}; site: URL; generator: string; }' is not assignable to type 'void'.

[7m47[0m   return {
[7m  [0m [91m  ~~~~~~[0m

[96msrc/tests/crypto.test.ts[0m:[93m545[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Mock<Procedure | Constructable>' is not assignable to type '(error: Error) => void'.
  Type 'MockInstance<Procedure | Constructable> & (new (...args: any[]) => any) & {}' is not assignable to type '(error: Error) => void'.
    Type 'MockInstance<Procedure | Constructable> & (new (...args: any[]) => any) & {}' provides no match for the signature '(error: Error): void'.

[7m545[0m       onError: onErrorMock,
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/tests/crypto.test.ts[0m:[93m544[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Mock<Procedure | Constructable>' is not assignable to type '(oldKeyId: string, newKeyId: string) => void'.
  Type 'MockInstance<Procedure | Constructable> & (new (...args: any[]) => any) & {}' is not assignable to type '(oldKeyId: string, newKeyId: string) => void'.
    Type 'MockInstance<Procedure | Constructable> & (new (...args: any[]) => any) & {}' provides no match for the signature '(oldKeyId: string, newKeyId: string): void'.

[7m544[0m       onRotation: onRotationMock,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/tests/performance.test.ts[0m:[93m465[0m:[93m60[0m - [91merror[0m[90m ts(1064): [0mThe return type of an async function or method must be the global Promise<T> type. Did you mean to write 'Promise<void>'?

[7m465[0m export async function simulateUserInteraction(page: Page): void {
[7m   [0m [91m                                                           ~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m255[0m:[93m11[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'jsExecutionCount' does not exist in type 'PageMetrics'.

[7m255[0m           jsExecutionCount,
[7m   [0m [91m          ~~~~~~~~~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m482[0m:[93m17[0m - [93mwarning[0m[90m ts(6387): [0mThe signature '(text: string, options?: { delay?: number | undefined; noWaitAfter?: boolean | undefined; timeout?: number | undefined; } | undefined): Promise<void>' of 'input.type' is deprecated.

[7m482[0m     await input.type('Test input')
[7m   [0m [93m                ~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m359[0m:[93m11[0m - [93mwarning[0m[90m ts(80006): [0mThis may be converted to an async function.

[7m359[0m           ({ url, data }) => {
[7m   [0m [93m          ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/performance.test.ts[0m:[93m348[0m:[93m11[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'response' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m348[0m       let response
[7m   [0m [93m          ~~~~~~~~[0m

[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m110[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m110[0m     expect(featuresJson.css.flexbox).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m109[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m109[0m     expect(featuresJson.arrayMethods).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m108[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m108[0m     expect(featuresJson.promise).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m107[0m:[93m12[0m - [91merror[0m[90m ts(18046): [0m'featuresJson' is of type 'unknown'.

[7m107[0m     expect(featuresJson.fetch).toBe(true)
[7m   [0m [91m           ~~~~~~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m103[0m:[93m37[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.

[7m103[0m     const featuresJson = JSON.parse(content) as unknown
[7m   [0m [91m                                    ~~~~~~~[0m
[96msrc/tests/simple-browser-compatibility.test.ts[0m:[93m5[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'directory' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m5[0m function ensureDirectoryExists(directory): void {
[7m [0m [93m                               ~~~~~~~~~[0m

[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m182[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m182[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m183[0m         content: JSON.stringify({
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m194[0m         choices: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m195[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m132[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m132[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m133[0m         content: 'invalid json response',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m138[0m         choices: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m139[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m84[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m 84[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m 85[0m         content: JSON.stringify({
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 96[0m         choices: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m 97[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/tests/ai/crisis-detection.test.ts[0m:[93m50[0m:[93m60[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' to type 'AICompletion' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'provider' is missing in type '{ content: string; usage: { promptTokens: number; completionTokens: number; totalTokens: number; }; model: string; id: string; created: number; choices: never[]; }' but required in type 'AICompletion'.

[7m 50[0m       mockAIService.createChatCompletion.mockResolvedValue({
[7m   [0m [91m                                                           ~[0m
[7m 51[0m         content: JSON.stringify({
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 62[0m         choices: [],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m 63[0m       } as AICompletion)
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/tests/api/session/progress-api.test.ts[0m:[93m2[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../progress' or its corresponding type declarations.

[7m2[0m import { POST, GET } from '../progress'
[7m [0m [91m                          ~~~~~~~~~~~~~[0m
[96msrc/tests/api/session/progress-api.test.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/tests/api/session/skills-api.test.ts[0m:[93m2[0m:[93m27[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../skills' or its corresponding type declarations.

[7m2[0m import { POST, GET } from '../skills'
[7m [0m [91m                          ~~~~~~~~~~~[0m
[96msrc/tests/api/session/skills-api.test.ts[0m:[93m3[0m:[93m22[0m - [93mwarning[0m[90m ts(7016): [0mCould not find a declaration file for module 'pg'. '/app/node_modules/.pnpm/pg@8.16.3/node_modules/pg/esm/index.mjs' implicitly has an 'any' type.
  If the 'pg' package actually exposes this module, consider sending a pull request to amend 'https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pg'

[7m3[0m import { Pool } from 'pg'
[7m [0m [93m                     ~~~~[0m

[96msrc/tests/api/v1/health.test.ts[0m:[93m2[0m:[93m21[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../health' or its corresponding type declarations.

[7m2[0m import { GET } from '../health'
[7m [0m [91m                    ~~~~~~~~~~~[0m
[96msrc/tests/api/v1/health.test.ts[0m:[93m167[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'c' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m167[0m     expect(data.checks.some((c) => c.status === 'unhealthy')).toBe(true)
[7m   [0m [93m                             ~[0m
[96msrc/tests/api/v1/health.test.ts[0m:[93m116[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'c' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m116[0m     expect(data.checks.some((c) => c.status === 'degraded')).toBe(true)
[7m   [0m [93m                             ~[0m

[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m452[0m:[93m21[0m - [91merror[0m[90m ts(2551): [0mProperty 'valid' does not exist on type '{ isValid: boolean; issues: string[]; recommendations: string[]; }'. Did you mean 'isValid'?

[7m452[0m       expect(result.valid).toBe(false)
[7m   [0m [91m                    ~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m450[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }[]' is not assignable to parameter of type 'ResearchDataPoint[]'.
  Type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }' is missing the following properties from type 'ResearchDataPoint': id, sessionId, timestamp, techniqueEffectiveness, sessionDuration

[7m450[0m       const result = await service.validateAnonymization(testData)
[7m   [0m [91m                                                         ~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m433[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }[]' is not assignable to parameter of type 'ResearchDataPoint[]'.
  Type '{ clientId: string; age: number; gender: string; emotionScores: { happiness: number; }; }' is missing the following properties from type 'ResearchDataPoint': id, sessionId, timestamp, techniqueEffectiveness, sessionDuration

[7m433[0m       const result = await service.anonymizeResearchData(testData, 'full')
[7m   [0m [91m                                                         ~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m398[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'audit.data' is of type 'unknown'.

[7m398[0m       expect(audit.data.length).toBeGreaterThan(0)
[7m   [0m [91m             ~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m84[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m84[0m       expect(result.data.services.hipaa).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m83[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m83[0m       expect(result.data.services.consent).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m82[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m82[0m       expect(result.data.services.anonymization).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m
[96msrc/tests/research/ResearchPlatform.test.ts[0m:[93m81[0m:[93m14[0m - [91merror[0m[90m ts(18048): [0m'result.data' is possibly 'undefined'.

[7m81[0m       expect(result.data.healthy).toBe(true)
[7m  [0m [91m             ~~~~~~~~~~~[0m

[96msrc/utils/auth.ts[0m:[93m24[0m:[93m20[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ user: any; session: { token: string; expiresAt: Date; }; }' to type 'SessionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ user: any; session: { token: string; expiresAt: Date; }; }' is missing the following properties from type 'SessionData': sessionId, userId, startTime, expiresAt, securityLevel

[7m 24[0m             return {
[7m   [0m [91m                   ~[0m
[7m 25[0m                 user: {
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 35[0m                 }
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m 36[0m             } as SessionData;
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/utils/common.ts[0m:[93m28[0m:[93m27[0m - [91merror[0m[90m ts(18046): [0m'projects' is of type 'unknown'.

[7m28[0m     for (const project of projects) {
[7m  [0m [91m                          ~~~~~~~~[0m

[96msrc/utils/performance-optimization.ts[0m:[93m153[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m153[0m     const observer = new PerformanceObserver((entryList) => {
[7m   [0m [93m                                              ~~~~~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m127[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m127[0m     const observer = new PerformanceObserver((entryList) => {
[7m   [0m [93m                                              ~~~~~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m101[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entry' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m101[0m       entries.forEach((entry) => {
[7m   [0m [93m                       ~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m98[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m98[0m     const observer = new PerformanceObserver((entryList) => {
[7m  [0m [93m                                              ~~~~~~~~~[0m
[96msrc/utils/performance-optimization.ts[0m:[93m64[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'entryList' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m64[0m     const observer = new PerformanceObserver((entryList) => {
[7m  [0m [93m                                              ~~~~~~~~~[0m

[96msrc/utils/offline/offlineManager.ts[0m:[93m156[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'handleOffline' is declared but its value is never read.

[7m156[0m   private handleOffline(): void {
[7m   [0m [93m          ~~~~~~~~~~~~~[0m
[96msrc/utils/offline/offlineManager.ts[0m:[93m144[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'handleOnline' is declared but its value is never read.

[7m144[0m   private handleOnline(): void {
[7m   [0m [93m          ~~~~~~~~~~~~[0m

[96msrc/utils/offline/requestQueue.ts[0m:[93m52[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m52[0m     return `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                           ~~~~~~[0m

[96msrc/utils/sync/tabSyncManager.ts[0m:[93m92[0m:[93m60[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m92[0m     return `tab_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                           ~~~~~~[0m
[96msrc/utils/sync/tabSyncManager.ts[0m:[93m82[0m:[93m25[0m - [93mwarning[0m[90m ts(6133): [0m'local' is declared but its value is never read.

[7m82[0m       onConflict: (key, local, remote) => remote, // Default to remote value
[7m  [0m [93m                        ~~~~~[0m
[96msrc/utils/sync/tabSyncManager.ts[0m:[93m82[0m:[93m20[0m - [93mwarning[0m[90m ts(6133): [0m'key' is declared but its value is never read.

[7m82[0m       onConflict: (key, local, remote) => remote, // Default to remote value
[7m  [0m [93m                   ~~~[0m

[96msrc/workers/analytics-worker.ts[0m:[93m179[0m:[93m7[0m - [93mwarning[0m[90m ts(7027): [0mUnreachable code detected.

[7m179[0m       return
[7m   [0m [93m      ~~~~~~[0m

[96msrc/workers/email-worker.ts[0m:[93m3[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m3[0m const logger = createBuildSafeLogger({ prefix: 'email-worker' })
[7m [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/workers/__tests__/analytics-worker.test.ts[0m:[93m313[0m:[93m11[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => value is any[], thisArg?: any): any[] | undefined', gave the following error.
    Argument of type '(call: [string | symbol, (...args: unknown[]) => void]) => boolean' is not assignable to parameter of type '(value: any[], index: number, obj: any[][]) => value is any[]'.
      Types of parameters 'call' and 'value' are incompatible.
        Type 'any[]' is not assignable to type '[string | symbol, (...args: unknown[]) => void]'.
          Target requires 2 element(s) but source may have fewer.
  Overload 2 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => unknown, thisArg?: any): any[] | undefined', gave the following error.
    Argument of type '(call: [string | symbol, (...args: unknown[]) => void]) => boolean' is not assignable to parameter of type '(value: any[], index: number, obj: any[][]) => unknown'.
      Types of parameters 'call' and 'value' are incompatible.
        Type 'any[]' is not assignable to type '[string | symbol, (...args: unknown[]) => void]'.
          Target requires 2 element(s) but source may have fewer.

[7m313[0m           (call: [string | symbol, (...args: unknown[]) => void]) =>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m314[0m             call[0] === 'message',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/analytics-worker.test.ts[0m:[93m273[0m:[93m11[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => value is any[], thisArg?: any): any[] | undefined', gave the following error.
    Argument of type '(call: [string | symbol, (...args: unknown[]) => void]) => boolean' is not assignable to parameter of type '(value: any[], index: number, obj: any[][]) => value is any[]'.
      Types of parameters 'call' and 'value' are incompatible.
        Type 'any[]' is not assignable to type '[string | symbol, (...args: unknown[]) => void]'.
          Target requires 2 element(s) but source may have fewer.
  Overload 2 of 2, '(predicate: (value: any[], index: number, obj: any[][]) => unknown, thisArg?: any): any[] | undefined', gave the following error.
    Argument of type '(call: [string | symbol, (...args: unknown[]) => void]) => boolean' is not assignable to parameter of type '(value: any[], index: number, obj: any[][]) => unknown'.
      Types of parameters 'call' and 'value' are incompatible.
        Type 'any[]' is not assignable to type '[string | symbol, (...args: unknown[]) => void]'.
          Target requires 2 element(s) but source may have fewer.

[7m273[0m           (call: [string | symbol, (...args: unknown[]) => void]) =>
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m274[0m             call[0] === 'message',
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m220[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m220[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m204[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m204[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m143[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m143[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).info,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m128[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m128[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).info,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m111[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m111[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m90[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m90[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).error,
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/workers/__tests__/notification-worker.test.ts[0m:[93m65[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ prefix: string; }' is not assignable to parameter of type 'string'.

[7m65[0m         createBuildSafeLogger({ prefix: 'notification-worker' }).info,
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/admin/AdminDashboard.tsx[0m:[93m626[0m:[93m9[0m - [91merror[0m[90m ts(2339): [0mProperty '_metrics' does not exist on type '{ metrics: InstitutionMetrics; }'.

[7m626[0m }> = ({ _metrics }) => {
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m279[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m279[0m                   : timeRange}
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m277[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m277[0m                 : timeRange === 'month'
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m275[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m275[0m               {timeRange === 'week'
[7m   [0m [91m               ~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m48[0m:[93m34[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m48[0m   >('admin_selected_therapists', [])
[7m  [0m [91m                                 ~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m45[0m:[93m34[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m45[0m   >('admin_dashboard_timerange', 'month')
[7m  [0m [91m                                 ~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m42[0m:[93m29[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m42[0m   >('admin_dashboard_view', 'overview')
[7m  [0m [91m                            ~~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m626[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'_metrics' is declared but its value is never read.

[7m626[0m }> = ({ _metrics }) => {
[7m   [0m [93m      ~~~~~~~~~~~~[0m
[96msrc/components/admin/AdminDashboard.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/admin/backup/BackupRecoveryTab.tsx[0m:[93m171[0m:[93m40[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'BackupStatus.PENDING | BackupStatus.IN_PROGRESS | BackupStatus.FAILED | BackupStatus.DELETED' and '"verified"' have no overlap.

[7m171[0m     (b) => b.status === 'completed' || b.status === 'verified',
[7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/admin/backup/BackupReportTab.tsx[0m:[93m86[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFICATION_FAILED' does not exist on type 'typeof BackupStatus'.

[7m86[0m       b.status === BackupStatus.VERIFICATION_FAILED,
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/backup/BackupReportTab.tsx[0m:[93m81[0m:[93m72[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFIED' does not exist on type 'typeof BackupStatus'.

[7m81[0m       b.status === BackupStatus.COMPLETED || b.status === BackupStatus.VERIFIED,
[7m  [0m [91m                                                                       ~~~~~~~~[0m

[96msrc/components/admin/backup/BackupStatusTab.tsx[0m:[93m240[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFICATION_FAILED' does not exist on type 'typeof BackupStatus'.

[7m240[0m                   BackupStatus.VERIFICATION_FAILED,
[7m   [0m [91m                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/backup/BackupStatusTab.tsx[0m:[93m193[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFICATION_FAILED' does not exist on type 'typeof BackupStatus'.

[7m193[0m                 backup.status === BackupStatus.VERIFICATION_FAILED
[7m   [0m [91m                                               ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/backup/BackupStatusTab.tsx[0m:[93m80[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'EXPIRED' does not exist on type 'typeof BackupStatus'.

[7m80[0m     case BackupStatus.EXPIRED:
[7m  [0m [91m                      ~~~~~~~[0m
[96msrc/components/admin/backup/BackupStatusTab.tsx[0m:[93m77[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFICATION_FAILED' does not exist on type 'typeof BackupStatus'.

[7m77[0m     case BackupStatus.VERIFICATION_FAILED:
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/backup/BackupStatusTab.tsx[0m:[93m67[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFIED' does not exist on type 'typeof BackupStatus'.

[7m67[0m     case BackupStatus.VERIFIED:
[7m  [0m [91m                      ~~~~~~~~[0m

[96msrc/components/admin/bias-detection/BiasCharts.tsx[0m:[93m64[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '({ name, percent }: { name: string; percent?: number; }) => string' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
    Types of parameters '__0' and 'props' are incompatible.
      Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
        Types of property 'name' are incompatible.
          Type 'string | undefined' is not assignable to type 'string'.
            Type 'undefined' is not assignable to type 'string'.

[7m64[0m               label={({ name, percent }: { name: string; percent?: number }) =>
[7m  [0m [91m              ~~~~~[0m

[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m2658[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'complianceScore' does not exist on type 'BiasDashboardSummary | { totalSessions: number; averageBiasScore: number; highBiasSessions: number; totalAlerts: number; complianceScore: number; }'.
  Property 'complianceScore' does not exist on type 'BiasDashboardSummary'.

[7m2658[0m               value={(summary?.complianceScore ?? 0) * 100}
[7m    [0m [91m                               ~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m2655[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'complianceScore' does not exist on type 'BiasDashboardSummary | { totalSessions: number; averageBiasScore: number; highBiasSessions: number; totalAlerts: number; complianceScore: number; }'.
  Property 'complianceScore' does not exist on type 'BiasDashboardSummary'.

[7m2655[0m               {((summary?.complianceScore ?? 0) * 100).toFixed(1)}%
[7m    [0m [91m                          ~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m967[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(prev: BiasDashboardData | null) => { trends: TrendItem[]; summary: BiasDashboardSummary; alerts: BiasAlert[]; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: BiasAnalysisResult[]; recommendations: DashboardRecommendation[]; } | null' is not assignable to parameter of type 'SetStateAction<BiasDashboardData | null>'.
  Type '(prev: BiasDashboardData | null) => { trends: TrendItem[]; summary: BiasDashboardSummary; alerts: BiasAlert[]; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: BiasAnalysisResult[]; recommendations: DashboardRecommendation[]; } | null' is not assignable to type '(prevState: BiasDashboardData | null) => BiasDashboardData | null'.
    Type '{ trends: TrendItem[]; summary: BiasDashboardSummary; alerts: BiasAlert[]; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: BiasAnalysisResult[]; recommendations: DashboardRecommendation[]; } | null' is not assignable to type 'BiasDashboardData | null'.
      Type '{ trends: TrendItem[]; summary: BiasDashboardSummary; alerts: BiasAlert[]; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: BiasAnalysisResult[]; recommendations: DashboardRecommendation[]; }' is not assignable to type 'BiasDashboardData'.
        Types of property 'trends' are incompatible.
          Type 'TrendItem[]' is not assignable to type '{ date: string; time?: string | undefined; biasScore: number; sessionCount: number; alertCount: number; }[]'.
            Type 'TrendItem' is not assignable to type '{ date: string; time?: string | undefined; biasScore: number; sessionCount: number; alertCount: number; }'.
              Types of property 'date' are incompatible.
                Type 'string | Date | undefined' is not assignable to type 'string'.
                  Type 'undefined' is not assignable to type 'string'.

[7m967[0m                 setDashboardData((prev: BiasDashboardData | null) => {
[7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m894[0m:[93m41[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'BiasAlert' is not assignable to parameter of type 'SetStateAction<AlertItem | null>'.
  Property 'type' is missing in type 'BiasAlert' but required in type 'AlertItem'.

[7m894[0m                     setNewHighBiasAlert(newAlert)
[7m   [0m [91m                                        ~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m556[0m:[93m39[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(alert: AlertItem) => AlertItem' is not assignable to parameter of type '(value: BiasAlert, index: number, array: BiasAlert[]) => AlertItem'.
  Types of parameters 'alert' and 'value' are incompatible.
    Property 'type' is missing in type 'BiasAlert' but required in type 'AlertItem'.

[7m556[0m               alerts: prev.alerts.map((alert: AlertItem) => {
[7m   [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/admin/bias-detection/BiasDashboard.tsx[0m:[93m550[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '(prev: BiasDashboardData | null) => { alerts: AlertItem[]; summary: BiasDashboardSummary; trends: Array<{ date: string; time?: string; biasScore: number; sessionCount: number; alertCount: number; }>; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: Bias...' is not assignable to parameter of type 'SetStateAction<BiasDashboardData | null>'.
  Type '(prev: BiasDashboardData | null) => { alerts: AlertItem[]; summary: BiasDashboardSummary; trends: Array<{ date: string; time?: string; biasScore: number; sessionCount: number; alertCount: number; }>; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: Bias...' is not assignable to type '(prevState: BiasDashboardData | null) => BiasDashboardData | null'.
    Type '{ alerts: AlertItem[]; summary: BiasDashboardSummary; trends: { date: string; time?: string | undefined; biasScore: number; sessionCount: number; alertCount: number; }[]; demographics: { ...; }; recentAnalyses: BiasAnalysisResult[]; recommendations: DashboardRecommendation[]; } | null' is not assignable to type 'BiasDashboardData | null'.
      Type '{ alerts: AlertItem[]; summary: BiasDashboardSummary; trends: Array<{ date: string; time?: string; biasScore: number; sessionCount: number; alertCount: number; }>; demographics: { [key: string]: { [value: string]: { count: number; averageBias: number; }; }; }; recentAnalyses: BiasAnalysisResult[]; recommendations: D...' is not assignable to type 'BiasDashboardData'.
        Types of property 'alerts' are incompatible.
          Type 'AlertItem[]' is not assignable to type 'BiasAlert[]'.
            Type 'AlertItem' is not assignable to type 'BiasAlert'.
              Types of property 'timestamp' are incompatible.
                Type 'string | Date | undefined' is not assignable to type 'string | Date'.
                  Type 'undefined' is not assignable to type 'string | Date'.

[7m550[0m           setDashboardData((prev: BiasDashboardData | null) => {
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/analytics/ChartComponent.tsx[0m:[93m153[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m153[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m

[96msrc/components/analytics/PatternVisualizationReact.tsx[0m:[93m87[0m:[93m65[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeSpanDays' does not exist on type 'CrossSessionPattern'.

[7m87[0m                     {pattern.timeSpanDays && `, Span: ${pattern.timeSpanDays} days`}
[7m  [0m [91m                                                                ~~~~~~~~~~~~[0m
[96msrc/components/analytics/PatternVisualizationReact.tsx[0m:[93m87[0m:[93m30[0m - [91merror[0m[90m ts(2339): [0mProperty 'timeSpanDays' does not exist on type 'CrossSessionPattern'.

[7m87[0m                     {pattern.timeSpanDays && `, Span: ${pattern.timeSpanDays} days`}
[7m  [0m [91m                             ~~~~~~~~~~~~[0m

[96msrc/components/auth/Auth0UserProfile.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react';
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/auth/AuthButtons.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react';
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/auth/PasswordResetRequestForm.tsx[0m:[93m41[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{ success: boolean; }'.

[7m41[0m         throw new Error(response.error.message || 'Failed to send password reset email')
[7m  [0m [91m                                 ~~~~~[0m
[96msrc/components/auth/PasswordResetRequestForm.tsx[0m:[93m32[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{ success: boolean; }'.

[7m32[0m       if (!response.error) {
[7m  [0m [91m                    ~~~~~[0m

[96msrc/components/auth/RegisterForm.tsx[0m:[93m93[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'signUp' does not exist on type 'AuthClient'.

[7m93[0m       const response = await authClient.signUp.email({
[7m  [0m [91m                                        ~~~~~~[0m
[96msrc/components/auth/RegisterForm.tsx[0m:[93m3[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'nanostores' or its corresponding type declarations.

[7m3[0m import { useStore } from 'nanostores'
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/components/auth/RegisterForm.tsx[0m:[93m3[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useStore' is declared but its value is never read.

[7m3[0m import { useStore } from 'nanostores'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/auth/RequireRole.tsx[0m:[93m29[0m:[93m7[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RoleGuard'.

[7m29[0m     </RoleGuard>
[7m  [0m [91m      ~~~~~~~~~[0m
[96msrc/components/auth/RequireRole.tsx[0m:[93m27[0m:[93m6[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'RoleGuard'.

[7m27[0m     <RoleGuard requiredRole={role} fallback={fallback}>
[7m  [0m [91m     ~~~~~~~~~[0m

[96msrc/components/auth/ResetPasswordForm.tsx[0m:[93m34[0m:[93m41[0m - [91merror[0m[90m ts(2551): [0mProperty 'resetPassword' does not exist on type 'AuthClient'. Did you mean 'forgetPassword'?

[7m34[0m       const response = await authClient.resetPassword({
[7m  [0m [91m                                        ~~~~~~~~~~~~~[0m

[96msrc/components/auth/__tests__/RegisterForm.test.tsx[0m:[93m28[0m:[93m32[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m28[0m     ;(authClient.useSession as vi.Mock).mockImplementation(() => ({
[7m  [0m [91m                               ~~[0m
[96msrc/components/auth/__tests__/RegisterForm.test.tsx[0m:[93m27[0m:[93m35[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m27[0m     ;(authClient.signIn.social as vi.Mock).mockImplementation(mockSignInWithOAuth)
[7m  [0m [91m                                  ~~[0m
[96msrc/components/auth/__tests__/RegisterForm.test.tsx[0m:[93m26[0m:[93m34[0m - [91merror[0m[90m ts(2503): [0mCannot find namespace 'vi'.

[7m26[0m     ;(authClient.signUp.email as vi.Mock).mockImplementation(mockSignUp)
[7m  [0m [91m                                 ~~[0m
[96msrc/components/auth/__tests__/RegisterForm.test.tsx[0m:[93m26[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'signUp' does not exist on type 'AuthClient'.

[7m26[0m     ;(authClient.signUp.email as vi.Mock).mockImplementation(mockSignUp)
[7m  [0m [91m                 ~~~~~~[0m

[96msrc/components/chat/AnalyticsDashboardReact.tsx[0m:[93m179[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: "user" | "assistant" | "system"; content: string; name: string; encrypted?: boolean | undefined; verified?: boolean | undefined; isError?: boolean | undefined; memoryStored?: boolean | undefined; analyzed?: boolean | undefined; timestamp?: string | undefined; id: string; }[]' is not assignable to parameter of type 'ChatMessage[]'.
  Type '{ role: "user" | "assistant" | "system"; content: string; name: string; encrypted?: boolean; verified?: boolean; isError?: boolean; memoryStored?: boolean; analyzed?: boolean; timestamp?: string; id: string; }' is not assignable to type 'ChatMessage'.
    Types of property 'timestamp' are incompatible.
      Type 'string | undefined' is not assignable to type 'number | undefined'.
        Type 'string' is not assignable to type 'number'.

[7m179[0m         messages.map((msg) => ({
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m180[0m           id: generateId(),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m181[0m           ...msg,
[7m   [0m [91m~~~~~~~~~~~~~~~~~[0m
[7m182[0m         })),
[7m   [0m [91m~~~~~~~~~~~[0m

[96msrc/components/chat/MemoryAwareChatSystem.tsx[0m:[93m373[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'name' does not exist on type 'User'.

[7m373[0m                 User: {String(user.name || user.email)}
[7m   [0m [91m                                   ~~~~[0m

[96msrc/components/chat/PixelEnhancedChat.tsx[0m:[93m45[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'lastAnalysis' is declared but its value is never read.

[7m45[0m         lastAnalysis,
[7m  [0m [93m        ~~~~~~~~~~~~[0m

[96msrc/components/chat/PixelMultimodalChat.tsx[0m:[93m362[0m:[93m20[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m362[0m         parts.push(`Conflict ${(conflict_score * 100).toFixed(0)}%`)
[7m   [0m [91m                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/chat/PixelMultimodalChat.tsx[0m:[93m360[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m360[0m     if (arousal !== undefined) parts.push(`Aro ${(arousal * 100).toFixed(0)}%`)
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/chat/PixelMultimodalChat.tsx[0m:[93m359[0m:[93m43[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m359[0m     if (valence !== undefined) parts.push(`Val ${(valence * 100).toFixed(0)}%`)
[7m   [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/chat/PixelMultimodalChat.tsx[0m:[93m358[0m:[93m46[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m358[0m     if (overall_eq !== undefined) parts.push(`EQ ${(overall_eq * 100).toFixed(0)}%`)
[7m   [0m [91m                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/chat/PixelMultimodalChat.tsx[0m:[93m46[0m:[93m30[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'contextType' does not exist in type 'UseMultimodalPixelOptions'.

[7m46[0m     } = useMultimodalPixel({ contextType })
[7m  [0m [91m                             ~~~~~~~~~~~[0m

[96msrc/components/chat/TherapyChatSystem.tsx[0m:[93m385[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: string; content: string; }[]' is not assignable to parameter of type '{ role: "therapist" | "patient"; content: string; }[]'.
  Type '{ role: string; content: string; }' is not assignable to type '{ role: "therapist" | "patient"; content: string; }'.
    Types of property 'role' are incompatible.
      Type 'string' is not assignable to type '"therapist" | "patient"'.

[7m385[0m         conversationMessages,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/chat/TherapyStyleSelector.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/chat/__tests__/contract-propagation.test.tsx[0m:[93m64[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType '{ role: string; content: string; name: string; }[]' is not assignable to type 'Message[]'.
  Type '{ role: string; content: string; name: string; }' is not assignable to type 'Message'.
    Types of property 'role' are incompatible.
      Type 'string' is not assignable to type '"user" | "assistant" | "system"'.

[7m64[0m         <ChatContainer messages={mapped} onSendMessage={vi.fn()} />
[7m  [0m [91m                       ~~~~~~~~[0m
[96msrc/components/chat/__tests__/contract-propagation.test.tsx[0m:[93m28[0m:[93m24[0m - [91merror[0m[90m ts(2322): [0mType '({ role: string; content: string; name: string; type?: undefined; } | { role: string; content: string; name: string; type: string; })[]' is not assignable to type 'Message[]'.
  Type '{ role: string; content: string; name: string; type?: undefined; } | { role: string; content: string; name: string; type: string; }' is not assignable to type 'Message'.
    Type '{ role: string; content: string; name: string; type?: undefined; }' is not assignable to type 'Message'.
      Types of property 'role' are incompatible.
        Type 'string' is not assignable to type '"user" | "assistant" | "system"'.

[7m28[0m         <ChatContainer messages={messages} onSendMessage={vi.fn()} />
[7m  [0m [91m                       ~~~~~~~~[0m

[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m291[0m:[93m20[0m - [91merror[0m[90m ts(2322): [0mType '"destructive"' is not assignable to type '"default" | "error" | "success" | "warning" | "info" | undefined'.

[7m291[0m             <Alert variant="destructive">
[7m   [0m [91m                   ~~~~~~~[0m
[96msrc/components/dashboard/CrisisMonitoringDashboard.tsx[0m:[93m108[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m108[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m

[96msrc/components/dashboard/SessionControls.tsx[0m:[93m2[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React, { useState, useEffect, useRef } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/dashboard/SessionMetrics.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/dashboard/TherapistDashboard.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useEffect, useMemo } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/dashboard/TherapistProgressTracker.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m145[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m145[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m135[0m:[93m44[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m135[0m       render(<TherapistDashboard sessions={mockSessions} />)
[7m   [0m [91m                                           ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m124[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m124[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m111[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m111[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m101[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m101[0m         sessions={mockSessions}
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m91[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m91[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m75[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m75[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m64[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m64[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/components/dashboard/__tests__/TherapistDashboard.test.tsx[0m:[93m52[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'mockSessions'.

[7m52[0m         sessions={mockSessions}
[7m  [0m [91m                  ~~~~~~~~~~~~[0m

[96msrc/components/demo/ChatDemo.tsx[0m:[93m54[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'import("/app/src/lib/ai/types").AIMessage[]' is not assignable to type 'import("/app/src/lib/ai/models/ai-types").AIMessage[]'.
  Type 'import("/app/src/lib/ai/types").AIMessage' is not assignable to type 'import("/app/src/lib/ai/models/ai-types").AIMessage'.
    Types of property 'role' are incompatible.
      Type 'string' is not assignable to type '"user" | "assistant" | "system"'.

[7m54[0m       initialMessages,
[7m  [0m [91m      ~~~~~~~~~~~~~~~[0m
[96msrc/components/demo/ChatDemo.tsx[0m:[93m6[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'nanostores' or its corresponding type declarations.

[7m6[0m import { useStore } from 'nanostores'
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/components/demo/ChatDemo.tsx[0m:[93m6[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useStore' is declared but its value is never read.

[7m6[0m import { useStore } from 'nanostores'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/demo/FHEDemo.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useCallback, useMemo, useState, type FC } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/demo/OfflineDemo.tsx[0m:[93m134[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'connection' does not exist on type 'Navigator'.

[7m134[0m                   <div>RTT: {navigator.connection?.rtt || 0} ms</div>
[7m   [0m [91m                                       ~~~~~~~~~~[0m
[96msrc/components/demo/OfflineDemo.tsx[0m:[93m132[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'connection' does not exist on type 'Navigator'.

[7m132[0m                     Downlink: {navigator.connection?.downlink || 0} Mbps
[7m   [0m [91m                                         ~~~~~~~~~~[0m
[96msrc/components/demo/OfflineDemo.tsx[0m:[93m129[0m:[93m32[0m - [91merror[0m[90m ts(2339): [0mProperty 'connection' does not exist on type 'Navigator'.

[7m129[0m                     {navigator.connection?.effectiveType || 'Unknown'}
[7m   [0m [91m                               ~~~~~~~~~~[0m

[96msrc/components/demo/PersistentStateDemo.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/demo/PresentingProblemVisualization.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { FC } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m788[0m:[93m23[0m - [91merror[0m[90m ts(2322): [0mType '{ data: BiasAnalysisResults; counterfactual: CounterfactualScenario[]; historical: HistoricalComparison | null; onExport: () => void; }' is not assignable to type 'IntrinsicAttributes & ExportControlsProps'.
  Property 'data' does not exist on type 'IntrinsicAttributes & ExportControlsProps'.

[7m788[0m                       data={analysisResults}
[7m   [0m [91m                      ~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m774[0m:[93m22[0m - [91merror[0m[90m ts(2741): [0mProperty 'currentScore' is missing in type '{ comparison: HistoricalComparison; }' but required in type 'HistoricalProgressTrackerProps'.

[7m774[0m                     <HistoricalProgressTracker
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m555[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '(data: SessionData) => Promise<void>' is not assignable to type '(data: Omit<SessionData, "timestamp" | "sessionId">) => void'.
  Types of parameters 'data' and 'data' are incompatible.
    Type 'Omit<SessionData, "timestamp" | "sessionId">' is missing the following properties from type 'SessionData': sessionId, timestamp

[7m555[0m                 onSubmit={handleAnalyze}
[7m   [0m [91m                ~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m543[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ presets: PresetScenario[]; onSelectPreset: (preset: PresetScenario) => void; className: string; }' is not assignable to type 'IntrinsicAttributes & PresetScenarioSelectorProps'.
  Property 'presets' does not exist on type 'IntrinsicAttributes & PresetScenarioSelectorProps'.

[7m543[0m                 presets={filteredPresets}
[7m   [0m [91m                ~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m221[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'HistoricalComparison | null' is not assignable to parameter of type 'HistoricalComparison'.
  Type 'null' is not assignable to type 'HistoricalComparison'.

[7m221[0m         historicalComparison,
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m168[0m:[93m28[0m - [91merror[0m[90m ts(2554): [0mExpected 2 arguments, but got 1.

[7m168[0m           recommendations: generateRecommendations(adjustedFactors),
[7m   [0m [91m                           ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/demos/bias-detection/EnhancedBiasDetectionInterface.tsx[0m:[93m72[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m72[0m   useEffect(() => {
[7m  [0m [91m            ~~~~~~~[0m

[96msrc/components/demos/bias-detection/ImprovedBiasInterface.tsx[0m:[93m46[0m:[93m77[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m46[0m       const sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                                            ~~~~~~[0m

[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m193[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ReactNode'.

[7m193[0m                     {typeof exportResult === 'object' &&
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m194[0m                       'documentUrl' in exportResult &&
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m205[0m                         </div>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m206[0m                       )}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m186[0m:[93m21[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'ReactNode'.

[7m186[0m                     {typeof exportResult === 'object' &&
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m187[0m                       'documentId' in exportResult &&
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m191[0m                         </p>
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m192[0m                       )}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m177[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'error' does not exist on type 'EHRExportResult'. Did you mean 'errors'?

[7m177[0m                     {exportResult.error}
[7m   [0m [91m                                  ~~~~~[0m
[96msrc/components/documentation/ExportToEHR.tsx[0m:[93m175[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'error' does not exist on type 'EHRExportResult'. Did you mean 'errors'?

[7m175[0m                 {exportResult.error && (
[7m   [0m [91m                              ~~~~~[0m

[96msrc/components/journal-research/charts/MetricsChart.tsx[0m:[93m89[0m:[93m48[0m - [91merror[0m[90m ts(2339): [0mProperty 'slice' does not exist on type '{ labels: string[]; datasets: { label: string; data: number[]; borderColor: string; backgroundColor: string; tension: number; fill: boolean; }[]; }'.

[7m89[0m                       }, [metrics, timeRange]).slice()
[7m  [0m [91m                                               ~~~~~[0m

[96msrc/components/journal-research/charts/PhaseProgressChart.tsx[0m:[93m130[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m130[0m                     callback: (value) => `${value}%`,
[7m   [0m [93m                               ~~~~~[0m

[96msrc/components/journal-research/charts/ProgressCharts.tsx[0m:[93m196[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m196[0m                     callback: (value) => `${value}%`,
[7m   [0m [93m                               ~~~~~[0m
[96msrc/components/journal-research/charts/ProgressCharts.tsx[0m:[93m150[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m150[0m                     callback: (value) => `${value}%`,
[7m   [0m [93m                               ~~~~~[0m

[96msrc/components/journal-research/features/EvaluationPanel.tsx[0m:[93m74[0m:[93m41[0m - [91merror[0m[90m ts(2559): [0mType '{ therapeuticRelevance?: number | undefined; dataStructureQuality?: number | undefined; trainingIntegration?: number | undefined; ethicalAccessibility?: number | undefined; priorityTier?: string | undefined; }' has no properties in common with type '{ sourceIds?: string[] | undefined; }'.

[7m74[0m                 initiateMutation.mutate(payload, {
[7m  [0m [91m                                        ~~~~~~~[0m

[96msrc/components/journal-research/features/__tests__/Dashboard.test.tsx[0m:[93m26[0m:[93m38[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'UseBoundStore<StoreApi<SessionStoreState>>' to type 'Mock<Procedure | Constructable>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'UseBoundStore<StoreApi<SessionStoreState>>' is not comparable to type 'MockInstance<Procedure | Constructable> & { (...args: any[]): any; new (...args: any[]): any; } & {}'.
    Type 'UseBoundStore<StoreApi<SessionStoreState>>' is not comparable to type 'MockInstance<Procedure | Constructable>'.

[7m26[0m   const mockUseJournalSessionStore = store.useJournalSessionStore as ReturnType<typeof vi.fn>
[7m  [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/journal-research/forms/SessionForm.tsx[0m:[93m74[0m:[93m34[0m - [91merror[0m[90m ts(2339): [0mProperty 'errors' does not exist on type 'ZodError<unknown>'.

[7m74[0m         const fieldError = error.errors[0]?.message
[7m  [0m [91m                                 ~~~~~~[0m

[96msrc/components/journal-research/lists/AcquisitionList.tsx[0m:[93m302[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'Dispatch<SetStateAction<TableState>>' is not assignable to type '(newState: Partial<TableState>) => void'.
  Types of parameters 'value' and 'newState' are incompatible.
    Type 'Partial<TableState>' is not assignable to type 'SetStateAction<TableState>'.
      Type 'Partial<TableState>' is not assignable to type 'TableState'.
        Types of property 'currentPage' are incompatible.
          Type 'number | undefined' is not assignable to type 'number'.
            Type 'undefined' is not assignable to type 'number'.

[7m302[0m         onStateChange={setTableState}
[7m   [0m [91m        ~~~~~~~~~~~~~[0m

[96msrc/components/journal-research/lists/EvaluationList.tsx[0m:[93m244[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'Dispatch<SetStateAction<TableState>>' is not assignable to type '(newState: Partial<TableState>) => void'.
  Types of parameters 'value' and 'newState' are incompatible.
    Type 'Partial<TableState>' is not assignable to type 'SetStateAction<TableState>'.
      Type 'Partial<TableState>' is not assignable to type 'TableState'.
        Types of property 'currentPage' are incompatible.
          Type 'number | undefined' is not assignable to type 'number'.
            Type 'undefined' is not assignable to type 'number'.

[7m244[0m         onStateChange={setTableState}
[7m   [0m [91m        ~~~~~~~~~~~~~[0m

[96msrc/components/journal-research/lists/SessionList.tsx[0m:[93m191[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'Dispatch<SetStateAction<TableState>>' is not assignable to type '(newState: Partial<TableState>) => void'.
  Types of parameters 'value' and 'newState' are incompatible.
    Type 'Partial<TableState>' is not assignable to type 'SetStateAction<TableState>'.
      Type 'Partial<TableState>' is not assignable to type 'TableState'.
        Types of property 'currentPage' are incompatible.
          Type 'number | undefined' is not assignable to type 'number'.
            Type 'undefined' is not assignable to type 'number'.

[7m191[0m         onStateChange={setTableState}
[7m   [0m [91m        ~~~~~~~~~~~~~[0m

[96msrc/components/journal-research/lists/SourceList.tsx[0m:[93m227[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType 'Dispatch<SetStateAction<TableState>>' is not assignable to type '(newState: Partial<TableState>) => void'.
  Types of parameters 'value' and 'newState' are incompatible.
    Type 'Partial<TableState>' is not assignable to type 'SetStateAction<TableState>'.
      Type 'Partial<TableState>' is not assignable to type 'TableState'.
        Types of property 'currentPage' are incompatible.
          Type 'number | undefined' is not assignable to type 'number'.
            Type 'undefined' is not assignable to type 'number'.

[7m227[0m         onStateChange={setTableState}
[7m   [0m [91m        ~~~~~~~~~~~~~[0m

[96msrc/components/journal-research/pages/ReportsPage.tsx[0m:[93m19[0m:[93m14[0m - [91merror[0m[90m ts(2741): [0mProperty 'sessionId' is missing in type '{ reportId: string; }' but required in type 'ReportViewerProps'.

[7m19[0m             <ReportViewer reportId={reportId} />
[7m  [0m [91m             ~~~~~~~~~~~~[0m

[96msrc/components/journal-research/shared/NotificationPreferences.tsx[0m:[93m317[0m:[93m15[0m - [91merror[0m[90m ts(2322): [0mType '(value: NotificationFrequency) => void' is not assignable to type '(value: string) => void'.
  Types of parameters 'value' and 'value' are incompatible.
    Type 'string' is not assignable to type 'NotificationFrequency'.

[7m317[0m               onValueChange={(value: NotificationFrequency) =>
[7m   [0m [91m              ~~~~~~~~~~~~~[0m
[96msrc/components/journal-research/shared/NotificationPreferences.tsx[0m:[93m217[0m:[93m18[0m - [91merror[0m[90m ts(2322): [0mType '"destructive"' is not assignable to type '"default" | "error" | "success" | "warning" | "info" | undefined'.

[7m217[0m           <Alert variant="destructive">
[7m   [0m [91m                 ~~~~~~~[0m

[96msrc/components/journal-research/shared/ProgressBar.tsx[0m:[93m28[0m:[93m53[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m28[0m   const id = `progress-${Math.random().toString(36).substr(2, 9)}`
[7m  [0m [93m                                                    ~~~~~~[0m

[96msrc/components/journal-research/shared/__tests__/SessionCard.test.tsx[0m:[93m71[0m:[93m25[0m - [91merror[0m[90m ts(2322): [0mType '{ progressMetrics: undefined; sessionId: string; startDate: Date; targetSources: string[]; searchKeywords: { mental_health: string[]; therapy: string[]; }; weeklyTargets: { sources: number; datasets: number; }; currentPhase: string; }' is not assignable to type '{ sessionId: string; startDate: Date; targetSources: string[]; searchKeywords: Record<string, string[]>; weeklyTargets: Record<string, number>; currentPhase: string; progressMetrics: Record<...>; }'.
  Types of property 'progressMetrics' are incompatible.
    Type 'undefined' is not assignable to type 'Record<string, number>'.

[7m71[0m     render(<SessionCard session={sessionWithoutMetrics} />)
[7m  [0m [91m                        ~~~~~~~[0m

[96msrc/components/layout/Navigation.tsx[0m:[93m68[0m:[93m41[0m - [91merror[0m[90m ts(2551): [0mProperty 'roles' does not exist on type 'User'. Did you mean 'role'?

[7m68[0m       const hasRequiredRole = user.user.roles.some((role) =>
[7m  [0m [91m                                        ~~~~~[0m
[96msrc/components/layout/Navigation.tsx[0m:[93m64[0m:[93m37[0m - [91merror[0m[90m ts(2551): [0mProperty 'roles' does not exist on type 'User'. Did you mean 'role'?

[7m64[0m       if (!user?.user || !user.user.roles) {
[7m  [0m [91m                                    ~~~~~[0m
[96msrc/components/layout/Navigation.tsx[0m:[93m5[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'nanostores' or its corresponding type declarations.

[7m5[0m import { useStore } from 'nanostores'
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/components/layout/Navigation.tsx[0m:[93m68[0m:[93m53[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'role' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m68[0m       const hasRequiredRole = user.user.roles.some((role) =>
[7m  [0m [93m                                                    ~~~~[0m
[96msrc/components/layout/Navigation.tsx[0m:[93m47[0m:[93m34[0m - [93mwarning[0m[90m ts(6133): [0m'loading' is declared but its value is never read.

[7m47[0m   const { data: user, isPending: loading } = authClient.useSession()
[7m  [0m [93m                                 ~~~~~~~[0m
[96msrc/components/layout/Navigation.tsx[0m:[93m5[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useStore' is declared but its value is never read.

[7m5[0m import { useStore } from 'nanostores'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/layout/SidebarReact.tsx[0m:[93m7[0m:[93m13[0m - [91merror[0m[90m ts(2694): [0mNamespace 'global.JSX' has no exported member 'Element'.

[7m7[0m   icon: JSX.Element
[7m [0m [91m            ~~~~~~~[0m

[96msrc/components/others/background-paths.tsx[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/ui/button' or its corresponding type declarations.

[7m2[0m import { Button } from '~/components/ui/button'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/others/cube-paths.tsx[0m:[93m6[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/ui/button' or its corresponding type declarations.

[7m6[0m import { Button } from '~/components/ui/button'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/pages/EmotionProgressDemo.tsx[0m:[93m31[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ progressData: EmotionProgressData; timeRange: "week" | "month" | "quarter" | "year"; onTimeRangeChange: Dispatch<SetStateAction<"week" | "month" | "quarter" | "year">>; isLoading: boolean; className: string; }' is not assignable to type 'IntrinsicAttributes & EmotionProgressDashboardProps'.
  Property 'progressData' does not exist on type 'IntrinsicAttributes & EmotionProgressDashboardProps'.

[7m31[0m           progressData={data}
[7m  [0m [91m          ~~~~~~~~~~~~[0m
[96msrc/components/pages/EmotionProgressDemo.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/pages/EmotionVisualizationDemo.tsx[0m:[93m160[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionData[]' is not assignable to type 'EmotionDataPoint[]'.
  Property 'id' is missing in type 'EmotionData' but required in type 'EmotionDataPoint'.

[7m160[0m                 emotionData={data}
[7m   [0m [91m                ~~~~~~~~~~~[0m

[96msrc/components/pages/EmotionVisualizationPage.tsx[0m:[93m73[0m:[93m13[0m - [91merror[0m[90m ts(2322): [0mType 'EmotionData[]' is not assignable to type 'EmotionDataPoint[]'.
  Property 'id' is missing in type 'EmotionData' but required in type 'EmotionDataPoint'.

[7m73[0m             emotionData={emotionData}
[7m  [0m [91m            ~~~~~~~~~~~[0m

[96msrc/components/patient/PatientFileViewer.tsx[0m:[93m1[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/ai/types/CognitiveModel' or its corresponding type declarations.

[7m1[0m import type { CognitiveModel } from '~/lib/ai/types/CognitiveModel'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/patient/PatientFileViewer.tsx[0m:[93m3[0m:[93m35[0m - [93mwarning[0m[90m ts(6133): [0m'_patientModel' is declared but its value is never read.

[7m3[0m export function PatientFileViewer({
[7m [0m [93m                                  ~[0m
[7m4[0m   _patientModel,
[7m [0m [93m~~~~~~~~~~~~~~~~[0m
[7m5[0m }: {
[7m [0m [93m~[0m

[96msrc/components/pipeline/WebSocketProgressBar.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useMemo, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/pipeline/__tests__/WebSocketProgressBar.test.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m422[0m:[93m58[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'getProgressColor'.

[7m422[0m                           className={`h-2 rounded-full ${getProgressColor(patient.progress)}`}
[7m   [0m [91m                                                         ~~~~~~~~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m241[0m:[93m21[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m241[0m                   : timeRange}
[7m   [0m [91m                    ~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m239[0m:[93m19[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m239[0m                 : timeRange === 'month'
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m237[0m:[93m16[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'timeRange'.

[7m237[0m               {timeRange === 'week'
[7m   [0m [91m               ~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m39[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m39[0m     [],
[7m  [0m [91m    ~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m36[0m:[93m38[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m36[0m   >('therapist_dashboard_timerange', 'month')
[7m  [0m [91m                                     ~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m33[0m:[93m33[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m33[0m   >('therapist_dashboard_view', 'overview')
[7m  [0m [91m                                ~~~~~~~~~~[0m
[96msrc/components/professional/TherapistDashboard.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/research/ExportPanel.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react';
[7m [0m [93m       ~~~~~[0m

[96msrc/components/research/ResearchDashboard.tsx[0m:[93m53[0m:[93m5[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m53[0m     [],
[7m  [0m [91m    ~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m50[0m:[93m37[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m50[0m   >('research_dashboard_timerange', 'year')
[7m  [0m [91m                                    ~~~~~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m47[0m:[93m32[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 2.

[7m47[0m   >('research_dashboard_view', 'overview')
[7m  [0m [91m                               ~~~~~~~~~~[0m
[96msrc/components/research/ResearchDashboard.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m2[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/research/ResultsGrid.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react';
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/research/SearchFilters.test.tsx[0m:[93m5[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m5[0m import React from 'react';
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/research/SearchFilters.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState } from 'react';
[7m [0m [93m       ~~~~~[0m

[96msrc/components/research/SourceSelector.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react';
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/security/FHEDemo.tsx[0m:[93m152[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'_result' is declared but its value is never read.

[7m152[0m     let _result: number
[7m   [0m [93m        ~~~~~~~[0m

[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m234[0m:[93m12[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TemporalEmotionAnalysis' to type '{ transitions: unknown[]; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'transitions' is missing in type 'TemporalEmotionAnalysis' but required in type '{ transitions: unknown[]; }'.

[7m234[0m         ? (data as { transitions: unknown[] }).transitions.length
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m231[0m:[93m12[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TemporalEmotionAnalysis' to type '{ criticalPoints: unknown[]; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'criticalPoints' is missing in type 'TemporalEmotionAnalysis' but required in type '{ criticalPoints: unknown[]; }'.

[7m231[0m         ? (data as { criticalPoints: unknown[] }).criticalPoints.length
[7m   [0m [91m           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m181[0m:[93m11[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'TemporalEmotionAnalysis' to type '{ dimensionalRelationships: unknown[]; }' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'dimensionalRelationships' is missing in type 'TemporalEmotionAnalysis' but required in type '{ dimensionalRelationships: unknown[]; }'.

[7m181[0m           data as { dimensionalRelationships: unknown[] }
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m153[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m153[0m           (progression?.['negativeEmotionChange'] || 0) >= 0
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m145[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m145[0m           (progression?.['positiveEmotionChange'] || 0) >= 0
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m139[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m139[0m           (progression?.['stabilityChange'] || 0) >= 0 ? '#3b82f6' : '#f97316',
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m131[0m:[93m11[0m - [91merror[0m[90m ts(2365): [0mOperator '>=' cannot be applied to types '{}' and 'number'.

[7m131[0m           (progression?.['overallImprovement'] || 0) >= 0
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m346[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m346[0m           {prepareCriticalPointsData().map((point) => (
[7m   [0m [93m                                            ~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m163[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'transition' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m163[0m     return data?.['transitions']?.slice(0, 10)?.map((transition) => ({
[7m   [0m [93m                                                     ~~~~~~~~~~[0m
[96msrc/components/session/EmotionTemporalAnalysisChart.tsx[0m:[93m109[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m109[0m       data?.['criticalPoints']?.map((point) => ({
[7m   [0m [93m                                     ~~~~~[0m

[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m193[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'label' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m193[0m             labelFormatter={(label) => new Date(label).toLocaleTimeString()}
[7m   [0m [93m                             ~~~~~[0m
[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m185[0m:[93m32[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'name' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m185[0m             formatter={(value, name) => {
[7m   [0m [93m                               ~~~~[0m
[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m185[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'value' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m185[0m             formatter={(value, name) => {
[7m   [0m [93m                        ~~~~~[0m
[96msrc/components/session/EmotionTrackingChart.tsx[0m:[93m175[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tick' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m175[0m             tickFormatter={(tick) =>
[7m   [0m [93m                            ~~~~[0m

[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m183[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialObjectPool' is declared but its value is never read.

[7m183[0m       const _initialObjectPool = objectPoolRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m182[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialScene' is declared but its value is never read.

[7m182[0m       const _initialScene = sceneRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m181[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialControls' is declared but its value is never read.

[7m181[0m       const _initialControls = controlsRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/MultidimensionalEmotionChart.tsx[0m:[93m180[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'_initialRenderer' is declared but its value is never read.

[7m180[0m       const _initialRenderer = rendererRef.current
[7m   [0m [93m            ~~~~~~~~~~~~~~~~[0m

[96msrc/components/session/SessionAnalysis.tsx[0m:[93m92[0m:[93m49[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominantEmotion' does not exist on type 'EmotionApiItem'.

[7m92[0m                 ? { ...baseData, label: `${item.dominantEmotion}` }
[7m  [0m [91m                                                ~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m91[0m:[93m27[0m - [91merror[0m[90m ts(2339): [0mProperty 'dominantEmotion' does not exist on type 'EmotionApiItem'.

[7m91[0m               return item.dominantEmotion
[7m  [0m [91m                          ~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m26[0m:[93m3[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useEffect'.

[7m26[0m   useEffect(() => {
[7m  [0m [91m  ~~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m24[0m:[93m41[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useState'.

[7m24[0m   const [emotionData, setEmotionData] = useState<EmotionDataPoint[]>([])
[7m  [0m [91m                                        ~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m23[0m:[93m29[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useState'.

[7m23[0m   const [error, setError] = useState<string | null>(null)
[7m  [0m [91m                            ~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m22[0m:[93m37[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'useState'.

[7m22[0m   const [isLoading, setIsLoading] = useState(true)
[7m  [0m [91m                                    ~~~~~~~~[0m
[96msrc/components/session/SessionAnalysis.tsx[0m:[93m1[0m:[93m10[0m - [91merror[0m[90m ts(2459): [0mModule '"../../hooks/useSessionAnalytics"' declares 'EmotionDataPoint' locally, but it is not exported.

[7m1[0m import { EmotionDataPoint } from '../../hooks/useSessionAnalytics'
[7m [0m [91m         ~~~~~~~~~~~~~~~~[0m

[96msrc/components/session/SessionDocumentation.tsx[0m:[93m926[0m:[93m24[0m - [91merror[0m[90m ts(2488): [0mType 'readonly EmotionalPattern[] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m926[0m                     ...editableDocumentation.emotionalPatterns,
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionDocumentation.tsx[0m:[93m611[0m:[93m24[0m - [91merror[0m[90m ts(2488): [0mType 'readonly TherapeuticTechnique[] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.

[7m611[0m                     ...editableDocumentation.therapeuticTechniques,
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/session/SessionDocumentation.tsx[0m:[93m165[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'readonly string[]'.

[7m165[0m       recommendedFollowUp:
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/testing/BrowserCompatibilityTester.tsx[0m:[93m29[0m:[93m25[0m - [93mwarning[0m[90m ts(6385): [0m'vendor' is deprecated.

[7m29[0m       vendor: navigator.vendor,
[7m  [0m [93m                        ~~~~~~[0m
[96msrc/components/testing/BrowserCompatibilityTester.tsx[0m:[93m26[0m:[93m27[0m - [93mwarning[0m[90m ts(6385): [0m'platform' is deprecated.

[7m26[0m       platform: navigator.platform,
[7m  [0m [93m                          ~~~~~~~~[0m

[96msrc/components/theme/ThemeProvider.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { createContext, useContext, useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/therapy/TherapeuticGoalsTracker.tsx[0m:[93m927[0m:[93m24[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m927[0m     interventions.push(commonInterventions[randomIndex])
[7m   [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/therapy/TherapeuticGoalsTracker.tsx[0m:[93m892[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ timestamp: number; progressPercent: number; notes: string; }' is not assignable to parameter of type 'never'.

[7m892[0m     history.push({
[7m   [0m [91m                 ~[0m
[7m893[0m       timestamp: now - weeksAgo * 604800000,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m898[0m           : `Continued progress on goal implementation, session ${i}`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m899[0m     })
[7m   [0m [91m~~~~~[0m
[96msrc/components/therapy/TherapeuticGoalsTracker.tsx[0m:[93m867[0m:[93m22[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ notes?: string | undefined; completedAt?: number | undefined; id: string; description: string; isCompleted: boolean; }' is not assignable to parameter of type 'never'.

[7m867[0m     checkpoints.push({
[7m   [0m [91m                     ~[0m
[7m868[0m       id: `cp-${i + 1}`,
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m872[0m       ...(isCompleted ? { notes: 'Good progress on this checkpoint' } : {}),
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m873[0m     })
[7m   [0m [91m~~~~~[0m

[96msrc/components/therapy/TreatmentPlanManager.tsx[0m:[93m508[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m508[0m     setNewPlanData(JSON.parse(JSON.stringify(initialNewPlanData) as unknown)) // Reset with deep copy
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/therapy/TreatmentPlanManager.tsx[0m:[93m405[0m:[93m33[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m405[0m       setNewPlanData(JSON.parse(JSON.stringify(initialNewPlanData) as unknown))
[7m   [0m [91m                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/therapy/TreatmentPlanManager.tsx[0m:[93m115[0m:[93m16[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'string'.

[7m115[0m     JSON.parse(JSON.stringify(initialNewPlanData) as unknown),
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/therapy/__tests__/TherapeuticGoalsTracker.test.tsx[0m:[93m6[0m:[93m13[0m - [91merror[0m[90m ts(2739): [0mType '{}' is missing the following properties from type 'TherapeuticGoalsTrackerProps': patientModel, currentSession, therapistInterventions

[7m6[0m     render(<TherapeuticGoalsTracker />)
[7m [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/three/MultidimensionalEmotionChart.tsx[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(objects: ConstructorRepresentation<any>): ExoticComponent<Mutable<Overwrite<Partial<Overwrite<any, MathProps<any> & (ReactProps<any> | (ReactProps<any> & Partial<...>))>>, Omit<...>>>>', gave the following error.
    Object literal may only specify known properties, and 'OrbitControls' does not exist in type 'ConstructorRepresentation<any>'.
  Overload 2 of 2, '(objects: Catalogue): void', gave the following error.
    Type 'ForwardRefComponent<OrbitControlsProps, OrbitControls>' is not assignable to type 'ConstructorRepresentation<any>'.
      Type 'ForwardRefExoticComponent<OrbitControlsProps & RefAttributes<OrbitControls>>' provides no match for the signature 'new (...args: any[]): any'.

[7m7[0m extend({ OrbitControls })
[7m [0m [91m         ~~~~~~~~~~~~~[0m

[96msrc/components/three/Particle.tsx[0m:[93m184[0m:[93m14[0m - [91merror[0m[90m ts(2741): [0mProperty 'args' is missing in type '{ attach: string; count: number; array: Float32Array<ArrayBuffer>; itemSize: number; }' but required in type 'Mutable<Overwrite<Partial<Overwrite<BufferAttribute, MathProps<BufferAttribute> & ReactProps<BufferAttribute>>>, Omit<...>>>'.

[7m184[0m             <bufferAttribute
[7m   [0m [91m             ~~~~~~~~~~~~~~~[0m
[96msrc/components/three/Particle.tsx[0m:[93m7[0m:[93m10[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 2, '(objects: ConstructorRepresentation<any>): ExoticComponent<Mutable<Overwrite<Partial<Overwrite<any, MathProps<any> & (ReactProps<any> | (ReactProps<any> & Partial<...>))>>, Omit<...>>>>', gave the following error.
    Object literal may only specify known properties, and 'OrbitControls' does not exist in type 'ConstructorRepresentation<any>'.
  Overload 2 of 2, '(objects: Catalogue): void', gave the following error.
    Type 'ForwardRefComponent<OrbitControlsProps, OrbitControls>' is not assignable to type 'ConstructorRepresentation<any>'.
      Type 'ForwardRefExoticComponent<OrbitControlsProps & RefAttributes<OrbitControls>>' provides no match for the signature 'new (...args: any[]): any'.

[7m7[0m extend({ OrbitControls })
[7m [0m [91m         ~~~~~~~~~~~~~[0m

[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m581[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ role: string; message: string; }[]' is not assignable to parameter of type 'ConversationEntry[]'.
  Type '{ role: string; message: string; }' is not assignable to type 'ConversationEntry'.
    Types of property 'role' are incompatible.
      Type 'string' is not assignable to type '"therapist" | "client"'.

[7m581[0m       conversation,
[7m   [0m [91m      ~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m415[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m415[0m   useEffect(() => {
[7m   [0m [91m            ~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m361[0m:[93m9[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Dispatch<SetStateAction<{ role: string; message: string; }[]>>' is not assignable to parameter of type 'Dispatch<SetStateAction<ConversationEntry[]>>'.
  Type 'SetStateAction<ConversationEntry[]>' is not assignable to type 'SetStateAction<{ role: string; message: string; }[]>'.
    Type '(prevState: ConversationEntry[]) => ConversationEntry[]' is not assignable to type 'SetStateAction<{ role: string; message: string; }[]>'.
      Type '(prevState: ConversationEntry[]) => ConversationEntry[]' is not assignable to type '(prevState: { role: string; message: string; }[]) => { role: string; message: string; }[]'.
        Types of parameters 'prevState' and 'prevState' are incompatible.
          Type '{ role: string; message: string; }[]' is not assignable to type 'ConversationEntry[]'.
            Type '{ role: string; message: string; }' is not assignable to type 'ConversationEntry'.
              Types of property 'role' are incompatible.
                Type 'string' is not assignable to type '"therapist" | "client"'.

[7m361[0m         setConversation,
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m254[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'string'.

[7m254[0m         timestamp: msg.payload?.timestamp || new Date().toISOString(),
[7m   [0m [91m        ~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m4[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'nanostores' or its corresponding type declarations.

[7m4[0m import { useStore } from 'nanostores'
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m504[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m504[0m       locallyAddedMessages: React.MutableRefObject<Set<string>>,
[7m   [0m [93m                                  ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m503[0m:[93m17[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m503[0m       ws: React.MutableRefObject<WebSocket | null>,
[7m   [0m [93m                ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m464[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m464[0m       locallyAddedMessages: React.MutableRefObject<Set<string>>,
[7m   [0m [93m                                  ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m463[0m:[93m17[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m463[0m       ws: React.MutableRefObject<WebSocket | null>,
[7m   [0m [93m                ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m268[0m:[93m33[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m268[0m       isAuthenticatedRef: React.MutableRefObject<boolean>,
[7m   [0m [93m                                ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m267[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m267[0m       locallyAddedMessages: React.MutableRefObject<Set<string>>,
[7m   [0m [93m                                  ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m233[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m233[0m       locallyAddedMessages: React.MutableRefObject<Set<string>>,
[7m   [0m [93m                                  ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m204[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'currentRole' is declared but its value is never read.

[7m204[0m       currentRole: 'trainee' | 'observer',
[7m   [0m [93m      ~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m203[0m:[93m35[0m - [93mwarning[0m[90m ts(6385): [0m'MutableRefObject' is deprecated.

[7m203[0m       locallyAddedMessages: React.MutableRefObject<Set<string>>,
[7m   [0m [93m                                  ~~~~~~~~~~~~~~~~[0m
[96msrc/components/training/TrainingSessionComponent.tsx[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useStore' is declared but its value is never read.

[7m4[0m import { useStore } from 'nanostores'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m364[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Variant' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.
  Type 'TargetResolver' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.

[7m364[0m       initial={masterSequence?.['initial'] || {}}
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m319[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType 'Variant' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.
  Type 'TargetResolver' is not assignable to type 'boolean | TargetAndTransition | VariantLabels | undefined'.

[7m319[0m       initial={currentVariants['initial'] || {}}
[7m   [0m [91m      ~~~~~~~[0m
[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m289[0m:[93m28[0m - [91merror[0m[90m ts(2345): [0mArgument of type '{ transition: { duration: number; ease: number[] | readonly [0.25, 0.1, 0.25, 1] | readonly [0.4, 0, 1, 1] | readonly [0, 0, 0.2, 1] | readonly [0.4, 0, 0.2, 1] | readonly [0.34, 1.56, 0.64, 1] | readonly [0.22, 1, 0.36, 1] | readonly [0.68, -0.55, 0.265, 1.55] | undefined; delay: number; }; ... 701 more ...; transi...' is not assignable to parameter of type 'AnimationDefinition'.
  Types of property 'transition' are incompatible.
    Type '{ duration: number; ease: number[] | readonly [0.25, 0.1, 0.25, 1] | readonly [0.4, 0, 1, 1] | readonly [0, 0, 0.2, 1] | readonly [0.4, 0, 0.2, 1] | readonly [0.34, 1.56, 0.64, 1] | readonly [0.22, 1, 0.36, 1] | readonly [0.68, -0.55, 0.265, 1.55] | undefined; delay: number; }' is not assignable to type 'Transition<any> | undefined'.
      Types of property 'ease' are incompatible.
        Type 'number[] | readonly [0.25, 0.1, 0.25, 1] | readonly [0.4, 0, 1, 1] | readonly [0, 0, 0.2, 1] | readonly [0.4, 0, 0.2, 1] | readonly [0.34, 1.56, 0.64, 1] | readonly [0.22, 1, 0.36, 1] | readonly [0.68, -0.55, 0.265, 1.55] | undefined' is not assignable to type 'Easing | Easing[] | undefined'.
          Type 'number[]' is not assignable to type 'Easing | Easing[] | undefined'.
            Type 'number[]' is not assignable to type 'EasingFunction | Easing[]'.
              Type 'number[]' is not assignable to type 'Easing[]'.
                Type 'number' is not assignable to type 'Easing'.

[7m289[0m       await controls.start({
[7m   [0m [91m                           ~[0m
[7m290[0m         ...step.variants['animate'],
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m295[0m         },
[7m   [0m [91m~~~~~~~~~~[0m
[7m296[0m       })
[7m   [0m [91m~~~~~~~[0m
[96msrc/components/transitions/AnimationOrchestrator.tsx[0m:[93m102[0m:[93m13[0m - [91merror[0m[90m ts(2698): [0mSpread types may only be created from object types.

[7m102[0m             ...(baseVariants['animate'] as Record<string, unknown>)[
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m103[0m               'transition'
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m104[0m             ],
[7m   [0m [91m~~~~~~~~~~~~~[0m

[96msrc/components/ui/AccessibilityAnnouncer.tsx[0m:[93m27[0m:[93m13[0m - [91merror[0m[90m ts(7030): [0mNot all code paths return a value.

[7m27[0m   useEffect(() => {
[7m  [0m [91m            ~~~~~~~[0m
[96msrc/components/ui/AccessibilityAnnouncer.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/BrainVisualization.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useRef, useMemo, useCallback } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/EnhancedMentalHealthChat.tsx[0m:[93m358[0m:[93m17[0m - [93mwarning[0m[90m ts(6385): [0m'onKeyPress' is deprecated.

[7m358[0m                 onKeyPress={handleKeyPress}
[7m   [0m [93m                ~~~~~~~~~~[0m

[96msrc/components/ui/KonamiTrigger.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/LazyChart.tsx[0m:[93m228[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '{}' is not assignable to type 'IntrinsicAttributes & ((AreaSvgProps & AreaProps) | (AreaSvgProps & AreaProps & RefAttributes<Component<Props, any, any>>))'.

[7m228[0m       <LazyArea {...props} />
[7m   [0m [91m       ~~~~~~~~[0m
[96msrc/components/ui/LazyChart.tsx[0m:[93m100[0m:[93m39[0m - [91merror[0m[90m ts(2322): [0mType 'unknown' is not assignable to type 'number | undefined'.

[7m100[0m     <Suspense fallback={<ChartLoading height={props['height']} />}>
[7m   [0m [91m                                      ~~~~~~[0m

[96msrc/components/ui/MindMirrorDashboard.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useMemo } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/OfflineIndicator.tsx[0m:[93m22[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'connectionInfo' does not exist on type 'void'.

[7m22[0m   const { isOffline, connectionInfo } = useOffline({
[7m  [0m [91m                     ~~~~~~~~~~~~~~[0m
[96msrc/components/ui/OfflineIndicator.tsx[0m:[93m22[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'isOffline' does not exist on type 'void'.

[7m22[0m   const { isOffline, connectionInfo } = useOffline({
[7m  [0m [91m          ~~~~~~~~~[0m
[96msrc/components/ui/OfflineIndicator.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/ServiceWorkerUpdater.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useState } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/SwiperCarousel.tsx[0m:[93m267[0m:[93m8[0m - [91merror[0m[90m ts(2322): [0mType '{ children: Element[]; className: string; fadeEffect?: { crossFade: boolean; } | undefined; coverflowEffect?: { rotate: number; stretch: number; depth: number; modifier: number; slideShadows: boolean; } | undefined; ... 14 more ...; onSlideChange: ((swiper: Swiper) => void) | undefined; }' is not assignable to type 'SwiperOptions'.
  Types of property 'breakpoints' are incompatible.
    Type 'Record<number, unknown> | { 320: { slidesPerView: number; spaceBetween: number; }; 640: { slidesPerView: string | number; spaceBetween: number; }; 1024: { slidesPerView: string | number; spaceBetween: number; }; }' is not assignable to type '{ [width: number]: SwiperOptions; [ratio: string]: SwiperOptions; } | undefined'.
      Type 'Record<number, unknown>' is not assignable to type '{ [width: number]: SwiperOptions; [ratio: string]: SwiperOptions; }'.
        'number' index signatures are incompatible.
          Type 'unknown' is not assignable to type 'SwiperOptions'.

[7m267[0m       <Swiper {...swiperProps} className="w-full h-full">
[7m   [0m [91m       ~~~~~~[0m
[96msrc/components/ui/SwiperCarousel.tsx[0m:[93m75[0m:[93m21[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m75[0m   const swiperRef = useRef<SwiperType>()
[7m  [0m [91m                    ~~~~~~[0m

[96msrc/components/ui/ToastProvider.tsx[0m:[93m23[0m:[93m9[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'success' does not exist in type 'Partial<Partial<Pick<Toast, "id" | "icon" | "duration" | "style" | "className" | "position" | "ariaProps" | "iconTheme" | "toasterId" | "removeDelay">>>'.

[7m23[0m         success: {
[7m  [0m [91m        ~~~~~~~[0m

[96msrc/components/ui/UserMenu.tsx[0m:[93m72[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type 'Session'.

[7m72[0m               {user.email?.toString() || ''}
[7m  [0m [91m                    ~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m69[0m:[93m54[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type 'Session'.

[7m69[0m               {user.user_metadata?.full_name || user.email}
[7m  [0m [91m                                                     ~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m69[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user_metadata' does not exist on type 'Session'.

[7m69[0m               {user.user_metadata?.full_name || user.email}
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m59[0m:[93m28[0m - [91merror[0m[90m ts(2339): [0mProperty 'email' does not exist on type 'Session'.

[7m59[0m           initials={((user.email as string)?.[0] || 'U').toUpperCase()}
[7m  [0m [91m                           ~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m58[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'user_metadata' does not exist on type 'Session'.

[7m58[0m           src={user.user_metadata?.avatar_url}
[7m  [0m [91m                    ~~~~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m4[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module 'nanostores' or its corresponding type declarations.

[7m4[0m import { useStore } from 'nanostores'
[7m [0m [91m                         ~~~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m3[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module './avatar' or its corresponding type declarations.

[7m3[0m import { Avatar } from './avatar'
[7m [0m [91m                       ~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useStore' is declared but its value is never read.

[7m4[0m import { useStore } from 'nanostores'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/UserMenu.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useState, useRef, useEffect } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/components/ui/alert-dialog.tsx[0m:[93m3[0m:[93m32[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/ui/button' or its corresponding type declarations.

[7m3[0m import { buttonVariants } from '~/components/ui/button'
[7m [0m [91m                               ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/alert-dialog.tsx[0m:[93m2[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m2[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/dialog.tsx[0m:[93m305[0m:[93m31[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'KeyboardEvent<HTMLDivElement>' to type 'MouseEvent<HTMLDivElement, MouseEvent>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'KeyboardEvent<HTMLDivElement>' is missing the following properties from type 'MouseEvent<HTMLDivElement, MouseEvent>': button, buttons, clientX, clientY, and 7 more.

[7m305[0m           handleBackdropClick(e as React.MouseEvent<HTMLDivElement>)
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/skeleton.tsx[0m:[93m103[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'never'.

[7m103[0m       <Skeleton
[7m   [0m [91m      ~~~~~~~~~[0m
[7m104[0m         key={`text-line-${i}`}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m111[0m         {...props}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m112[0m       />,
[7m   [0m [91m~~~~~~~~[0m
[96msrc/components/ui/skeleton.tsx[0m:[93m71[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'never'.

[7m71[0m       items.push(<br key={`br-${i}`} />)
[7m  [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/skeleton.tsx[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'never'.

[7m 61[0m       <span
[7m   [0m [91m      ~~~~~[0m
[7m 62[0m         key={`skeleton-${i}`}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m 65[0m         {...props}
[7m   [0m [91m~~~~~~~~~~~~~~~~~~[0m
[7m 66[0m       />,
[7m   [0m [91m~~~~~~~~[0m

[96msrc/components/ui/table.tsx[0m:[93m453[0m:[93m18[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'number' is not assignable to parameter of type 'never'.

[7m453[0m       pages.push(i)
[7m   [0m [91m                 ~[0m

[96msrc/components/ui/textarea.tsx[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/button/button.tsx[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/form/MobileFormValidation.tsx[0m:[93m336[0m:[93m19[0m - [91merror[0m[90m ts(2352): [0mConversion of type '(e: Event) => void' to type 'FocusEventHandler<Element>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'e' and 'event' are incompatible.
    Type 'FocusEvent<Element, Element>' is missing the following properties from type 'Event': cancelBubble, composed, returnValue, srcElement, and 7 more.

[7m336[0m         'onBlur': handleBlur as React.FocusEventHandler,
[7m   [0m [91m                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/ui/form/MobileFormValidation.tsx[0m:[93m335[0m:[93m21[0m - [91merror[0m[90m ts(2352): [0mConversion of type '(e: Event) => void' to type 'ChangeEventHandler<Element>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'e' and 'event' are incompatible.
    Type 'ChangeEvent<Element>' is missing the following properties from type 'Event': cancelBubble, composed, returnValue, srcElement, and 7 more.

[7m335[0m         'onChange': handleChange as React.ChangeEventHandler,
[7m   [0m [91m                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/ui/glow-card/GlowCardDemo.tsx[0m:[93m1[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/analytics/advancedVisualization.tsx[0m:[93m66[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type '((insight: AnalyticsInsight) => void) | undefined' is not assignable to parameter of type '(value: AnalyticsInsight, index: number, array: AnalyticsInsight[]) => void'.
  Type 'undefined' is not assignable to type '(value: AnalyticsInsight, index: number, array: AnalyticsInsight[]) => void'.

[7m66[0m     generatedInsights.forEach(onInsightGenerated)
[7m  [0m [91m                              ~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/api/journal-research/react-query.tsx[0m:[93m99[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'buildKey' is declared but its value is never read.

[7m99[0m const buildKey =
[7m  [0m [93m      ~~~~~~~~[0m

[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m135[0m:[93m10[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m135[0m   public render() {
[7m   [0m [91m         ~~~~~~[0m
[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m59[0m:[93m10[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m59[0m   public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m48[0m:[93m10[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m48[0m   public state: State = {
[7m  [0m [91m         ~~~~~[0m
[96msrc/lib/error/ErrorBoundary.tsx[0m:[93m12[0m:[93m8[0m - [91merror[0m[90m ts(2459): [0mModule '"./utils"' declares 'ErrorContext' locally, but it is not exported.

[7m12[0m   type ErrorContext,
[7m  [0m [91m       ~~~~~~~~~~~~[0m

[96msrc/lib/metaaligner/explainability/visualization.tsx[0m:[93m6[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@/components/ui/charts' or its corresponding type declarations.

[7m6[0m import { LineChart, PieChart } from '@/components/ui/charts'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/providers/ErrorBoundary.tsx[0m:[93m43[0m:[93m3[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m43[0m   render() {
[7m  [0m [91m  ~~~~~~[0m
[96msrc/lib/providers/ErrorBoundary.tsx[0m:[93m32[0m:[93m3[0m - [91merror[0m[90m ts(4114): [0mThis member must have an 'override' modifier because it overrides a member in the base class 'Component<Props, State, any>'.

[7m32[0m   componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m235[0m:[93m29[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m235[0m           return JSON.parse(parsed.data) as unknown
[7m   [0m [91m                            ~~~~~~[0m
[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m234[0m:[93m13[0m - [91merror[0m[90m ts(18046): [0m'parsed' is of type 'unknown'.

[7m234[0m         if (parsed.data) {
[7m   [0m [91m            ~~~~~~[0m
[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m132[0m:[93m26[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m132[0m         await fheService.initialize()
[7m   [0m [91m                         ~~~~~~~~~~[0m
[96msrc/lib/providers/SecurityProvider.tsx[0m:[93m74[0m:[93m30[0m - [91merror[0m[90m ts(2554): [0mExpected 1 arguments, but got 0.

[7m74[0m             await fheService.initialize()
[7m  [0m [91m                             ~~~~~~~~~~[0m

[96msrc/lib/providers/SharedProviders.tsx[0m:[93m6[0m:[93m38[0m - [91merror[0m[90m ts(2307): [0mCannot find module './NotificationProvider' or its corresponding type declarations.

[7m6[0m import { NotificationProvider } from './NotificationProvider'
[7m [0m [91m                                     ~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/lib/providers/SharedProviders.tsx[0m:[93m3[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module './AnalyticsProvider' or its corresponding type declarations.

[7m3[0m import { AnalyticsProvider } from './AnalyticsProvider'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m362[0m:[93m27[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, unknown>'.

[7m362[0m         await importState(state)
[7m   [0m [91m                          ~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m131[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'refreshStats' is used before being assigned.

[7m131[0m     refreshStats,
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m131[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'refreshStats' used before its declaration.

[7m131[0m     refreshStats,
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m130[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'createBackup' is used before being assigned.

[7m130[0m     createBackup,
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/lib/providers/StatePersistenceProvider.tsx[0m:[93m130[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'createBackup' used before its declaration.

[7m130[0m     createBackup,
[7m   [0m [91m    ~~~~~~~~~~~~[0m

[96msrc/lib/providers/__tests__/providers.test.tsx[0m:[93m19[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'securityLevel' does not exist on type 'SecurityContextValue'.

[7m19[0m   const { securityLevel, setSecurityLevel } = useSecurity()
[7m  [0m [91m          ~~~~~~~~~~~~~[0m

[96msrc/lib/utils/dynamic-components.tsx[0m:[93m73[0m:[93m6[0m - [91merror[0m[90m ts(2741): [0mProperty 'data' is missing in type '{}' but required in type 'EmotionTemporalAnalysisChartProps'.

[7m73[0m     <EmotionTemporalAnalysisChart {...props} />
[7m  [0m [91m     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/index.tsx[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'useAnonymizedMetrics' is declared but its value is never read.

[7m2[0m import { useAnonymizedMetrics } from './hooks'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/components/EmotionDetector.tsx[0m:[93m18[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'isProcessing' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m18[0m   const { isRunning, isProcessing } = useSimulatorContext()
[7m  [0m [91m                     ~~~~~~~~~~~~[0m
[96msrc/simulator/components/EmotionDetector.tsx[0m:[93m18[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'isRunning' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m18[0m   const { isRunning, isProcessing } = useSimulatorContext()
[7m  [0m [91m          ~~~~~~~~~[0m

[96msrc/simulator/components/EmpathyMeter.tsx[0m:[93m1[0m:[93m8[0m - [93mwarning[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React, { useEffect, useRef } from 'react'
[7m [0m [93m       ~~~~~[0m

[96msrc/simulator/components/EnhancedSimulationContainer.tsx[0m:[93m323[0m:[93m11[0m - [91merror[0m[90m ts(2740): [0mType '{ title: string; domain: TherapeuticDomain; difficulty: ScenarioDifficulty; }' is missing the following properties from type 'Scenario': id, description, techniques, contextDescription, and 3 more.

[7m323[0m           scenario={{
[7m   [0m [91m          ~~~~~~~~[0m

[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m121[0m:[93m68[0m - [91merror[0m[90m ts(2538): [0mType 'undefined' cannot be used as an index type.

[7m121[0m             className={`p-3 rounded-md border-l-4 ${priorityColors[feedback.priority]} ${getBorderColor(feedback.type as FeedbackType)}-500`}
[7m   [0m [91m                                                                   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m65[0m:[93m44[0m - [91merror[0m[90m ts(2339): [0mProperty 'isConnected' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m65[0m   const { realtimeFeedback, clearFeedback, isConnected } = useSimulator()
[7m  [0m [91m                                           ~~~~~~~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m65[0m:[93m29[0m - [91merror[0m[90m ts(2339): [0mProperty 'clearFeedback' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m65[0m   const { realtimeFeedback, clearFeedback, isConnected } = useSimulator()
[7m  [0m [91m                            ~~~~~~~~~~~~~[0m
[96msrc/simulator/components/FeedbackPanel.tsx[0m:[93m65[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'realtimeFeedback' does not exist on type '{ state: SimulatorState; dispatch: Dispatch<SimulatorAction>; }'.

[7m65[0m   const { realtimeFeedback, clearFeedback, isConnected } = useSimulator()
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m26[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m26[0m   [TherapeuticDomain.SLEEP_DISORDERS]: 'Sleep Disorders',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m25[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m25[0m   [TherapeuticDomain.SOMATIC_DISORDERS]: 'Somatic Disorders',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m24[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m24[0m   [TherapeuticDomain.BIPOLAR_DISORDER]: 'Bipolar Disorder',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m23[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m23[0m   [TherapeuticDomain.PSYCHOSIS]: 'Psychosis',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m22[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m22[0m   [TherapeuticDomain.DEVELOPMENTAL_DISORDERS]: 'Developmental Disorders',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m21[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m21[0m   [TherapeuticDomain.PERSONALITY_DISORDERS]: 'Personality Disorders',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m20[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m20[0m   [TherapeuticDomain.SELF_HARM]: 'Self Harm',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m19[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m19[0m   [TherapeuticDomain.EATING_DISORDERS]: 'Eating Disorders',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m18[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m18[0m   [TherapeuticDomain.CRISIS_INTERVENTION]: 'Crisis Intervention',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m17[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m17[0m   [TherapeuticDomain.STRESS_MANAGEMENT]: 'Stress Management',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m16[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m16[0m   [TherapeuticDomain.RELATIONSHIP]: 'Relationship',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m15[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m15[0m   [TherapeuticDomain.GRIEF]: 'Grief',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m14[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m14[0m   [TherapeuticDomain.SUBSTANCE_USE]: 'Substance Use',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m13[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m13[0m   [TherapeuticDomain.TRAUMA]: 'Trauma',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m12[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m12[0m   [TherapeuticDomain.ANXIETY]: 'Anxiety',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/ScenarioInfo.tsx[0m:[93m11[0m:[93m4[0m - [91merror[0m[90m ts(1361): [0m'TherapeuticDomain' cannot be used as a value because it was imported using 'import type'.

[7m11[0m   [TherapeuticDomain.DEPRESSION]: 'Depression',
[7m  [0m [91m   ~~~~~~~~~~~~~~~~~[0m

[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m173[0m:[93m5[0m - [91merror[0m[90m ts(2454): [0mVariable 'createAndSendOffer' is used before being assigned.

[7m173[0m     createAndSendOffer,
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m173[0m:[93m5[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'createAndSendOffer' used before its declaration.

[7m173[0m     createAndSendOffer,
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m109[0m:[93m51[0m - [91merror[0m[90m ts(2454): [0mVariable 'handleConnectionFailure' is used before being assigned.

[7m109[0m   }, [sessionId, userId, onConnectionStateChange, handleConnectionFailure])
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/simulator/components/VideoDisplay.tsx[0m:[93m109[0m:[93m51[0m - [91merror[0m[90m ts(2448): [0mBlock-scoped variable 'handleConnectionFailure' used before its declaration.

[7m109[0m   }, [sessionId, userId, onConnectionStateChange, handleConnectionFailure])
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/tests/components/demo/ScenarioGenerationDemo.test.tsx[0m:[93m2[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../components/demo/ScenarioGenerationDemo' or its corresponding type declarations.

[7m2[0m import ScenarioGenerationDemo from '../components/demo/ScenarioGenerationDemo'
[7m [0m [91m                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/tests/components/ui/ProgressBar.test.tsx[0m:[93m2[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../components/ui/progress-bar' or its corresponding type declarations.

[7m2[0m import ProgressBar from '../components/ui/progress-bar'
[7m [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/EnterpriseFooter.astro[0m:[93m235[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m235[0m     link.addEventListener('click', (e) => {
[7m   [0m [93m                                    ~[0m

[96msrc/components/EnterpriseHeader.astro[0m:[93m129[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m129[0m     link.addEventListener('click', (e) => {
[7m   [0m [93m                                    ~[0m

[96msrc/components/ResponsiveLayoutFixes.astro[0m:[93m344[0m:[93m20[0m - [91merror[0m[90m ts(2683): [0m'this' implicitly has type 'any' because it does not have a type annotation.

[7m344[0m       const href = this.getAttribute('href');
[7m   [0m [91m                   ~~~~[0m
[96msrc/components/ResponsiveLayoutFixes.astro[0m:[93m323[0m:[93m17[0m - [91merror[0m[90m ts(2339): [0mProperty 'style' does not exist on type 'Element'.

[7m323[0m         element.style.transform = `translate3d(0, ${yPos}px, 0)`;
[7m   [0m [91m                ~~~~~[0m
[96msrc/components/ResponsiveLayoutFixes.astro[0m:[93m321[0m:[93m42[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m321[0m         const speed = parseFloat(element.dataset.parallaxSpeed) || 0.5;
[7m   [0m [91m                                         ~~~~~~~[0m
[96msrc/components/ResponsiveLayoutFixes.astro[0m:[93m343[0m:[93m47[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m343[0m     anchor.addEventListener('click', function(e) {
[7m   [0m [93m                                              ~[0m

[96msrc/components/TodoComponent.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module './Todo' or its corresponding type declarations.

[7m2[0m import { Todo } from './Todo'
[7m [0m [91m                     ~~~~~~~~[0m

[96msrc/components/TodoPreactIsland.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module './Todo' or its corresponding type declarations.

[7m2[0m import { Todo } from './Todo'
[7m [0m [91m                     ~~~~~~~~[0m

[96msrc/components/admin/BackupSecurityManager.astro[0m:[93m129[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'VERIFIED' does not exist on type 'typeof BackupStatus'.

[7m129[0m     status: BackupStatus.VERIFIED,
[7m   [0m [91m                         ~~~~~~~~[0m

[96msrc/components/admin/DLPRulesManager.astro[0m:[93m153[0m:[93m45[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m153[0m     document.addEventListener('dlp:error', (e) => {
[7m   [0m [93m                                            ~[0m
[96msrc/components/admin/DLPRulesManager.astro[0m:[93m145[0m:[93m50[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m145[0m     document.addEventListener('dlp:rule-saved', (e) => {
[7m   [0m [93m                                                 ~[0m
[96msrc/components/admin/DLPRulesManager.astro[0m:[93m137[0m:[93m52[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m137[0m     document.addEventListener('dlp:rule-updated', (e) => {
[7m   [0m [93m                                                   ~[0m

[96msrc/components/analytics/AdvancedFilteringComponent.astro[0m:[93m822[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m822[0m       applyButton.addEventListener('click', (_event) => {
[7m   [0m [93m                                             ~~~~~~[0m
[96msrc/components/analytics/AdvancedFilteringComponent.astro[0m:[93m779[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter '_event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m779[0m       resetButton.addEventListener('click', (_event) => {
[7m   [0m [93m                                             ~~~~~~[0m

[96msrc/components/layout/Header.astro[0m:[93m27[0m:[93m7[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; "<!--": boolean; "--": boolean; class: string; style: string; "class:list": string[]; Brutalist: true; Branding: true; with: true; Enterprise: true; Clarity: true; }' is not assignable to type 'HTMLAttributes'.
  Property 'Brutalist' does not exist on type 'HTMLAttributes'.

[7m27[0m       Brutalist
[7m  [0m [91m      ~~~~~~~~~[0m

[96msrc/components/media/BackgroundImage.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/components/media/OptimizedImage.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/components/media/ResponsiveImage.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/components/mizu/CoreFeatures.astro[0m:[93m28[0m:[93m32[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m28[0m         features.map((feature, index) => (
[7m  [0m [93m                               ~~~~~[0m
[96msrc/components/mizu/CoreFeatures.astro[0m:[93m101[0m:[93m43[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m101[0m       card.addEventListener('mousemove', (e) => {
[7m   [0m [93m                                          ~[0m

[96msrc/components/mizu/Logos.astro[0m:[93m26[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m26[0m             (institution, index) => (
[7m  [0m [93m                          ~~~~~[0m

[96msrc/components/monitoring/WebPerformanceDashboard.astro[0m:[93m3[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'getPerformanceIndicator' is declared but its value is never read.

[7m3[0m import { getPerformanceIndicator } from '@/lib/monitoring/hooks'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/monitoring/WebPerformanceDashboard.astro[0m:[93m2[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'getMonitoringConfig' is declared but its value is never read.

[7m2[0m import { getMonitoringConfig } from '@/lib/monitoring/config'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/nav/NavBar.astro[0m:[93m68[0m:[93m13[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'NavBarComponentType' and '"hr"' have no overlap.

[7m68[0m             key === 'hr' ? (
[7m  [0m [91m            ~~~~~~~~~~~~[0m
[96msrc/components/nav/NavBar.astro[0m:[93m39[0m:[93m13[0m - [91merror[0m[90m ts(2367): [0mThis comparison appears to be unintentional because the types 'NavBarComponentType' and '"hr"' have no overlap.

[7m39[0m             key === 'hr' ? (
[7m  [0m [91m            ~~~~~~~~~~~~[0m

[96msrc/components/security/FHEDemo.astro[0m:[93m10[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'CardFooter' is declared but its value is never read.

[7m10[0m import CardFooter from '@/components/ui/CardFooter.astro'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/security/FHEDemo.astro[0m:[93m270[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'encrypted' is declared but its value is never read.

[7m270[0m     encrypted: string,
[7m   [0m [93m    ~~~~~~~~~[0m

[96msrc/components/security/SecurityDashboard.astro[0m:[93m231[0m:[93m9[0m - [93mwarning[0m[90m ts(6133): [0m'mockStats' is declared but its value is never read.

[7m231[0m   const mockStats: SecurityStats = {
[7m   [0m [93m        ~~~~~~~~~[0m

[96msrc/components/session/SessionList.astro[0m:[93m41[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'session' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m41[0m         {sessions.map((session) => (
[7m  [0m [93m                       ~~~~~~~[0m

[96msrc/components/tailus/AppHeader.astro[0m:[93m4[0m:[93m53[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-button' or its corresponding type declarations.

[7m4[0m import { button, ghostButton, outlinedButton } from '@tailus/themer-button'
[7m [0m [91m                                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/BentoGrid.astro[0m:[93m4[0m:[93m45[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-card' or its corresponding type declarations.

[7m4[0m import { softGradientVariant as card } from '@tailus/themer-card'
[7m [0m [91m                                            ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/CallToAction.astro[0m:[93m5[0m:[93m40[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-button' or its corresponding type declarations.

[7m5[0m import { button, outlinedButton } from '@tailus/themer-button'
[7m [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/HeroSection.astro[0m:[93m4[0m:[93m40[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-button' or its corresponding type declarations.

[7m4[0m import { button, outlinedButton } from '@tailus/themer-button'
[7m [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/SpeedSection.astro[0m:[93m4[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-progress' or its corresponding type declarations.

[7m4[0m import { progress } from '@tailus/themer-progress'
[7m [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tailus/Testimonials.astro[0m:[93m3[0m:[93m37[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@tailus/themer-card' or its corresponding type declarations.

[7m3[0m import { softVariant as card } from '@tailus/themer-card'
[7m [0m [91m                                    ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/toc/Toc.astro[0m:[93m7[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'MarkdownHeading'.

[7m7[0m import type { MarkdownHeading } from "astro";
[7m [0m [91m              ~~~~~~~~~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m216[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m216[0m           levelSelectors.push(`h${i}`);
[7m   [0m [91m                              ~~~~~~~[0m
[96msrc/components/toc/Toc.astro[0m:[93m214[0m:[93m31[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m214[0m           levelSelectors.push(`${baseSelector} h${i}`);
[7m   [0m [91m                              ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/toc/TocItem.astro[0m:[93m36[0m:[93m22[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m36[0m         anchors.map((item) => (
[7m  [0m [93m                     ~~~~[0m
[96msrc/components/toc/TocItem.astro[0m:[93m27[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'subheading' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m27[0m           {heading.children.map((subheading) => (
[7m  [0m [93m                                 ~~~~~~~~~~[0m

[96msrc/components/transitions/PageTransitions.astro[0m:[93m177[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'newDocument' does not exist on type 'Event'.

[7m177[0m     const newDocument = event.newDocument
[7m   [0m [91m                              ~~~~~~~~~~~[0m
[96msrc/components/transitions/PageTransitions.astro[0m:[93m177[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'newDocument' is declared but its value is never read.

[7m177[0m     const newDocument = event.newDocument
[7m   [0m [93m          ~~~~~~~~~~~[0m

[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m179[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'dropdownItem' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m179[0m                   {item.dropdown.map((dropdownItem) => (
[7m   [0m [93m                                      ~~~~~~~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m173[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m173[0m         {items.map((item) => (
[7m   [0m [93m                    ~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m117[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'dropdownItem' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m117[0m                   {item.dropdown.map((dropdownItem) => (
[7m   [0m [93m                                      ~~~~~~~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m89[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m89[0m         {items.map((item) => (
[7m  [0m [93m                    ~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m273[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
  Type 'Element' is missing the following properties from type 'HTMLElement': accessKey, accessKeyLabel, autocapitalize, autocorrect, and 130 more.

[7m273[0m         closeDropdown(button, dropdown);
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m264[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
  Type 'Element' is missing the following properties from type 'HTMLElement': accessKey, accessKeyLabel, autocapitalize, autocorrect, and 130 more.

[7m264[0m             openDropdown(button, dropdown);
[7m   [0m [91m                         ~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m257[0m:[93m25[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
  Type 'Element' is missing the following properties from type 'HTMLElement': accessKey, accessKeyLabel, autocapitalize, autocorrect, and 130 more.

[7m257[0m           closeDropdown(button, dropdown);
[7m   [0m [91m                        ~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m254[0m:[93m26[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Element' is not assignable to parameter of type 'HTMLElement'.
  Type 'Element' is missing the following properties from type 'HTMLElement': accessKey, accessKeyLabel, autocapitalize, autocorrect, and 130 more.

[7m254[0m           toggleDropdown(button, dropdown);
[7m   [0m [91m                         ~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m230[0m:[93m54[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'boolean' is not assignable to parameter of type 'string'.

[7m230[0m       mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
[7m   [0m [91m                                                     ~~~~~~~~~~~[0m
[96msrc/components/ui/AccessibleNavigation.astro[0m:[93m249[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m249[0m     button.addEventListener('keydown', (event) => {
[7m   [0m [93m                                        ~~~~~[0m

[96msrc/components/ui/Alert.astro[0m:[93m102[0m:[93m49[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m102[0m       button.addEventListener('click', (_event: Event) => {
[7m   [0m [91m                                                ~~~~~[0m
[96msrc/components/ui/Alert.astro[0m:[93m100[0m:[93m58[0m - [91merror[0m[90m ts(8010): [0mType annotations can only be used in TypeScript files.

[7m100[0m   document.addEventListener('DOMContentLoaded', (_event: Event) => {
[7m   [0m [91m                                                         ~~~~~[0m

[96msrc/components/ui/Card.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardAction.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardContent.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardDescription.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardFooter.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardHeader.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/CardTitle.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/utils' or its corresponding type declarations.

[7m3[0m import { cn } from '~/lib/utils'
[7m [0m [91m                   ~~~~~~~~~~~~~[0m

[96msrc/components/ui/DynamicHero.astro[0m:[93m265[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m265[0m           {features.map((feature, index) => (
[7m   [0m [93m                                  ~~~~~[0m
[96msrc/components/ui/DynamicHero.astro[0m:[93m265[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'feature' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m265[0m           {features.map((feature, index) => (
[7m   [0m [93m                         ~~~~~~~[0m
[96msrc/components/ui/DynamicHero.astro[0m:[93m243[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m243[0m             {features.map((feature, index) => (
[7m   [0m [93m                                    ~~~~~[0m
[96msrc/components/ui/DynamicHero.astro[0m:[93m243[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'feature' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m243[0m             {features.map((feature, index) => (
[7m   [0m [93m                           ~~~~~~~[0m
[96msrc/components/ui/DynamicHero.astro[0m:[93m222[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'stat' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m222[0m             {stats.map((stat) => (
[7m   [0m [93m                        ~~~~[0m

[96msrc/components/ui/PageHeader.astro[0m:[93m25[0m:[93m23[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'a' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m         {actions.map((a) => (
[7m  [0m [93m                      ~[0m

[96msrc/components/ui/Surface.astro[0m:[93m2[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'Props' is declared but never used.

[7m2[0m interface Props {
[7m [0m [93m          ~~~~~[0m

[96msrc/components/ui/ThemeToggle.astro[0m:[93m221[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'systemIcon' is declared but its value is never read.

[7m221[0m     const systemIcon = document.getElementById('system-icon-unified')
[7m   [0m [93m          ~~~~~~~~~~[0m
[96msrc/components/ui/ThemeToggle.astro[0m:[93m220[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'moonIcon' is declared but its value is never read.

[7m220[0m     const moonIcon = document.getElementById('moon-icon-unified')
[7m   [0m [93m          ~~~~~~~~[0m
[96msrc/components/ui/ThemeToggle.astro[0m:[93m219[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'sunIcon' is declared but its value is never read.

[7m219[0m     const sunIcon = document.getElementById('sun-icon-unified')
[7m   [0m [93m          ~~~~~~~[0m

[96msrc/components/views/GithubItem.astro[0m:[93m4[0m:[93m31[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/data' or its corresponding type declarations.

[7m4[0m import { VERSION_COLOR } from '~/utils/data'
[7m [0m [91m                              ~~~~~~~~~~~~~~[0m
[96msrc/components/views/GithubItem.astro[0m:[93m3[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/datetime' or its corresponding type declarations.

[7m3[0m import { formatDate } from '~/utils/datetime'
[7m [0m [91m                           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GithubItem.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/GroupItem.astro[0m:[93m4[0m:[93m36[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/schema' or its corresponding type declarations.

[7m4[0m import type { ProjectSchema } from '~/lib/schema'
[7m [0m [91m                                   ~~~~~~~~~~~~~~[0m
[96msrc/components/views/GroupItem.astro[0m:[93m3[0m:[93m20[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m3[0m import { UI } from '~/config'
[7m [0m [91m                   ~~~~~~~~~~[0m
[96msrc/components/views/GroupItem.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/GroupView.astro[0m:[93m6[0m:[93m30[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/config' or its corresponding type declarations.

[7m6[0m import { FEATURES, UI } from '~/config'
[7m [0m [91m                             ~~~~~~~~~~[0m
[96msrc/components/views/GroupView.astro[0m:[93m5[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/views/GroupItem.astro' or its corresponding type declarations.

[7m5[0m import GroupItem from '~/components/views/GroupItem.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GroupView.astro[0m:[93m4[0m:[93m25[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Categorizer.astro' or its corresponding type declarations.

[7m4[0m import Categorizer from '~/components/base/Categorizer.astro'
[7m [0m [91m                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/GroupView.astro[0m:[93m3[0m:[93m17[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/toc/Toc.astro' or its corresponding type declarations.

[7m3[0m import Toc from '~/components/toc/Toc.astro'
[7m [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/ListItem.astro[0m:[93m4[0m:[93m28[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/datetime' or its corresponding type declarations.

[7m4[0m import { formatDate } from '~/utils/datetime'
[7m [0m [91m                           ~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/ListItem.astro[0m:[93m3[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/utils/common' or its corresponding type declarations.

[7m3[0m import { getUrl } from '~/utils/common'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~[0m
[96msrc/components/views/ListItem.astro[0m:[93m2[0m:[93m18[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/base/Link.astro' or its corresponding type declarations.

[7m2[0m import Link from '~/components/base/Link.astro'
[7m [0m [91m                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/views/ListView.astro[0m:[93m278[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '{ rawHTMLString: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'rawHTMLString' does not exist on type 'IntrinsicAttributes & Props'.

[7m278[0m     <Warning rawHTMLString={warningHTML} />
[7m   [0m [91m             ~~~~~~~~~~~~~[0m
[96msrc/components/views/ListView.astro[0m:[93m143[0m:[93m22[0m - [91merror[0m[90m ts(2322): [0mType '{ years: string[]; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'years' does not exist on type 'IntrinsicAttributes & Props'.

[7m143[0m {tocEnabled && <Toc {years} />}
[7m   [0m [91m                     ~~~~~[0m

[96msrc/components/views/RenderPage.astro[0m:[93m14[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'tocComponent' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m let tocComponent
[7m  [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/components/views/RenderPage.astro[0m:[93m13[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'contentResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m13[0m let contentResult
[7m  [0m [93m    ~~~~~~~~~~~~~[0m

[96msrc/components/views/RenderPost.astro[0m:[93m14[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'tocComponent' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m14[0m let tocComponent
[7m  [0m [93m    ~~~~~~~~~~~~[0m
[96msrc/components/views/RenderPost.astro[0m:[93m13[0m:[93m5[0m - [93mwarning[0m[90m ts(7043): [0mVariable 'contentResult' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m13[0m let contentResult
[7m  [0m [93m    ~~~~~~~~~~~~~[0m

[96msrc/components/widgets/Giscus.astro[0m:[93m23[0m:[93m44[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | number | (() => string) | { (): string; (locales: string | string[], options?: (NumberFormatOptions & DateTimeFormatOptions) | undefined): string; } | ... 35 more ... | ((index: number, value: any) => any[])' is not assignable to parameter of type 'string'.
  Type 'number' is not assignable to type 'string'.

[7m23[0m     giscusTemplateScript.setAttribute(key, value)
[7m  [0m [91m                                           ~~~~~[0m

[96msrc/components/widgets/ImageCarousel.astro[0m:[93m29[0m:[93m10[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m29[0m         {/* @ts-expect-error(ignore) */}
[7m  [0m [91m         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/components/widgets/ImageCarousel.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro'
[7m [0m [91m              ~~~~~~~~~~~~~[0m
[96msrc/components/widgets/ImageCarousel.astro[0m:[93m27[0m:[93m17[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m27[0m     images.map((item) => (
[7m  [0m [93m                ~~~~[0m

[96msrc/components/widgets/SearchSwitch.astro[0m:[93m55[0m:[93m12[0m - [91merror[0m[90m ts(18048): [0m'includes' is possibly 'undefined'.

[7m55[0m           {includes.map((item) => (
[7m  [0m [91m           ~~~~~~~~[0m
[96msrc/components/widgets/SearchSwitch.astro[0m:[93m17[0m:[93m29[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'FeatureConfig<readonly number[]> | undefined' is not assignable to parameter of type '[boolean, number] | undefined'.
  Type 'boolean' is not assignable to type '[boolean, number]'.

[7m17[0m const maxItems = parseTuple(maxItemsPerPage, 'maxItemsPerPage')
[7m  [0m [91m                            ~~~~~~~~~~~~~~~[0m
[96msrc/components/widgets/SearchSwitch.astro[0m:[93m16[0m:[93m30[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'FeatureConfig<readonly number[]> | undefined' is not assignable to parameter of type '[boolean, number] | undefined'.
  Type 'boolean' is not assignable to type '[boolean, number]'.

[7m16[0m const batchSize = parseTuple(batchLoadSize, 'batchLoadSize')
[7m  [0m [91m                             ~~~~~~~~~~~~~[0m
[96msrc/components/widgets/SearchSwitch.astro[0m:[93m15[0m:[93m33[0m - [91merror[0m[90m ts(18048): [0m'includes' is possibly 'undefined'.

[7m15[0m const filterEnabled = filter && includes.length > 1
[7m  [0m [91m                                ~~~~~~~~[0m
[96msrc/components/widgets/SearchSwitch.astro[0m:[93m11[0m:[93m5[0m - [91merror[0m[90m ts(18048): [0m'includes' is possibly 'undefined'.

[7m11[0m if (includes.length === 0)
[7m  [0m [91m    ~~~~~~~~[0m

[96msrc/components/widgets/ShareLink.astro[0m:[93m12[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'Props' is declared but never used.

[7m12[0m interface Props {
[7m  [0m [93m          ~~~~~[0m

[96msrc/components/widgets/SwiperCarousel.astro[0m:[93m3[0m:[93m15[0m - [91merror[0m[90m ts(2305): [0mModule '"astro:assets"' has no exported member 'ImageMetadata'.

[7m3[0m import type { ImageMetadata } from 'astro:assets'
[7m [0m [91m              ~~~~~~~~~~~~~[0m

[96msrc/layouts/AuthLayout.astro[0m:[93m23[0m:[93m49[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; title: any; description: any; bgType: "dot"; transitionMode: any; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'transitionMode' does not exist on type 'IntrinsicAttributes & Props'. Did you mean ''transition:name''?

[7m23[0m <BaseLayout {title} {description} bgType="dot" {transitionMode}>
[7m  [0m [91m                                                ~~~~~~~~~~~~~~[0m

[96msrc/layouts/BaseLayout.astro[0m:[93m151[0m:[93m13[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m151[0m     <script nonce={cspNonce}>
[7m   [0m [93m            ~~~~~[0m

[96msrc/layouts/BlogLayout.astro[0m:[93m114[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m114[0m       function speedInsightsBeforeSend(data) {
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/DashboardLayout.astro[0m:[93m172[0m:[93m38[0m - [93mwarning[0m[90m ts(6133): [0m'event' is declared but its value is never read.

[7m172[0m         .addEventListener("change", (event) => {
[7m   [0m [93m                                     ~~~~~[0m

[96msrc/layouts/DocumentationLayout.astro[0m:[93m383[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m383[0m       function speedInsightsBeforeSend(data) {
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/Layout.astro[0m:[93m145[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m145[0m       function speedInsightsBeforeSend(data) {
[7m   [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/TailusLayout.astro[0m:[93m4[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@components/tailus/AppHeader.astro' or its corresponding type declarations.

[7m4[0m import AppHeader from '@components/tailus/AppHeader.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/layouts/TailusLayout.astro[0m:[93m3[0m:[93m23[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@components/tailus/AppFooter.astro' or its corresponding type declarations.

[7m3[0m import AppFooter from '@components/tailus/AppFooter.astro'
[7m [0m [91m                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/layouts/TailusLayout.astro[0m:[93m2[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '@components/tailus/BaseHead.astro' or its corresponding type declarations.

[7m2[0m import BaseHead from '@components/tailus/BaseHead.astro'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/layouts/TailusLayout.astro[0m:[93m50[0m:[93m16[0m - [93mwarning[0m[90m ts(6133): [0m'speedInsightsBeforeSend' is declared but its value is never read.

[7m50[0m       function speedInsightsBeforeSend(data) {
[7m  [0m [93m               ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/about.astro[0m:[93m28[0m:[93m5[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m28[0m     type="application/ld+json"
[7m  [0m [93m    ~~~~[0m

[96msrc/pages/admin-test.astro[0m:[93m5[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'mockUser' is declared but its value is never read.

[7m5[0m const mockUser = {
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/company.astro[0m:[93m12[0m:[93m14[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; seo: { title: string; description: string; canonical: string; }; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'seo' does not exist on type 'IntrinsicAttributes & Props'.

[7m12[0m <BaseLayout {seo}>
[7m  [0m [91m             ~~~[0m

[96msrc/pages/contact.astro[0m:[93m384[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'disabled' does not exist on type 'HTMLElement'.

[7m384[0m         submitButton.disabled = false
[7m   [0m [91m                     ~~~~~~~~[0m
[96msrc/pages/contact.astro[0m:[93m380[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'disabled' does not exist on type 'HTMLElement'.

[7m380[0m         submitButton.disabled = true
[7m   [0m [91m                     ~~~~~~~~[0m
[96msrc/pages/contact.astro[0m:[93m23[0m:[93m5[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m23[0m     type="application/ld+json"
[7m  [0m [93m    ~~~~[0m

[96msrc/pages/feeds.astro[0m:[93m4[0m:[93m22[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/components/views/ListView.astro' or its corresponding type declarations.

[7m4[0m import ListView from '~/components/views/ListView.astro'
[7m [0m [91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/feeds.astro[0m:[93m3[0m:[93m26[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/TabbedLayout.astro' or its corresponding type declarations.

[7m3[0m import TabbedLayout from '~/layouts/TabbedLayout.astro'
[7m [0m [91m                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/feeds.astro[0m:[93m2[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/BaseLayout.astro' or its corresponding type declarations.

[7m2[0m import BaseLayout from '~/layouts/BaseLayout.astro'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/highlights.astro[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'false | BgType | undefined'.

[7m18[0m   bgType={frontmatter.bgType}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/index.astro[0m:[93m37[0m:[93m5[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m37[0m     type="application/ld+json"
[7m  [0m [93m    ~~~~[0m

[96msrc/pages/mental-health-demo.astro[0m:[93m36[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ title: string; description: string; showSettingsPanel: boolean; showAnalysisPanel: boolean; initialTab: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'showSettingsPanel' does not exist on type 'IntrinsicAttributes & Props'.

[7m36[0m         showSettingsPanel={true}
[7m  [0m [91m        ~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/mind-mirror-demo.astro[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'MindMirrorDemo'.

[7m3[0m import { MindMirrorDemo } from '../components/MindMirrorDemo'
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m753[0m:[93m35[0m - [91merror[0m[90m ts(18047): [0m'counselorInput' is possibly 'null'.

[7m753[0m     counselorInput.style.height = counselorInput.scrollHeight + 'px'
[7m   [0m [91m                                  ~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m753[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'counselorInput' is possibly 'null'.

[7m753[0m     counselorInput.style.height = counselorInput.scrollHeight + 'px'
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m752[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'counselorInput' is possibly 'null'.

[7m752[0m     counselorInput.style.height = 'auto'
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m751[0m:[93m3[0m - [91merror[0m[90m ts(18047): [0m'counselorInput' is possibly 'null'.

[7m751[0m   counselorInput.addEventListener('input', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m744[0m:[93m3[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m744[0m   document.getElementById('endSessionBtn').addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m740[0m:[93m3[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m740[0m   document.getElementById('debriefBtn').addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m736[0m:[93m3[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m736[0m   document.getElementById('safetyModeBtn').addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m730[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'btn' is possibly 'null'.

[7m730[0m     btn.className = isPaused ? 'px-4 py-2 bg-yellow-600 text-white rounded font-semibold hover:bg-yellow-700 transition-colors' : 'px-4 py-2 bg-orange-600 text-white rounded font-semibold hover:bg-orange-700 transition-colors'
[7m   [0m [91m    ~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m729[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'btn' is possibly 'null'.

[7m729[0m     btn.textContent = isPaused ? 'PAUSE' : 'RESUME'
[7m   [0m [91m    ~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m727[0m:[93m22[0m - [91merror[0m[90m ts(18047): [0m'btn' is possibly 'null'.

[7m727[0m     const isPaused = btn.textContent === 'RESUME'
[7m   [0m [91m                     ~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m725[0m:[93m3[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m725[0m   document.getElementById('pauseBtn').addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m720[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'alertPanel' is possibly 'null'.

[7m720[0m       alertPanel.classList.add('hidden')
[7m   [0m [91m      ~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m717[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'alertText' is possibly 'null'.

[7m717[0m     alertText.textContent = 'EMERGENCY PROTOCOL ACTIVATED - HUMAN SUPERVISION ALERTED'
[7m   [0m [91m    ~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m716[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'alertPanel' is possibly 'null'.

[7m716[0m     alertPanel.classList.remove('hidden')
[7m   [0m [91m    ~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m712[0m:[93m3[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m712[0m   document.getElementById('emergencyBtn').addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m702[0m:[93m19[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 3, '(timeout: string | number | Timeout | undefined): void', gave the following error.
    Argument of type 'null' is not assignable to parameter of type 'string | number | Timeout | undefined'.
  Overload 2 of 3, '(id: number | undefined): void', gave the following error.
    Argument of type 'null' is not assignable to parameter of type 'number | undefined'.
  Overload 3 of 3, '(id: number | undefined): void', gave the following error.
    Argument of type 'null' is not assignable to parameter of type 'number | undefined'.

[7m702[0m     clearInterval(sessionTimer)
[7m   [0m [91m                  ~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m695[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'analysis' is possibly 'null'.

[7m695[0m       analysis.innerHTML += analysisText
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m674[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'clientResponses' is possibly 'null'.

[7m674[0m     clientResponses.appendChild(responseDiv)
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m651[0m:[93m37[0m - [91merror[0m[90m ts(18047): [0m'currentScenario' is possibly 'null'.

[7m651[0m       const responses = aiResponses[currentScenario.id]
[7m   [0m [91m                                    ~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m647[0m:[93m20[0m - [91merror[0m[90m ts(2339): [0mProperty 'value' does not exist on type 'HTMLElement'.

[7m647[0m     counselorInput.value = ''
[7m   [0m [91m                   ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m647[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'counselorInput' is possibly 'null'.

[7m647[0m     counselorInput.value = ''
[7m   [0m [91m    ~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m642[0m:[93m37[0m - [91merror[0m[90m ts(2339): [0mProperty 'value' does not exist on type 'HTMLElement'.

[7m642[0m     const response = counselorInput.value.trim()
[7m   [0m [91m                                    ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m642[0m:[93m22[0m - [91merror[0m[90m ts(18047): [0m'counselorInput' is possibly 'null'.

[7m642[0m     const response = counselorInput.value.trim()
[7m   [0m [91m                     ~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m641[0m:[93m3[0m - [91merror[0m[90m ts(18047): [0m'sendResponseBtn' is possibly 'null'.

[7m641[0m   sendResponseBtn.addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m628[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m628[0m       document.getElementById('sessionTimer').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m624[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType 'Timeout' is not assignable to type 'null'.

[7m624[0m     sessionTimer = setInterval(() => {
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m618[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'value' is possibly 'null'.

[7m618[0m       value.textContent = `${Math.round(current)}%`
[7m   [0m [91m      ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m617[0m:[93m11[0m - [91merror[0m[90m ts(2339): [0mProperty 'style' does not exist on type 'Element'.

[7m617[0m       bar.style.width = `${current}%`
[7m   [0m [91m          ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m617[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'bar' is possibly 'null'.

[7m617[0m       bar.style.width = `${current}%`
[7m   [0m [91m      ~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m570[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'analysisPanel' is possibly 'null'.

[7m570[0m       analysisPanel.innerHTML = `
[7m   [0m [91m      ~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m547[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'clientResponses' is possibly 'null'.

[7m547[0m     clientResponses.appendChild(responseDiv)
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m516[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m516[0m       document.getElementById('aiAnalysis').innerHTML = `
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m509[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'clientResponses' is possibly 'null'.

[7m509[0m     clientResponses.innerHTML = ''
[7m   [0m [91m    ~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m497[0m:[93m5[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m497[0m     document.querySelector(`[data-scenario="${scenarioId}"]`).classList.add('border-red-500', 'bg-red-950')
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m483[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'tagsContainer' is possibly 'null'.

[7m483[0m     tagsContainer.innerHTML = scenario.tags.map(tag =>
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m479[0m:[93m5[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m479[0m     document.getElementById('crisisBadge').textContent = scenario.crisis_level
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m478[0m:[93m5[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m478[0m     document.getElementById('scenarioDescription').textContent = scenario.description
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m477[0m:[93m5[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m477[0m     document.getElementById('scenarioTitle').textContent = scenario.title
[7m   [0m [91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m471[0m:[93m22[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'nightmareScenarios'.

[7m471[0m     const scenario = nightmareScenarios.find(s => s.id === scenarioId)
[7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m464[0m:[93m31[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m464[0m       const scenarioId = item.dataset.scenario
[7m   [0m [91m                              ~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m455[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'welcomeModal' is possibly 'null'.

[7m455[0m     welcomeModal.style.display = 'none'
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m454[0m:[93m3[0m - [91merror[0m[90m ts(18047): [0m'declineBtn' is possibly 'null'.

[7m454[0m   declineBtn.addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m448[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'demoInterface' is possibly 'null'.

[7m448[0m     demoInterface.classList.remove('hidden')
[7m   [0m [91m    ~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m447[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'welcomeModal' is possibly 'null'.

[7m447[0m     welcomeModal.style.display = 'none'
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m446[0m:[93m3[0m - [91merror[0m[90m ts(18047): [0m'acceptBtn' is possibly 'null'.

[7m446[0m   acceptBtn.addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m442[0m:[93m5[0m - [91merror[0m[90m ts(18047): [0m'welcomeModal' is possibly 'null'.

[7m442[0m     welcomeModal.style.display = 'flex'
[7m   [0m [91m    ~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m441[0m:[93m3[0m - [91merror[0m[90m ts(18047): [0m'startDemoBtn' is possibly 'null'.

[7m441[0m   startDemoBtn.addEventListener('click', () => {
[7m   [0m [91m  ~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m681[0m:[93m37[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'response' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m681[0m   function analyseCounselorResponse(response) {
[7m   [0m [93m                                    ~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m660[0m:[93m33[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'text' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m660[0m   function addCounselorResponse(text) {
[7m   [0m [93m                                ~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m604[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'target' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m604[0m   function animateMetric(id, target) {
[7m   [0m [93m                             ~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m604[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'id' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m604[0m   function animateMetric(id, target) {
[7m   [0m [93m                         ~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m565[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'scenario' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m565[0m   function updateAIAnalysis(scenario) {
[7m   [0m [93m                            ~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m557[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'element' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m557[0m   function typeWriter(text, element, index = 0) {
[7m   [0m [93m                            ~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m557[0m:[93m23[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'text' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m557[0m   function typeWriter(text, element, index = 0) {
[7m   [0m [93m                      ~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m534[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'text' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m534[0m   function typeResponse(text) {
[7m   [0m [93m                        ~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m504[0m:[93m30[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'scenarioId' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m504[0m   function startConversation(scenarioId) {
[7m   [0m [93m                             ~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m483[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m483[0m     tagsContainer.innerHTML = scenario.tags.map(tag =>
[7m   [0m [93m                                                ~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m471[0m:[93m46[0m - [93mwarning[0m[90m ts(7044): [0mParameter 's' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m471[0m     const scenario = nightmareScenarios.find(s => s.id === scenarioId)
[7m   [0m [93m                                             ~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m470[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'scenarioId' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m470[0m   function loadScenario(scenarioId) {
[7m   [0m [93m                        ~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m394[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'sessionActive' is declared but its value is never read.

[7m394[0m   let sessionActive = false
[7m   [0m [93m      ~~~~~~~~~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m386[0m:[93m61[0m - [91merror[0m[90m ts(2339): [0mProperty 'style' does not exist on type 'Element'.

[7m386[0m       if (el.classList.contains('animation-delay-3000')) el.style.animationDelay = '3s'
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m385[0m:[93m61[0m - [91merror[0m[90m ts(2339): [0mProperty 'style' does not exist on type 'Element'.

[7m385[0m       if (el.classList.contains('animation-delay-2000')) el.style.animationDelay = '2s'
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m384[0m:[93m61[0m - [91merror[0m[90m ts(2339): [0mProperty 'style' does not exist on type 'Element'.

[7m384[0m       if (el.classList.contains('animation-delay-1500')) el.style.animationDelay = '1.5s'
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m383[0m:[93m61[0m - [91merror[0m[90m ts(2339): [0mProperty 'style' does not exist on type 'Element'.

[7m383[0m       if (el.classList.contains('animation-delay-1000')) el.style.animationDelay = '1s'
[7m   [0m [91m                                                            ~~~~~[0m
[96msrc/pages/nightmare-fuel-demo.astro[0m:[93m382[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m382[0m     elements.forEach((el, index) => {
[7m   [0m [93m                          ~~~~~[0m

[96msrc/pages/projects.astro[0m:[93m20[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'false | BgType | undefined'.

[7m20[0m   bgType={frontmatter.bgType}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/prs.astro[0m:[93m21[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'string' is not assignable to type 'false | BgType | undefined'.

[7m21[0m   bgType={frontmatter.bgType}
[7m  [0m [91m  ~~~~~~[0m

[96msrc/pages/register.astro[0m:[93m18[0m:[93m15[0m - [91merror[0m[90m ts(18048): [0m'astro.url' is possibly 'undefined'.

[7m18[0m const error = astro.url.searchParams.get('error')
[7m  [0m [91m              ~~~~~~~~~[0m
[96msrc/pages/register.astro[0m:[93m13[0m:[93m33[0m - [91merror[0m[90m ts(2339): [0mProperty 'cookies' does not exist on type 'AstroGlobal'.

[7m13[0m if (await isAuthenticated(astro.cookies)) {
[7m  [0m [91m                                ~~~~~~~[0m
[96msrc/pages/register.astro[0m:[93m10[0m:[93m15[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.
    Type 'Locals' is not comparable to type 'Record<string, unknown>'.
      Index signature for type 'string' is missing in type 'Locals'.

[7m10[0m const astro = Astro as AstroGlobal
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/reset-password-confirm.astro[0m:[93m26[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'Request | AstroCookies'.
  Type 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
    The types returned by 'get(...)' are incompatible between these types.
      Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
        Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m26[0m const alreadyAuthenticated = await isAuthenticated(Astro.cookies)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~[0m
[96msrc/pages/reset-password-confirm.astro[0m:[93m98[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m98[0m   document.addEventListener('password-reset-error', (event) => {
[7m  [0m [93m                                                     ~~~~~[0m

[96msrc/pages/reset-password.astro[0m:[93m10[0m:[93m52[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'Request | AstroCookies'.
  Type 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
    The types returned by 'get(...)' are incompatible between these types.
      Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
        Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m10[0m const alreadyAuthenticated = await isAuthenticated(Astro.cookies)
[7m  [0m [91m                                                   ~~~~~~~~~~~~~[0m
[96msrc/pages/reset-password.astro[0m:[93m61[0m:[93m62[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m61[0m   document.addEventListener('password-reset-request-error', (event) => {
[7m  [0m [93m                                                             ~~~~~[0m

[96msrc/pages/search-demo.astro[0m:[93m3[0m:[93m8[0m - [91merror[0m[90m ts(2440): [0mImport declaration conflicts with local declaration of 'SearchDemo'.

[7m3[0m import SearchDemo from '@/components/SearchDemo.astro'
[7m [0m [91m       ~~~~~~~~~~[0m

[96msrc/pages/signin.astro[0m:[93m18[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; title: string; description: string; bgType: "default"; centered: boolean; transitionMode: string; isLoginPage: boolean; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'centered' does not exist on type 'IntrinsicAttributes & Props'.

[7m18[0m   centered={true}
[7m  [0m [91m  ~~~~~~~~[0m

[96msrc/pages/signup.astro[0m:[93m14[0m:[93m58[0m - [91merror[0m[90m ts(2339): [0mProperty 'cookies' does not exist on type 'AstroGlobal'.

[7m14[0m const alreadyAuthenticated = await isAuthenticated(astro.cookies)
[7m  [0m [91m                                                         ~~~~~~~[0m
[96msrc/pages/signup.astro[0m:[93m13[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'astro.url' is possibly 'undefined'.

[7m13[0m const redirect = astro.url.searchParams.get('redirect') || '/dashboard'
[7m  [0m [91m                 ~~~~~~~~~[0m
[96msrc/pages/signup.astro[0m:[93m10[0m:[93m15[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.
    Type 'Locals' is not comparable to type 'Record<string, unknown>'.
      Index signature for type 'string' is missing in type 'Locals'.

[7m10[0m const astro = Astro as AstroGlobal
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/theme-test.astro[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; title: string; description: string; bgType: "animated"; themeMode: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'themeMode' does not exist on type 'IntrinsicAttributes & Props'.

[7m9[0m   themeMode="system"
[7m [0m [91m  ~~~~~~~~~[0m

[96msrc/pages/unified-dark-theme-demo.astro[0m:[93m8[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; title: string; description: string; themeMode: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'themeMode' does not exist on type 'IntrinsicAttributes & Props'.

[7m8[0m   themeMode="dark"
[7m [0m [91m  ~~~~~~~~~[0m
[96msrc/pages/unified-dark-theme-demo.astro[0m:[93m482[0m:[93m13[0m - [91merror[0m[90m ts(2683): [0m'this' implicitly has type 'any' because it does not have a type annotation.

[7m482[0m             this.appendChild(ripple)
[7m   [0m [91m            ~~~~[0m
[96msrc/pages/unified-dark-theme-demo.astro[0m:[93m471[0m:[93m16[0m - [91merror[0m[90m ts(2683): [0m'this' implicitly has type 'any' because it does not have a type annotation.

[7m471[0m           if (!this.disabled) {
[7m   [0m [91m               ~~~~[0m
[96msrc/pages/unified-dark-theme-demo.astro[0m:[93m470[0m:[93m52[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m470[0m         button.addEventListener('click', function (e) {
[7m   [0m [93m                                                   ~[0m

[96msrc/pages/admin/ai-performance.astro[0m:[93m18[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'operationTypes' is declared but its value is never read.

[7m18[0m const operationTypes: AIOperationType[] = [
[7m  [0m [93m      ~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/compatibility-dashboard.astro[0m:[93m92[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any; title: string; description: string; showNavBar: true; showFooter: true; centered: boolean; contentClass: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'centered' does not exist on type 'IntrinsicAttributes & Props'.

[7m92[0m   centered={false}
[7m  [0m [91m  ~~~~~~~~[0m
[96msrc/pages/admin/compatibility-dashboard.astro[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'Chart' is declared but its value is never read.

[7m4[0m import { Chart } from 'chart.js/auto'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/compatibility-dashboard.astro[0m:[93m186[0m:[93m17[0m - [93mwarning[0m[90m ts(6196): [0m'ChartConfiguration' is declared but never used.

[7m186[0m   import type { ChartConfiguration, TooltipItem } from 'chart.js'
[7m   [0m [93m                ~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/data-transfer.astro[0m:[93m410[0m:[93m36[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m410[0m       ?.addEventListener('click', (e) => {
[7m   [0m [93m                                   ~[0m

[96msrc/pages/admin/demo-analytics.astro[0m:[93m549[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m549[0m         document.getElementById('recommendation').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m547[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m547[0m         document.getElementById('confidence-level').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m545[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m545[0m         document.getElementById('test-status').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m540[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m540[0m         document.getElementById('recommendation').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m538[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m538[0m         document.getElementById('confidence-level').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m536[0m:[93m9[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m536[0m         document.getElementById('test-status').textContent =
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m510[0m:[93m7[0m - [91merror[0m[90m ts(18047): [0m'timeline' is possibly 'null'.

[7m510[0m       timeline.innerHTML = recentEvents
[7m   [0m [91m      ~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m505[0m:[93m9[0m - [91merror[0m[90m ts(18047): [0m'timeline' is possibly 'null'.

[7m505[0m         timeline.innerHTML =
[7m   [0m [91m        ~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m378[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type 'DemoAnalyticsDashboard'.

[7m378[0m       this.data = {
[7m   [0m [91m           ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m377[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'eventSource' does not exist on type 'DemoAnalyticsDashboard'.

[7m377[0m       this.eventSource = null
[7m   [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m563[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'variant' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m563[0m     getVariantColor(variant) {
[7m   [0m [93m                    ~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m554[0m:[93m27[0m - [93mwarning[0m[90m ts(6133): [0m'data' is declared but its value is never read.

[7m554[0m     calculateSignificance(data) {
[7m   [0m [93m                          ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m554[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m554[0m     calculateSignificance(data) {
[7m   [0m [93m                          ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m533[0m:[93m13[0m - [93mwarning[0m[90m ts(6133): [0m'totalSessions' is declared but its value is never read.

[7m533[0m       const totalSessions = data.summary.unique_sessions
[7m   [0m [93m            ~~~~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m531[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m531[0m     updateStatisticalSignificance(data) {
[7m   [0m [93m                                  ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m511[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'event' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m511[0m         .map((event) => {
[7m   [0m [93m              ~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m500[0m:[93m25[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'events' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m500[0m     updateEventTimeline(events) {
[7m   [0m [93m                        ~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m472[0m:[93m18[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'funnelData' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m472[0m     updateFunnel(funnelData) {
[7m   [0m [93m                 ~~~~~~~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m452[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m452[0m           (e) => e.event === 'demo_cta_click',
[7m   [0m [93m           ~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m450[0m:[93m53[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m450[0m         const sessions = new Set(variantEvents.map((e) => e.session_id)).size
[7m   [0m [93m                                                    ~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m448[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m448[0m           (e) => e.ab_variant === variant,
[7m   [0m [93m           ~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m443[0m:[93m24[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m443[0m     updateVariantStats(data) {
[7m   [0m [93m                       ~~~~[0m
[96msrc/pages/admin/demo-analytics.astro[0m:[93m419[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'data' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m419[0m     updateDashboard(data) {
[7m   [0m [93m                    ~~~~[0m

[96msrc/pages/admin/flagged-messages.astro[0m:[93m91[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }'.

[7m91[0m                         value={message.id}
[7m  [0m [91m                                       ~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m81[0m:[93m40[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }'.

[7m81[0m                         value={message.id}
[7m  [0m [91m                                       ~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m75[0m:[93m46[0m - [91merror[0m[90m ts(2339): [0mProperty 'metadata' does not exist on type '{ _id: string; conversation_id: string; role: string; content: string; created_at?: string | undefined; }'.

[7m75[0m                   <td>{getFlagReason(message.metadata)}</td>
[7m  [0m [91m                                             ~~~~~~~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m68[0m:[93m33[0m - [91merror[0m[90m ts(2769): [0mNo overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number | Date'.
      Type 'undefined' is not assignable to type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number'.
      Type 'undefined' is not assignable to type 'string | number'.

[7m68[0m                   <td>{new Date(message.created_at).toLocaleString()}</td>
[7m  [0m [91m                                ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/flagged-messages.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
      Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m10[0m   cookies: Astro.cookies,
[7m  [0m [91m  ~~~~~~~[0m

[96msrc/pages/admin/performance-dashboard.astro[0m:[93m7[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'config' is declared but its value is never read.

[7m7[0m const config = getMonitoringConfig()
[7m [0m [93m      ~~~~~~[0m

[96msrc/pages/admin/real-user-monitoring.astro[0m:[93m25[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '{ title: string; description: string; refreshInterval: number; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'refreshInterval' does not exist on type 'IntrinsicAttributes & Props'.

[7m25[0m         refreshInterval={30000}
[7m  [0m [91m        ~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/ai/model-performance.astro[0m:[93m9[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
      Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m9[0m   cookies: Astro.cookies,
[7m [0m [91m  ~~~~~~~[0m
[96msrc/pages/admin/ai/model-performance.astro[0m:[93m4[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/BaseLayout.astro' or its corresponding type declarations.

[7m4[0m import BaseLayout from '~/layouts/BaseLayout.astro'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/ai/usage.astro[0m:[93m4[0m:[93m24[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/layouts/BaseLayout.astro' or its corresponding type declarations.

[7m4[0m import BaseLayout from '~/layouts/BaseLayout.astro'
[7m [0m [91m                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/ai/usage.astro[0m:[93m3[0m:[93m35[0m - [91merror[0m[90m ts(2307): [0mCannot find module '~/lib/access-control' or its corresponding type declarations.

[7m3[0m import { requirePermission } from '~/lib/access-control'
[7m [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/ai/validation-pipeline.astro[0m:[93m23[0m:[93m17[0m - [91merror[0m[90m ts(2352): [0mConversion of type '{ initialised: boolean; historyCount: number; }' to type 'RunnerState' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'isScheduled' is missing in type '{ initialised: boolean; historyCount: number; }' but required in type 'RunnerState'.

[7m23[0m   runnerState = validationRunner.getState() as RunnerState
[7m  [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/backups/index.astro[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'BackupRecoveryTab' is declared but its value is never read.

[7m4[0m import BackupRecoveryTab from '../../../components/admin/backup/BackupRecoveryTab'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/backups/index.astro[0m:[93m268[0m:[93m38[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m268[0m       tab.addEventListener('click', (e) => {
[7m   [0m [93m                                     ~[0m

[96msrc/pages/admin/security/index.astro[0m:[93m53[0m:[93m29[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'level' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m53[0m function getAlertLevelClass(level) {
[7m  [0m [93m                            ~~~~~[0m
[96msrc/pages/admin/security/index.astro[0m:[93m42[0m:[93m21[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'date' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m42[0m function formatDate(date) {
[7m  [0m [93m                    ~~~~[0m

[96msrc/pages/admin/security/baa/management.astro[0m:[93m14[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'searchQuery' does not exist on type 'URLSearchParams'.

[7m14[0m const { status = '', searchQuery = '' } = Astro.url.searchParams
[7m  [0m [91m                     ~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m14[0m:[93m9[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type 'URLSearchParams'.

[7m14[0m const { status = '', searchQuery = '' } = Astro.url.searchParams
[7m  [0m [91m        ~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m6[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'BusinessAssociateType' is declared but its value is never read.

[7m6[0m   BusinessAssociateType,
[7m [0m [93m  ~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m5[0m:[93m3[0m - [93mwarning[0m[90m ts(6133): [0m'BaaStatus' is declared but its value is never read.

[7m5[0m   BaaStatus,
[7m [0m [93m  ~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m540[0m:[93m18[0m - [91merror[0m[90m ts(2551): [0mProperty 'submit' does not exist on type 'HTMLElement'. Did you mean 'onsubmit'?

[7m540[0m       searchForm.submit()
[7m   [0m [91m                 ~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m533[0m:[93m47[0m - [91merror[0m[90m ts(2551): [0mProperty 'submit' does not exist on type 'HTMLElement'. Did you mean 'onsubmit'?

[7m533[0m       document.getElementById('search-form')?.submit()
[7m   [0m [91m                                              ~~~~~~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m592[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m592[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m575[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m575[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m563[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m563[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/admin/security/baa/management.astro[0m:[93m552[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m552[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/admin/security/baa/templates.astro[0m:[93m8[0m:[93m1[0m - [93mwarning[0m[90m ts(6192): [0mAll imports in import declaration are unused.

[7m 8[0m import {
[7m  [0m [93m~~~~~~~~[0m
[7m 9[0m   BusinessAssociateType,
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m10[0m   ServiceCategory,
[7m  [0m [93m~~~~~~~~~~~~~~~~~~[0m
[7m11[0m } from '../../../../lib/security/baa/types'
[7m  [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates.astro[0m:[93m4[0m:[93m1[0m - [93mwarning[0m[90m ts(6192): [0mAll imports in import declaration are unused.

[7m4[0m import {
[7m [0m [93m~~~~~~~~[0m
[7m5[0m   standardSections,
[7m [0m [93m~~~~~~~~~~~~~~~~~~~[0m
[7m6[0m   standardPlaceholders,
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m7[0m } from '../../../../lib/security/baa/templates/hipaa-standard'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates.astro[0m:[93m226[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m226[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/admin/security/baa/vendors.astro[0m:[93m65[0m:[93m3[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string | undefined' is not assignable to parameter of type 'BusinessAssociateType | undefined'.
  Type 'string' is not assignable to type 'BusinessAssociateType | undefined'.

[7m65[0m   type || undefined,
[7m  [0m [91m  ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/vendors.astro[0m:[93m500[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m500[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m535[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m535[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m530[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m530[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m525[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m525[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m520[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m520[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m514[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m514[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m506[0m:[93m14[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m506[0m         ) as HTMLInputElement | null
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m503[0m:[93m14[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m503[0m         ) as HTMLInputElement | null
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m500[0m:[93m14[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m500[0m         ) as HTMLInputElement | null
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m497[0m:[93m69[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m497[0m           placeholderElement.querySelector('.placeholder-label') as HTMLInputElement | null
[7m   [0m [91m                                                                    ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m495[0m:[93m82[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m495[0m         const keyInput = placeholderElement.querySelector('.placeholder-key') as HTMLInputElement | null
[7m   [0m [91m                                                                                 ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m408[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m408[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m403[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m403[0m           const target = e.target as HTMLTextAreaElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m398[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m398[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m393[0m:[93m38[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m393[0m           const target = e.target as HTMLInputElement
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m365[0m:[93m64[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m365[0m           sectionElement.querySelector('.section-required') as HTMLInputElement | null
[7m   [0m [91m                                                               ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m363[0m:[93m85[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m363[0m         const contentTextarea = sectionElement.querySelector('.section-content') as HTMLTextAreaElement | null
[7m   [0m [91m                                                                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m362[0m:[93m14[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m362[0m         ) as HTMLInputElement | null
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/admin/security/baa/templates/new.astro[0m:[93m359[0m:[93m78[0m - [91merror[0m[90m ts(8016): [0mType assertion expressions can only be used in TypeScript files.

[7m359[0m         const titleInput = sectionElement.querySelector('.section-title') as HTMLInputElement | null
[7m   [0m [91m                                                                             ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/admin/security/baa/vendors/requirements.astro[0m:[93m613[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m613[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/admin/security/baa/vendors/requirements.astro[0m:[93m601[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m601[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m289[0m:[93m45[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type '"verified" | "needs-testing" | "needs-update" | "in-development"'.

[7m289[0m                       {getStatusDisplayText(plan.status)}
[7m   [0m [91m                                            ~~~~~~~~~~~[0m
[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m287[0m:[93m125[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type '"verified" | "needs-testing" | "needs-update" | "in-development"'.

[7m287[0m                       class={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeClass(plan.status)}`}
[7m   [0m [91m                                                                                                                            ~~~~~~~~~~~[0m
[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m620[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m620[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m611[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m611[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/admin/security/disaster-recovery/index.astro[0m:[93m602[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m602[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/analytics/conversions.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.
    Type 'Locals' is not comparable to type 'Record<string, unknown>'.
      Index signature for type 'string' is missing in type 'Locals'.

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/analytics/conversions.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroGlobal' is not assignable to parameter of type '{ request: Request; }'.
  Types of property 'request' are incompatible.
    Type 'Request | undefined' is not assignable to type 'Request'.
      Type 'undefined' is not assignable to type 'Request'.

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/analytics/index.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.
    Type 'Locals' is not comparable to type 'Record<string, unknown>'.
      Index signature for type 'string' is missing in type 'Locals'.

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/analytics/index.astro[0m:[93m11[0m:[93m23[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroGlobal' is not assignable to parameter of type '{ request: Request; }'.
  Types of property 'request' are incompatible.
    Type 'Request | undefined' is not assignable to type 'Request'.
      Type 'undefined' is not assignable to type 'Request'.

[7m11[0m await requirePageAuth(Astro as AstroGlobal)
[7m  [0m [91m                      ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/blog/[...slug].astro[0m:[93m608[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m608[0m       link.addEventListener("click", (e) => {
[7m   [0m [93m                                      ~[0m
[96msrc/pages/blog/[...slug].astro[0m:[93m553[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m553[0m       button.addEventListener("click", (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/blog/[...slug].astro[0m:[93m543[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m543[0m       button.addEventListener("click", (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/blog/index.astro[0m:[93m39[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'tag' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m39[0m   (post.data.tags || []).forEach((tag) => {
[7m  [0m [93m                                  ~~~[0m
[96msrc/pages/blog/index.astro[0m:[93m38[0m:[93m19[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'post' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m38[0m allPosts.forEach((post) => {
[7m  [0m [93m                  ~~~~[0m

[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m536[0m:[93m3[0m - [93mwarning[0m[90m ts(7027): [0mUnreachable code detected.

[7m536[0m   document
[7m   [0m [93m  ~~~~~~~~[0m
[7m537[0m     .getElementById('refresh-data')
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m
[7m539[0m       window.location.reload()
[7m   [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m540[0m     })
[7m   [0m [93m~~~~~~[0m
[96msrc/pages/browser-compatibility/visual-regression.astro[0m:[93m534[0m:[93m9[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m534[0m <script define:vars={{ visualData, placeholderThumbnail }}>
[7m   [0m [93m        ~~~~~~~~~~~[0m

[96msrc/pages/changelog/[slug].astro[0m:[93m25[0m:[93m26[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'p' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m25[0m const post = posts.find((p) => p.slug === slug);
[7m  [0m [93m                         ~[0m

[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m108[0m:[93m13[0m - [91merror[0m[90m ts(2741): [0mProperty 'emotions' is missing in type '{ trendlines: {}; volatility: {}; transitions: never[]; patterns: never[]; criticalPoints: never[]; progression: { overallImprovement: number; stabilityChange: number; positiveEmotionChange: number; negativeEmotionChange: number; }; dimensionalRelationships: never[]; }' but required in type 'TemporalEmotionAnalysis'.

[7m108[0m             data={placeholderData}
[7m   [0m [91m            ~~~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m77[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m77[0m   userId: user.id,
[7m  [0m [91m               ~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m53[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m53[0m   therapistId: user.id,
[7m  [0m [91m                    ~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m44[0m:[93m21[0m - [91merror[0m[90m ts(2339): [0mProperty 'id' does not exist on type '{}'.

[7m44[0m   therapistId: user.id,
[7m  [0m [91m                    ~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m24[0m:[93m42[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroGlobal' is not assignable to parameter of type '{ request: Request; }'.
  Types of property 'request' are incompatible.
    Type 'Request | undefined' is not assignable to type 'Request'.
      Type 'undefined' is not assignable to type 'Request'.

[7m24[0m const authResult = await requirePageAuth(astro)
[7m  [0m [91m                                         ~~~~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m18[0m:[93m9[0m - [91merror[0m[90m ts(2339): [0mProperty 'clientId' does not exist on type 'Record<string, string | undefined> | undefined'.

[7m18[0m const { clientId } = astro.params
[7m  [0m [91m        ~~~~~~~~[0m
[96msrc/pages/client/[clientId]/temporal-analysis.astro[0m:[93m15[0m:[93m15[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'Readonly<AstroGlobal<Record<string, any>, AstroComponentFactory, Record<string, string | undefined>>>' to type 'AstroGlobal' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'locals' are incompatible.
    Type 'Locals' is not comparable to type 'Record<string, unknown>'.
      Index signature for type 'string' is missing in type 'Locals'.

[7m15[0m const astro = Astro as AstroGlobal
[7m  [0m [91m              ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dashboard/enhanced.astro[0m:[93m428[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; particleCount: number; emotion: "neutral"; interactive: true; autoAnimate: true; enableMouse: true; showTrails: true; class: string; }' is not assignable to type 'IntrinsicAttributes & ParticleSystemProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & ParticleSystemProps'. Did you mean 'className'?

[7m428[0m                 class="h-96"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m412[0m:[93m17[0m - [91merror[0m[90m ts(2322): [0mType '{ "client:load": true; showTrails: true; showAxes: true; class: string; }' is not assignable to type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'.
  Property 'class' does not exist on type 'IntrinsicAttributes & MultidimensionalEmotionChartProps'. Did you mean 'className'?

[7m412[0m                 class="h-96"
[7m   [0m [91m                ~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m159[0m:[93m19[0m - [91merror[0m[90m ts(2322): [0mType 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.

[7m159[0m                   sessionId: sessionId,
[7m   [0m [91m                  ~~~~~~~~~[0m
[96msrc/pages/dashboard/enhanced.astro[0m:[93m13[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m13[0m // @ts-expect-error Astro.props is injected at runtime
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dashboard/index.astro[0m:[93m9[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m9[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m642[0m:[93m33[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m642[0m       const { patterns } = this.analyticsData
[7m   [0m [91m                                ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m640[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m640[0m       if (!container || !this.analyticsData.patterns) return
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m615[0m:[93m37[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m615[0m       const { demographics } = this.analyticsData
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m613[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m613[0m       if (!container || !this.analyticsData.demographics) return
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m578[0m:[93m37[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m578[0m       const { distribution } = this.analyticsData
[7m   [0m [91m                                    ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m576[0m:[93m31[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m576[0m       if (!container || !this.analyticsData.distribution) return
[7m   [0m [91m                              ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m482[0m:[93m35[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m482[0m       const { historical } = this.analyticsData
[7m   [0m [91m                                  ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m463[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m463[0m       document.getElementById('demo-trend').textContent = '3 new groups'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m462[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m462[0m       document.getElementById('alert-trend').textContent = '+8% this period'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m461[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m461[0m       document.getElementById('bias-trend').textContent = '-5% improvement'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m459[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m459[0m       document.getElementById('analysis-trend').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m455[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m455[0m       document.getElementById('unique-demographics').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m454[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m454[0m       document.getElementById('high-alerts').textContent = highAlerts.toString()
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m453[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m453[0m       document.getElementById('avg-bias-score').textContent = avgBiasScore + '%'
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m451[0m:[93m7[0m - [91merror[0m[90m ts(2531): [0mObject is possibly 'null'.

[7m451[0m       document.getElementById('total-analyses').textContent =
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m429[0m:[93m49[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m429[0m       const { historical, demographics } = this.analyticsData
[7m   [0m [91m                                                ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m419[0m:[93m17[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m419[0m       if (!this.analyticsData) return
[7m   [0m [91m                ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m411[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentDays' does not exist on type 'AdvancedAnalyticsDashboard'.

[7m411[0m           this.currentDays = days
[7m   [0m [91m               ~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m390[0m:[93m16[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m390[0m           this.analyticsData = await response.json()
[7m   [0m [91m               ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m387[0m:[93m64[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentDays' does not exist on type 'AdvancedAnalyticsDashboard'.

[7m387[0m           `/api/dashboard/bias-detection/analytics?days=${this.currentDays}`,
[7m   [0m [91m                                                               ~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m374[0m:[93m12[0m - [91merror[0m[90m ts(2551): [0mProperty 'analyticsData' does not exist on type 'AdvancedAnalyticsDashboard'. Did you mean 'loadAnalyticsData'?

[7m374[0m       this.analyticsData = null
[7m   [0m [91m           ~~~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m373[0m:[93m12[0m - [91merror[0m[90m ts(2339): [0mProperty 'currentDays' does not exist on type 'AdvancedAnalyticsDashboard'.

[7m373[0m       this.currentDays = 30
[7m   [0m [91m           ~~~~~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m646[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'pattern' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m646[0m           (pattern) => `
[7m   [0m [93m           ~~~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m620[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m620[0m           (item) => `
[7m   [0m [93m           ~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m583[0m:[93m12[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'item' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m583[0m           (item) => `
[7m   [0m [93m           ~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m579[0m:[93m54[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'd' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m579[0m       const maxCount = Math.max(...distribution.map((d) => d.count))
[7m   [0m [93m                                                     ~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m561[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'd' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m561[0m             Math.max(...historical.map((d) => d.alertCount), 1)
[7m   [0m [93m                                        ~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m555[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m555[0m       historical.forEach((point, index) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m555[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m555[0m       historical.forEach((point, index) => {
[7m   [0m [93m                          ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m543[0m:[93m39[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'd' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m543[0m           Math.max(...historical.map((d) => d.sessionCount))
[7m   [0m [93m                                      ~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m536[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m536[0m       historical.forEach((point, index) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m536[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m536[0m       historical.forEach((point, index) => {
[7m   [0m [93m                          ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m519[0m:[93m34[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'index' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m519[0m       historical.forEach((point, index) => {
[7m   [0m [93m                                 ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m519[0m:[93m27[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'point' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m519[0m       historical.forEach((point, index) => {
[7m   [0m [93m                          ~~~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m445[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m445[0m         (sum, day) => sum + day.alertCount,
[7m   [0m [93m              ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m445[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m445[0m         (sum, day) => sum + day.alertCount,
[7m   [0m [93m         ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m439[0m:[93m40[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m               (historical.reduce((sum, day) => sum + day.biasScore, 0) /
[7m   [0m [93m                                       ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m439[0m:[93m35[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m439[0m               (historical.reduce((sum, day) => sum + day.biasScore, 0) /
[7m   [0m [93m                                  ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m433[0m:[93m15[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'day' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m433[0m         (sum, day) => sum + day.sessionCount,
[7m   [0m [93m              ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m433[0m:[93m10[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'sum' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m433[0m         (sum, day) => sum + day.sessionCount,
[7m   [0m [93m         ~~~[0m
[96msrc/pages/dashboard/bias-detection/analytics.astro[0m:[93m402[0m:[93m49[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m402[0m         button.addEventListener('click', async (e) => {
[7m   [0m [93m                                                ~[0m

[96msrc/pages/demo/bias-detection.astro[0m:[93m503[0m:[93m67[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m503[0m           'demo_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9)
[7m   [0m [93m                                                                  ~~~~~~[0m

[96msrc/pages/demo/chat.astro[0m:[93m5[0m:[93m1[0m - [93mwarning[0m[90m ts(6133): [0m'BrutalistBadge' is declared but its value is never read.

[7m5[0m import BrutalistBadge from '@/components/ui/BrutalistBadge.astro'
[7m [0m [93m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/demo/chat.astro[0m:[93m503[0m:[93m11[0m - [93mwarning[0m[90m ts(6133): [0m'_chatDemo' is declared but its value is never read.

[7m503[0m     const _chatDemo = new ChatDemoInterface()
[7m   [0m [93m          ~~~~~~~~~[0m

[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m519[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m519[0m               document.querySelector('[data-variant]')?.dataset?.['variant'] ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m462[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m462[0m               document.querySelector('[data-variant]')?.dataset?.variant ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m446[0m:[93m57[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m446[0m               document.querySelector('[data-variant]')?.dataset.variant ||
[7m   [0m [91m                                                        ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m426[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'dataset' does not exist on type 'Element'.

[7m426[0m           document.querySelector('[data-variant]')?.dataset?.variant ||
[7m   [0m [91m                                                    ~~~~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m408[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m408[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m471[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m471[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/demo/clinical-vault-trainer.astro[0m:[93m433[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m433[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/demo/enhanced-bias-detection.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2322): [0mType '{ children: any[]; title: string; description: string; keywords: string; }' is not assignable to type 'IntrinsicAttributes & Props'.
  Property 'keywords' does not exist on type 'IntrinsicAttributes & Props'.

[7m10[0m   keywords="bias detection, AI therapy, mental health, therapeutic training, bias analysis, cultural competency"
[7m  [0m [91m  ~~~~~~~~[0m

[96msrc/pages/demo/psychology-pipeline-processor.astro[0m:[93m691[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m691[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m
[96msrc/pages/demo/psychology-pipeline-processor.astro[0m:[93m753[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m753[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/demo/psychology-pipeline-processor.astro[0m:[93m719[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m719[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/demo/security-bias-detection-engine.astro[0m:[93m668[0m:[93m7[0m - [91merror[0m[90m ts(2717): [0mSubsequent property declarations must have the same type.  Property 'gtag' must be of type '((command: string, event: string, params: Record<string, unknown>) => void) | undefined', but here has type '((command: "event", action: string, params: { [key: string]: any; }) => void) | undefined'.

[7m668[0m       gtag?: (
[7m   [0m [91m      ~~~~[0m
[96msrc/pages/demo/security-bias-detection-engine.astro[0m:[93m730[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m730[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/demo/security-bias-detection-engine.astro[0m:[93m696[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m696[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m736[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m736[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m
[96msrc/pages/demo/synthetic-training-generator.astro[0m:[93m698[0m:[93m41[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'e' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m698[0m       button.addEventListener('click', (e) => {
[7m   [0m [93m                                        ~[0m

[96msrc/pages/dev/accessibility-test.astro[0m:[93m14[0m:[93m11[0m - [93mwarning[0m[90m ts(6196): [0m'LoadingIndicatorProps' is declared but never used.

[7m14[0m interface LoadingIndicatorProps {
[7m  [0m [93m          ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m77[0m:[93m53[0m - [91merror[0m[90m ts(2339): [0mProperty 'showModelSelector' does not exist on type '{}'.

[7m77[0m                   showModelSelector={section.props?.showModelSelector}
[7m  [0m [91m                                                    ~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m76[0m:[93m47[0m - [91merror[0m[90m ts(2339): [0mProperty 'description' does not exist on type '{}'.

[7m76[0m                   description={section.props?.description}
[7m  [0m [91m                                              ~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m75[0m:[93m41[0m - [91merror[0m[90m ts(2339): [0mProperty 'title' does not exist on type '{}'.

[7m75[0m                   title={section.props?.title}
[7m  [0m [91m                                        ~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m15[0m:[93m5[0m - [91merror[0m[90m ts(2322): [0mType '(_props: Props) => any' is not assignable to type 'ComponentType<unknown> | undefined'.
  Type '(_props: Props) => any' is not assignable to type 'FunctionComponent<unknown>'.
    Types of parameters '_props' and 'props' are incompatible.
      Type 'unknown' is not assignable to type 'Props'.

[7m15[0m     component: AIChat,
[7m  [0m [91m    ~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m6[0m:[93m15[0m - [93mwarning[0m[90m ts(6196): [0m'CompatibilityIssue' is declared but never used.

[7m6[0m import type { CompatibilityIssue, TestSections } from '../../types/testing'
[7m [0m [93m              ~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m5[0m:[93m25[0m - [93mwarning[0m[90m ts(6133): [0m'SEVERITY_STYLES' is declared but its value is never read.

[7m5[0m import { LOADING_SIZES, SEVERITY_STYLES } from '../../constants/testing'
[7m [0m [93m                        ~~~~~~~~~~~~~~~[0m
[96msrc/pages/dev/browser-compatibility-test.astro[0m:[93m375[0m:[93m5[0m - [93mwarning[0m[90m ts(6133): [0m'removeIssue' is declared but its value is never read.

[7m375[0m     removeIssue,
[7m   [0m [93m    ~~~~~~~~~~~[0m

[96msrc/pages/docs/[...slug].astro[0m:[93m26[0m:[93m4[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'doc' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m26[0m   (doc) => !doc.data.draft && (doc.data.slug || doc.slug) === slug
[7m  [0m [93m   ~~~[0m

[96msrc/pages/journal-research/acquisition.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/acquisition.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/discovery.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/discovery.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/evaluation.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/evaluation.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/index.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/index.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/integration.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/integration.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/reports.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/reports.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/sessions/[sessionId].astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/sessions/[sessionId].astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/journal-research/sessions/index.astro[0m:[93m7[0m:[93m1[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m7[0m // @ts-expect-error Astro.props is injected at runtime
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/journal-research/sessions/index.astro[0m:[93m8[0m:[93m7[0m - [93mwarning[0m[90m ts(6133): [0m'user' is declared but its value is never read.

[7m8[0m const { user } = Astro.props as { user: any }
[7m [0m [93m      ~~~~~~~~[0m

[96msrc/pages/settings/ai-preferences.astro[0m:[93m10[0m:[93m3[0m - [91merror[0m[90m ts(2353): [0mObject literal may only specify known properties, and 'cookies' does not exist in type '{ request: Request; }'.

[7m10[0m   cookies: Astro.cookies,
[7m  [0m [91m  ~~~~~~~[0m

[96msrc/pages/training/index.astro[0m:[93m16[0m:[93m38[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'Request | AstroCookies'.
  Type 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
    The types returned by 'get(...)' are incompatible between these types.
      Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
        Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m16[0m const session = await getCurrentUser(Astro.cookies)
[7m  [0m [91m                                     ~~~~~~~~~~~~~[0m
[96msrc/pages/training/index.astro[0m:[93m11[0m:[93m51[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'AstroCookies' is not assignable to parameter of type 'Request | AstroCookies'.
  Type 'import("/app/node_modules/.pnpm/astro@5.16.7_@azure+storage-blob@12.29.1_@types+node@25.0.3_@upstash+redis@1.36.1_@verc_ec5e961cdbb5ad20e2620366f76d2007/node_modules/astro/dist/core/cookies/cookies").AstroCookies' is not assignable to type 'import("astro").AstroCookies'.
    The types returned by 'get(...)' are incompatible between these types.
      Type 'AstroCookie | undefined' is not assignable to type 'AstroCookiesGetResult | undefined'.
        Property 'name' is missing in type 'AstroCookie' but required in type 'AstroCookiesGetResult'.

[7m11[0m const isUserAuthenticated = await isAuthenticated(Astro.cookies)
[7m  [0m [91m                                                  ~~~~~~~~~~~~~[0m

[96msrc/pages/training/session/[sessionId].astro[0m:[93m43[0m:[93m26[0m - [91merror[0m[90m ts(2339): [0mProperty 'user' does not exist on type 'SessionData'.

[7m43[0m const userRole = session.user.role;
[7m  [0m [91m                         ~~~~[0m
[96msrc/pages/training/session/[sessionId].astro[0m:[93m9[0m:[93m34[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'Request' is not assignable to parameter of type 'string'.

[7m9[0m const session = await getSession(Astro.request);
[7m [0m [91m                                 ~~~~~~~~~~~~~[0m
[96msrc/pages/training/session/[sessionId].astro[0m:[93m419[0m:[93m11[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m419[0m   <script type="application/json" id="user-data">
[7m   [0m [93m          ~~~~[0m
[96msrc/pages/training/session/[sessionId].astro[0m:[93m415[0m:[93m11[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m415[0m   <script type="application/json" id="session-data">
[7m   [0m [93m          ~~~~[0m

[96muno.config.ts[0m:[93m37[0m:[93m5[0m - [93mwarning[0m[90m ts(6385): [0m'presetUno' is deprecated.

[7m37[0m     presetUno(),
[7m  [0m [93m    ~~~~~~~~~[0m
[96muno.config.ts[0m:[93m1[0m:[93m24[0m - [93mwarning[0m[90m ts(6385): [0m'presetUno' is deprecated.

[7m1[0m import { defineConfig, presetUno, presetAttributify, presetIcons, presetWebFonts } from 'unocss'
[7m [0m [93m                       ~~~~~~~~~[0m

[96mplugins/index.ts[0m:[93m136[0m:[93m28[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'textNode' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m136[0m         visit(el, 'text', (textNode) => {
[7m   [0m [93m                           ~~~~~~~~[0m
[96mplugins/index.ts[0m:[93m84[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'childNode' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m84[0m         visit(el, 'element', (childNode) => {
[7m  [0m [93m                              ~~~~~~~~~[0m
[96mplugins/index.ts[0m:[93m62[0m:[93m31[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'childNode' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m62[0m         visit(el, 'element', (childNode) => {
[7m  [0m [93m                              ~~~~~~~~~[0m

[96mplugins/remark-directive-sugar.ts[0m:[93m175[0m:[93m15[0m - [93mwarning[0m[90m ts(6133): [0m'_isOrg' is declared but its value is never read.

[7m175[0m           let _isOrg = false
[7m   [0m [93m              ~~~~~~[0m
[96mplugins/remark-directive-sugar.ts[0m:[93m174[0m:[93m15[0m - [93mwarning[0m[90m ts(6133): [0m'_resolvedTab' is declared but its value is never read.

[7m174[0m           let _resolvedTab = ''
[7m   [0m [93m              ~~~~~~~~~~~~[0m
[96mplugins/remark-directive-sugar.ts[0m:[93m80[0m:[93m18[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'node' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m80[0m     visit(tree, (node) => {
[7m  [0m [93m                 ~~~~[0m

[96mplugins/remark-image-container.ts[0m:[93m38[0m:[93m18[0m - [93mwarning[0m[90m ts(7044): [0mParameter 'node' implicitly has an 'any' type, but a better type may be inferred from usage.

[7m38[0m     visit(tree, (node) => {
[7m  [0m [93m                 ~~~~[0m

Result (2002 files):
- 3547 errors
- 0 warnings
- 921 hints

â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
