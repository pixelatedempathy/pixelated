# CMS Business Strategy API Environment Configuration

# ============================================================================
# DATABASE CONNECTIONS
# ============================================================================

# MongoDB Atlas
MONGODB_URI=mongodb+srv://<USERNAME>:<PASSWORD>@<CLUSTER>.mongodb.net/<DATABASE>

# PostgreSQL / Supabase
DATABASE_URL=postgresql://user:password@localhost:5432/pixelated_cms

# Redis
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# API CONFIGURATION
# ============================================================================

# Server
PORT=5000
NODE_ENV=development
HOST=localhost

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# ============================================================================
# AUTHENTICATION
# ============================================================================

# JWT
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_EXPIRY=24h # Per original PR requirements

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Optional: Cloud Storage
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-key
AWS_SECRET_ACCESS_KEY=your-aws-secret
S3_BUCKET=pixelated-cms-storage

# Optional: Sentry
SENTRY_DSN=

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# SECURITY
# ============================================================================

# HIPAA Compliance
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=2555

# Encryption
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# ============================================================================
# FEATURE FLAGS
# ============================================================================

FEATURE_COLLABORATION=true
FEATURE_VERSIONING=true
FEATURE_APPROVAL_WORKFLOWS=true
FEATURE_AI_INSIGHTS=false

# ============================================================================
# AUTH0 CONFIGURATION
# ============================================================================

# Auth0 Domain (without https://)
AUTH0_DOMAIN=dev-f3vkhvb6n52y7fre.us.auth0.com

# Auth0 Application Credentials (from Applications > Your App > Settings)
AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_CLIENT_SECRET=your-auth0-client-secret

# Auth0 API Audience (from APIs > Your API > Settings > Identifier)
AUTH0_AUDIENCE=https://your-api-identifier

# Auth0 Machine-to-Machine Application (for Management API)
# Create in Applications > Create Application > Machine to Machine
# Grant it permissions: read:users, update:users, create:users, delete:users
AUTH0_MANAGEMENT_CLIENT_ID=your-management-client-id
AUTH0_MANAGEMENT_CLIENT_SECRET=your-management-client-secret

# Auth0 Callback URL
AUTH0_CALLBACK_URL=http://localhost:4321/api/auth/auth0-callback

# Public Auth0 Config (exposed to browser for @auth0/auth0-react SDK)
PUBLIC_AUTH0_DOMAIN=dev-f3vkhvb6n52y7fre.us.auth0.com
PUBLIC_AUTH0_CLIENT_ID=your-auth0-client-id
PUBLIC_AUTH0_AUDIENCE=https://your-api-identifier